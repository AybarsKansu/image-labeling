(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function m0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var om={exports:{}},Ed={};var og;function Xv(){if(og)return Ed;og=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:s,type:r,key:h,ref:u!==void 0?u:null,props:d}}return Ed.Fragment=t,Ed.jsx=i,Ed.jsxs=i,Ed}var rg;function kv(){return rg||(rg=1,om.exports=Xv()),om.exports}var w=kv(),rm={exports:{}},se={};var ug;function Vv(){if(ug)return se;ug=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function z(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,L={};function V(q,et,yt){this.props=q,this.context=et,this.refs=L,this.updater=yt||A}V.prototype.isReactComponent={},V.prototype.setState=function(q,et){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,et,"setState")},V.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=V.prototype;function Z(q,et,yt){this.props=q,this.context=et,this.refs=L,this.updater=yt||A}var K=Z.prototype=new j;K.constructor=Z,H(K,V.prototype),K.isPureReactComponent=!0;var I=Array.isArray;function st(){}var ot={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(q,et,yt){var Et=yt.ref;return{$$typeof:s,type:q,key:et,ref:Et!==void 0?Et:null,props:yt}}function Y(q,et){return R(q.type,et,q.props)}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function B(q){var et={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(yt){return et[yt]})}var k=/\/+/g;function Q(q,et){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):et.toString(36)}function G(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(st,st):(q.status="pending",q.then(function(et){q.status==="pending"&&(q.status="fulfilled",q.value=et)},function(et){q.status==="pending"&&(q.status="rejected",q.reason=et)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function O(q,et,yt,Et,Mt){var Nt=typeof q;(Nt==="undefined"||Nt==="boolean")&&(q=null);var Qt=!1;if(q===null)Qt=!0;else switch(Nt){case"bigint":case"string":case"number":Qt=!0;break;case"object":switch(q.$$typeof){case s:case t:Qt=!0;break;case _:return Qt=q._init,O(Qt(q._payload),et,yt,Et,Mt)}}if(Qt)return Mt=Mt(q),Qt=Et===""?"."+Q(q,0):Et,I(Mt)?(yt="",Qt!=null&&(yt=Qt.replace(k,"$&/")+"/"),O(Mt,et,yt,"",function(bn){return bn})):Mt!=null&&(F(Mt)&&(Mt=Y(Mt,yt+(Mt.key==null||q&&q.key===Mt.key?"":(""+Mt.key).replace(k,"$&/")+"/")+Qt)),et.push(Mt)),1;Qt=0;var Ne=Et===""?".":Et+":";if(I(q))for(var ne=0;ne<q.length;ne++)Et=q[ne],Nt=Ne+Q(Et,ne),Qt+=O(Et,et,yt,Nt,Mt);else if(ne=z(q),typeof ne=="function")for(q=ne.call(q),ne=0;!(Et=q.next()).done;)Et=Et.value,Nt=Ne+Q(Et,ne++),Qt+=O(Et,et,yt,Nt,Mt);else if(Nt==="object"){if(typeof q.then=="function")return O(G(q),et,yt,Et,Mt);throw et=String(q),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Qt}function U(q,et,yt){if(q==null)return q;var Et=[],Mt=0;return O(q,Et,"","",function(Nt){return et.call(yt,Nt,Mt++)}),Et}function X(q){if(q._status===-1){var et=q._result;et=et(),et.then(function(yt){(q._status===0||q._status===-1)&&(q._status=1,q._result=yt)},function(yt){(q._status===0||q._status===-1)&&(q._status=2,q._result=yt)}),q._status===-1&&(q._status=0,q._result=et)}if(q._status===1)return q._result.default;throw q._result}var $=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ft={map:U,forEach:function(q,et,yt){U(q,function(){et.apply(this,arguments)},yt)},count:function(q){var et=0;return U(q,function(){et++}),et},toArray:function(q){return U(q,function(et){return et})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return se.Activity=E,se.Children=ft,se.Component=V,se.Fragment=i,se.Profiler=u,se.PureComponent=Z,se.StrictMode=r,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,se.__COMPILER_RUNTIME={__proto__:null,c:function(q){return ot.H.useMemoCache(q)}},se.cache=function(q){return function(){return q.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(q,et,yt){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Et=H({},q.props),Mt=q.key;if(et!=null)for(Nt in et.key!==void 0&&(Mt=""+et.key),et)!M.call(et,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&et.ref===void 0||(Et[Nt]=et[Nt]);var Nt=arguments.length-2;if(Nt===1)Et.children=yt;else if(1<Nt){for(var Qt=Array(Nt),Ne=0;Ne<Nt;Ne++)Qt[Ne]=arguments[Ne+2];Et.children=Qt}return R(q.type,Mt,Et)},se.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:d,_context:q},q},se.createElement=function(q,et,yt){var Et,Mt={},Nt=null;if(et!=null)for(Et in et.key!==void 0&&(Nt=""+et.key),et)M.call(et,Et)&&Et!=="key"&&Et!=="__self"&&Et!=="__source"&&(Mt[Et]=et[Et]);var Qt=arguments.length-2;if(Qt===1)Mt.children=yt;else if(1<Qt){for(var Ne=Array(Qt),ne=0;ne<Qt;ne++)Ne[ne]=arguments[ne+2];Mt.children=Ne}if(q&&q.defaultProps)for(Et in Qt=q.defaultProps,Qt)Mt[Et]===void 0&&(Mt[Et]=Qt[Et]);return R(q,Nt,Mt)},se.createRef=function(){return{current:null}},se.forwardRef=function(q){return{$$typeof:p,render:q}},se.isValidElement=F,se.lazy=function(q){return{$$typeof:_,_payload:{_status:-1,_result:q},_init:X}},se.memo=function(q,et){return{$$typeof:x,type:q,compare:et===void 0?null:et}},se.startTransition=function(q){var et=ot.T,yt={};ot.T=yt;try{var Et=q(),Mt=ot.S;Mt!==null&&Mt(yt,Et),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&Et.then(st,$)}catch(Nt){$(Nt)}finally{et!==null&&yt.types!==null&&(et.types=yt.types),ot.T=et}},se.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},se.use=function(q){return ot.H.use(q)},se.useActionState=function(q,et,yt){return ot.H.useActionState(q,et,yt)},se.useCallback=function(q,et){return ot.H.useCallback(q,et)},se.useContext=function(q){return ot.H.useContext(q)},se.useDebugValue=function(){},se.useDeferredValue=function(q,et){return ot.H.useDeferredValue(q,et)},se.useEffect=function(q,et){return ot.H.useEffect(q,et)},se.useEffectEvent=function(q){return ot.H.useEffectEvent(q)},se.useId=function(){return ot.H.useId()},se.useImperativeHandle=function(q,et,yt){return ot.H.useImperativeHandle(q,et,yt)},se.useInsertionEffect=function(q,et){return ot.H.useInsertionEffect(q,et)},se.useLayoutEffect=function(q,et){return ot.H.useLayoutEffect(q,et)},se.useMemo=function(q,et){return ot.H.useMemo(q,et)},se.useOptimistic=function(q,et){return ot.H.useOptimistic(q,et)},se.useReducer=function(q,et,yt){return ot.H.useReducer(q,et,yt)},se.useRef=function(q){return ot.H.useRef(q)},se.useState=function(q){return ot.H.useState(q)},se.useSyncExternalStore=function(q,et,yt){return ot.H.useSyncExternalStore(q,et,yt)},se.useTransition=function(){return ot.H.useTransition()},se.version="19.2.3",se}var cg;function g0(){return cg||(cg=1,rm.exports=Vv()),rm.exports}var nt=g0();const Sn=m0(nt);var um={exports:{}},Td={},cm={exports:{}},fm={};var fg;function Qv(){return fg||(fg=1,(function(s){function t(O,U){var X=O.length;O.push(U);t:for(;0<X;){var $=X-1>>>1,ft=O[$];if(0<u(ft,U))O[$]=U,O[X]=ft,X=$;else break t}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],X=O.pop();if(X!==U){O[0]=X;t:for(var $=0,ft=O.length,q=ft>>>1;$<q;){var et=2*($+1)-1,yt=O[et],Et=et+1,Mt=O[Et];if(0>u(yt,X))Et<ft&&0>u(Mt,yt)?(O[$]=Mt,O[Et]=X,$=Et):(O[$]=yt,O[et]=X,$=et);else if(Et<ft&&0>u(Mt,X))O[$]=Mt,O[Et]=X,$=Et;else break t}}return U}function u(O,U){var X=O.sortIndex-U.sortIndex;return X!==0?X:O.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var y=[],x=[],_=1,E=null,T=3,z=!1,A=!1,H=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function K(O){for(var U=i(x);U!==null;){if(U.callback===null)r(x);else if(U.startTime<=O)r(x),U.sortIndex=U.expirationTime,t(y,U);else break;U=i(x)}}function I(O){if(H=!1,K(O),!A)if(i(y)!==null)A=!0,st||(st=!0,B());else{var U=i(x);U!==null&&G(I,U.startTime-O)}}var st=!1,ot=-1,M=5,R=-1;function Y(){return L?!0:!(s.unstable_now()-R<M)}function F(){if(L=!1,st){var O=s.unstable_now();R=O;var U=!0;try{t:{A=!1,H&&(H=!1,j(ot),ot=-1),z=!0;var X=T;try{e:{for(K(O),E=i(y);E!==null&&!(E.expirationTime>O&&Y());){var $=E.callback;if(typeof $=="function"){E.callback=null,T=E.priorityLevel;var ft=$(E.expirationTime<=O);if(O=s.unstable_now(),typeof ft=="function"){E.callback=ft,K(O),U=!0;break e}E===i(y)&&r(y),K(O)}else r(y);E=i(y)}if(E!==null)U=!0;else{var q=i(x);q!==null&&G(I,q.startTime-O),U=!1}}break t}finally{E=null,T=X,z=!1}U=void 0}}finally{U?B():st=!1}}}var B;if(typeof Z=="function")B=function(){Z(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Q=k.port2;k.port1.onmessage=F,B=function(){Q.postMessage(null)}}else B=function(){V(F,0)};function G(O,U){ot=V(function(){O(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(O){switch(T){case 1:case 2:case 3:var U=3;break;default:U=T}var X=T;T=U;try{return O()}finally{T=X}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=T;T=O;try{return U()}finally{T=X}},s.unstable_scheduleCallback=function(O,U,X){var $=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?$+X:$):X=$,O){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=X+ft,O={id:_++,callback:U,priorityLevel:O,startTime:X,expirationTime:ft,sortIndex:-1},X>$?(O.sortIndex=X,t(x,O),i(y)===null&&O===i(x)&&(H?(j(ot),ot=-1):H=!0,G(I,X-$))):(O.sortIndex=ft,t(y,O),A||z||(A=!0,st||(st=!0,B()))),O},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(O){var U=T;return function(){var X=T;T=U;try{return O.apply(this,arguments)}finally{T=X}}}})(fm)),fm}var dg;function f1(){return dg||(dg=1,cm.exports=Qv()),cm.exports}var dm={exports:{}},Na={};var hg;function Kv(){if(hg)return Na;hg=1;var s=g0();function t(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,x,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:y,containerInfo:x,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Na.createPortal=function(y,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return d(y,x,null,_)},Na.flushSync=function(y){var x=h.T,_=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=x,r.p=_,r.d.f()}},Na.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(y,x))},Na.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Na.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var _=x.as,E=p(_,x.crossOrigin),T=typeof x.integrity=="string"?x.integrity:void 0,z=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;_==="style"?r.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:z}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:z,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Na.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var _=p(x.as,x.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(y)},Na.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var _=x.as,E=p(_,x.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Na.preloadModule=function(y,x){if(typeof y=="string")if(x){var _=p(x.as,x.crossOrigin);r.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(y)},Na.requestFormReset=function(y){r.d.r(y)},Na.unstable_batchedUpdates=function(y,x){return y(x)},Na.useFormState=function(y,x,_){return h.H.useFormState(y,x,_)},Na.useFormStatus=function(){return h.H.useHostTransitionStatus()},Na.version="19.2.3",Na}var pg;function Zv(){if(pg)return dm.exports;pg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),dm.exports=Kv(),dm.exports}var mg;function Jv(){if(mg)return Td;mg=1;var s=f1(),t=g0(),i=Zv();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(r(188))}function x(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,c=n;;){var g=o.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){o=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===o)return y(g),e;if(v===c)return y(g),n;v=v.sibling}throw Error(r(188))}if(o.return!==c.return)o=g,c=v;else{for(var C=!1,D=g.child;D;){if(D===o){C=!0,o=g,c=v;break}if(D===c){C=!0,c=g,o=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===o){C=!0,o=v,c=g;break}if(D===c){C=!0,c=v,o=g;break}D=D.sibling}if(!C)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case V:return"Profiler";case L:return"StrictMode";case I:return"Suspense";case st:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case Z:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ot:return n=e.displayName||null,n!==null?n:Q(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return Q(e(n))}catch{}}return null}var G=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},$=[],ft=-1;function q(e){return{current:e}}function et(e){0>ft||(e.current=$[ft],$[ft]=null,ft--)}function yt(e,n){ft++,$[ft]=e.current,e.current=n}var Et=q(null),Mt=q(null),Nt=q(null),Qt=q(null);function Ne(e,n){switch(yt(Nt,n),yt(Mt,e),yt(Et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?z1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=z1(n),e=N1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(Et),yt(Et,e)}function ne(){et(Et),et(Mt),et(Nt)}function bn(e){e.memoizedState!==null&&yt(Qt,e);var n=Et.current,o=N1(n,e.type);n!==o&&(yt(Mt,e),yt(Et,o))}function Yt(e){Mt.current===e&&(et(Et),et(Mt)),Qt.current===e&&(et(Qt),xd._currentValue=X)}var Me,we;function ve(e){if(Me===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Me=n&&n[1]||"",we=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+we}var ue=!1;function _n(e,n){if(!e||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(gt){var dt=gt}Reflect.construct(e,[],bt)}else{try{bt.call()}catch(gt){dt=gt}e.call(bt.prototype)}}else{try{throw Error()}catch(gt){dt=gt}(bt=e())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(gt){if(gt&&dt&&typeof gt.stack=="string")return[gt.stack,dt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var W=C.split(`
`),ut=D.split(`
`);for(g=c=0;c<W.length&&!W[c].includes("DetermineComponentFrameRoot");)c++;for(;g<ut.length&&!ut[g].includes("DetermineComponentFrameRoot");)g++;if(c===W.length||g===ut.length)for(c=W.length-1,g=ut.length-1;1<=c&&0<=g&&W[c]!==ut[g];)g--;for(;1<=c&&0<=g;c--,g--)if(W[c]!==ut[g]){if(c!==1||g!==1)do if(c--,g--,0>g||W[c]!==ut[g]){var vt=`
`+W[c].replace(" at new "," at ");return e.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",e.displayName)),vt}while(1<=c&&0<=g);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ve(o):""}function Xt(e,n){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve("Lazy");case 13:return e.child!==n&&n!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return _n(e.type,!1);case 11:return _n(e.type.render,!1);case 1:return _n(e.type,!0);case 31:return ve("Activity");default:return""}}function Ct(e){try{var n="",o=null;do n+=Xt(e,o),o=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,kt=s.unstable_cancelCallback,Bt=s.unstable_shouldYield,At=s.unstable_requestPaint,xt=s.unstable_now,Gt=s.unstable_getCurrentPriorityLevel,Wt=s.unstable_ImmediatePriority,Lt=s.unstable_UserBlockingPriority,pe=s.unstable_NormalPriority,Te=s.unstable_LowPriority,Fe=s.unstable_IdlePriority,Al=s.log,Ml=s.unstable_setDisableYieldValue,pi=null,Gn=null;function wa(e){if(typeof Al=="function"&&Ml(e),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(pi,e)}catch{}}var Wn=Math.clz32?Math.clz32:yu,ms=Math.log,hr=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(ms(e)/hr|0)|0}var vu=256,lo=262144,gs=4194304;function Ol(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ys(e,n,o){var c=e.pendingLanes;if(c===0)return 0;var g=0,v=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~v,c!==0?g=Ol(c):(C&=D,C!==0?g=Ol(C):o||(o=D&~e,o!==0&&(g=Ol(o))))):(D=c&~v,D!==0?g=Ol(D):C!==0?g=Ol(C):o||(o=c&~e,o!==0&&(g=Ol(o)))),g===0?0:n!==0&&n!==g&&(n&v)===0&&(v=g&-g,o=n&-n,v>=o||v===32&&(o&4194048)!==0)?n:g}function so(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Id(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var e=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),e}function xu(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function oo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Su(e,n,o,c,g,v){var C=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var D=e.entanglements,W=e.expirationTimes,ut=e.hiddenUpdates;for(o=C&~o;0<o;){var vt=31-Wn(o),bt=1<<vt;D[vt]=0,W[vt]=-1;var dt=ut[vt];if(dt!==null)for(ut[vt]=null,vt=0;vt<dt.length;vt++){var gt=dt[vt];gt!==null&&(gt.lane&=-536870913)}o&=~bt}c!==0&&ro(e,c,0),v!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=v&~(C&~n))}function ro(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Wn(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function pr(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-Wn(o),g=1<<c;g&n|e[c]&n&&(e[c]|=n),o&=~g}}function Zc(e,n){var o=n&-n;return o=(o&42)!==0?1:uo(o),(o&(e.suspendedLanes|n))!==0?0:o}function uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function co(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bu(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function zl(e,n){var o=U.p;try{return U.p=e,n()}finally{U.p=o}}var tl=Math.random().toString(36).slice(2),Nn="__reactFiber$"+tl,aa="__reactProps$"+tl,Nl="__reactContainer$"+tl,Ei="__reactEvents$"+tl,Dl="__reactListeners$"+tl,mr="__reactHandles$"+tl,_u="__reactResources$"+tl,el="__reactMarker$"+tl;function vs(e){delete e[Nn],delete e[aa],delete e[Ei],delete e[Dl],delete e[mr]}function xs(e){var n=e[Nn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Nl]||o[Nn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=H1(e);e!==null;){if(o=e[Nn])return o;e=H1(e)}return n}e=o,o=e.parentNode}return null}function Ss(e){if(e=e[Nn]||e[Nl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function wl(e){var n=e[_u];return n||(n=e[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dn(e){e[el]=!0}var nl=new Set,Eu={};function jl(e,n){ja(e,n),ja(e+"Capture",n)}function ja(e,n){for(Eu[e]=n,e=0;e<n.length;e++)nl.add(n[e])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},rn={};function Jc(e){return _t.call(rn,e)?!0:_t.call(gr,e)?!1:Ua.test(e)?rn[e]=!0:(gr[e]=!0,!1)}function ho(e,n,o){if(Jc(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function yr(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Ti(e,n,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+c)}}function Ka(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fc(e,n,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return g.call(this)},set:function(C){o=""+C,v.call(this,C)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function vr(e){if(!e._valueTracker){var n=Tu(e)?"checked":"value";e._valueTracker=Fc(e,n,""+e[n])}}function ia(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=Tu(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function $e(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cu=/[\n"\\]/g;function la(e){return e.replace(Cu,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function po(e,n,o,c,g,v,C,D){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ka(n)):e.value!==""+Ka(n)&&(e.value=""+Ka(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?mi(e,C,Ka(n)):o!=null?mi(e,C,Ka(o)):c!=null&&e.removeAttribute("value"),g==null&&v!=null&&(e.defaultChecked=!!v),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Ka(D):e.removeAttribute("name")}function Au(e,n,o,c,g,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||n!=null)){vr(e);return}o=o!=null?""+Ka(o):"",n=n!=null?""+Ka(n):o,D||n===e.value||(e.value=n),e.defaultValue=n}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),vr(e)}function mi(e,n,o){n==="number"&&$e(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function al(e,n,o,c){if(e=e.options,n){n={};for(var g=0;g<o.length;g++)n["$"+o[g]]=!0;for(o=0;o<e.length;o++)g=n.hasOwnProperty("$"+e[o].value),e[o].selected!==g&&(e[o].selected=g),g&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ka(o),n=null,g=0;g<e.length;g++){if(e[g].value===o){e[g].selected=!0,c&&(e[g].defaultSelected=!0);return}n!==null||e[g].disabled||(n=e[g])}n!==null&&(n.selected=!0)}}function Mu(e,n,o){if(n!=null&&(n=""+Ka(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Ka(o):""}function Ou(e,n,o,c){if(n==null){if(c!=null){if(o!=null)throw Error(r(92));if(G(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),n=o}o=Ka(n),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),vr(e)}function bs(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var $d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(e,n,o){var c=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,o):typeof o!="number"||o===0||$d.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Pc(e,n,o){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var g in n)c=n[g],n.hasOwnProperty(g)&&o[g]!==c&&Wc(e,g,c)}else for(var v in n)n.hasOwnProperty(v)&&Wc(e,v,n[v])}function Ru(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return Ic.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function il(){}var zu=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Ul=null;function $c(e){var n=Ss(e);if(n&&(e=n.stateNode)){var o=e[aa]||null;t:switch(e=n.stateNode,n.type){case"input":if(po(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+la(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var g=c[aa]||null;if(!g)throw Error(r(90));po(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<o.length;n++)c=o[n],c.form===e.form&&ia(c)}break t;case"textarea":Mu(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&al(e,!!o.multiple,n,!1)}}}var Du=!1;function tf(e,n,o){if(Du)return e(n,o);Du=!0;try{var c=e(n);return c}finally{if(Du=!1,(_s!==null||Ul!==null)&&(Si(),_s&&(n=_s,e=Ul,Ul=_s=null,$c(n),e)))for(n=0;n<e.length;n++)$c(e[n])}}function mo(e,n){var o=e.stateNode;if(o===null)return null;var c=o[aa]||null;if(c===null)return null;o=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(Ci)try{var go={};Object.defineProperty(go,"passive",{get:function(){ef=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{ef=!1}var Ba=null,wu=null,Es=null;function Sr(){if(Es)return Es;var e,n=wu,o=n.length,c,g="value"in Ba?Ba.value:Ba.textContent,v=g.length;for(e=0;e<o&&n[e]===g[e];e++);var C=o-e;for(c=1;c<=C&&n[o-c]===g[v-c];c++);return Es=g.slice(e,1<c?1-c:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yo(){return!0}function eh(){return!1}function fa(e){function n(o,c,g,v,C){this._reactName=o,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(o=e[D],this[D]=o?o(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yo:eh,this.isPropagationStopped=eh,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),n}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=fa(Bl),vo=E({},Bl,{view:0,detail:0}),nh=fa(vo),Er,ju,xo,So=E({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(Er=e.screenX-xo.screenX,ju=e.screenY-xo.screenY):ju=Er=0,xo=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:ju}}),nf=fa(So),ah=E({},So,{dataTransfer:0}),ih=fa(ah),af=E({},vo,{relatedTarget:0}),Uu=fa(af),lh=E({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=fa(lh),O0=E({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sh=fa(O0),Tr=E({},Bl,{data:0}),Bu=fa(Tr),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lf(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rh[e])?!!n[e]:!1}function Hu(){return lf}var uh=E({},vo,{key:function(e){if(e.key){var n=Gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ts=fa(uh),Lu=E({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=fa(Lu),of=E({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),ch=fa(of),fh=E({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=fa(fh),Pn=E({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=fa(Pn),hh=E({},Bl,{newState:0,oldState:0}),ph=fa(hh),mh=[9,13,27,32],Cs=Ci&&"CompositionEvent"in window,bo=null;Ci&&"documentMode"in document&&(bo=document.documentMode);var qu=Ci&&"TextEvent"in window&&!bo,rf=Ci&&(!Cs||bo&&8<bo&&11>=bo),gh=" ",Cr=!1;function Yu(e,n){switch(e){case"keyup":return mh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function yh(e,n){switch(e){case"compositionend":return uf(n);case"keypress":return n.which!==32?null:(Cr=!0,gh);case"textInput":return e=n.data,e===gh&&Cr?null:e;default:return null}}function cf(e,n){if(As)return e==="compositionend"||!Cs&&Yu(e,n)?(e=Sr(),Es=wu=Ba=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rf&&n.locale!=="ko"?null:n.data;default:return null}}var ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ff[e.type]:n==="textarea"}function Xu(e,n,o,c){_s?Ul?Ul.push(c):Ul=[c]:_s=c,n=_p(n,"onChange"),0<n.length&&(o=new _r("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var Gl=null,Ms=null;function vh(e){T1(e,0)}function _o(e){var n=fo(e);if(ia(n))return e}function hf(e,n){if(e==="change")return n}var Ai=!1;if(Ci){var Ar;if(Ci){var pf="oninput"in document;if(!pf){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),pf=typeof mf.oninput=="function"}Ar=pf}else Ar=!1;Ai=Ar&&(!document.documentMode||9<document.documentMode)}function Za(){Gl&&(Gl.detachEvent("onpropertychange",Mr),Ms=Gl=null)}function Mr(e){if(e.propertyName==="value"&&_o(Ms)){var n=[];Xu(n,Ms,e,Nu(e)),tf(vh,n)}}function xh(e,n,o){e==="focusin"?(Za(),Gl=n,Ms=o,Gl.attachEvent("onpropertychange",Mr)):e==="focusout"&&Za()}function gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(Ms)}function Sh(e,n){if(e==="click")return _o(n)}function bh(e,n){if(e==="input"||e==="change")return _o(n)}function yf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var da=typeof Object.is=="function"?Object.is:yf;function Eo(e,n){if(da(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var g=o[c];if(!_t.call(n,g)||!da(e[g],n[g]))return!1}return!0}function Or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function To(e,n){var o=Or(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Or(o)}}function Ve(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ve(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _h(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$e(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=$e(e.document)}return n}function vf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Eh=Ci&&"documentMode"in document&&11>=document.documentMode,Mi=null,Oi=null,Co=null,ku=!1;function Ao(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ku||Mi==null||Mi!==$e(c)||(c=Mi,"selectionStart"in c&&vf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Co&&Eo(Co,c)||(Co=c,c=_p(Oi,"onSelect"),0<c.length&&(n=new _r("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=Mi)))}function sa(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Os={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Rr={},xf={};Ci&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function ll(e){if(Rr[e])return Rr[e];if(!Os[e])return e;var n=Os[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in xf)return Rr[e]=n[o];return e}var Vu=ll("animationend"),zr=ll("animationiteration"),Sf=ll("animationstart"),Th=ll("transitionrun"),z0=ll("transitionstart"),Ch=ll("transitioncancel"),bf=ll("transitionend"),Ja=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Fa(e,n){Ja.set(e,n),jl(n,[e])}var Dr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wa=[],sl=0,kn=0;function wr(){for(var e=sl,n=kn=sl=0;n<e;){var o=Wa[n];Wa[n++]=null;var c=Wa[n];Wa[n++]=null;var g=Wa[n];Wa[n++]=null;var v=Wa[n];if(Wa[n++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}v!==0&&Hl(o,g,v)}}function Vn(e,n,o,c){Wa[sl++]=e,Wa[sl++]=n,Wa[sl++]=o,Wa[sl++]=c,kn|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Qu(e,n,o,c){return Vn(e,n,o,c),Pa(e)}function ha(e,n){return Vn(e,null,null,n),Pa(e)}function Hl(e,n,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var g=!1,v=e.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(g=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,g&&n!==null&&(g=31-Wn(o),e=v.hiddenUpdates,c=e[g],c===null?e[g]=[n]:c.push(n),n.lane=o|536870912),v):null}function Pa(e){if(50<as)throw as=0,Zs=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ll={};function _f(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,o,c){return new _f(e,n,o,c)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,n){var o=e.alternate;return o===null?(o=un(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Mo(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ri(e,n,o,c,g,v){var C=0;if(c=e,typeof e=="function")Ku(e)&&(C=1);else if(typeof e=="string")C=zv(e,o,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=un(31,o,n,g),e.elementType=R,e.lanes=v,e;case H:return ql(o.children,g,v,n);case L:C=8,g|=24;break;case V:return e=un(12,o,n,g|2),e.elementType=V,e.lanes=v,e;case I:return e=un(13,o,n,g),e.elementType=I,e.lanes=v,e;case st:return e=un(19,o,n,g),e.elementType=st,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:C=10;break t;case j:C=9;break t;case K:C=11;break t;case ot:C=14;break t;case M:C=16,c=null;break t}C=29,o=Error(r(130,e===null?"null":typeof e,"")),c=null}return n=un(C,o,n,g),n.elementType=e,n.type=c,n.lanes=v,n}function ql(e,n,o,c){return e=un(7,e,c,n),e.lanes=o,e}function Zu(e,n,o){return e=un(6,e,null,n),e.lanes=o,e}function Oo(e){var n=un(18,null,null,0);return n.stateNode=e,n}function Ju(e,n,o){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var jr=new WeakMap;function Ga(e,n){if(typeof e=="object"&&e!==null){var o=jr.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ct(n)},jr.set(e,n),n)}return{value:e,source:n,stack:Ct(n)}}var Yl=[],Xl=0,Ro=null,zo=0,Ea=[],tn=0,ol=null,cn=1,gi="";function zi(e,n){Yl[Xl++]=zo,Yl[Xl++]=Ro,Ro=e,zo=n}function Ah(e,n,o){Ea[tn++]=cn,Ea[tn++]=gi,Ea[tn++]=ol,ol=e;var c=cn;e=gi;var g=32-Wn(c)-1;c&=~(1<<g),o+=1;var v=32-Wn(n)+g;if(30<v){var C=g-g%5;v=(c&(1<<C)-1).toString(32),c>>=C,g-=C,cn=1<<32-Wn(n)+g|o<<g|c,gi=v+e}else cn=1<<v|o<<g|c,gi=e}function Ni(e){e.return!==null&&(zi(e,1),Ah(e,1,0))}function Fu(e){for(;e===Ro;)Ro=Yl[--Xl],Yl[Xl]=null,zo=Yl[--Xl],Yl[Xl]=null;for(;e===ol;)ol=Ea[--tn],Ea[tn]=null,gi=Ea[--tn],Ea[tn]=null,cn=Ea[--tn],Ea[tn]=null}function Wu(e,n){Ea[tn++]=cn,Ea[tn++]=gi,Ea[tn++]=ol,cn=n.id,gi=n.overflow,ol=e}var gn=null,Qe=null,_e=!1,rl=null,Ha=!1,No=Error(r(519));function Di(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(Ga(n,e)),No}function Mh(e){var n=e.stateNode,o=e.type,c=e.memoizedProps;switch(n[Nn]=e,n[aa]=c,o){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(o=0;o<ci.length;o++)Ae(ci[o],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),Au(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),Ou(n,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||c.suppressHydrationWarning===!0||O1(n.textContent,o)?(c.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),c.onScroll!=null&&Ae("scroll",n),c.onScrollEnd!=null&&Ae("scrollend",n),c.onClick!=null&&(n.onclick=il),n=!0):n=!1,n||Di(e,!0)}function Oh(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 31:case 13:Ha=!1;return;case 27:case 3:Ha=!0;return;default:gn=gn.return}}function Do(e){if(e!==gn)return!1;if(!_e)return Oh(e),_e=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||K0(e.type,e.memoizedProps)),o=!o),o&&Qe&&Di(e),Oh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Qe=G1(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Qe=G1(e)}else n===27?(n=Qe,Io(e.type)?(e=P0,P0=null,Qe=e):Qe=n):Qe=gn?Zi(e.stateNode.nextSibling):null;return!0}function kl(){Qe=gn=null,_e=!1}function Pu(){var e=rl;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),rl=null),e}function wi(e){rl===null?rl=[e]:rl.push(e)}var wo=q(null),Vl=null,ji=null;function ul(e,n,o){yt(wo,n._currentValue),n._currentValue=o}function Ui(e){e._currentValue=wo.current,et(wo)}function Iu(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function $u(e,n,o,c){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;t:for(;v!==null;){var D=v;v=g;for(var W=0;W<n.length;W++)if(D.context===n[W]){v.lanes|=o,D=v.alternate,D!==null&&(D.lanes|=o),Iu(v.return,o,e),c||(C=null);break t}v=D.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=o,v=C.alternate,v!==null&&(v.lanes|=o),Iu(C,o,e),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===e){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Bi(e,n,o,c){e=null;for(var g=n,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var D=g.type;da(g.pendingProps.value,C.value)||(e!==null?e.push(D):e=[D])}}else if(g===Qt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(xd):e=[xd])}g=g.return}e!==null&&$u(n,e,o,c),n.flags|=262144}function Ur(e){for(e=e.firstContext;e!==null;){if(!da(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ql(e){Vl=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function te(e){return Rh(Vl,e)}function jo(e,n){return Vl===null&&Ql(e),Rh(e,n)}function Rh(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ji===null){if(e===null)throw Error(r(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return o}var zh=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},N0=s.unstable_scheduleCallback,D0=s.unstable_NormalPriority,wn={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new zh,data:new Map,refCount:0}}function Rs(e){e.refCount--,e.refCount===0&&N0(D0,function(){e.controller.abort()})}var La=null,tc=0,cl=0,Ia=null;function Tf(e,n){if(La===null){var o=La=[];tc=0,cl=ht(),Ia={status:"pending",value:void 0,then:function(c){o.push(c)}}}return tc++,n.then(Cf,Cf),n}function Cf(){if(--tc===0&&La!==null){Ia!==null&&(Ia.status="fulfilled");var e=La;La=null,cl=0,Ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Af(e,n){var o=[],c={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var g=0;g<o.length;g++)(0,o[g])(n)},function(g){for(c.status="rejected",c.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),c}var Nh=O.S;O.S=function(e,n){hd=xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tf(e,n),Nh!==null&&Nh(e,n)};var Kl=q(null);function ec(){var e=Kl.current;return e!==null?e:ee.pooledCache}function Br(e,n){n===null?yt(Kl,Kl.current):yt(Kl,n.pool)}function Mf(){var e=ec();return e===null?null:{parent:wn._currentValue,pool:e}}var zs=Error(r(460)),Gr=Error(r(474)),ce=Error(r(542)),nc={then:function(){}};function Ta(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ac(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(il,il),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ws(e),e;default:if(typeof n.status=="string")n.then(il,il);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=c}},function(c){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ws(e),e}throw Gi=n,zs}}function Ns(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Gi=o,zs):o}}var Gi=null;function Ds(){if(Gi===null)throw Error(r(459));var e=Gi;return Gi=null,e}function ws(e){if(e===zs||e===ce)throw Error(r(483))}var js=null,Us=0;function Hr(e){var n=Us;return Us+=1,js===null&&(js=[]),ac(js,e,n)}function $a(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uo(e,n){throw n.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ic(e){function n(at,tt){if(e){var rt=at.deletions;rt===null?(at.deletions=[tt],at.flags|=16):rt.push(tt)}}function o(at,tt){if(!e)return null;for(;tt!==null;)n(at,tt),tt=tt.sibling;return null}function c(at){for(var tt=new Map;at!==null;)at.key!==null?tt.set(at.key,at):tt.set(at.index,at),at=at.sibling;return tt}function g(at,tt){return at=_a(at,tt),at.index=0,at.sibling=null,at}function v(at,tt,rt){return at.index=rt,e?(rt=at.alternate,rt!==null?(rt=rt.index,rt<tt?(at.flags|=67108866,tt):rt):(at.flags|=67108866,tt)):(at.flags|=1048576,tt)}function C(at){return e&&at.alternate===null&&(at.flags|=67108866),at}function D(at,tt,rt,St){return tt===null||tt.tag!==6?(tt=Zu(rt,at.mode,St),tt.return=at,tt):(tt=g(tt,rt),tt.return=at,tt)}function W(at,tt,rt,St){var Ft=rt.type;return Ft===H?vt(at,tt,rt.props.children,St,rt.key):tt!==null&&(tt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&Ns(Ft)===tt.type)?(tt=g(tt,rt.props),$a(tt,rt),tt.return=at,tt):(tt=Ri(rt.type,rt.key,rt.props,null,at.mode,St),$a(tt,rt),tt.return=at,tt)}function ut(at,tt,rt,St){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==rt.containerInfo||tt.stateNode.implementation!==rt.implementation?(tt=Ju(rt,at.mode,St),tt.return=at,tt):(tt=g(tt,rt.children||[]),tt.return=at,tt)}function vt(at,tt,rt,St,Ft){return tt===null||tt.tag!==7?(tt=ql(rt,at.mode,St,Ft),tt.return=at,tt):(tt=g(tt,rt),tt.return=at,tt)}function bt(at,tt,rt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=Zu(""+tt,at.mode,rt),tt.return=at,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case z:return rt=Ri(tt.type,tt.key,tt.props,null,at.mode,rt),$a(rt,tt),rt.return=at,rt;case A:return tt=Ju(tt,at.mode,rt),tt.return=at,tt;case M:return tt=Ns(tt),bt(at,tt,rt)}if(G(tt)||B(tt))return tt=ql(tt,at.mode,rt,null),tt.return=at,tt;if(typeof tt.then=="function")return bt(at,Hr(tt),rt);if(tt.$$typeof===Z)return bt(at,jo(at,tt),rt);Uo(at,tt)}return null}function dt(at,tt,rt,St){var Ft=tt!==null?tt.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Ft!==null?null:D(at,tt,""+rt,St);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case z:return rt.key===Ft?W(at,tt,rt,St):null;case A:return rt.key===Ft?ut(at,tt,rt,St):null;case M:return rt=Ns(rt),dt(at,tt,rt,St)}if(G(rt)||B(rt))return Ft!==null?null:vt(at,tt,rt,St,null);if(typeof rt.then=="function")return dt(at,tt,Hr(rt),St);if(rt.$$typeof===Z)return dt(at,tt,jo(at,rt),St);Uo(at,rt)}return null}function gt(at,tt,rt,St,Ft){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return at=at.get(rt)||null,D(tt,at,""+St,Ft);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case z:return at=at.get(St.key===null?rt:St.key)||null,W(tt,at,St,Ft);case A:return at=at.get(St.key===null?rt:St.key)||null,ut(tt,at,St,Ft);case M:return St=Ns(St),gt(at,tt,rt,St,Ft)}if(G(St)||B(St))return at=at.get(rt)||null,vt(tt,at,St,Ft,null);if(typeof St.then=="function")return gt(at,tt,rt,Hr(St),Ft);if(St.$$typeof===Z)return gt(at,tt,rt,jo(tt,St),Ft);Uo(tt,St)}return null}function Vt(at,tt,rt,St){for(var Ft=null,Ue=null,Kt=tt,me=tt=0,Re=null;Kt!==null&&me<rt.length;me++){Kt.index>me?(Re=Kt,Kt=null):Re=Kt.sibling;var Be=dt(at,Kt,rt[me],St);if(Be===null){Kt===null&&(Kt=Re);break}e&&Kt&&Be.alternate===null&&n(at,Kt),tt=v(Be,tt,me),Ue===null?Ft=Be:Ue.sibling=Be,Ue=Be,Kt=Re}if(me===rt.length)return o(at,Kt),_e&&zi(at,me),Ft;if(Kt===null){for(;me<rt.length;me++)Kt=bt(at,rt[me],St),Kt!==null&&(tt=v(Kt,tt,me),Ue===null?Ft=Kt:Ue.sibling=Kt,Ue=Kt);return _e&&zi(at,me),Ft}for(Kt=c(Kt);me<rt.length;me++)Re=gt(Kt,at,me,rt[me],St),Re!==null&&(e&&Re.alternate!==null&&Kt.delete(Re.key===null?me:Re.key),tt=v(Re,tt,me),Ue===null?Ft=Re:Ue.sibling=Re,Ue=Re);return e&&Kt.forEach(function(ar){return n(at,ar)}),_e&&zi(at,me),Ft}function $t(at,tt,rt,St){if(rt==null)throw Error(r(151));for(var Ft=null,Ue=null,Kt=tt,me=tt=0,Re=null,Be=rt.next();Kt!==null&&!Be.done;me++,Be=rt.next()){Kt.index>me?(Re=Kt,Kt=null):Re=Kt.sibling;var ar=dt(at,Kt,Be.value,St);if(ar===null){Kt===null&&(Kt=Re);break}e&&Kt&&ar.alternate===null&&n(at,Kt),tt=v(ar,tt,me),Ue===null?Ft=ar:Ue.sibling=ar,Ue=ar,Kt=Re}if(Be.done)return o(at,Kt),_e&&zi(at,me),Ft;if(Kt===null){for(;!Be.done;me++,Be=rt.next())Be=bt(at,Be.value,St),Be!==null&&(tt=v(Be,tt,me),Ue===null?Ft=Be:Ue.sibling=Be,Ue=Be);return _e&&zi(at,me),Ft}for(Kt=c(Kt);!Be.done;me++,Be=rt.next())Be=gt(Kt,at,me,Be.value,St),Be!==null&&(e&&Be.alternate!==null&&Kt.delete(Be.key===null?me:Be.key),tt=v(Be,tt,me),Ue===null?Ft=Be:Ue.sibling=Be,Ue=Be);return e&&Kt.forEach(function(Yv){return n(at,Yv)}),_e&&zi(at,me),Ft}function Je(at,tt,rt,St){if(typeof rt=="object"&&rt!==null&&rt.type===H&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case z:t:{for(var Ft=rt.key;tt!==null;){if(tt.key===Ft){if(Ft=rt.type,Ft===H){if(tt.tag===7){o(at,tt.sibling),St=g(tt,rt.props.children),St.return=at,at=St;break t}}else if(tt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&Ns(Ft)===tt.type){o(at,tt.sibling),St=g(tt,rt.props),$a(St,rt),St.return=at,at=St;break t}o(at,tt);break}else n(at,tt);tt=tt.sibling}rt.type===H?(St=ql(rt.props.children,at.mode,St,rt.key),St.return=at,at=St):(St=Ri(rt.type,rt.key,rt.props,null,at.mode,St),$a(St,rt),St.return=at,at=St)}return C(at);case A:t:{for(Ft=rt.key;tt!==null;){if(tt.key===Ft)if(tt.tag===4&&tt.stateNode.containerInfo===rt.containerInfo&&tt.stateNode.implementation===rt.implementation){o(at,tt.sibling),St=g(tt,rt.children||[]),St.return=at,at=St;break t}else{o(at,tt);break}else n(at,tt);tt=tt.sibling}St=Ju(rt,at.mode,St),St.return=at,at=St}return C(at);case M:return rt=Ns(rt),Je(at,tt,rt,St)}if(G(rt))return Vt(at,tt,rt,St);if(B(rt)){if(Ft=B(rt),typeof Ft!="function")throw Error(r(150));return rt=Ft.call(rt),$t(at,tt,rt,St)}if(typeof rt.then=="function")return Je(at,tt,Hr(rt),St);if(rt.$$typeof===Z)return Je(at,tt,jo(at,rt),St);Uo(at,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,tt!==null&&tt.tag===6?(o(at,tt.sibling),St=g(tt,rt),St.return=at,at=St):(o(at,tt),St=Zu(rt,at.mode,St),St.return=at,at=St),C(at)):o(at,tt)}return function(at,tt,rt,St){try{Us=0;var Ft=Je(at,tt,rt,St);return js=null,Ft}catch(Kt){if(Kt===zs||Kt===ce)throw Kt;var Ue=un(29,Kt,null,at.mode);return Ue.lanes=St,Ue.return=at,Ue}}}var fl=ic(!0),lc=ic(!1),pa=!1;function Lr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Zt&2)!==0){var g=c.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),c.pending=n,n=Pa(e),Hl(e,null,o),n}return Vn(e,c,n,o),Pa(e)}function Jl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,pr(e,o)}}function Jt(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var g=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,o=o.next}while(o!==null);v===null?g=v=n:v=v.next=n}else g=v=n;o={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Rf=!1;function qr(){if(Rf){var e=Ia;if(e!==null)throw e}}function Bo(e,n,o,c){Rf=!1;var g=e.updateQueue;pa=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var W=D,ut=W.next;W.next=null,C===null?v=ut:C.next=ut,C=W;var vt=e.alternate;vt!==null&&(vt=vt.updateQueue,D=vt.lastBaseUpdate,D!==C&&(D===null?vt.firstBaseUpdate=ut:D.next=ut,vt.lastBaseUpdate=W))}if(v!==null){var bt=g.baseState;C=0,vt=ut=W=null,D=v;do{var dt=D.lane&-536870913,gt=dt!==D.lane;if(gt?(oe&dt)===dt:(c&dt)===dt){dt!==0&&dt===cl&&(Rf=!0),vt!==null&&(vt=vt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Vt=e,$t=D;dt=n;var Je=o;switch($t.tag){case 1:if(Vt=$t.payload,typeof Vt=="function"){bt=Vt.call(Je,bt,dt);break t}bt=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=$t.payload,dt=typeof Vt=="function"?Vt.call(Je,bt,dt):Vt,dt==null)break t;bt=E({},bt,dt);break t;case 2:pa=!0}}dt=D.callback,dt!==null&&(e.flags|=64,gt&&(e.flags|=8192),gt=g.callbacks,gt===null?g.callbacks=[dt]:gt.push(dt))}else gt={lane:dt,tag:D.tag,payload:D.payload,callback:D.callback,next:null},vt===null?(ut=vt=gt,W=bt):vt=vt.next=gt,C|=dt;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;gt=D,D=gt.next,gt.next=null,g.lastBaseUpdate=gt,g.shared.pending=null}}while(!0);vt===null&&(W=bt),g.baseState=W,g.firstBaseUpdate=ut,g.lastBaseUpdate=vt,v===null&&(g.shared.lanes=0),Vi|=C,e.lanes=C,e.memoizedState=bt}}function Go(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Dh(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Go(o[e],n)}var Ho=q(null),sc=q(0);function wh(e,n){e=ka,yt(sc,e),yt(Ho,n),ka=e|n.baseLanes}function zf(){yt(sc,ka),yt(Ho,Ho.current)}function Yr(){ka=sc.current,et(Ho),et(sc)}var Ca=q(null),ma=null;function hl(e){var n=e.alternate;yt(Ee,Ee.current&1),yt(Ca,e),ma===null&&(n===null||Ho.current!==null||n.memoizedState!==null)&&(ma=e)}function Nf(e){yt(Ee,Ee.current),yt(Ca,e),ma===null&&(ma=e)}function jh(e){e.tag===22?(yt(Ee,Ee.current),yt(Ca,e),ma===null&&(ma=e)):Aa()}function Aa(){yt(Ee,Ee.current),yt(Ca,Ca.current)}function En(e){et(Ca),ma===e&&(ma=null),et(Ee)}var Ee=q(0);function qa(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||F0(o)||W0(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var en=0,ie=null,Xe=null,xe=null,ti=!1,Lo=!1,Bs=!1,oc=0,Xr=0,qo=null,Df=0;function fn(){throw Error(r(321))}function wf(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!da(e[o],n[o]))return!1;return!0}function rc(e,n,o,c,g,v){return en=v,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?dp:$f,Bs=!1,v=o(c,g),Bs=!1,Lo&&(v=Gs(n,o,c,g)),Uh(e),v}function Uh(e){O.H=Yo;var n=Xe!==null&&Xe.next!==null;if(en=0,xe=Xe=ie=null,ti=!1,Xr=0,qo=null,n)throw Error(r(300));e===null||jn||(e=e.dependencies,e!==null&&Ur(e)&&(jn=!0))}function Gs(e,n,o,c){ie=e;var g=0;do{if(Lo&&(qo=null),Xr=0,Lo=!1,25<=g)throw Error(r(301));if(g+=1,xe=Xe=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=ei,v=n(o,c)}while(Lo);return v}function Hs(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?kr(n):n,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(ie.flags|=1024),n}function jf(){var e=oc!==0;return oc=0,e}function Uf(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Bf(e){if(ti){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ti=!1}en=0,xe=Xe=ie=null,Lo=!1,Xr=oc=0,qo=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ie.memoizedState=xe=e:xe=xe.next=e,xe}function Tn(){if(Xe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=xe===null?ie.memoizedState:xe.next;if(n!==null)xe=n,Xe=e;else{if(e===null)throw ie.alternate===null?Error(r(467)):Error(r(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xe===null?ie.memoizedState=xe=e:xe=xe.next=e}return xe}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var n=Xr;return Xr+=1,qo===null&&(qo=[]),e=ac(qo,e,n),n=ie,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?dp:$f),e}function Fl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===Z)return te(e)}throw Error(r(438,String(e)))}function Gf(e){var n=null,o=ie.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var c=ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=uc(),ie.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),c=0;c<e;c++)o[c]=Y;return n.index++,o}function pl(e,n){return typeof n=="function"?n(e):n}function cc(e){var n=Tn();return Hf(n,Xe,e)}function Hf(e,n,o){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var g=e.baseQueue,v=c.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}n.baseQueue=g=v,c.pending=null}if(v=e.baseState,g===null)e.memoizedState=v;else{n=g.next;var D=C=null,W=null,ut=n,vt=!1;do{var bt=ut.lane&-536870913;if(bt!==ut.lane?(oe&bt)===bt:(en&bt)===bt){var dt=ut.revertLane;if(dt===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),bt===cl&&(vt=!0);else if((en&dt)===dt){ut=ut.next,dt===cl&&(vt=!0);continue}else bt={lane:0,revertLane:ut.revertLane,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},W===null?(D=W=bt,C=v):W=W.next=bt,ie.lanes|=dt,Vi|=dt;bt=ut.action,Bs&&o(v,bt),v=ut.hasEagerState?ut.eagerState:o(v,bt)}else dt={lane:bt,revertLane:ut.revertLane,gesture:ut.gesture,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},W===null?(D=W=dt,C=v):W=W.next=dt,ie.lanes|=bt,Vi|=bt;ut=ut.next}while(ut!==null&&ut!==n);if(W===null?C=v:W.next=D,!da(v,e.memoizedState)&&(jn=!0,vt&&(o=Ia,o!==null)))throw o;e.memoizedState=v,e.baseState=C,e.baseQueue=W,c.lastRenderedState=v}return g===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Lf(e){var n=Tn(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var c=o.dispatch,g=o.pending,v=n.memoizedState;if(g!==null){o.pending=null;var C=g=g.next;do v=e(v,C.action),C=C.next;while(C!==g);da(v,n.memoizedState)||(jn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,c]}function Bh(e,n,o){var c=ie,g=Tn(),v=_e;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=n();var C=!da((Xe||g).memoizedState,o);if(C&&(g.memoizedState=o,jn=!0),g=g.queue,Zf(Lh.bind(null,c,g,e),[e]),g.getSnapshot!==n||C||xe!==null&&xe.memoizedState.tag&1){if(c.flags|=2048,Wl(9,{destroy:void 0},Hh.bind(null,c,g,o,n),null),ee===null)throw Error(r(349));v||(en&127)!==0||Gh(c,n,o)}return o}function Gh(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ie.updateQueue,n===null?(n=uc(),ie.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Hh(e,n,o,c){n.value=o,n.getSnapshot=c,qh(n)&&Yh(e)}function Lh(e,n,o){return o(function(){qh(n)&&Yh(e)})}function qh(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!da(e,o)}catch{return!0}}function Yh(e){var n=ha(e,2);n!==null&&de(n,e,2)}function qf(e){var n=Hn();if(typeof e=="function"){var o=e;if(e=o(),Bs){wa(!0);try{o()}finally{wa(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},n}function Yf(e,n,o,c){return e.baseState=o,Hf(e,Xe,typeof c=="function"?c:pl)}function w0(e,n,o,c,g){if(pc(e))throw Error(r(485));if(e=n.action,e!==null){var v={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};O.T!==null?o(!0):v.isTransition=!1,c(v),o=n.pending,o===null?(v.next=n.pending=v,Xh(n,v)):(v.next=o.next,n.pending=o.next=v)}}function Xh(e,n){var o=n.action,c=n.payload,g=e.state;if(n.isTransition){var v=O.T,C={};O.T=C;try{var D=o(g,c),W=O.S;W!==null&&W(C,D),kh(e,n,D)}catch(ut){Xf(e,n,ut)}finally{v!==null&&C.types!==null&&(v.types=C.types),O.T=v}}else try{v=o(g,c),kh(e,n,v)}catch(ut){Xf(e,n,ut)}}function kh(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Vh(e,n,c)},function(c){return Xf(e,n,c)}):Vh(e,n,o)}function Vh(e,n,o){n.status="fulfilled",n.value=o,Qh(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Xh(e,o)))}function Xf(e,n,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=o,Qh(n),n=n.next;while(n!==c)}e.action=null}function Qh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kf(e,n){return n}function Vf(e,n){if(_e){var o=ee.formState;if(o!==null){t:{var c=ie;if(_e){if(Qe){e:{for(var g=Qe,v=Ha;g.nodeType!==8;){if(!v){g=null;break e}if(g=Zi(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Qe=Zi(g.nextSibling),c=g.data==="F!";break t}}Di(c)}c=!1}c&&(n=o[0])}}return o=Hn(),o.memoizedState=o.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:n},o.queue=c,o=up.bind(null,ie,c),c.dispatch=o,c=qf(!1),v=If.bind(null,ie,!1,c.queue),c=Hn(),g={state:n,dispatch:null,action:e,pending:null},c.queue=g,o=w0.bind(null,ie,g,v,o),g.dispatch=o,c.memoizedState=e,[n,o,!1]}function Kh(e){var n=Tn();return Qf(n,Xe,e)}function Qf(e,n,o){if(n=Hf(e,n,kf)[0],e=cc(pl)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=kr(n)}catch(C){throw C===zs?ce:C}else c=n;n=Tn();var g=n.queue,v=g.dispatch;return o!==n.memoizedState&&(ie.flags|=2048,Wl(9,{destroy:void 0},Zh.bind(null,g,o),null)),[c,v,e]}function Zh(e,n){e.action=n}function Kf(e){var n=Tn(),o=Xe;if(o!==null)return Qf(n,o,e);Tn(),n=n.memoizedState,o=Tn();var c=o.queue.dispatch;return o.memoizedState=e,[n,c,!1]}function Wl(e,n,o,c){return e={tag:e,create:o,deps:c,inst:n,next:null},n=ie.updateQueue,n===null&&(n=uc(),ie.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e),e}function fc(){return Tn().memoizedState}function dc(e,n,o,c){var g=Hn();ie.flags|=e,g.memoizedState=Wl(1|n,{destroy:void 0},o,c===void 0?null:c)}function hc(e,n,o,c){var g=Tn();c=c===void 0?null:c;var v=g.memoizedState.inst;Xe!==null&&c!==null&&wf(c,Xe.memoizedState.deps)?g.memoizedState=Wl(n,v,o,c):(ie.flags|=e,g.memoizedState=Wl(1|n,v,o,c))}function Jh(e,n){dc(8390656,8,e,n)}function Zf(e,n){hc(2048,8,e,n)}function Fh(e){ie.flags|=4;var n=ie.updateQueue;if(n===null)n=uc(),ie.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Wh(e){var n=Tn().memoizedState;return Fh({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ph(e,n){return hc(4,2,e,n)}function Ih(e,n){return hc(4,4,e,n)}function $h(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tp(e,n,o){o=o!=null?o.concat([e]):null,hc(4,4,$h.bind(null,n,e),o)}function Jf(){}function ep(e,n){var o=Tn();n=n===void 0?null:n;var c=o.memoizedState;return n!==null&&wf(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function np(e,n){var o=Tn();n=n===void 0?null:n;var c=o.memoizedState;if(n!==null&&wf(n,c[1]))return c[0];if(c=e(),Bs){wa(!0);try{e()}finally{wa(!1)}}return o.memoizedState=[c,n],c}function Ff(e,n,o){return o===void 0||(en&1073741824)!==0&&(oe&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=ge(),ie.lanes|=e,Vi|=e,o)}function ap(e,n,o,c){return da(o,n)?o:Ho.current!==null?(e=Ff(e,o,c),da(e,n)||(jn=!0),e):(en&42)===0||(en&1073741824)!==0&&(oe&261930)===0?(jn=!0,e.memoizedState=o):(e=ge(),ie.lanes|=e,Vi|=e,n)}function ip(e,n,o,c,g){var v=U.p;U.p=v!==0&&8>v?v:8;var C=O.T,D={};O.T=D,If(e,!1,n,o);try{var W=g(),ut=O.S;if(ut!==null&&ut(D,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var vt=Af(W,c);Vr(e,n,vt,Qa(e))}else Vr(e,n,c,Qa(e))}catch(bt){Vr(e,n,{then:function(){},status:"rejected",reason:bt},Qa())}finally{U.p=v,C!==null&&D.types!==null&&(C.types=D.types),O.T=C}}function j0(){}function Wf(e,n,o,c){if(e.tag!==5)throw Error(r(476));var g=lp(e).queue;ip(e,g,n,X,o===null?j0:function(){return sp(e),o(c)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:X},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function sp(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),Vr(e,n.next.queue,{},Qa())}function Pf(){return te(xd)}function op(){return Tn().memoizedState}function rp(){return Tn().memoizedState}function U0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Qa();e=dl(o);var c=Zl(n,e,o);c!==null&&(de(c,n,o),Jl(c,n,o)),n={cache:Ef()},e.payload=n;return}n=n.return}}function B0(e,n,o){var c=Qa();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pc(e)?cp(n,o):(o=Qu(e,n,o,c),o!==null&&(de(o,e,c),fp(o,n,c)))}function up(e,n,o){var c=Qa();Vr(e,n,o,c)}function Vr(e,n,o,c){var g={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(pc(e))cp(n,g);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var C=n.lastRenderedState,D=v(C,o);if(g.hasEagerState=!0,g.eagerState=D,da(D,C))return Vn(e,n,g,0),ee===null&&wr(),!1}catch{}if(o=Qu(e,n,g,c),o!==null)return de(o,e,c),fp(o,n,c),!0}return!1}function If(e,n,o,c){if(c={lane:2,revertLane:ht(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(n)throw Error(r(479))}else n=Qu(e,o,c,2),n!==null&&de(n,e,2)}function pc(e){var n=e.alternate;return e===ie||n!==null&&n===ie}function cp(e,n){Lo=ti=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function fp(e,n,o){if((o&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,pr(e,o)}}var Yo={readContext:te,use:Fl,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Yo.useEffectEvent=fn;var dp={readContext:te,use:Fl,useCallback:function(e,n){return Hn().memoizedState=[e,n===void 0?null:n],e},useContext:te,useEffect:Jh,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,dc(4194308,4,$h.bind(null,n,e),o)},useLayoutEffect:function(e,n){return dc(4194308,4,e,n)},useInsertionEffect:function(e,n){dc(4,2,e,n)},useMemo:function(e,n){var o=Hn();n=n===void 0?null:n;var c=e();if(Bs){wa(!0);try{e()}finally{wa(!1)}}return o.memoizedState=[c,n],c},useReducer:function(e,n,o){var c=Hn();if(o!==void 0){var g=o(n);if(Bs){wa(!0);try{o(n)}finally{wa(!1)}}}else g=n;return c.memoizedState=c.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},c.queue=e,e=e.dispatch=B0.bind(null,ie,e),[c.memoizedState,e]},useRef:function(e){var n=Hn();return e={current:e},n.memoizedState=e},useState:function(e){e=qf(e);var n=e.queue,o=up.bind(null,ie,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Jf,useDeferredValue:function(e,n){var o=Hn();return Ff(o,e,n)},useTransition:function(){var e=qf(!1);return e=ip.bind(null,ie,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var c=ie,g=Hn();if(_e){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),ee===null)throw Error(r(349));(oe&127)!==0||Gh(c,n,o)}g.memoizedState=o;var v={value:o,getSnapshot:n};return g.queue=v,Jh(Lh.bind(null,c,v,e),[e]),c.flags|=2048,Wl(9,{destroy:void 0},Hh.bind(null,c,v,o,n),null),o},useId:function(){var e=Hn(),n=ee.identifierPrefix;if(_e){var o=gi,c=cn;o=(c&~(1<<32-Wn(c)-1)).toString(32)+o,n="_"+n+"R_"+o,o=oc++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Df++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Vf,useActionState:Vf,useOptimistic:function(e){var n=Hn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=If.bind(null,ie,!0,o),o.dispatch=n,[e,n]},useMemoCache:Gf,useCacheRefresh:function(){return Hn().memoizedState=U0.bind(null,ie)},useEffectEvent:function(e){var n=Hn(),o={impl:e};return n.memoizedState=o,function(){if((Zt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},$f={readContext:te,use:Fl,useCallback:ep,useContext:te,useEffect:Zf,useImperativeHandle:tp,useInsertionEffect:Ph,useLayoutEffect:Ih,useMemo:np,useReducer:cc,useRef:fc,useState:function(){return cc(pl)},useDebugValue:Jf,useDeferredValue:function(e,n){var o=Tn();return ap(o,Xe.memoizedState,e,n)},useTransition:function(){var e=cc(pl)[0],n=Tn().memoizedState;return[typeof e=="boolean"?e:kr(e),n]},useSyncExternalStore:Bh,useId:op,useHostTransitionStatus:Pf,useFormState:Kh,useActionState:Kh,useOptimistic:function(e,n){var o=Tn();return Yf(o,Xe,e,n)},useMemoCache:Gf,useCacheRefresh:rp};$f.useEffectEvent=Wh;var ei={readContext:te,use:Fl,useCallback:ep,useContext:te,useEffect:Zf,useImperativeHandle:tp,useInsertionEffect:Ph,useLayoutEffect:Ih,useMemo:np,useReducer:Lf,useRef:fc,useState:function(){return Lf(pl)},useDebugValue:Jf,useDeferredValue:function(e,n){var o=Tn();return Xe===null?Ff(o,e,n):ap(o,Xe.memoizedState,e,n)},useTransition:function(){var e=Lf(pl)[0],n=Tn().memoizedState;return[typeof e=="boolean"?e:kr(e),n]},useSyncExternalStore:Bh,useId:op,useHostTransitionStatus:Pf,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,n){var o=Tn();return Xe!==null?Yf(o,Xe,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:rp};ei.useEffectEvent=Wh;function mc(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:E({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Qr={enqueueSetState:function(e,n,o){e=e._reactInternals;var c=Qa(),g=dl(c);g.payload=n,o!=null&&(g.callback=o),n=Zl(e,g,c),n!==null&&(de(n,e,c),Jl(n,e,c))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=Qa(),g=dl(c);g.tag=1,g.payload=n,o!=null&&(g.callback=o),n=Zl(e,g,c),n!==null&&(de(n,e,c),Jl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Qa(),c=dl(o);c.tag=2,n!=null&&(c.callback=n),n=Zl(e,c,o),n!==null&&(de(n,e,o),Jl(n,e,o))}};function td(e,n,o,c,g,v,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,C):n.prototype&&n.prototype.isPureReactComponent?!Eo(o,c)||!Eo(g,v):!0}function ed(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&Qr.enqueueReplaceState(n,n.state,null)}function Pl(e,n){var o=n;if("ref"in n){o={};for(var c in n)c!=="ref"&&(o[c]=n[c])}if(e=e.defaultProps){o===n&&(o=E({},o));for(var g in e)o[g]===void 0&&(o[g]=e[g])}return o}function hp(e){Dr(e)}function nd(e){console.error(e)}function ad(e){Dr(e)}function gc(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function pp(e,n,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function id(e,n,o){return o=dl(o),o.tag=3,o.payload={element:null},o.callback=function(){gc(e,n)},o}function ld(e){return e=dl(e),e.tag=3,e}function mp(e,n,o,c){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;e.payload=function(){return g(v)},e.callback=function(){pp(n,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){pp(n,o,c),typeof g!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function Ln(e,n,o,c,g){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=o.alternate,n!==null&&Bi(n,o,g,!0),o=Ca.current,o!==null){switch(o.tag){case 31:case 13:return ma===null?Jo():o.alternate===null&&dn===0&&(dn=3),o.flags&=-257,o.flags|=65536,o.lanes=g,c===nc?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([c]):n.add(c),au(e,c,g)),!1;case 22:return o.flags|=65536,c===nc?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([c]):o.add(c)),au(e,c,g)),!1}throw Error(r(435,o.tag))}return au(e,c,g),Jo(),!1}if(_e)return n=Ca.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,c!==No&&(e=Error(r(422),{cause:c}),wi(Ga(e,o)))):(c!==No&&(n=Error(r(423),{cause:c}),wi(Ga(n,o))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,c=Ga(c,o),g=id(e.stateNode,c,g),Jt(e,g),dn!==4&&(dn=2)),!1;var v=Error(r(520),{cause:c});if(v=Ga(v,o),Ks===null?Ks=[v]:Ks.push(v),dn!==4&&(dn=2),n===null)return!0;c=Ga(c,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=g&-g,o.lanes|=e,e=id(o.stateNode,c,e),Jt(o,e),!1;case 1:if(n=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mn===null||!Mn.has(v))))return o.flags|=65536,g&=-g,o.lanes|=g,g=ld(g),mp(g,e,o,c),Jt(o,g),!1}o=o.return}while(o!==null);return!1}var yc=Error(r(461)),jn=!1;function Qn(e,n,o,c){n.child=e===null?lc(n,null,o,c):fl(n,e.child,o,c)}function sd(e,n,o,c,g){o=o.render;var v=n.ref;if("ref"in c){var C={};for(var D in c)D!=="ref"&&(C[D]=c[D])}else C=c;return Ql(n),c=rc(e,n,o,C,v,g),D=jf(),e!==null&&!jn?(Uf(e,n,g),Cn(e,n,g)):(_e&&D&&Ni(n),n.flags|=1,Qn(e,n,c,g),n.child)}function Ls(e,n,o,c,g){if(e===null){var v=o.type;return typeof v=="function"&&!Ku(v)&&v.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=v,vc(e,n,v,c,g)):(e=Ri(o.type,null,c,n,n.mode,g),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!Tc(e,g)){var C=v.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(C,c)&&e.ref===n.ref)return Cn(e,n,g)}return n.flags|=1,e=_a(v,c),e.ref=n.ref,e.return=n,n.child=e}function vc(e,n,o,c,g){if(e!==null){var v=e.memoizedProps;if(Eo(v,c)&&e.ref===n.ref)if(jn=!1,n.pendingProps=c=v,Tc(e,g))(e.flags&131072)!==0&&(jn=!0);else return n.lanes=e.lanes,Cn(e,n,g)}return Xo(e,n,o,c,g)}function qs(e,n,o,c){var g=c.children,v=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,e!==null){for(c=n.child=e.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~v}else c=0,n.child=null;return Ma(e,n,v,o,c)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Br(n,v!==null?v.cachePool:null),v!==null?wh(n,v):zf(),jh(n);else return c=n.lanes=536870912,Ma(e,n,v!==null?v.baseLanes|o:o,o,c)}else v!==null?(Br(n,v.cachePool),wh(n,v),Aa(),n.memoizedState=null):(e!==null&&Br(n,null),zf(),Aa());return Qn(e,n,g,o),n.child}function Hi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ma(e,n,o,c,g){var v=ec();return v=v===null?null:{parent:wn._currentValue,pool:v},n.memoizedState={baseLanes:o,cachePool:v},e!==null&&Br(n,null),zf(),jh(n),e!==null&&Bi(e,n,c,!0),n.childLanes=g,null}function xc(e,n){return n=Ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gp(e,n,o){return fl(n,e.child,null,o),e=xc(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function Sc(e,n,o){var c=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(_e){if(c.mode==="hidden")return e=xc(n,c),n.lanes=536870912,Hi(null,e);if(Nf(n),(e=Qe)?(e=B1(e,Ha),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ol!==null?{id:cn,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},o=Oo(e),o.return=n,n.child=o,gn=n,Qe=null)):e=null,e===null)throw Di(n);return n.lanes=536870912,null}return xc(n,c)}var v=e.memoizedState;if(v!==null){var C=v.dehydrated;if(Nf(n),g)if(n.flags&256)n.flags&=-257,n=gp(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(jn||Bi(e,n,o,!1),g=(o&e.childLanes)!==0,jn||g){if(c=ee,c!==null&&(C=Zc(c,o),C!==0&&C!==v.retryLane))throw v.retryLane=C,ha(e,C),de(c,e,C),yc;Jo(),n=gp(e,n,o)}else e=v.treeContext,Qe=Zi(C.nextSibling),gn=n,_e=!0,rl=null,Ha=!1,e!==null&&Wu(n,e),n=xc(n,c),n.flags|=4096;return n}return e=_a(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ys(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Xo(e,n,o,c,g){return Ql(n),o=rc(e,n,o,c,void 0,g),c=jf(),e!==null&&!jn?(Uf(e,n,g),Cn(e,n,g)):(_e&&c&&Ni(n),n.flags|=1,Qn(e,n,o,g),n.child)}function Kr(e,n,o,c,g,v){return Ql(n),n.updateQueue=null,o=Gs(n,c,o,g),Uh(e),c=jf(),e!==null&&!jn?(Uf(e,n,v),Cn(e,n,v)):(_e&&c&&Ni(n),n.flags|=1,Qn(e,n,o,v),n.child)}function bc(e,n,o,c,g){if(Ql(n),n.stateNode===null){var v=Ll,C=o.contextType;typeof C=="object"&&C!==null&&(v=te(C)),v=new o(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qr,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},Lr(n),C=o.contextType,v.context=typeof C=="object"&&C!==null?te(C):Ll,v.state=n.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(mc(n,o,C,c),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Qr.enqueueReplaceState(v,v.state,null),Bo(n,c,v,g),qr(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var D=n.memoizedProps,W=Pl(o,D);v.props=W;var ut=v.context,vt=o.contextType;C=Ll,typeof vt=="object"&&vt!==null&&(C=te(vt));var bt=o.getDerivedStateFromProps;vt=typeof bt=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,vt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||ut!==C)&&ed(n,v,c,C),pa=!1;var dt=n.memoizedState;v.state=dt,Bo(n,c,v,g),qr(),ut=n.memoizedState,D||dt!==ut||pa?(typeof bt=="function"&&(mc(n,o,bt,c),ut=n.memoizedState),(W=pa||td(n,o,W,c,dt,ut,C))?(vt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ut),v.props=c,v.state=ut,v.context=C,c=W):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,Of(e,n),C=n.memoizedProps,vt=Pl(o,C),v.props=vt,bt=n.pendingProps,dt=v.context,ut=o.contextType,W=Ll,typeof ut=="object"&&ut!==null&&(W=te(ut)),D=o.getDerivedStateFromProps,(ut=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==bt||dt!==W)&&ed(n,v,c,W),pa=!1,dt=n.memoizedState,v.state=dt,Bo(n,c,v,g),qr();var gt=n.memoizedState;C!==bt||dt!==gt||pa||e!==null&&e.dependencies!==null&&Ur(e.dependencies)?(typeof D=="function"&&(mc(n,o,D,c),gt=n.memoizedState),(vt=pa||td(n,o,vt,c,dt,gt,W)||e!==null&&e.dependencies!==null&&Ur(e.dependencies))?(ut||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,gt,W),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,gt,W)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=gt),v.props=c,v.state=gt,v.context=W,c=vt):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,Ys(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=fl(n,e.child,null,g),n.child=fl(n,null,o,g)):Qn(e,n,o,g),n.memoizedState=v.state,e=n.child):e=Cn(e,n,g),e}function yp(e,n,o,c){return kl(),n.flags|=256,Qn(e,n,o,c),n.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oa(e){return{baseLanes:e,cachePool:Mf()}}function _c(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=xa),e}function vp(e,n,o){var c=n.pendingProps,g=!1,v=(n.flags&128)!==0,C;if((C=v)||(C=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),C&&(g=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(_e){if(g?hl(n):Aa(),(e=Qe)?(e=B1(e,Ha),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ol!==null?{id:cn,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},o=Oo(e),o.return=n,n.child=o,gn=n,Qe=null)):e=null,e===null)throw Di(n);return W0(e)?n.lanes=32:n.lanes=536870912,null}var D=c.children;return c=c.fallback,g?(Aa(),g=n.mode,D=Ec({mode:"hidden",children:D},g),c=ql(c,g,o,null),D.return=n,c.return=n,D.sibling=c,n.child=D,c=n.child,c.memoizedState=oa(o),c.childLanes=_c(e,C,o),n.memoizedState=od,Hi(null,c)):(hl(n),Zr(n,D))}var W=e.memoizedState;if(W!==null&&(D=W.dehydrated,D!==null)){if(v)n.flags&256?(hl(n),n.flags&=-257,n=rd(e,n,o)):n.memoizedState!==null?(Aa(),n.child=e.child,n.flags|=128,n=null):(Aa(),D=c.fallback,g=n.mode,c=Ec({mode:"visible",children:c.children},g),D=ql(D,g,o,null),D.flags|=2,c.return=n,D.return=n,c.sibling=D,n.child=c,fl(n,e.child,null,o),c=n.child,c.memoizedState=oa(o),c.childLanes=_c(e,C,o),n.memoizedState=od,n=Hi(null,c));else if(hl(n),W0(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var ut=C.dgst;C=ut,c=Error(r(419)),c.stack="",c.digest=C,wi({value:c,source:null,stack:null}),n=rd(e,n,o)}else if(jn||Bi(e,n,o,!1),C=(o&e.childLanes)!==0,jn||C){if(C=ee,C!==null&&(c=Zc(C,o),c!==0&&c!==W.retryLane))throw W.retryLane=c,ha(e,c),de(C,e,c),yc;F0(D)||Jo(),n=rd(e,n,o)}else F0(D)?(n.flags|=192,n.child=e.child,n=null):(e=W.treeContext,Qe=Zi(D.nextSibling),gn=n,_e=!0,rl=null,Ha=!1,e!==null&&Wu(n,e),n=Zr(n,c.children),n.flags|=4096);return n}return g?(Aa(),D=c.fallback,g=n.mode,W=e.child,ut=W.sibling,c=_a(W,{mode:"hidden",children:c.children}),c.subtreeFlags=W.subtreeFlags&65011712,ut!==null?D=_a(ut,D):(D=ql(D,g,o,null),D.flags|=2),D.return=n,c.return=n,c.sibling=D,n.child=c,Hi(null,c),c=n.child,D=e.child.memoizedState,D===null?D=oa(o):(g=D.cachePool,g!==null?(W=wn._currentValue,g=g.parent!==W?{parent:W,pool:W}:g):g=Mf(),D={baseLanes:D.baseLanes|o,cachePool:g}),c.memoizedState=D,c.childLanes=_c(e,C,o),n.memoizedState=od,Hi(e.child,c)):(hl(n),o=e.child,e=o.sibling,o=_a(o,{mode:"visible",children:c.children}),o.return=n,o.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=o,n.memoizedState=null,o)}function Zr(e,n){return n=Ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ec(e,n){return e=un(22,e,null,n),e.lanes=0,e}function rd(e,n,o){return fl(n,e.child,null,o),e=Zr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Iu(e.return,n,o)}function Xs(e,n,o,c,g,v){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:g,treeForkCount:v}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=g,C.treeForkCount=v)}function Oa(e,n,o){var c=n.pendingProps,g=c.revealOrder,v=c.tail;c=c.children;var C=Ee.current,D=(C&2)!==0;if(D?(C=C&1|2,n.flags|=128):C&=1,yt(Ee,C),Qn(e,n,c,o),c=_e?zo:0,!D&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,o,n);else if(e.tag===19)xp(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(o=n.child,g=null;o!==null;)e=o.alternate,e!==null&&qa(e)===null&&(g=o),o=o.sibling;o=g,o===null?(g=n.child,n.child=null):(g=o.sibling,o.sibling=null),Xs(n,!1,g,o,v,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=n.child,n.child=null;g!==null;){if(e=g.alternate,e!==null&&qa(e)===null){n.child=g;break}e=g.sibling,g.sibling=o,o=g,g=e}Xs(n,!0,o,null,v,c);break;case"together":Xs(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Cn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Vi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Bi(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=_a(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=_a(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Tc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ur(e)))}function G0(e,n,o){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ul(n,wn,e.memoizedState.cache),kl();break;case 27:case 5:bn(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ul(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nf(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(hl(n),n.flags|=128,null):(o&n.child.childLanes)!==0?vp(e,n,o):(hl(n),e=Cn(e,n,o),e!==null?e.sibling:null);hl(n);break;case 19:var g=(e.flags&128)!==0;if(c=(o&n.childLanes)!==0,c||(Bi(e,n,o,!1),c=(o&n.childLanes)!==0),g){if(c)return Oa(e,n,o);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(Ee,Ee.current),c)break;return null;case 22:return n.lanes=0,qs(e,n,o,n.pendingProps);case 24:ul(n,wn,e.memoizedState.cache)}return Cn(e,n,o)}function Cc(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)jn=!0;else{if(!Tc(e,o)&&(n.flags&128)===0)return jn=!1,G0(e,n,o);jn=(e.flags&131072)!==0}else jn=!1,_e&&(n.flags&1048576)!==0&&Ah(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var c=n.pendingProps;if(e=Ns(n.elementType),n.type=e,typeof e=="function")Ku(e)?(c=Pl(e,c),n.tag=1,n=bc(null,n,e,c,o)):(n.tag=0,n=Xo(null,n,e,c,o));else{if(e!=null){var g=e.$$typeof;if(g===K){n.tag=11,n=sd(null,n,e,c,o);break t}else if(g===ot){n.tag=14,n=Ls(null,n,e,c,o);break t}}throw n=Q(e)||e,Error(r(306,n,""))}}return n;case 0:return Xo(e,n,n.type,n.pendingProps,o);case 1:return c=n.type,g=Pl(c,n.pendingProps),bc(e,n,c,g,o);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(r(387));c=n.pendingProps;var v=n.memoizedState;g=v.element,Of(e,n),Bo(n,c,null,o);var C=n.memoizedState;if(c=C.cache,ul(n,wn,c),c!==v.cache&&$u(n,[wn],o,!0),qr(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=yp(e,n,c,o);break t}else if(c!==g){g=Ga(Error(r(424)),n),wi(g),n=yp(e,n,c,o);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=Zi(e.firstChild),gn=n,_e=!0,rl=null,Ha=!0,o=lc(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(kl(),c===g){n=Cn(e,n,o);break t}Qn(e,n,c,o)}n=n.child}return n;case 26:return Ys(e,n),e===null?(o=X1(n.type,null,n.pendingProps,null))?n.memoizedState=o:_e||(o=n.type,e=n.pendingProps,c=Ep(Nt.current).createElement(o),c[Nn]=n,c[aa]=e,ba(c,o,e),Dn(c),n.stateNode=c):n.memoizedState=X1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bn(n),e===null&&_e&&(c=n.stateNode=L1(n.type,n.pendingProps,Nt.current),gn=n,Ha=!0,g=Qe,Io(n.type)?(P0=g,Qe=Zi(c.firstChild)):Qe=g),Qn(e,n,n.pendingProps.children,o),Ys(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&_e&&((g=c=Qe)&&(c=yv(c,n.type,n.pendingProps,Ha),c!==null?(n.stateNode=c,gn=n,Qe=Zi(c.firstChild),Ha=!1,g=!0):g=!1),g||Di(n)),bn(n),g=n.type,v=n.pendingProps,C=e!==null?e.memoizedProps:null,c=v.children,K0(g,v)?c=null:C!==null&&K0(g,C)&&(n.flags|=32),n.memoizedState!==null&&(g=rc(e,n,Hs,null,null,o),xd._currentValue=g),Ys(e,n),Qn(e,n,c,o),n.child;case 6:return e===null&&_e&&((e=o=Qe)&&(o=vv(o,n.pendingProps,Ha),o!==null?(n.stateNode=o,gn=n,Qe=null,e=!0):e=!1),e||Di(n)),null;case 13:return vp(e,n,o);case 4:return Ne(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=fl(n,null,c,o):Qn(e,n,c,o),n.child;case 11:return sd(e,n,n.type,n.pendingProps,o);case 7:return Qn(e,n,n.pendingProps,o),n.child;case 8:return Qn(e,n,n.pendingProps.children,o),n.child;case 12:return Qn(e,n,n.pendingProps.children,o),n.child;case 10:return c=n.pendingProps,ul(n,n.type,c.value),Qn(e,n,c.children,o),n.child;case 9:return g=n.type._context,c=n.pendingProps.children,Ql(n),g=te(g),c=c(g),n.flags|=1,Qn(e,n,c,o),n.child;case 14:return Ls(e,n,n.type,n.pendingProps,o);case 15:return vc(e,n,n.type,n.pendingProps,o);case 19:return Oa(e,n,o);case 31:return Sc(e,n,o);case 22:return qs(e,n,o,n.pendingProps);case 24:return Ql(n),c=te(wn),e===null?(g=ec(),g===null&&(g=ee,v=Ef(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=o),g=v),n.memoizedState={parent:c,cache:g},Lr(n),ul(n,wn,g)):((e.lanes&o)!==0&&(Of(e,n),Bo(n,null,null,o),qr()),g=e.memoizedState,v=n.memoizedState,g.parent!==c?(g={parent:c,cache:c},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),ul(n,wn,c)):(c=v.cache,ul(n,wn,c),c!==g.cache&&$u(n,[wn],o,!0))),Qn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Li(e){e.flags|=4}function Jr(e,n,o,c,g){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(pn())e.flags|=8192;else throw Gi=nc,Gr}else e.flags&=-16777217}function ud(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Z1(n))if(pn())e.flags|=8192;else throw Gi=nc,Gr}function ml(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Rl():536870912,e.lanes|=n,We|=n)}function qi(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function Fr(e,n,o){var c=n.pendingProps;switch(Fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(n),null;case 1:return ke(n),null;case 3:return o=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Ui(wn),ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Do(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pu())),ke(n),null;case 26:var g=n.type,v=n.memoizedState;return e===null?(Li(n),v!==null?(ke(n),ud(n,v)):(ke(n),Jr(n,g,null,c,o))):v?v!==e.memoizedState?(Li(n),ke(n),ud(n,v)):(ke(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Li(n),ke(n),Jr(n,g,e,c,o)),null;case 27:if(Yt(n),o=Nt.current,g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return ke(n),null}e=Et.current,Do(n)?Mh(n):(e=L1(g,c,o),n.stateNode=e,Li(n))}return ke(n),null;case 5:if(Yt(n),g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return ke(n),null}if(v=Et.current,Do(n))Mh(n);else{var C=Ep(Nt.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?C.createElement(g,{is:c.is}):C.createElement(g)}}v[Nn]=n,v[aa]=c;t:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break t;for(;C.sibling===null;){if(C.return===null||C.return===n)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=v;t:switch(ba(v,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Li(n)}}return ke(n),Jr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Li(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(r(166));if(e=Nt.current,Do(n)){if(e=n.stateNode,o=n.memoizedProps,c=null,g=gn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}e[Nn]=n,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||O1(e.nodeValue,o)),e||Di(n,!0)}else e=Ep(e).createTextNode(c),e[Nn]=n,n.stateNode=e}return ke(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(c=Do(n),o!==null){if(e===null){if(!c)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Nn]=n}else kl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),e=!1}else o=Pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ke(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Do(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(r(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Nn]=n}else kl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),g=!1}else g=Pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=o,n):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=n.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),ml(n,n.updateQueue),ke(n),null);case 4:return ne(),e===null&&Y0(n.stateNode.containerInfo),ke(n),null;case 10:return Ui(n.type),ke(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return ke(n),null;if(g=(n.flags&128)!==0,v=c.rendering,v===null)if(g)qi(c,!1);else{if(dn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=qa(e),v!==null){for(n.flags|=128,qi(c,!1),e=v.updateQueue,n.updateQueue=e,ml(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Mo(o,e),o=o.sibling;return yt(Ee,Ee.current&1|2),_e&&zi(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&xt()>An&&(n.flags|=128,g=!0,qi(c,!1),n.lanes=4194304)}else{if(!g)if(e=qa(v),e!==null){if(n.flags|=128,g=!0,e=e.updateQueue,n.updateQueue=e,ml(n,e),qi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!_e)return ke(n),null}else 2*xt()-c.renderingStartTime>An&&o!==536870912&&(n.flags|=128,g=!0,qi(c,!1),n.lanes=4194304);c.isBackwards?(v.sibling=n.child,n.child=v):(e=c.last,e!==null?e.sibling=v:n.child=v,c.last=v)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=xt(),e.sibling=null,o=Ee.current,yt(Ee,g?o&1|2:o&1),_e&&zi(n,c.treeForkCount),e):(ke(n),null);case 22:case 23:return En(n),Yr(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(o&536870912)!==0&&(n.flags&128)===0&&(ke(n),n.subtreeFlags&6&&(n.flags|=8192)):ke(n),o=n.updateQueue,o!==null&&ml(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048),e!==null&&et(Kl),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(wn),ke(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ni(e,n){switch(Fu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(wn),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));kl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));kl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Ee),null;case 4:return ne(),null;case 10:return Ui(n.type),null;case 22:case 23:return En(n),Yr(),e!==null&&et(Kl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(wn),null;case 25:return null;default:return null}}function Ya(e,n){switch(Fu(n),n.tag){case 3:Ui(wn),ne();break;case 26:case 27:case 5:Yt(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:et(Ee);break;case 10:Ui(n.type);break;case 22:case 23:En(n),Yr(),e!==null&&et(Kl);break;case 24:Ui(wn)}}function ai(e,n){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var g=c.next;o=g;do{if((o.tag&e)===e){c=void 0;var v=o.create,C=o.inst;c=v(),C.destroy=c}o=o.next}while(o!==g)}}catch(D){De(n,n.return,D)}}function In(e,n,o){try{var c=n.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&e)===e){var C=c.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,g=n;var W=o,ut=D;try{ut()}catch(vt){De(g,W,vt)}}}c=c.next}while(c!==v)}}catch(vt){De(n,n.return,vt)}}function yi(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Dh(n,o)}catch(c){De(e,e.return,c)}}}function Kn(e,n,o){o.props=Pl(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){De(e,n,c)}}function gl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(g){De(e,n,g)}}function $n(e,n){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(g){De(e,n,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){De(e,n,g)}else o.current=null}function Wr(e){var n=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(g){De(e,e.return,g)}}function qn(e,n,o){try{var c=e.stateNode;fv(c,e.type,o,n),c[aa]=n}catch(g){De(e,e.return,g)}}function nn(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Io(e.type)||e.tag===4}function Se(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||nn(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Io(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yi(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=il));else if(c!==4&&(c===27&&Io(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Yi(e,n,o),e=e.sibling;e!==null;)Yi(e,n,o),e=e.sibling}function ga(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(c===27&&Io(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(ga(e,n,o),e=e.sibling;e!==null;)ga(e,n,o),e=e.sibling}function Ac(e){var n=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);ba(n,c,o),n[Nn]=e,n[aa]=o}catch(v){De(e,e.return,v)}}var ii=!1,Ke=!1,vi=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function H0(e,n){if(e=e.containerInfo,V0=zp,e=_h(e),vf(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var C=0,D=-1,W=-1,ut=0,vt=0,bt=e,dt=null;e:for(;;){for(var gt;bt!==o||g!==0&&bt.nodeType!==3||(D=C+g),bt!==v||c!==0&&bt.nodeType!==3||(W=C+c),bt.nodeType===3&&(C+=bt.nodeValue.length),(gt=bt.firstChild)!==null;)dt=bt,bt=gt;for(;;){if(bt===e)break e;if(dt===o&&++ut===g&&(D=C),dt===v&&++vt===c&&(W=C),(gt=bt.nextSibling)!==null)break;bt=dt,dt=bt.parentNode}bt=gt}o=D===-1||W===-1?null:{start:D,end:W}}else o=null}o=o||{start:0,end:0}}else o=null;for(Q0={focusedElem:e,selectionRange:o},zp=!1,Zn=n;Zn!==null;)if(n=Zn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Zn=e;else for(;Zn!==null;){switch(n=Zn,v=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)g=e[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=n,g=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Vt=Pl(o.type,g);e=c.getSnapshotBeforeUpdate(Vt,v),c.__reactInternalSnapshotBeforeUpdate=e}catch($t){De(o,o.return,$t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)J0(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":J0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Zn=e;break}Zn=n.return}}function an(e,n,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:oi(e,o),c&4&&ai(5,o);break;case 1:if(oi(e,o),c&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(C){De(o,o.return,C)}else{var g=Pl(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(g,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){De(o,o.return,C)}}c&64&&yi(o),c&512&&gl(o,o.return);break;case 3:if(oi(e,o),c&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Dh(e,n)}catch(C){De(o,o.return,C)}}break;case 27:n===null&&c&4&&Ac(o);case 26:case 5:oi(e,o),n===null&&c&4&&Wr(o),c&512&&gl(o,o.return);break;case 12:oi(e,o);break;case 31:oi(e,o),c&4&&Il(e,o);break;case 13:oi(e,o),c&4&&ko(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=f.bind(null,o),xv(e,o))));break;case 22:if(c=o.memoizedState!==null||ii,!c){n=n!==null&&n.memoizedState!==null||Ke,g=ii;var v=Ke;ii=c,(Ke=n)&&!v?ya(e,o,(o.subtreeFlags&8772)!==0):oi(e,o),ii=g,Ke=v}break;case 30:break;default:oi(e,o)}}function Pr(e){var n=e.alternate;n!==null&&(e.alternate=null,Pr(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,ra=!1;function li(e,n,o){for(o=o.child;o!==null;)Mc(e,n,o),o=o.sibling}function Mc(e,n,o){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:Ke||$n(o,n),li(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||$n(o,n);var c=He,g=ra;Io(o.type)&&(He=o.stateNode,ra=!1),li(e,n,o),gd(o.stateNode),He=c,ra=g;break;case 5:Ke||$n(o,n);case 6:if(c=He,g=ra,He=null,li(e,n,o),He=c,ra=g,He!==null)if(ra)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(o.stateNode)}catch(v){De(o,n,v)}else try{He.removeChild(o.stateNode)}catch(v){De(o,n,v)}break;case 18:He!==null&&(ra?(e=He,j1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Uc(e)):j1(He,o.stateNode));break;case 4:c=He,g=ra,He=o.stateNode.containerInfo,ra=!0,li(e,n,o),He=c,ra=g;break;case 0:case 11:case 14:case 15:In(2,o,n),Ke||In(4,o,n),li(e,n,o);break;case 1:Ke||($n(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Kn(o,n,c)),li(e,n,o);break;case 21:li(e,n,o);break;case 22:Ke=(c=Ke)||o.memoizedState!==null,li(e,n,o),Ke=c;break;default:li(e,n,o)}}function Il(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Uc(e)}catch(o){De(n,n.return,o)}}}function ko(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Uc(e)}catch(o){De(n,n.return,o)}}function cd(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sp),n;default:throw Error(r(435,e.tag))}}function yl(e,n){var o=cd(e);n.forEach(function(c){if(!o.has(c)){o.add(c);var g=m.bind(null,e,c);c.then(g,g)}})}function Yn(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var g=o[c],v=e,C=n,D=C;t:for(;D!==null;){switch(D.tag){case 27:if(Io(D.type)){He=D.stateNode,ra=!1;break t}break;case 5:He=D.stateNode,ra=!1;break t;case 3:case 4:He=D.stateNode.containerInfo,ra=!0;break t}D=D.return}if(He===null)throw Error(r(160));Mc(v,C,g),He=null,ra=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$l(n,e),n=n.sibling}var si=null;function $l(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yn(n,e),Xn(e),c&4&&(In(3,e,e.return),ai(3,e),In(5,e,e.return));break;case 1:Yn(n,e),Xn(e),c&512&&(Ke||o===null||$n(o,o.return)),c&64&&ii&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var g=si;if(Yn(n,e),Xn(e),c&512&&(Ke||o===null||$n(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[el]||v[Nn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),ba(v,c,o),v[Nn]=e,Dn(v),c=v;break t;case"link":var C=Q1("link","href",g).get(c+(o.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(D,1);break e}}v=g.createElement(c),ba(v,c,o),g.head.appendChild(v);break;case"meta":if(C=Q1("meta","content",g).get(c+(o.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(D,1);break e}}v=g.createElement(c),ba(v,c,o),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[Nn]=e,Dn(v),c=v}e.stateNode=c}else K1(g,e.type,e.stateNode);else e.stateNode=V1(g,c,e.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?K1(g,e.type,e.stateNode):V1(g,c,e.memoizedProps)):c===null&&e.stateNode!==null&&qn(e,e.memoizedProps,o.memoizedProps)}break;case 27:Yn(n,e),Xn(e),c&512&&(Ke||o===null||$n(o,o.return)),o!==null&&c&4&&qn(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Yn(n,e),Xn(e),c&512&&(Ke||o===null||$n(o,o.return)),e.flags&32){g=e.stateNode;try{bs(g,"")}catch(Vt){De(e,e.return,Vt)}}c&4&&e.stateNode!=null&&(g=e.memoizedProps,qn(e,g,o!==null?o.memoizedProps:g)),c&1024&&(vi=!0);break;case 6:if(Yn(n,e),Xn(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Vt){De(e,e.return,Vt)}}break;case 3:if(Ap=null,g=si,si=Tp(n.containerInfo),Yn(n,e),si=g,Xn(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Uc(n.containerInfo)}catch(Vt){De(e,e.return,Vt)}vi&&(vi=!1,Oc(e));break;case 4:c=si,si=Tp(e.stateNode.containerInfo),Yn(n,e),Xn(e),si=c;break;case 12:Yn(n,e),Xn(e);break;case 31:Yn(n,e),Xn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yl(e,c)));break;case 13:Yn(n,e),Xn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vo=xt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yl(e,c)));break;case 22:g=e.memoizedState!==null;var W=o!==null&&o.memoizedState!==null,ut=ii,vt=Ke;if(ii=ut||g,Ke=vt||W,Yn(n,e),Ke=vt,ii=ut,Xn(e),c&8192)t:for(n=e.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(o===null||W||ii||Ke||Xi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){W=o=n;try{if(v=W.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=W.stateNode;var bt=W.memoizedProps.style,dt=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;D.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(Vt){De(W,W.return,Vt)}}}else if(n.tag===6){if(o===null){W=n;try{W.stateNode.nodeValue=g?"":W.memoizedProps}catch(Vt){De(W,W.return,Vt)}}}else if(n.tag===18){if(o===null){W=n;try{var gt=W.stateNode;g?U1(gt,!0):U1(W.stateNode,!1)}catch(Vt){De(W,W.return,Vt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,yl(e,o))));break;case 19:Yn(n,e),Xn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yl(e,c)));break;case 30:break;case 21:break;default:Yn(n,e),Xn(e)}}function Xn(e){var n=e.flags;if(n&2){try{for(var o,c=e.return;c!==null;){if(nn(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var g=o.stateNode,v=Se(e);ga(e,v,g);break;case 5:var C=o.stateNode;o.flags&32&&(bs(C,""),o.flags&=-33);var D=Se(e);ga(e,D,C);break;case 3:case 4:var W=o.stateNode.containerInfo,ut=Se(e);Yi(e,ut,W);break;default:throw Error(r(161))}}catch(vt){De(e,e.return,vt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oc(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oc(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function oi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)an(e,n.alternate,n),n=n.sibling}function Xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),Xi(n);break;case 1:$n(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Kn(n,n.return,o),Xi(n);break;case 27:gd(n.stateNode);case 26:case 5:$n(n,n.return),Xi(n);break;case 22:n.memoizedState===null&&Xi(n);break;case 30:Xi(n);break;default:Xi(n)}e=e.sibling}}function ya(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,g=e,v=n,C=v.flags;switch(v.tag){case 0:case 11:case 15:ya(g,v,o),ai(4,v);break;case 1:if(ya(g,v,o),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ut){De(c,c.return,ut)}if(c=v,g=c.updateQueue,g!==null){var D=c.stateNode;try{var W=g.shared.hiddenCallbacks;if(W!==null)for(g.shared.hiddenCallbacks=null,g=0;g<W.length;g++)Go(W[g],D)}catch(ut){De(c,c.return,ut)}}o&&C&64&&yi(v),gl(v,v.return);break;case 27:Ac(v);case 26:case 5:ya(g,v,o),o&&c===null&&C&4&&Wr(v),gl(v,v.return);break;case 12:ya(g,v,o);break;case 31:ya(g,v,o),o&&C&4&&Il(g,v);break;case 13:ya(g,v,o),o&&C&4&&ko(g,v);break;case 22:v.memoizedState===null&&ya(g,v,o),gl(v,v.return);break;case 30:break;default:ya(g,v,o)}n=n.sibling}}function ts(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Rs(o))}function ks(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rs(e))}function ta(e,n,o,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fd(e,n,o,c),n=n.sibling}function fd(e,n,o,c){var g=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n,o,c),g&2048&&ai(9,n);break;case 1:ta(e,n,o,c);break;case 3:ta(e,n,o,c),g&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rs(e)));break;case 12:if(g&2048){ta(e,n,o,c),e=n.stateNode;try{var v=n.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(W){De(n,n.return,W)}}else ta(e,n,o,c);break;case 31:ta(e,n,o,c);break;case 13:ta(e,n,o,c);break;case 23:break;case 22:v=n.stateNode,C=n.alternate,n.memoizedState!==null?v._visibility&2?ta(e,n,o,c):ki(e,n):v._visibility&2?ta(e,n,o,c):(v._visibility|=2,ea(e,n,o,c,(n.subtreeFlags&10256)!==0||!1)),g&2048&&ts(C,n);break;case 24:ta(e,n,o,c),g&2048&&ks(n.alternate,n);break;default:ta(e,n,o,c)}}function ea(e,n,o,c,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=e,C=n,D=o,W=c,ut=C.flags;switch(C.tag){case 0:case 11:case 15:ea(v,C,D,W,g),ai(8,C);break;case 23:break;case 22:var vt=C.stateNode;C.memoizedState!==null?vt._visibility&2?ea(v,C,D,W,g):ki(v,C):(vt._visibility|=2,ea(v,C,D,W,g)),g&&ut&2048&&ts(C.alternate,C);break;case 24:ea(v,C,D,W,g),g&&ut&2048&&ks(C.alternate,C);break;default:ea(v,C,D,W,g)}n=n.sibling}}function ki(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,c=n,g=c.flags;switch(c.tag){case 22:ki(o,c),g&2048&&ts(c.alternate,c);break;case 24:ki(o,c),g&2048&&ks(c.alternate,c);break;default:ki(o,c)}n=n.sibling}}var Vs=8192;function Xa(e,n,o){if(e.subtreeFlags&Vs)for(e=e.child;e!==null;)Rc(e,n,o),e=e.sibling}function Rc(e,n,o){switch(e.tag){case 26:Xa(e,n,o),e.flags&Vs&&e.memoizedState!==null&&Nv(o,si,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,n,o);break;case 3:case 4:var c=si;si=Tp(e.stateNode.containerInfo),Xa(e,n,o),si=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Vs,Vs=16777216,Xa(e,n,o),Vs=c):Xa(e,n,o));break;default:Xa(e,n,o)}}function Qs(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function es(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];Zn=c,yn(c,e)}Qs(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ra(e),e=e.sibling}function Ra(e){switch(e.tag){case 0:case 11:case 15:es(e),e.flags&2048&&In(9,e,e.return);break;case 3:es(e);break;case 12:es(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,va(e)):es(e);break;default:es(e)}}function va(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];Zn=c,yn(c,e)}Qs(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),va(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,va(n));break;default:va(n)}e=e.sibling}}function yn(e,n){for(;Zn!==null;){var o=Zn;switch(o.tag){case 0:case 11:case 15:In(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Rs(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zn=c;else t:for(o=e;Zn!==null;){c=Zn;var g=c.sibling,v=c.return;if(Pr(c),c===o){Zn=null;break t}if(g!==null){g.return=v,Zn=g;break t}Zn=v}}}var vl={getCacheForType:function(e){var n=te(wn),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return te(wn).controller.signal}},le=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ee=null,fe=null,oe=0,Ce=0,ua=null,ri=!1,xi=!1,dd=!1,ka=0,dn=0,Vi=0,ns=0,Ir=0,xa=0,We=0,Ks=null,vn=null,xn=!1,Vo=0,hd=0,An=1/0,hn=null,Mn=null,Le=0,Va=null,Qo=null,ui=0,Ko=0,Zo=null,$r=null,as=0,Zs=null;function Qa(){return(Zt&2)!==0&&oe!==0?oe&-oe:O.T!==null?ht():bu()}function ge(){if(xa===0)if((oe&536870912)===0||_e){var e=lo;lo<<=1,(lo&3932160)===0&&(lo=262144),xa=e}else xa=536870912;return e=Ca.current,e!==null&&(e.flags|=32),xa}function de(e,n,o){(e===ee&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Un(e,oe,xa,!1)),oo(e,o),((Zt&2)===0||e!==ee)&&(e===ee&&((Zt&2)===0&&(ns|=o),dn===4&&Un(e,oe,xa,!1)),Rt(e))}function ye(e,n,o){if((Zt&6)!==0)throw Error(r(327));var c=!o&&(n&127)===0&&(n&e.expiredLanes)===0||so(e,n),g=c?tu(e,n):Sa(e,n,!0),v=c;do{if(g===0){xi&&!c&&Un(e,n,0,!1);break}else{if(o=e.current.alternate,v&&!qe(o)){g=Sa(e,n,!1),v=!1;continue}if(g===2){if(v=n,e.errorRecoveryDisabledLanes&v)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var D=e;g=Ks;var W=D.current.memoizedState.isDehydrated;if(W&&(ls(D,C).flags|=256),C=Sa(D,C,!1),C!==2){if(dd&&!W){D.errorRecoveryDisabledLanes|=v,ns|=v,g=4;break t}v=vn,vn=g,v!==null&&(vn===null?vn=v:vn.push.apply(vn,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){ls(e,0),Un(e,n,0,!0);break}t:{switch(c=e,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Un(c,n,xa,!ri);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(g=Vo+300-xt(),10<g)){if(Un(c,n,xa,!ri),ys(c,0,!0)!==0)break t;ui=n,c.timeoutHandle=D1(be.bind(null,c,o,vn,hn,xn,n,xa,ns,We,ri,v,"Throttled",-0,0),g);break t}be(c,o,vn,hn,xn,n,xa,ns,We,ri,v,null,-0,0)}}break}while(!0);Rt(e)}function be(e,n,o,c,g,v,C,D,W,ut,vt,bt,dt,gt){if(e.timeoutHandle=-1,bt=n.subtreeFlags,bt&8192||(bt&16785408)===16785408){bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:il},Rc(n,v,bt);var Vt=(v&62914560)===v?Vo-xt():(v&4194048)===v?hd-xt():0;if(Vt=Dv(bt,Vt),Vt!==null){ui=v,e.cancelPendingCommit=Vt(Sl.bind(null,e,n,v,o,c,g,C,D,W,vt,bt,null,dt,gt)),Un(e,v,C,!ut);return}}Sl(e,n,v,o,c,g,C,D,W)}function qe(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var g=o[c],v=g.getSnapshot;g=g.value;try{if(!da(v(),g))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Un(e,n,o,c){n&=~Ir,n&=~ns,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var g=n;0<g;){var v=31-Wn(g),C=1<<v;c[v]=-1,g&=~C}o!==0&&ro(e,o,n)}function Si(){return(Zt&6)===0?(qt(0),!1):!0}function is(){if(fe!==null){if(Ce===0)var e=fe.return;else e=fe,ji=Vl=null,Bf(e),js=null,Us=0,e=fe;for(;e!==null;)Ya(e.alternate,e),e=e.return;fe=null}}function ls(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,pv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),ui=0,is(),ee=e,fe=o=_a(e.current,null),oe=n,Ce=0,ua=null,ri=!1,xi=so(e,n),dd=!1,We=xa=Ir=ns=Vi=dn=0,vn=Ks=null,xn=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var g=31-Wn(c),v=1<<g;n|=e[g],c&=~v}return ka=n,wr(),o}function Qi(e,n){ie=null,O.H=Yo,n===zs||n===ce?(n=Ds(),Ce=3):n===Gr?(n=Ds(),Ce=4):Ce=n===yc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ua=n,fe===null&&(dn=1,gc(e,Ga(n,e.current)))}function pn(){var e=Ca.current;return e===null?!0:(oe&4194048)===oe?ma===null:(oe&62914560)===oe||(oe&536870912)!==0?e===ma:!1}function xl(){var e=O.H;return O.H=Yo,e===null?Yo:e}function ss(){var e=O.A;return O.A=vl,e}function Jo(){dn=4,ri||(oe&4194048)!==oe&&Ca.current!==null||(xi=!0),(Vi&134217727)===0&&(ns&134217727)===0||ee===null||Un(ee,oe,xa,!1)}function Sa(e,n,o){var c=Zt;Zt|=2;var g=xl(),v=ss();(ee!==e||oe!==n)&&(hn=null,ls(e,n)),n=!1;var C=dn;t:do try{if(Ce!==0&&fe!==null){var D=fe,W=ua;switch(Ce){case 8:is(),C=6;break t;case 3:case 2:case 9:case 6:Ca.current===null&&(n=!0);var ut=Ce;if(Ce=0,ua=null,Js(e,D,W,ut),o&&xi){C=0;break t}break;default:ut=Ce,Ce=0,ua=null,Js(e,D,W,ut)}}Fo(),C=dn;break}catch(vt){Qi(e,vt)}while(!0);return n&&e.shellSuspendCounter++,ji=Vl=null,Zt=c,O.H=g,O.A=v,fe===null&&(ee=null,oe=0,wr()),C}function Fo(){for(;fe!==null;)zc(fe)}function tu(e,n){var o=Zt;Zt|=2;var c=xl(),g=ss();ee!==e||oe!==n?(hn=null,An=xt()+500,ls(e,n)):xi=so(e,n);t:do try{if(Ce!==0&&fe!==null){n=fe;var v=ua;e:switch(Ce){case 1:Ce=0,ua=null,Js(e,n,v,1);break;case 2:case 9:if(Ta(v)){Ce=0,ua=null,eu(n);break}n=function(){Ce!==2&&Ce!==9||ee!==e||(Ce=7),Rt(e)},v.then(n,n);break t;case 3:Ce=7;break t;case 4:Ce=5;break t;case 7:Ta(v)?(Ce=0,ua=null,eu(n)):(Ce=0,ua=null,Js(e,n,v,7));break;case 5:var C=null;switch(fe.tag){case 26:C=fe.memoizedState;case 5:case 27:var D=fe;if(C?Z1(C):D.stateNode.complete){Ce=0,ua=null;var W=D.sibling;if(W!==null)fe=W;else{var ut=D.return;ut!==null?(fe=ut,os(ut)):fe=null}break e}}Ce=0,ua=null,Js(e,n,v,5);break;case 6:Ce=0,ua=null,Js(e,n,v,6);break;case 8:is(),dn=6;break t;default:throw Error(r(462))}}za();break}catch(vt){Qi(e,vt)}while(!0);return ji=Vl=null,O.H=c,O.A=g,Zt=o,fe!==null?0:(ee=null,oe=0,wr(),dn)}function za(){for(;fe!==null&&!Bt();)zc(fe)}function zc(e){var n=Cc(e.alternate,e,ka);e.memoizedProps=e.pendingProps,n===null?os(e):fe=n}function eu(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Kr(o,n,n.pendingProps,n.type,void 0,oe);break;case 11:n=Kr(o,n,n.pendingProps,n.type.render,n.ref,oe);break;case 5:Bf(n);default:Ya(o,n),n=fe=Mo(n,ka),n=Cc(o,n,ka)}e.memoizedProps=e.pendingProps,n===null?os(e):fe=n}function Js(e,n,o,c){ji=Vl=null,Bf(n),js=null,Us=0;var g=n.return;try{if(Ln(e,g,n,o,oe)){dn=1,gc(e,Ga(o,e.current)),fe=null;return}}catch(v){if(g!==null)throw fe=g,v;dn=1,gc(e,Ga(o,e.current)),fe=null;return}n.flags&32768?(_e||c===1?e=!0:xi||(oe&536870912)!==0?e=!1:(ri=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ca.current,c!==null&&c.tag===13&&(c.flags|=16384))),nu(n,e)):os(n)}function os(e){var n=e;do{if((n.flags&32768)!==0){nu(n,ri);return}e=n.return;var o=Fr(n.alternate,n,ka);if(o!==null){fe=o;return}if(n=n.sibling,n!==null){fe=n;return}fe=n=e}while(n!==null);dn===0&&(dn=5)}function nu(e,n){do{var o=ni(e.alternate,e);if(o!==null){o.flags&=32767,fe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){fe=e;return}fe=e=o}while(e!==null);dn=6,fe=null}function Sl(e,n,o,c,g,v,C,D,W){e.cancelPendingCommit=null;do Wo();while(Le!==0);if((Zt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(v=n.lanes|n.childLanes,v|=kn,Su(e,o,v,C,D,W),e===ee&&(fe=ee=null,oe=0),Qo=n,Va=e,ui=o,Ko=v,Zo=g,$r=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S(pe,function(){return Nc(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,g=U.p,U.p=2,C=Zt,Zt|=4;try{H0(e,n,o)}finally{Zt=C,U.p=g,O.T=c}}Le=1,Bn(),bl(),Fs()}}function Bn(){if(Le===1){Le=0;var e=Va,n=Qo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=O.T,O.T=null;var c=U.p;U.p=2;var g=Zt;Zt|=4;try{$l(n,e);var v=Q0,C=_h(e.containerInfo),D=v.focusedElem,W=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&Ve(D.ownerDocument.documentElement,D)){if(W!==null&&vf(D)){var ut=W.start,vt=W.end;if(vt===void 0&&(vt=ut),"selectionStart"in D)D.selectionStart=ut,D.selectionEnd=Math.min(vt,D.value.length);else{var bt=D.ownerDocument||document,dt=bt&&bt.defaultView||window;if(dt.getSelection){var gt=dt.getSelection(),Vt=D.textContent.length,$t=Math.min(W.start,Vt),Je=W.end===void 0?$t:Math.min(W.end,Vt);!gt.extend&&$t>Je&&(C=Je,Je=$t,$t=C);var at=To(D,$t),tt=To(D,Je);if(at&&tt&&(gt.rangeCount!==1||gt.anchorNode!==at.node||gt.anchorOffset!==at.offset||gt.focusNode!==tt.node||gt.focusOffset!==tt.offset)){var rt=bt.createRange();rt.setStart(at.node,at.offset),gt.removeAllRanges(),$t>Je?(gt.addRange(rt),gt.extend(tt.node,tt.offset)):(rt.setEnd(tt.node,tt.offset),gt.addRange(rt))}}}}for(bt=[],gt=D;gt=gt.parentNode;)gt.nodeType===1&&bt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<bt.length;D++){var St=bt[D];St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}zp=!!V0,Q0=V0=null}finally{Zt=g,U.p=c,O.T=o}}e.current=n,Le=2}}function bl(){if(Le===2){Le=0;var e=Va,n=Qo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=O.T,O.T=null;var c=U.p;U.p=2;var g=Zt;Zt|=4;try{an(e,n.alternate,n)}finally{Zt=g,U.p=c,O.T=o}}Le=3}}function Fs(){if(Le===4||Le===3){Le=0,At();var e=Va,n=Qo,o=ui,c=$r;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Qo=Va=null,Ki(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Mn=null),co(o),n=n.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(pi,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=O.T,g=U.p,U.p=2,O.T=null;try{for(var v=e.onRecoverableError,C=0;C<c.length;C++){var D=c[C];v(D.value,{componentStack:D.stack})}}finally{O.T=n,U.p=g}}(ui&3)!==0&&Wo(),Rt(e),g=e.pendingLanes,(o&261930)!==0&&(g&42)!==0?e===Zs?as++:(as=0,Zs=e):as=0,qt(0)}}function Ki(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Rs(n)))}function Wo(){return Bn(),bl(),Fs(),Nc()}function Nc(){if(Le!==5)return!1;var e=Va,n=Ko;Ko=0;var o=co(ui),c=O.T,g=U.p;try{U.p=32>o?32:o,O.T=null,o=Zo,Zo=null;var v=Va,C=ui;if(Le=0,Qo=Va=null,ui=0,(Zt&6)!==0)throw Error(r(331));var D=Zt;if(Zt|=4,Ra(v.current),fd(v,v.current,C,o),Zt=D,qt(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(pi,v)}catch{}return!0}finally{U.p=g,O.T=c,Ki(e,n)}}function pd(e,n,o){n=Ga(o,n),n=id(e.stateNode,n,2),e=Zl(e,n,2),e!==null&&(oo(e,2),Rt(e))}function De(e,n,o){if(e.tag===3)pd(e,e,o);else for(;n!==null;){if(n.tag===3){pd(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mn===null||!Mn.has(c))){e=Ga(o,e),o=ld(2),c=Zl(n,o,2),c!==null&&(mp(o,c,n,e),oo(c,2),Rt(c));break}}n=n.return}}function au(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new le;var g=new Set;c.set(n,g)}else g=c.get(n),g===void 0&&(g=new Set,c.set(n,g));g.has(o)||(dd=!0,g.add(o),e=a.bind(null,e,n,o),n.then(e,e))}function a(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,ee===e&&(oe&o)===o&&(dn===4||dn===3&&(oe&62914560)===oe&&300>xt()-Vo?(Zt&2)===0&&ls(e,0):Ir|=o,We===oe&&(We=0)),Rt(e)}function l(e,n){n===0&&(n=Rl()),e=ha(e,n),e!==null&&(oo(e,n),Rt(e))}function f(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),l(e,o)}function m(e,n){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,g=e.memoizedState;g!==null&&(o=g.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(n),l(e,o)}function S(e,n){return Ot(e,n)}var b=null,N=null,P=!1,pt=!1,Tt=!1,Ut=0;function Rt(e){e!==N&&e.next===null&&(N===null?b=N=e:N=N.next=e),pt=!0,P||(P=!0,lt())}function qt(e,n){if(!Tt&&pt){Tt=!0;do for(var o=!1,c=b;c!==null;){if(e!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var C=c.suspendedLanes,D=c.pingedLanes;v=(1<<31-Wn(42|e)+1)-1,v&=g&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,ct(c,v))}else v=oe,v=ys(c,c===ee?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||so(c,v)||(o=!0,ct(c,v));c=c.next}while(o);Tt=!1}}function ae(){Jn()}function Jn(){pt=P=!1;var e=0;Ut!==0&&hv()&&(e=Ut);for(var n=xt(),o=null,c=b;c!==null;){var g=c.next,v=Po(c,n);v===0?(c.next=null,o===null?b=g:o.next=g,g===null&&(N=o)):(o=c,(e!==0||(v&3)!==0)&&(pt=!0)),c=g}Le!==0&&Le!==5||qt(e),Ut!==0&&(Ut=0)}function Po(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,g=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var C=31-Wn(v),D=1<<C,W=g[C];W===-1?((D&o)===0||(D&c)!==0)&&(g[C]=Id(D,n)):W<=n&&(e.expiredLanes|=D),v&=~D}if(n=ee,o=oe,o=ys(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&kt(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||so(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(c!==null&&kt(c),co(o)){case 2:case 8:o=Lt;break;case 32:o=pe;break;case 268435456:o=Fe;break;default:o=pe}return c=rs.bind(null,e),o=Ot(o,c),e.callbackPriority=n,e.callbackNode=o,n}return c!==null&&c!==null&&kt(c),e.callbackPriority=2,e.callbackNode=null,2}function rs(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Wo()&&e.callbackNode!==o)return null;var c=oe;return c=ys(e,e===ee?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ye(e,c,n),Po(e,xt()),e.callbackNode!=null&&e.callbackNode===o?rs.bind(null,e):null)}function ct(e,n){if(Wo())return null;ye(e,n,!0)}function lt(){mv(function(){(Zt&6)!==0?Ot(Wt,ae):Jn()})}function ht(){if(Ut===0){var e=cl;e===0&&(e=vu,vu<<=1,(vu&261888)===0&&(vu=256)),Ut=e}return Ut}function Dt(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function Pt(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function mn(e,n,o,c,g){if(n==="submit"&&o&&o.stateNode===g){var v=Dt((g[aa]||null).action),C=c.submitter;C&&(n=(n=C[aa]||null)?Dt(n.formAction):C.getAttribute("formAction"),n!==null&&(v=n,C=null));var D=new _r("action","action",null,c,g);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ut!==0){var W=C?Pt(g,C):new FormData(g);Wf(o,{pending:!0,data:W,method:g.method,action:v},null,W)}}else typeof v=="function"&&(D.preventDefault(),W=C?Pt(g,C):new FormData(g),Wf(o,{pending:!0,data:W,method:g.method,action:v},v,W))},currentTarget:g}]})}}for(var It=0;It<Nr.length;It++){var Oe=Nr[It],Fn=Oe.toLowerCase(),je=Oe[0].toUpperCase()+Oe.slice(1);Fa(Fn,"on"+je)}Fa(Vu,"onAnimationEnd"),Fa(zr,"onAnimationIteration"),Fa(Sf,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(Th,"onTransitionRun"),Fa(z0,"onTransitionStart"),Fa(Ch,"onTransitionCancel"),Fa(bf,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ci));function T1(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],g=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var C=c.length-1;0<=C;C--){var D=c[C],W=D.instance,ut=D.currentTarget;if(D=D.listener,W!==v&&g.isPropagationStopped())break t;v=D,g.currentTarget=ut;try{v(g)}catch(vt){Dr(vt)}g.currentTarget=null,v=W}else for(C=0;C<c.length;C++){if(D=c[C],W=D.instance,ut=D.currentTarget,D=D.listener,W!==v&&g.isPropagationStopped())break t;v=D,g.currentTarget=ut;try{v(g)}catch(vt){Dr(vt)}g.currentTarget=null,v=W}}}}function Ae(e,n){var o=n[Ei];o===void 0&&(o=n[Ei]=new Set);var c=e+"__bubble";o.has(c)||(C1(n,e,2,!1),o.add(c))}function q0(e,n,o){var c=0;n&&(c|=4),C1(o,e,c,n)}var bp="_reactListening"+Math.random().toString(36).slice(2);function Y0(e){if(!e[bp]){e[bp]=!0,nl.forEach(function(o){o!=="selectionchange"&&(L0.has(o)||q0(o,!1,e),q0(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bp]||(n[bp]=!0,q0("selectionchange",!1,n))}}function C1(e,n,o,c){switch(tg(n)){case 2:var g=Uv;break;case 8:g=Bv;break;default:g=nm}o=g.bind(null,n,o,e),g=void 0,!ef||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),c?g!==void 0?e.addEventListener(n,o,{capture:!0,passive:g}):e.addEventListener(n,o,!0):g!==void 0?e.addEventListener(n,o,{passive:g}):e.addEventListener(n,o,!1)}function X0(e,n,o,c,g){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var D=c.stateNode.containerInfo;if(D===g)break;if(C===4)for(C=c.return;C!==null;){var W=C.tag;if((W===3||W===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;D!==null;){if(C=xs(D),C===null)return;if(W=C.tag,W===5||W===6||W===26||W===27){c=v=C;continue t}D=D.parentNode}}c=c.return}tf(function(){var ut=v,vt=Nu(o),bt=[];t:{var dt=Ja.get(e);if(dt!==void 0){var gt=_r,Vt=e;switch(e){case"keypress":if(br(o)===0)break t;case"keydown":case"keyup":gt=Ts;break;case"focusin":Vt="focus",gt=Uu;break;case"focusout":Vt="blur",gt=Uu;break;case"beforeblur":case"afterblur":gt=Uu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=ch;break;case Vu:case zr:case Sf:gt=M0;break;case bf:gt=R0;break;case"scroll":case"scrollend":gt=nh;break;case"wheel":gt=dh;break;case"copy":case"cut":case"paste":gt=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=sf;break;case"toggle":case"beforetoggle":gt=ph}var $t=(n&4)!==0,Je=!$t&&(e==="scroll"||e==="scrollend"),at=$t?dt!==null?dt+"Capture":null:dt;$t=[];for(var tt=ut,rt;tt!==null;){var St=tt;if(rt=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||rt===null||at===null||(St=mo(tt,at),St!=null&&$t.push(md(tt,St,rt))),Je)break;tt=tt.return}0<$t.length&&(dt=new gt(dt,Vt,null,o,vt),bt.push({event:dt,listeners:$t}))}}if((n&7)===0){t:{if(dt=e==="mouseover"||e==="pointerover",gt=e==="mouseout"||e==="pointerout",dt&&o!==zu&&(Vt=o.relatedTarget||o.fromElement)&&(xs(Vt)||Vt[Nl]))break t;if((gt||dt)&&(dt=vt.window===vt?vt:(dt=vt.ownerDocument)?dt.defaultView||dt.parentWindow:window,gt?(Vt=o.relatedTarget||o.toElement,gt=ut,Vt=Vt?xs(Vt):null,Vt!==null&&(Je=d(Vt),$t=Vt.tag,Vt!==Je||$t!==5&&$t!==27&&$t!==6)&&(Vt=null)):(gt=null,Vt=ut),gt!==Vt)){if($t=nf,St="onMouseLeave",at="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&($t=sf,St="onPointerLeave",at="onPointerEnter",tt="pointer"),Je=gt==null?dt:fo(gt),rt=Vt==null?dt:fo(Vt),dt=new $t(St,tt+"leave",gt,o,vt),dt.target=Je,dt.relatedTarget=rt,St=null,xs(vt)===ut&&($t=new $t(at,tt+"enter",Vt,o,vt),$t.target=rt,$t.relatedTarget=Je,St=$t),Je=St,gt&&Vt)e:{for($t=rv,at=gt,tt=Vt,rt=0,St=at;St;St=$t(St))rt++;St=0;for(var Ft=tt;Ft;Ft=$t(Ft))St++;for(;0<rt-St;)at=$t(at),rt--;for(;0<St-rt;)tt=$t(tt),St--;for(;rt--;){if(at===tt||tt!==null&&at===tt.alternate){$t=at;break e}at=$t(at),tt=$t(tt)}$t=null}else $t=null;gt!==null&&A1(bt,dt,gt,$t,!1),Vt!==null&&Je!==null&&A1(bt,Je,Vt,$t,!0)}}t:{if(dt=ut?fo(ut):window,gt=dt.nodeName&&dt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&dt.type==="file")var Ue=hf;else if(df(dt))if(Ai)Ue=bh;else{Ue=gf;var Kt=xh}else gt=dt.nodeName,!gt||gt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ut&&Ru(ut.elementType)&&(Ue=hf):Ue=Sh;if(Ue&&(Ue=Ue(e,ut))){Xu(bt,Ue,o,vt);break t}Kt&&Kt(e,dt,ut),e==="focusout"&&ut&&dt.type==="number"&&ut.memoizedProps.value!=null&&mi(dt,"number",dt.value)}switch(Kt=ut?fo(ut):window,e){case"focusin":(df(Kt)||Kt.contentEditable==="true")&&(Mi=Kt,Oi=ut,Co=null);break;case"focusout":Co=Oi=Mi=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Ao(bt,o,vt);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":Ao(bt,o,vt)}var me;if(Cs)t:{switch(e){case"compositionstart":var Re="onCompositionStart";break t;case"compositionend":Re="onCompositionEnd";break t;case"compositionupdate":Re="onCompositionUpdate";break t}Re=void 0}else As?Yu(e,o)&&(Re="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(rf&&o.locale!=="ko"&&(As||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&As&&(me=Sr()):(Ba=vt,wu="value"in Ba?Ba.value:Ba.textContent,As=!0)),Kt=_p(ut,Re),0<Kt.length&&(Re=new Bu(Re,e,null,o,vt),bt.push({event:Re,listeners:Kt}),me?Re.data=me:(me=uf(o),me!==null&&(Re.data=me)))),(me=qu?yh(e,o):cf(e,o))&&(Re=_p(ut,"onBeforeInput"),0<Re.length&&(Kt=new Bu("onBeforeInput","beforeinput",null,o,vt),bt.push({event:Kt,listeners:Re}),Kt.data=me)),mn(bt,e,ut,o,vt)}T1(bt,n)})}function md(e,n,o){return{instance:e,listener:n,currentTarget:o}}function _p(e,n){for(var o=n+"Capture",c=[];e!==null;){var g=e,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=mo(e,o),g!=null&&c.unshift(md(e,g,v)),g=mo(e,n),g!=null&&c.push(md(e,g,v))),e.tag===3)return c;e=e.return}return[]}function rv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A1(e,n,o,c,g){for(var v=n._reactName,C=[];o!==null&&o!==c;){var D=o,W=D.alternate,ut=D.stateNode;if(D=D.tag,W!==null&&W===c)break;D!==5&&D!==26&&D!==27||ut===null||(W=ut,g?(ut=mo(o,v),ut!=null&&C.unshift(md(o,ut,W))):g||(ut=mo(o,v),ut!=null&&C.push(md(o,ut,W)))),o=o.return}C.length!==0&&e.push({event:n,listeners:C})}var uv=/\r\n?/g,cv=/\u0000|\uFFFD/g;function M1(e){return(typeof e=="string"?e:""+e).replace(uv,`
`).replace(cv,"")}function O1(e,n){return n=M1(n),M1(e)===n}function Ze(e,n,o,c,g,v){switch(o){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||bs(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&bs(e,""+c);break;case"className":yr(e,"class",c);break;case"tabIndex":yr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(e,o,c);break;case"style":Pc(e,c,v);break;case"data":if(n!=="object"){yr(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=xr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(n!=="input"&&Ze(e,n,"name",g.name,g,null),Ze(e,n,"formEncType",g.formEncType,g,null),Ze(e,n,"formMethod",g.formMethod,g,null),Ze(e,n,"formTarget",g.formTarget,g,null)):(Ze(e,n,"encType",g.encType,g,null),Ze(e,n,"method",g.method,g,null),Ze(e,n,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=xr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=il);break;case"onScroll":c!=null&&Ae("scroll",e);break;case"onScrollEnd":c!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=xr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),ho(e,"popover",c);break;case"xlinkActuate":Ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ti(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ti(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ti(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ti(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ho(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=th.get(o)||o,ho(e,o,c))}}function k0(e,n,o,c,g,v){switch(o){case"style":Pc(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof c=="string"?bs(e,c):(typeof c=="number"||typeof c=="bigint")&&bs(e,""+c);break;case"onScroll":c!=null&&Ae("scroll",e);break;case"onScrollEnd":c!=null&&Ae("scrollend",e);break;case"onClick":c!=null&&(e.onclick=il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),n=o.slice(2,g?o.length-7:void 0),v=e[aa]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(n,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,c,g);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):ho(e,o,c)}}}function ba(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var c=!1,g=!1,v;for(v in o)if(o.hasOwnProperty(v)){var C=o[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(e,n,v,C,o,null)}}g&&Ze(e,n,"srcSet",o.srcSet,o,null),c&&Ze(e,n,"src",o.src,o,null);return;case"input":Ae("invalid",e);var D=v=C=g=null,W=null,ut=null;for(c in o)if(o.hasOwnProperty(c)){var vt=o[c];if(vt!=null)switch(c){case"name":g=vt;break;case"type":C=vt;break;case"checked":W=vt;break;case"defaultChecked":ut=vt;break;case"value":v=vt;break;case"defaultValue":D=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,n));break;default:Ze(e,n,c,vt,o,null)}}Au(e,v,D,W,ut,C,g,!1);return;case"select":Ae("invalid",e),c=C=v=null;for(g in o)if(o.hasOwnProperty(g)&&(D=o[g],D!=null))switch(g){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":c=D;default:Ze(e,n,g,D,o,null)}n=v,o=C,e.multiple=!!c,n!=null?al(e,!!c,n,!1):o!=null&&al(e,!!c,o,!0);return;case"textarea":Ae("invalid",e),v=g=c=null;for(C in o)if(o.hasOwnProperty(C)&&(D=o[C],D!=null))switch(C){case"value":c=D;break;case"defaultValue":g=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Ze(e,n,C,D,o,null)}Ou(e,c,g,v);return;case"option":for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!=null)&&(W==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Ze(e,n,W,c,o,null));return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(c=0;c<ci.length;c++)Ae(ci[c],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in o)if(o.hasOwnProperty(ut)&&(c=o[ut],c!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(e,n,ut,c,o,null)}return;default:if(Ru(n)){for(vt in o)o.hasOwnProperty(vt)&&(c=o[vt],c!==void 0&&k0(e,n,vt,c,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null&&Ze(e,n,D,c,o,null))}function fv(e,n,o,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,D=null,W=null,ut=null,vt=null;for(gt in o){var bt=o[gt];if(o.hasOwnProperty(gt)&&bt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":W=bt;default:c.hasOwnProperty(gt)||Ze(e,n,gt,null,c,bt)}}for(var dt in c){var gt=c[dt];if(bt=o[dt],c.hasOwnProperty(dt)&&(gt!=null||bt!=null))switch(dt){case"type":v=gt;break;case"name":g=gt;break;case"checked":ut=gt;break;case"defaultChecked":vt=gt;break;case"value":C=gt;break;case"defaultValue":D=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(r(137,n));break;default:gt!==bt&&Ze(e,n,dt,gt,c,bt)}}po(e,C,D,W,ut,vt,v,g);return;case"select":gt=C=D=dt=null;for(v in o)if(W=o[v],o.hasOwnProperty(v)&&W!=null)switch(v){case"value":break;case"multiple":gt=W;default:c.hasOwnProperty(v)||Ze(e,n,v,null,c,W)}for(g in c)if(v=c[g],W=o[g],c.hasOwnProperty(g)&&(v!=null||W!=null))switch(g){case"value":dt=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==W&&Ze(e,n,g,v,c,W)}n=D,o=C,c=gt,dt!=null?al(e,!!o,dt,!1):!!c!=!!o&&(n!=null?al(e,!!o,n,!0):al(e,!!o,o?[]:"",!1));return;case"textarea":gt=dt=null;for(D in o)if(g=o[D],o.hasOwnProperty(D)&&g!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ze(e,n,D,null,c,g)}for(C in c)if(g=c[C],v=o[C],c.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":dt=g;break;case"defaultValue":gt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Ze(e,n,C,g,c,v)}Mu(e,dt,gt);return;case"option":for(var Vt in o)dt=o[Vt],o.hasOwnProperty(Vt)&&dt!=null&&!c.hasOwnProperty(Vt)&&(Vt==="selected"?e.selected=!1:Ze(e,n,Vt,null,c,dt));for(W in c)dt=c[W],gt=o[W],c.hasOwnProperty(W)&&dt!==gt&&(dt!=null||gt!=null)&&(W==="selected"?e.selected=dt&&typeof dt!="function"&&typeof dt!="symbol":Ze(e,n,W,dt,c,gt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in o)dt=o[$t],o.hasOwnProperty($t)&&dt!=null&&!c.hasOwnProperty($t)&&Ze(e,n,$t,null,c,dt);for(ut in c)if(dt=c[ut],gt=o[ut],c.hasOwnProperty(ut)&&dt!==gt&&(dt!=null||gt!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,n));break;default:Ze(e,n,ut,dt,c,gt)}return;default:if(Ru(n)){for(var Je in o)dt=o[Je],o.hasOwnProperty(Je)&&dt!==void 0&&!c.hasOwnProperty(Je)&&k0(e,n,Je,void 0,c,dt);for(vt in c)dt=c[vt],gt=o[vt],!c.hasOwnProperty(vt)||dt===gt||dt===void 0&&gt===void 0||k0(e,n,vt,dt,c,gt);return}}for(var at in o)dt=o[at],o.hasOwnProperty(at)&&dt!=null&&!c.hasOwnProperty(at)&&Ze(e,n,at,null,c,dt);for(bt in c)dt=c[bt],gt=o[bt],!c.hasOwnProperty(bt)||dt===gt||dt==null&&gt==null||Ze(e,n,bt,dt,c,gt)}function R1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var g=o[c],v=g.transferSize,C=g.initiatorType,D=g.duration;if(v&&D&&R1(C)){for(C=0,D=g.responseEnd,c+=1;c<o.length;c++){var W=o[c],ut=W.startTime;if(ut>D)break;var vt=W.transferSize,bt=W.initiatorType;vt&&R1(bt)&&(W=W.responseEnd,C+=vt*(W<D?1:(D-ut)/(W-ut)))}if(--c,n+=8*(v+C)/(g.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var V0=null,Q0=null;function Ep(e){return e.nodeType===9?e:e.ownerDocument}function z1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function K0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Z0=null;function hv(){var e=window.event;return e&&e.type==="popstate"?e===Z0?!1:(Z0=e,!0):(Z0=null,!1)}var D1=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,mv=typeof queueMicrotask=="function"?queueMicrotask:typeof w1<"u"?function(e){return w1.resolve(null).then(e).catch(gv)}:D1;function gv(e){setTimeout(function(){throw e})}function Io(e){return e==="head"}function j1(e,n){var o=n,c=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(g),Uc(n);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")gd(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,gd(o);for(var v=o.firstChild;v;){var C=v.nextSibling,D=v.nodeName;v[el]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=C}}else o==="body"&&gd(e.ownerDocument.body);o=g}while(o);Uc(n)}function U1(e,n){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function J0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":J0(o),vs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function yv(e,n,o,c){for(;e.nodeType===1;){var g=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[el])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=Zi(e.nextSibling),e===null)break}return null}function vv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Zi(e.nextSibling),e===null))return null;return e}function B1(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zi(e.nextSibling),e===null))return null;return e}function F0(e){return e.data==="$?"||e.data==="$~"}function W0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var c=function(){n(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Zi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var P0=null;function G1(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Zi(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function H1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function L1(e,n,o){switch(n=Ep(o),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function gd(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vs(e)}var Ji=new Map,q1=new Set;function Tp(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ws=U.d;U.d={f:Sv,r:bv,D:_v,C:Ev,L:Tv,m:Cv,X:Mv,S:Av,M:Ov};function Sv(){var e=Ws.f(),n=Si();return e||n}function bv(e){var n=Ss(e);n!==null&&n.tag===5&&n.type==="form"?sp(n):Ws.r(e)}var Dc=typeof document>"u"?null:document;function Y1(e,n,o){var c=Dc;if(c&&typeof n=="string"&&n){var g=la(n);g='link[rel="'+e+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),q1.has(g)||(q1.add(g),e={rel:e,crossOrigin:o,href:n},c.querySelector(g)===null&&(n=c.createElement("link"),ba(n,"link",e),Dn(n),c.head.appendChild(n)))}}function _v(e){Ws.D(e),Y1("dns-prefetch",e,null)}function Ev(e,n){Ws.C(e,n),Y1("preconnect",e,n)}function Tv(e,n,o){Ws.L(e,n,o);var c=Dc;if(c&&e&&n){var g='link[rel="preload"][as="'+la(n)+'"]';n==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+la(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+la(o.imageSizes)+'"]')):g+='[href="'+la(e)+'"]';var v=g;switch(n){case"style":v=wc(e);break;case"script":v=jc(e)}Ji.has(v)||(e=E({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Ji.set(v,e),c.querySelector(g)!==null||n==="style"&&c.querySelector(yd(v))||n==="script"&&c.querySelector(vd(v))||(n=c.createElement("link"),ba(n,"link",e),Dn(n),c.head.appendChild(n)))}}function Cv(e,n){Ws.m(e,n);var o=Dc;if(o&&e){var c=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+la(c)+'"][href="'+la(e)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=jc(e)}if(!Ji.has(v)&&(e=E({rel:"modulepreload",href:e},n),Ji.set(v,e),o.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vd(v)))return}c=o.createElement("link"),ba(c,"link",e),Dn(c),o.head.appendChild(c)}}}function Av(e,n,o){Ws.S(e,n,o);var c=Dc;if(c&&e){var g=wl(c).hoistableStyles,v=wc(e);n=n||"default";var C=g.get(v);if(!C){var D={loading:0,preload:null};if(C=c.querySelector(yd(v)))D.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Ji.get(v))&&I0(e,o);var W=C=c.createElement("link");Dn(W),ba(W,"link",e),W._p=new Promise(function(ut,vt){W.onload=ut,W.onerror=vt}),W.addEventListener("load",function(){D.loading|=1}),W.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cp(C,n,c)}C={type:"stylesheet",instance:C,count:1,state:D},g.set(v,C)}}}function Mv(e,n){Ws.X(e,n);var o=Dc;if(o&&e){var c=wl(o).hoistableScripts,g=jc(e),v=c.get(g);v||(v=o.querySelector(vd(g)),v||(e=E({src:e,async:!0},n),(n=Ji.get(g))&&$0(e,n),v=o.createElement("script"),Dn(v),ba(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function Ov(e,n){Ws.M(e,n);var o=Dc;if(o&&e){var c=wl(o).hoistableScripts,g=jc(e),v=c.get(g);v||(v=o.querySelector(vd(g)),v||(e=E({src:e,async:!0,type:"module"},n),(n=Ji.get(g))&&$0(e,n),v=o.createElement("script"),Dn(v),ba(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function X1(e,n,o,c){var g=(g=Nt.current)?Tp(g):null;if(!g)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=wc(o.href),o=wl(g).hoistableStyles,c=o.get(n),c||(c={type:"style",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=wc(o.href);var v=wl(g).hoistableStyles,C=v.get(e);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,C),(v=g.querySelector(yd(e)))&&!v._p&&(C.instance=v,C.state.loading=5),Ji.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ji.set(e,o),v||Rv(g,e,o,C.state))),n&&c===null)throw Error(r(528,""));return C}if(n&&c!==null)throw Error(r(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=jc(o),o=wl(g).hoistableScripts,c=o.get(n),c||(c={type:"script",instance:null,count:0,state:null},o.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wc(e){return'href="'+la(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function k1(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Rv(e,n,o,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),ba(n,"link",o),Dn(n),e.head.appendChild(n))}function jc(e){return'[src="'+la(e)+'"]'}function vd(e){return"script[async]"+e}function V1(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+la(o.href)+'"]');if(c)return n.instance=c,Dn(c),c;var g=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Dn(c),ba(c,"style",g),Cp(c,o.precedence,e),n.instance=c;case"stylesheet":g=wc(o.href);var v=e.querySelector(yd(g));if(v)return n.state.loading|=4,n.instance=v,Dn(v),v;c=k1(o),(g=Ji.get(g))&&I0(c,g),v=(e.ownerDocument||e).createElement("link"),Dn(v);var C=v;return C._p=new Promise(function(D,W){C.onload=D,C.onerror=W}),ba(v,"link",c),n.state.loading|=4,Cp(v,o.precedence,e),n.instance=v;case"script":return v=jc(o.src),(g=e.querySelector(vd(v)))?(n.instance=g,Dn(g),g):(c=o,(g=Ji.get(v))&&(c=E({},o),$0(c,g)),e=e.ownerDocument||e,g=e.createElement("script"),Dn(g),ba(g,"link",c),e.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Cp(c,o.precedence,e));return n.instance}function Cp(e,n,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,C=0;C<c.length;C++){var D=c[C];if(D.dataset.precedence===n)v=D;else if(v!==g)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function I0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ap=null;function Q1(e,n,o){if(Ap===null){var c=new Map,g=Ap=new Map;g.set(o,c)}else g=Ap,c=g.get(o),c||(c=new Map,g.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),g=0;g<o.length;g++){var v=o[g];if(!(v[el]||v[Nn]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(n)||"";C=e+C;var D=c.get(C);D?D.push(v):c.set(C,[v])}}return c}function K1(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function zv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Z1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Nv(e,n,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=wc(c.href),v=n.querySelector(yd(g));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Mp.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=v,Dn(v);return}v=n.ownerDocument||n,c=k1(c),(g=Ji.get(g))&&I0(c,g),v=v.createElement("link"),Dn(v);var C=v;C._p=new Promise(function(D,W){C.onload=D,C.onerror=W}),ba(v,"link",c),o.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Mp.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var tm=0;function Dv(e,n){return e.stylesheets&&e.count===0&&Rp(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Rp(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+n);0<e.imgBytes&&tm===0&&(tm=62500*dv());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rp(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>tm?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function Mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Op=null;function Rp(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Op=new Map,n.forEach(wv,e),Op=null,Mp.call(e))}function wv(e,n){if(!(n.state.loading&4)){var o=Op.get(e);if(o)var c=o.get(null);else{o=new Map,Op.set(e,o);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}g=n.instance,C=g.getAttribute("data-precedence"),v=o.get(C)||c,v===c&&o.set(null,g),o.set(C,g),this.count++,c=Mp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),n.state.loading|=4}}var xd={$$typeof:Z,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function jv(e,n,o,c,g,v,C,D,W){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.hiddenUpdates=xu(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function J1(e,n,o,c,g,v,C,D,W,ut,vt,bt){return e=new jv(e,n,o,C,W,ut,vt,bt,D),n=1,v===!0&&(n|=24),v=un(3,null,null,n),e.current=v,v.stateNode=e,n=Ef(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:n},Lr(v),e}function F1(e){return e?(e=Ll,e):Ll}function W1(e,n,o,c,g,v){g=F1(g),c.context===null?c.context=g:c.pendingContext=g,c=dl(n),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Zl(e,c,n),o!==null&&(de(o,e,n),Jl(o,e,n))}function P1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function em(e,n){P1(e,n),(e=e.alternate)&&P1(e,n)}function I1(e){if(e.tag===13||e.tag===31){var n=ha(e,67108864);n!==null&&de(n,e,67108864),em(e,67108864)}}function $1(e){if(e.tag===13||e.tag===31){var n=Qa();n=uo(n);var o=ha(e,n);o!==null&&de(o,e,n),em(e,n)}}var zp=!0;function Uv(e,n,o,c){var g=O.T;O.T=null;var v=U.p;try{U.p=2,nm(e,n,o,c)}finally{U.p=v,O.T=g}}function Bv(e,n,o,c){var g=O.T;O.T=null;var v=U.p;try{U.p=8,nm(e,n,o,c)}finally{U.p=v,O.T=g}}function nm(e,n,o,c){if(zp){var g=am(c);if(g===null)X0(e,n,c,Np,o),eg(e,c);else if(Hv(g,e,n,o,c))c.stopPropagation();else if(eg(e,c),n&4&&-1<Gv.indexOf(e)){for(;g!==null;){var v=Ss(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Ol(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var W=1<<31-Wn(C);D.entanglements[1]|=W,C&=~W}Rt(v),(Zt&6)===0&&(An=xt()+500,qt(0))}}break;case 31:case 13:D=ha(v,2),D!==null&&de(D,v,2),Si(),em(v,2)}if(v=am(c),v===null&&X0(e,n,c,Np,o),v===g)break;g=v}g!==null&&c.stopPropagation()}else X0(e,n,c,null,o)}}function am(e){return e=Nu(e),im(e)}var Np=null;function im(e){if(Np=null,e=xs(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=h(n),e!==null)return e;e=null}else if(o===31){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Np=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Wt:return 2;case Lt:return 8;case pe:case Te:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var lm=!1,$o=null,tr=null,er=null,Sd=new Map,bd=new Map,nr=[],Gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eg(e,n){switch(e){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Sd.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(n.pointerId)}}function _d(e,n,o,c,g,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},n!==null&&(n=Ss(n),n!==null&&I1(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),e)}function Hv(e,n,o,c,g){switch(n){case"focusin":return $o=_d($o,e,n,o,c,g),!0;case"dragenter":return tr=_d(tr,e,n,o,c,g),!0;case"mouseover":return er=_d(er,e,n,o,c,g),!0;case"pointerover":var v=g.pointerId;return Sd.set(v,_d(Sd.get(v)||null,e,n,o,c,g)),!0;case"gotpointercapture":return v=g.pointerId,bd.set(v,_d(bd.get(v)||null,e,n,o,c,g)),!0}return!1}function ng(e){var n=xs(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=h(o),n!==null){e.blockedOn=n,zl(e.priority,function(){$1(o)});return}}else if(n===31){if(n=p(o),n!==null){e.blockedOn=n,zl(e.priority,function(){$1(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=am(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);zu=c,o.target.dispatchEvent(c),zu=null}else return n=Ss(o),n!==null&&I1(n),e.blockedOn=o,!1;n.shift()}return!0}function ag(e,n,o){Dp(e)&&o.delete(n)}function Lv(){lm=!1,$o!==null&&Dp($o)&&($o=null),tr!==null&&Dp(tr)&&(tr=null),er!==null&&Dp(er)&&(er=null),Sd.forEach(ag),bd.forEach(ag)}function wp(e,n){e.blockedOn===n&&(e.blockedOn=null,lm||(lm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lv)))}var jp=null;function ig(e){jp!==e&&(jp=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var n=0;n<e.length;n+=3){var o=e[n],c=e[n+1],g=e[n+2];if(typeof c!="function"){if(im(c||o)===null)continue;break}var v=Ss(o);v!==null&&(e.splice(n,3),n-=3,Wf(v,{pending:!0,data:g,method:o.method,action:c},c,g))}}))}function Uc(e){function n(W){return wp(W,e)}$o!==null&&wp($o,e),tr!==null&&wp(tr,e),er!==null&&wp(er,e),Sd.forEach(n),bd.forEach(n);for(var o=0;o<nr.length;o++){var c=nr[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<nr.length&&(o=nr[0],o.blockedOn===null);)ng(o),o.blockedOn===null&&nr.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var g=o[c],v=o[c+1],C=g[aa]||null;if(typeof v=="function")C||ig(o);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[aa]||null)D=C.formAction;else if(im(g)!==null)continue}else D=C.action;typeof D=="function"?o[c+1]=D:(o.splice(c,3),c-=3),ig(o)}}}function lg(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function sm(e){this._internalRoot=e}Up.prototype.render=sm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var o=n.current,c=Qa();W1(o,c,e,n,null,null)},Up.prototype.unmount=sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;W1(e.current,2,null,e,null,null),Si(),n[Nl]=null}};function Up(e){this._internalRoot=e}Up.prototype.unstable_scheduleHydration=function(e){if(e){var n=bu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<nr.length&&n!==0&&n<nr[o].priority;o++);nr.splice(o,0,e),o===0&&ng(e)}};var sg=t.version;if(sg!=="19.2.3")throw Error(r(527,sg,"19.2.3"));U.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var qv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{pi=Bp.inject(qv),Gn=Bp}catch{}}return Td.createRoot=function(e,n){if(!u(e))throw Error(r(299));var o=!1,c="",g=hp,v=nd,C=ad;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=J1(e,1,!1,null,null,o,c,null,g,v,C,lg),e[Nl]=n.current,Y0(e),new sm(n)},Td.hydrateRoot=function(e,n,o){if(!u(e))throw Error(r(299));var c=!1,g="",v=hp,C=nd,D=ad,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.formState!==void 0&&(W=o.formState)),n=J1(e,1,!0,n,o??null,c,g,W,v,C,D,lg),n.context=F1(null),o=n.current,c=Qa(),c=uo(c),g=dl(c),g.callback=null,Zl(o,g,c),o=c,n.current.lanes=o,oo(n,o),Rt(n),e[Nl]=n.current,Y0(e),new Up(n)},Td.version="19.2.3",Td}var gg;function Fv(){if(gg)return um.exports;gg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),um.exports=Jv(),um.exports}var Wv=Fv();function j2(s,t){return function(){return s.apply(t,arguments)}}const{toString:Pv}=Object.prototype,{getPrototypeOf:d1}=Object,{iterator:y0,toStringTag:U2}=Symbol,v0=(s=>t=>{const i=Pv.call(t);return s[i]||(s[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),El=s=>(s=s.toLowerCase(),t=>v0(t)===s),x0=s=>t=>typeof t===s,{isArray:Vc}=Array,qc=x0("undefined");function Zd(s){return s!==null&&!qc(s)&&s.constructor!==null&&!qc(s.constructor)&&di(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const B2=El("ArrayBuffer");function Iv(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&B2(s.buffer),t}const $v=x0("string"),di=x0("function"),G2=x0("number"),Jd=s=>s!==null&&typeof s=="object",t3=s=>s===!0||s===!1,$p=s=>{if(v0(s)!=="object")return!1;const t=d1(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(U2 in s)&&!(y0 in s)},e3=s=>{if(!Jd(s)||Zd(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},n3=El("Date"),a3=El("File"),i3=El("Blob"),l3=El("FileList"),s3=s=>Jd(s)&&di(s.pipe),o3=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||di(s.append)&&((t=v0(s))==="formdata"||t==="object"&&di(s.toString)&&s.toString()==="[object FormData]"))},r3=El("URLSearchParams"),[u3,c3,f3,d3]=["ReadableStream","Request","Response","Headers"].map(El),h3=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(s,t,{allOwnKeys:i=!1}={}){if(s===null||typeof s>"u")return;let r,u;if(typeof s!="object"&&(s=[s]),Vc(s))for(r=0,u=s.length;r<u;r++)t.call(null,s[r],r,s);else{if(Zd(s))return;const d=i?Object.getOwnPropertyNames(s):Object.keys(s),h=d.length;let p;for(r=0;r<h;r++)p=d[r],t.call(null,s[p],p,s)}}function H2(s,t){if(Zd(s))return null;t=t.toLowerCase();const i=Object.keys(s);let r=i.length,u;for(;r-- >0;)if(u=i[r],t===u.toLowerCase())return u;return null}const ou=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L2=s=>!qc(s)&&s!==ou;function Lm(){const{caseless:s,skipUndefined:t}=L2(this)&&this||{},i={},r=(u,d)=>{const h=s&&H2(i,d)||d;$p(i[h])&&$p(u)?i[h]=Lm(i[h],u):$p(u)?i[h]=Lm({},u):Vc(u)?i[h]=u.slice():(!t||!qc(u))&&(i[h]=u)};for(let u=0,d=arguments.length;u<d;u++)arguments[u]&&Fd(arguments[u],r);return i}const p3=(s,t,i,{allOwnKeys:r}={})=>(Fd(t,(u,d)=>{i&&di(u)?s[d]=j2(u,i):s[d]=u},{allOwnKeys:r}),s),m3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),g3=(s,t,i,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),i&&Object.assign(s.prototype,i)},y3=(s,t,i,r)=>{let u,d,h;const p={};if(t=t||{},s==null)return t;do{for(u=Object.getOwnPropertyNames(s),d=u.length;d-- >0;)h=u[d],(!r||r(h,s,t))&&!p[h]&&(t[h]=s[h],p[h]=!0);s=i!==!1&&d1(s)}while(s&&(!i||i(s,t))&&s!==Object.prototype);return t},v3=(s,t,i)=>{s=String(s),(i===void 0||i>s.length)&&(i=s.length),i-=t.length;const r=s.indexOf(t,i);return r!==-1&&r===i},x3=s=>{if(!s)return null;if(Vc(s))return s;let t=s.length;if(!G2(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=s[t];return i},S3=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&d1(Uint8Array)),b3=(s,t)=>{const r=(s&&s[y0]).call(s);let u;for(;(u=r.next())&&!u.done;){const d=u.value;t.call(s,d[0],d[1])}},_3=(s,t)=>{let i;const r=[];for(;(i=s.exec(t))!==null;)r.push(i);return r},E3=El("HTMLFormElement"),T3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,u){return r.toUpperCase()+u}),yg=(({hasOwnProperty:s})=>(t,i)=>s.call(t,i))(Object.prototype),C3=El("RegExp"),q2=(s,t)=>{const i=Object.getOwnPropertyDescriptors(s),r={};Fd(i,(u,d)=>{let h;(h=t(u,d,s))!==!1&&(r[d]=h||u)}),Object.defineProperties(s,r)},A3=s=>{q2(s,(t,i)=>{if(di(s)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=s[i];if(di(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},M3=(s,t)=>{const i={},r=u=>{u.forEach(d=>{i[d]=!0})};return Vc(s)?r(s):r(String(s).split(t)),i},O3=()=>{},R3=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function z3(s){return!!(s&&di(s.append)&&s[U2]==="FormData"&&s[y0])}const N3=s=>{const t=new Array(10),i=(r,u)=>{if(Jd(r)){if(t.indexOf(r)>=0)return;if(Zd(r))return r;if(!("toJSON"in r)){t[u]=r;const d=Vc(r)?[]:{};return Fd(r,(h,p)=>{const y=i(h,u+1);!qc(y)&&(d[p]=y)}),t[u]=void 0,d}}return r};return i(s,0)},D3=El("AsyncFunction"),w3=s=>s&&(Jd(s)||di(s))&&di(s.then)&&di(s.catch),Y2=((s,t)=>s?setImmediate:t?((i,r)=>(ou.addEventListener("message",({source:u,data:d})=>{u===ou&&d===i&&r.length&&r.shift()()},!1),u=>{r.push(u),ou.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",di(ou.postMessage)),j3=typeof queueMicrotask<"u"?queueMicrotask.bind(ou):typeof process<"u"&&process.nextTick||Y2,U3=s=>s!=null&&di(s[y0]),mt={isArray:Vc,isArrayBuffer:B2,isBuffer:Zd,isFormData:o3,isArrayBufferView:Iv,isString:$v,isNumber:G2,isBoolean:t3,isObject:Jd,isPlainObject:$p,isEmptyObject:e3,isReadableStream:u3,isRequest:c3,isResponse:f3,isHeaders:d3,isUndefined:qc,isDate:n3,isFile:a3,isBlob:i3,isRegExp:C3,isFunction:di,isStream:s3,isURLSearchParams:r3,isTypedArray:S3,isFileList:l3,forEach:Fd,merge:Lm,extend:p3,trim:h3,stripBOM:m3,inherits:g3,toFlatObject:y3,kindOf:v0,kindOfTest:El,endsWith:v3,toArray:x3,forEachEntry:b3,matchAll:_3,isHTMLForm:E3,hasOwnProperty:yg,hasOwnProp:yg,reduceDescriptors:q2,freezeMethods:A3,toObjectSet:M3,toCamelCase:T3,noop:O3,toFiniteNumber:R3,findKey:H2,global:ou,isContextDefined:L2,isSpecCompliantForm:z3,toJSONObject:N3,isAsyncFn:D3,isThenable:w3,setImmediate:Y2,asap:j3,isIterable:U3};function he(s,t,i,r,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),u&&(this.response=u,this.status=u.status?u.status:null)}mt.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const X2=he.prototype,k2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{k2[s]={value:s}});Object.defineProperties(he,k2);Object.defineProperty(X2,"isAxiosError",{value:!0});he.from=(s,t,i,r,u,d)=>{const h=Object.create(X2);mt.toFlatObject(s,h,function(_){return _!==Error.prototype},x=>x!=="isAxiosError");const p=s&&s.message?s.message:"Error",y=t==null&&s?s.code:t;return he.call(h,p,y,i,r,u),s&&h.cause==null&&Object.defineProperty(h,"cause",{value:s,configurable:!0}),h.name=s&&s.name||"Error",d&&Object.assign(h,d),h};const B3=null;function qm(s){return mt.isPlainObject(s)||mt.isArray(s)}function V2(s){return mt.endsWith(s,"[]")?s.slice(0,-2):s}function vg(s,t,i){return s?s.concat(t).map(function(u,d){return u=V2(u),!i&&d?"["+u+"]":u}).join(i?".":""):t}function G3(s){return mt.isArray(s)&&!s.some(qm)}const H3=mt.toFlatObject(mt,{},null,function(t){return/^is[A-Z]/.test(t)});function S0(s,t,i){if(!mt.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,i=mt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,L){return!mt.isUndefined(L[H])});const r=i.metaTokens,u=i.visitor||_,d=i.dots,h=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(u))throw new TypeError("visitor must be a function");function x(A){if(A===null)return"";if(mt.isDate(A))return A.toISOString();if(mt.isBoolean(A))return A.toString();if(!y&&mt.isBlob(A))throw new he("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(A)||mt.isTypedArray(A)?y&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function _(A,H,L){let V=A;if(A&&!L&&typeof A=="object"){if(mt.endsWith(H,"{}"))H=r?H:H.slice(0,-2),A=JSON.stringify(A);else if(mt.isArray(A)&&G3(A)||(mt.isFileList(A)||mt.endsWith(H,"[]"))&&(V=mt.toArray(A)))return H=V2(H),V.forEach(function(Z,K){!(mt.isUndefined(Z)||Z===null)&&t.append(h===!0?vg([H],K,d):h===null?H:H+"[]",x(Z))}),!1}return qm(A)?!0:(t.append(vg(L,H,d),x(A)),!1)}const E=[],T=Object.assign(H3,{defaultVisitor:_,convertValue:x,isVisitable:qm});function z(A,H){if(!mt.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+H.join("."));E.push(A),mt.forEach(A,function(V,j){(!(mt.isUndefined(V)||V===null)&&u.call(t,V,mt.isString(j)?j.trim():j,H,T))===!0&&z(V,H?H.concat(j):[j])}),E.pop()}}if(!mt.isObject(s))throw new TypeError("data must be an object");return z(s),t}function xg(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function h1(s,t){this._pairs=[],s&&S0(s,this,t)}const Q2=h1.prototype;Q2.append=function(t,i){this._pairs.push([t,i])};Q2.toString=function(t){const i=t?function(r){return t.call(this,r,xg)}:xg;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function L3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function K2(s,t,i){if(!t)return s;const r=i&&i.encode||L3;mt.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let d;if(u?d=u(t,i):d=mt.isURLSearchParams(t)?t.toString():new h1(t,i).toString(r),d){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class Sg{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){mt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Z2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q3=typeof URLSearchParams<"u"?URLSearchParams:h1,Y3=typeof FormData<"u"?FormData:null,X3=typeof Blob<"u"?Blob:null,k3={isBrowser:!0,classes:{URLSearchParams:q3,FormData:Y3,Blob:X3},protocols:["http","https","file","blob","url","data"]},p1=typeof window<"u"&&typeof document<"u",Ym=typeof navigator=="object"&&navigator||void 0,V3=p1&&(!Ym||["ReactNative","NativeScript","NS"].indexOf(Ym.product)<0),Q3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K3=p1&&window.location.href||"http://localhost",Z3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:p1,hasStandardBrowserEnv:V3,hasStandardBrowserWebWorkerEnv:Q3,navigator:Ym,origin:K3},Symbol.toStringTag,{value:"Module"})),Da={...Z3,...k3};function J3(s,t){return S0(s,new Da.classes.URLSearchParams,{visitor:function(i,r,u,d){return Da.isNode&&mt.isBuffer(i)?(this.append(r,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function F3(s){return mt.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function W3(s){const t={},i=Object.keys(s);let r;const u=i.length;let d;for(r=0;r<u;r++)d=i[r],t[d]=s[d];return t}function J2(s){function t(i,r,u,d){let h=i[d++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),y=d>=i.length;return h=!h&&mt.isArray(u)?u.length:h,y?(mt.hasOwnProp(u,h)?u[h]=[u[h],r]:u[h]=r,!p):((!u[h]||!mt.isObject(u[h]))&&(u[h]=[]),t(i,r,u[h],d)&&mt.isArray(u[h])&&(u[h]=W3(u[h])),!p)}if(mt.isFormData(s)&&mt.isFunction(s.entries)){const i={};return mt.forEachEntry(s,(r,u)=>{t(F3(r),u,i,0)}),i}return null}function P3(s,t,i){if(mt.isString(s))try{return(t||JSON.parse)(s),mt.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(s)}const Wd={transitional:Z2,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const r=i.getContentType()||"",u=r.indexOf("application/json")>-1,d=mt.isObject(t);if(d&&mt.isHTMLForm(t)&&(t=new FormData(t)),mt.isFormData(t))return u?JSON.stringify(J2(t)):t;if(mt.isArrayBuffer(t)||mt.isBuffer(t)||mt.isStream(t)||mt.isFile(t)||mt.isBlob(t)||mt.isReadableStream(t))return t;if(mt.isArrayBufferView(t))return t.buffer;if(mt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return J3(t,this.formSerializer).toString();if((p=mt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return S0(p?{"files[]":t}:t,y&&new y,this.formSerializer)}}return d||u?(i.setContentType("application/json",!1),P3(t)):t}],transformResponse:[function(t){const i=this.transitional||Wd.transitional,r=i&&i.forcedJSONParsing,u=this.responseType==="json";if(mt.isResponse(t)||mt.isReadableStream(t))return t;if(t&&mt.isString(t)&&(r&&!this.responseType||u)){const h=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(t,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?he.from(p,he.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Da.classes.FormData,Blob:Da.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],s=>{Wd.headers[s]={}});const I3=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$3=s=>{const t={};let i,r,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),i=h.substring(0,u).trim().toLowerCase(),r=h.substring(u+1).trim(),!(!i||t[i]&&I3[i])&&(i==="set-cookie"?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t},bg=Symbol("internals");function Cd(s){return s&&String(s).trim().toLowerCase()}function t0(s){return s===!1||s==null?s:mt.isArray(s)?s.map(t0):String(s)}function t4(s){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(s);)t[r[1]]=r[2];return t}const e4=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function hm(s,t,i,r,u){if(mt.isFunction(r))return r.call(this,t,i);if(u&&(t=i),!!mt.isString(t)){if(mt.isString(r))return t.indexOf(r)!==-1;if(mt.isRegExp(r))return r.test(t)}}function n4(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,r)=>i.toUpperCase()+r)}function a4(s,t){const i=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+i,{value:function(u,d,h){return this[r].call(this,t,u,d,h)},configurable:!0})})}let hi=class{constructor(t){t&&this.set(t)}set(t,i,r){const u=this;function d(p,y,x){const _=Cd(y);if(!_)throw new Error("header name must be a non-empty string");const E=mt.findKey(u,_);(!E||u[E]===void 0||x===!0||x===void 0&&u[E]!==!1)&&(u[E||y]=t0(p))}const h=(p,y)=>mt.forEach(p,(x,_)=>d(x,_,y));if(mt.isPlainObject(t)||t instanceof this.constructor)h(t,i);else if(mt.isString(t)&&(t=t.trim())&&!e4(t))h($3(t),i);else if(mt.isObject(t)&&mt.isIterable(t)){let p={},y,x;for(const _ of t){if(!mt.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[x=_[0]]=(y=p[x])?mt.isArray(y)?[...y,_[1]]:[y,_[1]]:_[1]}h(p,i)}else t!=null&&d(i,t,r);return this}get(t,i){if(t=Cd(t),t){const r=mt.findKey(this,t);if(r){const u=this[r];if(!i)return u;if(i===!0)return t4(u);if(mt.isFunction(i))return i.call(this,u,r);if(mt.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Cd(t),t){const r=mt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!i||hm(this,this[r],r,i)))}return!1}delete(t,i){const r=this;let u=!1;function d(h){if(h=Cd(h),h){const p=mt.findKey(r,h);p&&(!i||hm(r,r[p],p,i))&&(delete r[p],u=!0)}}return mt.isArray(t)?t.forEach(d):d(t),u}clear(t){const i=Object.keys(this);let r=i.length,u=!1;for(;r--;){const d=i[r];(!t||hm(this,this[d],d,t,!0))&&(delete this[d],u=!0)}return u}normalize(t){const i=this,r={};return mt.forEach(this,(u,d)=>{const h=mt.findKey(r,d);if(h){i[h]=t0(u),delete i[d];return}const p=t?n4(d):String(d).trim();p!==d&&delete i[d],i[p]=t0(u),r[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return mt.forEach(this,(r,u)=>{r!=null&&r!==!1&&(i[u]=t&&mt.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const r=new this(t);return i.forEach(u=>r.set(u)),r}static accessor(t){const r=(this[bg]=this[bg]={accessors:{}}).accessors,u=this.prototype;function d(h){const p=Cd(h);r[p]||(a4(u,h),r[p]=!0)}return mt.isArray(t)?t.forEach(d):d(t),this}};hi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(hi.prototype,({value:s},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[i]=r}}});mt.freezeMethods(hi);function pm(s,t){const i=this||Wd,r=t||i,u=hi.from(r.headers);let d=r.data;return mt.forEach(s,function(p){d=p.call(i,d,u.normalize(),t?t.status:void 0)}),u.normalize(),d}function F2(s){return!!(s&&s.__CANCEL__)}function Qc(s,t,i){he.call(this,s??"canceled",he.ERR_CANCELED,t,i),this.name="CanceledError"}mt.inherits(Qc,he,{__CANCEL__:!0});function W2(s,t,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?s(i):t(new he("Request failed with status code "+i.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function i4(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function l4(s,t){s=s||10;const i=new Array(s),r=new Array(s);let u=0,d=0,h;return t=t!==void 0?t:1e3,function(y){const x=Date.now(),_=r[d];h||(h=x),i[u]=y,r[u]=x;let E=d,T=0;for(;E!==u;)T+=i[E++],E=E%s;if(u=(u+1)%s,u===d&&(d=(d+1)%s),x-h<t)return;const z=_&&x-_;return z?Math.round(T*1e3/z):void 0}}function s4(s,t){let i=0,r=1e3/t,u,d;const h=(x,_=Date.now())=>{i=_,u=null,d&&(clearTimeout(d),d=null),s(...x)};return[(...x)=>{const _=Date.now(),E=_-i;E>=r?h(x,_):(u=x,d||(d=setTimeout(()=>{d=null,h(u)},r-E)))},()=>u&&h(u)]}const s0=(s,t,i=3)=>{let r=0;const u=l4(50,250);return s4(d=>{const h=d.loaded,p=d.lengthComputable?d.total:void 0,y=h-r,x=u(y),_=h<=p;r=h;const E={loaded:h,total:p,progress:p?h/p:void 0,bytes:y,rate:x||void 0,estimated:x&&p&&_?(p-h)/x:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};s(E)},i)},_g=(s,t)=>{const i=s!=null;return[r=>t[0]({lengthComputable:i,total:s,loaded:r}),t[1]]},Eg=s=>(...t)=>mt.asap(()=>s(...t)),o4=Da.hasStandardBrowserEnv?((s,t)=>i=>(i=new URL(i,Da.origin),s.protocol===i.protocol&&s.host===i.host&&(t||s.port===i.port)))(new URL(Da.origin),Da.navigator&&/(msie|trident)/i.test(Da.navigator.userAgent)):()=>!0,r4=Da.hasStandardBrowserEnv?{write(s,t,i,r,u,d,h){if(typeof document>"u")return;const p=[`${s}=${encodeURIComponent(t)}`];mt.isNumber(i)&&p.push(`expires=${new Date(i).toUTCString()}`),mt.isString(r)&&p.push(`path=${r}`),mt.isString(u)&&p.push(`domain=${u}`),d===!0&&p.push("secure"),mt.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function u4(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function c4(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function P2(s,t,i){let r=!u4(t);return s&&(r||i==!1)?c4(s,t):t}const Tg=s=>s instanceof hi?{...s}:s;function cu(s,t){t=t||{};const i={};function r(x,_,E,T){return mt.isPlainObject(x)&&mt.isPlainObject(_)?mt.merge.call({caseless:T},x,_):mt.isPlainObject(_)?mt.merge({},_):mt.isArray(_)?_.slice():_}function u(x,_,E,T){if(mt.isUndefined(_)){if(!mt.isUndefined(x))return r(void 0,x,E,T)}else return r(x,_,E,T)}function d(x,_){if(!mt.isUndefined(_))return r(void 0,_)}function h(x,_){if(mt.isUndefined(_)){if(!mt.isUndefined(x))return r(void 0,x)}else return r(void 0,_)}function p(x,_,E){if(E in t)return r(x,_);if(E in s)return r(void 0,x)}const y={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(x,_,E)=>u(Tg(x),Tg(_),E,!0)};return mt.forEach(Object.keys({...s,...t}),function(_){const E=y[_]||u,T=E(s[_],t[_],_);mt.isUndefined(T)&&E!==p||(i[_]=T)}),i}const I2=s=>{const t=cu({},s);let{data:i,withXSRFToken:r,xsrfHeaderName:u,xsrfCookieName:d,headers:h,auth:p}=t;if(t.headers=h=hi.from(h),t.url=K2(P2(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),mt.isFormData(i)){if(Da.hasStandardBrowserEnv||Da.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(mt.isFunction(i.getHeaders)){const y=i.getHeaders(),x=["content-type","content-length"];Object.entries(y).forEach(([_,E])=>{x.includes(_.toLowerCase())&&h.set(_,E)})}}if(Da.hasStandardBrowserEnv&&(r&&mt.isFunction(r)&&(r=r(t)),r||r!==!1&&o4(t.url))){const y=u&&d&&r4.read(d);y&&h.set(u,y)}return t},f4=typeof XMLHttpRequest<"u",d4=f4&&function(s){return new Promise(function(i,r){const u=I2(s);let d=u.data;const h=hi.from(u.headers).normalize();let{responseType:p,onUploadProgress:y,onDownloadProgress:x}=u,_,E,T,z,A;function H(){z&&z(),A&&A(),u.cancelToken&&u.cancelToken.unsubscribe(_),u.signal&&u.signal.removeEventListener("abort",_)}let L=new XMLHttpRequest;L.open(u.method.toUpperCase(),u.url,!0),L.timeout=u.timeout;function V(){if(!L)return;const Z=hi.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:Z,config:s,request:L};W2(function(ot){i(ot),H()},function(ot){r(ot),H()},I),L=null}"onloadend"in L?L.onloadend=V:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(V)},L.onabort=function(){L&&(r(new he("Request aborted",he.ECONNABORTED,s,L)),L=null)},L.onerror=function(K){const I=K&&K.message?K.message:"Network Error",st=new he(I,he.ERR_NETWORK,s,L);st.event=K||null,r(st),L=null},L.ontimeout=function(){let K=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const I=u.transitional||Z2;u.timeoutErrorMessage&&(K=u.timeoutErrorMessage),r(new he(K,I.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,s,L)),L=null},d===void 0&&h.setContentType(null),"setRequestHeader"in L&&mt.forEach(h.toJSON(),function(K,I){L.setRequestHeader(I,K)}),mt.isUndefined(u.withCredentials)||(L.withCredentials=!!u.withCredentials),p&&p!=="json"&&(L.responseType=u.responseType),x&&([T,A]=s0(x,!0),L.addEventListener("progress",T)),y&&L.upload&&([E,z]=s0(y),L.upload.addEventListener("progress",E),L.upload.addEventListener("loadend",z)),(u.cancelToken||u.signal)&&(_=Z=>{L&&(r(!Z||Z.type?new Qc(null,s,L):Z),L.abort(),L=null)},u.cancelToken&&u.cancelToken.subscribe(_),u.signal&&(u.signal.aborted?_():u.signal.addEventListener("abort",_)));const j=i4(u.url);if(j&&Da.protocols.indexOf(j)===-1){r(new he("Unsupported protocol "+j+":",he.ERR_BAD_REQUEST,s));return}L.send(d||null)})},h4=(s,t)=>{const{length:i}=s=s?s.filter(Boolean):[];if(t||i){let r=new AbortController,u;const d=function(x){if(!u){u=!0,p();const _=x instanceof Error?x:this.reason;r.abort(_ instanceof he?_:new Qc(_ instanceof Error?_.message:_))}};let h=t&&setTimeout(()=>{h=null,d(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const p=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),s=null)};s.forEach(x=>x.addEventListener("abort",d));const{signal:y}=r;return y.unsubscribe=()=>mt.asap(p),y}},p4=function*(s,t){let i=s.byteLength;if(i<t){yield s;return}let r=0,u;for(;r<i;)u=r+t,yield s.slice(r,u),r=u},m4=async function*(s,t){for await(const i of g4(s))yield*p4(i,t)},g4=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:i,value:r}=await t.read();if(i)break;yield r}}finally{await t.cancel()}},Cg=(s,t,i,r)=>{const u=m4(s,t);let d=0,h,p=y=>{h||(h=!0,r&&r(y))};return new ReadableStream({async pull(y){try{const{done:x,value:_}=await u.next();if(x){p(),y.close();return}let E=_.byteLength;if(i){let T=d+=E;i(T)}y.enqueue(new Uint8Array(_))}catch(x){throw p(x),x}},cancel(y){return p(y),u.return()}},{highWaterMark:2})},Ag=64*1024,{isFunction:Gp}=mt,y4=(({Request:s,Response:t})=>({Request:s,Response:t}))(mt.global),{ReadableStream:Mg,TextEncoder:Og}=mt.global,Rg=(s,...t)=>{try{return!!s(...t)}catch{return!1}},v4=s=>{s=mt.merge.call({skipUndefined:!0},y4,s);const{fetch:t,Request:i,Response:r}=s,u=t?Gp(t):typeof fetch=="function",d=Gp(i),h=Gp(r);if(!u)return!1;const p=u&&Gp(Mg),y=u&&(typeof Og=="function"?(A=>H=>A.encode(H))(new Og):async A=>new Uint8Array(await new i(A).arrayBuffer())),x=d&&p&&Rg(()=>{let A=!1;const H=new i(Da.origin,{body:new Mg,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!H}),_=h&&p&&Rg(()=>mt.isReadableStream(new r("").body)),E={stream:_&&(A=>A.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!E[A]&&(E[A]=(H,L)=>{let V=H&&H[A];if(V)return V.call(H);throw new he(`Response type '${A}' is not supported`,he.ERR_NOT_SUPPORT,L)})});const T=async A=>{if(A==null)return 0;if(mt.isBlob(A))return A.size;if(mt.isSpecCompliantForm(A))return(await new i(Da.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(A)||mt.isArrayBuffer(A))return A.byteLength;if(mt.isURLSearchParams(A)&&(A=A+""),mt.isString(A))return(await y(A)).byteLength},z=async(A,H)=>{const L=mt.toFiniteNumber(A.getContentLength());return L??T(H)};return async A=>{let{url:H,method:L,data:V,signal:j,cancelToken:Z,timeout:K,onDownloadProgress:I,onUploadProgress:st,responseType:ot,headers:M,withCredentials:R="same-origin",fetchOptions:Y}=I2(A),F=t||fetch;ot=ot?(ot+"").toLowerCase():"text";let B=h4([j,Z&&Z.toAbortSignal()],K),k=null;const Q=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let G;try{if(st&&x&&L!=="get"&&L!=="head"&&(G=await z(M,V))!==0){let q=new i(H,{method:"POST",body:V,duplex:"half"}),et;if(mt.isFormData(V)&&(et=q.headers.get("content-type"))&&M.setContentType(et),q.body){const[yt,Et]=_g(G,s0(Eg(st)));V=Cg(q.body,Ag,yt,Et)}}mt.isString(R)||(R=R?"include":"omit");const O=d&&"credentials"in i.prototype,U={...Y,signal:B,method:L.toUpperCase(),headers:M.normalize().toJSON(),body:V,duplex:"half",credentials:O?R:void 0};k=d&&new i(H,U);let X=await(d?F(k,Y):F(H,U));const $=_&&(ot==="stream"||ot==="response");if(_&&(I||$&&Q)){const q={};["status","statusText","headers"].forEach(Mt=>{q[Mt]=X[Mt]});const et=mt.toFiniteNumber(X.headers.get("content-length")),[yt,Et]=I&&_g(et,s0(Eg(I),!0))||[];X=new r(Cg(X.body,Ag,yt,()=>{Et&&Et(),Q&&Q()}),q)}ot=ot||"text";let ft=await E[mt.findKey(E,ot)||"text"](X,A);return!$&&Q&&Q(),await new Promise((q,et)=>{W2(q,et,{data:ft,headers:hi.from(X.headers),status:X.status,statusText:X.statusText,config:A,request:k})})}catch(O){throw Q&&Q(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,A,k),{cause:O.cause||O}):he.from(O,O&&O.code,A,k)}}},x4=new Map,$2=s=>{let t=s&&s.env||{};const{fetch:i,Request:r,Response:u}=t,d=[r,u,i];let h=d.length,p=h,y,x,_=x4;for(;p--;)y=d[p],x=_.get(y),x===void 0&&_.set(y,x=p?new Map:v4(t)),_=x;return x};$2();const m1={http:B3,xhr:d4,fetch:{get:$2}};mt.forEach(m1,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const zg=s=>`- ${s}`,S4=s=>mt.isFunction(s)||s===null||s===!1;function b4(s,t){s=mt.isArray(s)?s:[s];const{length:i}=s;let r,u;const d={};for(let h=0;h<i;h++){r=s[h];let p;if(u=r,!S4(r)&&(u=m1[(p=String(r)).toLowerCase()],u===void 0))throw new he(`Unknown adapter '${p}'`);if(u&&(mt.isFunction(u)||(u=u.get(t))))break;d[p||"#"+h]=u}if(!u){const h=Object.entries(d).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=i?h.length>1?`since :
`+h.map(zg).join(`
`):" "+zg(h[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return u}const ty={getAdapter:b4,adapters:m1};function mm(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Qc(null,s)}function Ng(s){return mm(s),s.headers=hi.from(s.headers),s.data=pm.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ty.getAdapter(s.adapter||Wd.adapter,s)(s).then(function(r){return mm(s),r.data=pm.call(s,s.transformResponse,r),r.headers=hi.from(r.headers),r},function(r){return F2(r)||(mm(s),r&&r.response&&(r.response.data=pm.call(s,s.transformResponse,r.response),r.response.headers=hi.from(r.response.headers))),Promise.reject(r)})}const ey="1.13.2",b0={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{b0[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const Dg={};b0.transitional=function(t,i,r){function u(d,h){return"[Axios v"+ey+"] Transitional option '"+d+"'"+h+(r?". "+r:"")}return(d,h,p)=>{if(t===!1)throw new he(u(h," has been removed"+(i?" in "+i:"")),he.ERR_DEPRECATED);return i&&!Dg[h]&&(Dg[h]=!0,console.warn(u(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(d,h,p):!0}};b0.spelling=function(t){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _4(s,t,i){if(typeof s!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let u=r.length;for(;u-- >0;){const d=r[u],h=t[d];if(h){const p=s[d],y=p===void 0||h(p,d,s);if(y!==!0)throw new he("option "+d+" must be "+y,he.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new he("Unknown option "+d,he.ERR_BAD_OPTION)}}const e0={assertOptions:_4,validators:b0},us=e0.validators;let uu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sg,response:new Sg}}async request(t,i){try{return await this._request(t,i)}catch(r){if(r instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const d=u.stack?u.stack.replace(/^.+\n/,""):"";try{r.stack?d&&!String(r.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+d):r.stack=d}catch{}}throw r}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=cu(this.defaults,i);const{transitional:r,paramsSerializer:u,headers:d}=i;r!==void 0&&e0.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),u!=null&&(mt.isFunction(u)?i.paramsSerializer={serialize:u}:e0.assertOptions(u,{encode:us.function,serialize:us.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),e0.assertOptions(i,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=d&&mt.merge(d.common,d[i.method]);d&&mt.forEach(["delete","get","head","post","put","patch","common"],A=>{delete d[A]}),i.headers=hi.concat(h,d);const p=[];let y=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(i)===!1||(y=y&&H.synchronous,p.unshift(H.fulfilled,H.rejected))});const x=[];this.interceptors.response.forEach(function(H){x.push(H.fulfilled,H.rejected)});let _,E=0,T;if(!y){const A=[Ng.bind(this),void 0];for(A.unshift(...p),A.push(...x),T=A.length,_=Promise.resolve(i);E<T;)_=_.then(A[E++],A[E++]);return _}T=p.length;let z=i;for(;E<T;){const A=p[E++],H=p[E++];try{z=A(z)}catch(L){H.call(this,L);break}}try{_=Ng.call(this,z)}catch(A){return Promise.reject(A)}for(E=0,T=x.length;E<T;)_=_.then(x[E++],x[E++]);return _}getUri(t){t=cu(this.defaults,t);const i=P2(t.baseURL,t.url,t.allowAbsoluteUrls);return K2(i,t.params,t.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(t){uu.prototype[t]=function(i,r){return this.request(cu(r||{},{method:t,url:i,data:(r||{}).data}))}});mt.forEach(["post","put","patch"],function(t){function i(r){return function(d,h,p){return this.request(cu(p||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}uu.prototype[t]=i(),uu.prototype[t+"Form"]=i(!0)});let E4=class ny{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const r=this;this.promise.then(u=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](u);r._listeners=null}),this.promise.then=u=>{let d;const h=new Promise(p=>{r.subscribe(p),d=p}).then(u);return h.cancel=function(){r.unsubscribe(d)},h},t(function(d,h,p){r.reason||(r.reason=new Qc(d,h,p),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=r=>{t.abort(r)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new ny(function(u){t=u}),cancel:t}}};function T4(s){return function(i){return s.apply(null,i)}}function C4(s){return mt.isObject(s)&&s.isAxiosError===!0}const Xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xm).forEach(([s,t])=>{Xm[t]=s});function ay(s){const t=new uu(s),i=j2(uu.prototype.request,t);return mt.extend(i,uu.prototype,t,{allOwnKeys:!0}),mt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(u){return ay(cu(s,u))},i}const Ge=ay(Wd);Ge.Axios=uu;Ge.CanceledError=Qc;Ge.CancelToken=E4;Ge.isCancel=F2;Ge.VERSION=ey;Ge.toFormData=S0;Ge.AxiosError=he;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=T4;Ge.isAxiosError=C4;Ge.mergeConfig=cu;Ge.AxiosHeaders=hi;Ge.formToJSON=s=>J2(mt.isHTMLForm(s)?new FormData(s):s);Ge.getAdapter=ty.getAdapter;Ge.HttpStatusCode=Xm;Ge.default=Ge;const{Axios:bb,AxiosError:_b,CanceledError:Eb,isCancel:Tb,CancelToken:Cb,VERSION:Ab,all:Mb,Cancel:Ob,isAxiosError:Rb,spread:zb,toFormData:Nb,AxiosHeaders:Db,HttpStatusCode:wb,formToJSON:jb,getAdapter:Ub,mergeConfig:Bb}=Ge;function iy(s,t,i={}){const r={type:"Feature"};return(i.id===0||i.id)&&(r.id=i.id),i.bbox&&(r.bbox=i.bbox),r.properties=t||{},r.geometry=s,r}function ly(s,t,i={}){for(const u of s){if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(u[u.length-1].length!==u[0].length)throw new Error("First and last Position are not equivalent.");for(let d=0;d<u[u.length-1].length;d++)if(u[u.length-1][d]!==u[0][d])throw new Error("First and last Position are not equivalent.")}return iy({type:"Polygon",coordinates:s},t,i)}function A4(s,t={}){const i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=s,i}function M4(s,t,i={}){return iy({type:"MultiPolygon",coordinates:s},t,i)}function O4(s,t){var i,r,u,d,h,p,y,x,_,E,T=0,z=s.type==="FeatureCollection",A=s.type==="Feature",H=z?s.features.length:1;for(i=0;i<H;i++){for(p=z?s.features[i].geometry:A?s.geometry:s,x=z?s.features[i].properties:A?s.properties:{},_=z?s.features[i].bbox:A?s.bbox:void 0,E=z?s.features[i].id:A?s.id:void 0,y=p?p.type==="GeometryCollection":!1,h=y?p.geometries.length:1,u=0;u<h;u++){if(d=y?p.geometries[u]:p,d===null){if(t(null,T,x,_,E)===!1)return!1;continue}switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(d,T,x,_,E)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<d.geometries.length;r++)if(t(d.geometries[r],T,x,_,E)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}T++}}var R4=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,gm=Math.ceil,Wi=Math.floor,fi="[BigNumber Error] ",wg=fi+"Number primitive has more than 15 significant digits: ",_l=1e14,re=14,ym=9007199254740991,vm=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ir=1e7,ca=1e9;function sy(s){var t,i,r,u=j.prototype={constructor:j,toString:null,valueOf:null},d=new j(1),h=20,p=4,y=-7,x=21,_=-1e7,E=1e7,T=!1,z=1,A=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function j(M,R){var Y,F,B,k,Q,G,O,U,X=this;if(!(X instanceof j))return new j(M,R);if(R==null){if(M&&M._isBigNumber===!0){X.s=M.s,!M.c||M.e>E?X.c=X.e=null:M.e<_?X.c=[X.e=0]:(X.e=M.e,X.c=M.c.slice());return}if((G=typeof M=="number")&&M*0==0){if(X.s=1/M<0?(M=-M,-1):1,M===~~M){for(k=0,Q=M;Q>=10;Q/=10,k++);k>E?X.c=X.e=null:(X.e=k,X.c=[M]);return}U=String(M)}else{if(!R4.test(U=String(M)))return r(X,U,G);X.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(k=U.indexOf("."))>-1&&(U=U.replace(".","")),(Q=U.search(/e/i))>0?(k<0&&(k=Q),k+=+U.slice(Q+1),U=U.substring(0,Q)):k<0&&(k=U.length)}else{if(On(R,2,L.length,"Base"),R==10&&V)return X=new j(M),st(X,h+X.e+1,p);if(U=String(M),G=typeof M=="number"){if(M*0!=0)return r(X,U,G,R);if(X.s=1/M<0?(U=U.slice(1),-1):1,j.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(wg+M)}else X.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for(Y=L.slice(0,R),k=Q=0,O=U.length;Q<O;Q++)if(Y.indexOf(F=U.charAt(Q))<0){if(F=="."){if(Q>k){k=O;continue}}else if(!B&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){B=!0,Q=-1,k=0;continue}return r(X,String(M),G,R)}G=!1,U=i(U,R,10,X.s),(k=U.indexOf("."))>-1?U=U.replace(".",""):k=U.length}for(Q=0;U.charCodeAt(Q)===48;Q++);for(O=U.length;U.charCodeAt(--O)===48;);if(U=U.slice(Q,++O)){if(O-=Q,G&&j.DEBUG&&O>15&&(M>ym||M!==Wi(M)))throw Error(wg+X.s*M);if((k=k-Q-1)>E)X.c=X.e=null;else if(k<_)X.c=[X.e=0];else{if(X.e=k,X.c=[],Q=(k+1)%re,k<0&&(Q+=re),Q<O){for(Q&&X.c.push(+U.slice(0,Q)),O-=re;Q<O;)X.c.push(+U.slice(Q,Q+=re));Q=re-(U=U.slice(Q)).length}else Q-=O;for(;Q--;U+="0");X.c.push(+U)}}else X.c=[X.e=0]}j.clone=sy,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(M){var R,Y;if(M!=null)if(typeof M=="object"){if(M.hasOwnProperty(R="DECIMAL_PLACES")&&(Y=M[R],On(Y,0,ca,R),h=Y),M.hasOwnProperty(R="ROUNDING_MODE")&&(Y=M[R],On(Y,0,8,R),p=Y),M.hasOwnProperty(R="EXPONENTIAL_AT")&&(Y=M[R],Y&&Y.pop?(On(Y[0],-ca,0,R),On(Y[1],0,ca,R),y=Y[0],x=Y[1]):(On(Y,-ca,ca,R),y=-(x=Y<0?-Y:Y))),M.hasOwnProperty(R="RANGE"))if(Y=M[R],Y&&Y.pop)On(Y[0],-ca,-1,R),On(Y[1],1,ca,R),_=Y[0],E=Y[1];else if(On(Y,-ca,ca,R),Y)_=-(E=Y<0?-Y:Y);else throw Error(fi+R+" cannot be zero: "+Y);if(M.hasOwnProperty(R="CRYPTO"))if(Y=M[R],Y===!!Y)if(Y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))T=Y;else throw T=!Y,Error(fi+"crypto unavailable");else T=Y;else throw Error(fi+R+" not true or false: "+Y);if(M.hasOwnProperty(R="MODULO_MODE")&&(Y=M[R],On(Y,0,9,R),z=Y),M.hasOwnProperty(R="POW_PRECISION")&&(Y=M[R],On(Y,0,ca,R),A=Y),M.hasOwnProperty(R="FORMAT"))if(Y=M[R],typeof Y=="object")H=Y;else throw Error(fi+R+" not an object: "+Y);if(M.hasOwnProperty(R="ALPHABET"))if(Y=M[R],typeof Y=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Y))V=Y.slice(0,10)=="0123456789",L=Y;else throw Error(fi+R+" invalid: "+Y)}else throw Error(fi+"Object expected: "+M);return{DECIMAL_PLACES:h,ROUNDING_MODE:p,EXPONENTIAL_AT:[y,x],RANGE:[_,E],CRYPTO:T,MODULO_MODE:z,POW_PRECISION:A,FORMAT:H,ALPHABET:L}},j.isBigNumber=function(M){if(!M||M._isBigNumber!==!0)return!1;if(!j.DEBUG)return!0;var R,Y,F=M.c,B=M.e,k=M.s;t:if({}.toString.call(F)=="[object Array]"){if((k===1||k===-1)&&B>=-ca&&B<=ca&&B===Wi(B)){if(F[0]===0){if(B===0&&F.length===1)return!0;break t}if(R=(B+1)%re,R<1&&(R+=re),String(F[0]).length==R){for(R=0;R<F.length;R++)if(Y=F[R],Y<0||Y>=_l||Y!==Wi(Y))break t;if(Y!==0)return!0}}}else if(F===null&&B===null&&(k===null||k===1||k===-1))return!0;throw Error(fi+"Invalid BigNumber: "+M)},j.maximum=j.max=function(){return K(arguments,-1)},j.minimum=j.min=function(){return K(arguments,1)},j.random=(function(){var M=9007199254740992,R=Math.random()*M&2097151?function(){return Wi(Math.random()*M)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Y){var F,B,k,Q,G,O=0,U=[],X=new j(d);if(Y==null?Y=h:On(Y,0,ca),Q=gm(Y/re),T)if(crypto.getRandomValues){for(F=crypto.getRandomValues(new Uint32Array(Q*=2));O<Q;)G=F[O]*131072+(F[O+1]>>>11),G>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),F[O]=B[0],F[O+1]=B[1]):(U.push(G%1e14),O+=2);O=Q/2}else if(crypto.randomBytes){for(F=crypto.randomBytes(Q*=7);O<Q;)G=(F[O]&31)*281474976710656+F[O+1]*1099511627776+F[O+2]*4294967296+F[O+3]*16777216+(F[O+4]<<16)+(F[O+5]<<8)+F[O+6],G>=9e15?crypto.randomBytes(7).copy(F,O):(U.push(G%1e14),O+=7);O=Q/7}else throw T=!1,Error(fi+"crypto unavailable");if(!T)for(;O<Q;)G=R(),G<9e15&&(U[O++]=G%1e14);for(Q=U[--O],Y%=re,Q&&Y&&(G=vm[re-Y],U[O]=Wi(Q/G)*G);U[O]===0;U.pop(),O--);if(O<0)U=[k=0];else{for(k=-1;U[0]===0;U.splice(0,1),k-=re);for(O=1,G=U[0];G>=10;G/=10,O++);O<re&&(k-=re-O)}return X.e=k,X.c=U,X}})(),j.sum=function(){for(var M=1,R=arguments,Y=new j(R[0]);M<R.length;)Y=Y.plus(R[M++]);return Y},i=(function(){var M="0123456789";function R(Y,F,B,k){for(var Q,G=[0],O,U=0,X=Y.length;U<X;){for(O=G.length;O--;G[O]*=F);for(G[0]+=k.indexOf(Y.charAt(U++)),Q=0;Q<G.length;Q++)G[Q]>B-1&&(G[Q+1]==null&&(G[Q+1]=0),G[Q+1]+=G[Q]/B|0,G[Q]%=B)}return G.reverse()}return function(Y,F,B,k,Q){var G,O,U,X,$,ft,q,et,yt=Y.indexOf("."),Et=h,Mt=p;for(yt>=0&&(X=A,A=0,Y=Y.replace(".",""),et=new j(F),ft=et.pow(Y.length-yt),A=X,et.c=R(Ps(Fi(ft.c),ft.e,"0"),10,B,M),et.e=et.c.length),q=R(Y,F,B,Q?(G=L,M):(G=M,L)),U=X=q.length;q[--X]==0;q.pop());if(!q[0])return G.charAt(0);if(yt<0?--U:(ft.c=q,ft.e=U,ft.s=k,ft=t(ft,et,Et,Mt,B),q=ft.c,$=ft.r,U=ft.e),O=U+Et+1,yt=q[O],X=B/2,$=$||O<0||q[O+1]!=null,$=Mt<4?(yt!=null||$)&&(Mt==0||Mt==(ft.s<0?3:2)):yt>X||yt==X&&(Mt==4||$||Mt==6&&q[O-1]&1||Mt==(ft.s<0?8:7)),O<1||!q[0])Y=$?Ps(G.charAt(1),-Et,G.charAt(0)):G.charAt(0);else{if(q.length=O,$)for(--B;++q[--O]>B;)q[O]=0,O||(++U,q=[1].concat(q));for(X=q.length;!q[--X];);for(yt=0,Y="";yt<=X;Y+=G.charAt(q[yt++]));Y=Ps(Y,U,G.charAt(0))}return Y}})(),t=(function(){function M(F,B,k){var Q,G,O,U,X=0,$=F.length,ft=B%ir,q=B/ir|0;for(F=F.slice();$--;)O=F[$]%ir,U=F[$]/ir|0,Q=q*O+U*ft,G=ft*O+Q%ir*ir+X,X=(G/k|0)+(Q/ir|0)+q*U,F[$]=G%k;return X&&(F=[X].concat(F)),F}function R(F,B,k,Q){var G,O;if(k!=Q)O=k>Q?1:-1;else for(G=O=0;G<k;G++)if(F[G]!=B[G]){O=F[G]>B[G]?1:-1;break}return O}function Y(F,B,k,Q){for(var G=0;k--;)F[k]-=G,G=F[k]<B[k]?1:0,F[k]=G*Q+F[k]-B[k];for(;!F[0]&&F.length>1;F.splice(0,1));}return function(F,B,k,Q,G){var O,U,X,$,ft,q,et,yt,Et,Mt,Nt,Qt,Ne,ne,bn,Yt,Me,we=F.s==B.s?1:-1,ve=F.c,ue=B.c;if(!ve||!ve[0]||!ue||!ue[0])return new j(!F.s||!B.s||(ve?ue&&ve[0]==ue[0]:!ue)?NaN:ve&&ve[0]==0||!ue?we*0:we/0);for(yt=new j(we),Et=yt.c=[],U=F.e-B.e,we=k+U+1,G||(G=_l,U=Pi(F.e/re)-Pi(B.e/re),we=we/re|0),X=0;ue[X]==(ve[X]||0);X++);if(ue[X]>(ve[X]||0)&&U--,we<0)Et.push(1),$=!0;else{for(ne=ve.length,Yt=ue.length,X=0,we+=2,ft=Wi(G/(ue[0]+1)),ft>1&&(ue=M(ue,ft,G),ve=M(ve,ft,G),Yt=ue.length,ne=ve.length),Ne=Yt,Mt=ve.slice(0,Yt),Nt=Mt.length;Nt<Yt;Mt[Nt++]=0);Me=ue.slice(),Me=[0].concat(Me),bn=ue[0],ue[1]>=G/2&&bn++;do{if(ft=0,O=R(ue,Mt,Yt,Nt),O<0){if(Qt=Mt[0],Yt!=Nt&&(Qt=Qt*G+(Mt[1]||0)),ft=Wi(Qt/bn),ft>1)for(ft>=G&&(ft=G-1),q=M(ue,ft,G),et=q.length,Nt=Mt.length;R(q,Mt,et,Nt)==1;)ft--,Y(q,Yt<et?Me:ue,et,G),et=q.length,O=1;else ft==0&&(O=ft=1),q=ue.slice(),et=q.length;if(et<Nt&&(q=[0].concat(q)),Y(Mt,q,Nt,G),Nt=Mt.length,O==-1)for(;R(ue,Mt,Yt,Nt)<1;)ft++,Y(Mt,Yt<Nt?Me:ue,Nt,G),Nt=Mt.length}else O===0&&(ft++,Mt=[0]);Et[X++]=ft,Mt[0]?Mt[Nt++]=ve[Ne]||0:(Mt=[ve[Ne]],Nt=1)}while((Ne++<ne||Mt[0]!=null)&&we--);$=Mt[0]!=null,Et[0]||Et.splice(0,1)}if(G==_l){for(X=1,we=Et[0];we>=10;we/=10,X++);st(yt,k+(yt.e=X+U*re-1)+1,Q,$)}else yt.e=U,yt.r=+$;return yt}})();function Z(M,R,Y,F){var B,k,Q,G,O;if(Y==null?Y=p:On(Y,0,8),!M.c)return M.toString();if(B=M.c[0],Q=M.e,R==null)O=Fi(M.c),O=F==1||F==2&&(Q<=y||Q>=x)?Lp(O,Q):Ps(O,Q,"0");else if(M=st(new j(M),R,Y),k=M.e,O=Fi(M.c),G=O.length,F==1||F==2&&(R<=k||k<=y)){for(;G<R;O+="0",G++);O=Lp(O,k)}else if(R-=Q+(F===2&&k>Q),O=Ps(O,k,"0"),k+1>G){if(--R>0)for(O+=".";R--;O+="0");}else if(R+=k-G,R>0)for(k+1==G&&(O+=".");R--;O+="0");return M.s<0&&B?"-"+O:O}function K(M,R){for(var Y,F,B=1,k=new j(M[0]);B<M.length;B++)F=new j(M[B]),(!F.s||(Y=iu(k,F))===R||Y===0&&k.s===R)&&(k=F);return k}function I(M,R,Y){for(var F=1,B=R.length;!R[--B];R.pop());for(B=R[0];B>=10;B/=10,F++);return(Y=F+Y*re-1)>E?M.c=M.e=null:Y<_?M.c=[M.e=0]:(M.e=Y,M.c=R),M}r=(function(){var M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,Y=/^\.([^.]+)$/,F=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(k,Q,G,O){var U,X=G?Q:Q.replace(B,"");if(F.test(X))k.s=isNaN(X)?null:X<0?-1:1;else{if(!G&&(X=X.replace(M,function($,ft,q){return U=(q=q.toLowerCase())=="x"?16:q=="b"?2:8,!O||O==U?ft:$}),O&&(U=O,X=X.replace(R,"$1").replace(Y,"0.$1")),Q!=X))return new j(X,U);if(j.DEBUG)throw Error(fi+"Not a"+(O?" base "+O:"")+" number: "+Q);k.s=null}k.c=k.e=null}})();function st(M,R,Y,F){var B,k,Q,G,O,U,X,$=M.c,ft=vm;if($){t:{for(B=1,G=$[0];G>=10;G/=10,B++);if(k=R-B,k<0)k+=re,Q=R,O=$[U=0],X=Wi(O/ft[B-Q-1]%10);else if(U=gm((k+1)/re),U>=$.length)if(F){for(;$.length<=U;$.push(0));O=X=0,B=1,k%=re,Q=k-re+1}else break t;else{for(O=G=$[U],B=1;G>=10;G/=10,B++);k%=re,Q=k-re+B,X=Q<0?0:Wi(O/ft[B-Q-1]%10)}if(F=F||R<0||$[U+1]!=null||(Q<0?O:O%ft[B-Q-1]),F=Y<4?(X||F)&&(Y==0||Y==(M.s<0?3:2)):X>5||X==5&&(Y==4||F||Y==6&&(k>0?Q>0?O/ft[B-Q]:0:$[U-1])%10&1||Y==(M.s<0?8:7)),R<1||!$[0])return $.length=0,F?(R-=M.e+1,$[0]=ft[(re-R%re)%re],M.e=-R||0):$[0]=M.e=0,M;if(k==0?($.length=U,G=1,U--):($.length=U+1,G=ft[re-k],$[U]=Q>0?Wi(O/ft[B-Q]%ft[Q])*G:0),F)for(;;)if(U==0){for(k=1,Q=$[0];Q>=10;Q/=10,k++);for(Q=$[0]+=G,G=1;Q>=10;Q/=10,G++);k!=G&&(M.e++,$[0]==_l&&($[0]=1));break}else{if($[U]+=G,$[U]!=_l)break;$[U--]=0,G=1}for(k=$.length;$[--k]===0;$.pop());}M.e>E?M.c=M.e=null:M.e<_&&(M.c=[M.e=0])}return M}function ot(M){var R,Y=M.e;return Y===null?M.toString():(R=Fi(M.c),R=Y<=y||Y>=x?Lp(R,Y):Ps(R,Y,"0"),M.s<0?"-"+R:R)}return u.absoluteValue=u.abs=function(){var M=new j(this);return M.s<0&&(M.s=1),M},u.comparedTo=function(M,R){return iu(this,new j(M,R))},u.decimalPlaces=u.dp=function(M,R){var Y,F,B,k=this;if(M!=null)return On(M,0,ca),R==null?R=p:On(R,0,8),st(new j(k),M+k.e+1,R);if(!(Y=k.c))return null;if(F=((B=Y.length-1)-Pi(this.e/re))*re,B=Y[B])for(;B%10==0;B/=10,F--);return F<0&&(F=0),F},u.dividedBy=u.div=function(M,R){return t(this,new j(M,R),h,p)},u.dividedToIntegerBy=u.idiv=function(M,R){return t(this,new j(M,R),0,1)},u.exponentiatedBy=u.pow=function(M,R){var Y,F,B,k,Q,G,O,U,X,$=this;if(M=new j(M),M.c&&!M.isInteger())throw Error(fi+"Exponent not an integer: "+ot(M));if(R!=null&&(R=new j(R)),G=M.e>14,!$.c||!$.c[0]||$.c[0]==1&&!$.e&&$.c.length==1||!M.c||!M.c[0])return X=new j(Math.pow(+ot($),G?M.s*(2-Hp(M)):+ot(M))),R?X.mod(R):X;if(O=M.s<0,R){if(R.c?!R.c[0]:!R.s)return new j(NaN);F=!O&&$.isInteger()&&R.isInteger(),F&&($=$.mod(R))}else{if(M.e>9&&($.e>0||$.e<-1||($.e==0?$.c[0]>1||G&&$.c[1]>=24e7:$.c[0]<8e13||G&&$.c[0]<=9999975e7)))return k=$.s<0&&Hp(M)?-0:0,$.e>-1&&(k=1/k),new j(O?1/k:k);A&&(k=gm(A/re+2))}for(G?(Y=new j(.5),O&&(M.s=1),U=Hp(M)):(B=Math.abs(+ot(M)),U=B%2),X=new j(d);;){if(U){if(X=X.times($),!X.c)break;k?X.c.length>k&&(X.c.length=k):F&&(X=X.mod(R))}if(B){if(B=Wi(B/2),B===0)break;U=B%2}else if(M=M.times(Y),st(M,M.e+1,1),M.e>14)U=Hp(M);else{if(B=+ot(M),B===0)break;U=B%2}$=$.times($),k?$.c&&$.c.length>k&&($.c.length=k):F&&($=$.mod(R))}return F?X:(O&&(X=d.div(X)),R?X.mod(R):k?st(X,A,p,Q):X)},u.integerValue=function(M){var R=new j(this);return M==null?M=p:On(M,0,8),st(R,R.e+1,M)},u.isEqualTo=u.eq=function(M,R){return iu(this,new j(M,R))===0},u.isFinite=function(){return!!this.c},u.isGreaterThan=u.gt=function(M,R){return iu(this,new j(M,R))>0},u.isGreaterThanOrEqualTo=u.gte=function(M,R){return(R=iu(this,new j(M,R)))===1||R===0},u.isInteger=function(){return!!this.c&&Pi(this.e/re)>this.c.length-2},u.isLessThan=u.lt=function(M,R){return iu(this,new j(M,R))<0},u.isLessThanOrEqualTo=u.lte=function(M,R){return(R=iu(this,new j(M,R)))===-1||R===0},u.isNaN=function(){return!this.s},u.isNegative=function(){return this.s<0},u.isPositive=function(){return this.s>0},u.isZero=function(){return!!this.c&&this.c[0]==0},u.minus=function(M,R){var Y,F,B,k,Q=this,G=Q.s;if(M=new j(M,R),R=M.s,!G||!R)return new j(NaN);if(G!=R)return M.s=-R,Q.plus(M);var O=Q.e/re,U=M.e/re,X=Q.c,$=M.c;if(!O||!U){if(!X||!$)return X?(M.s=-R,M):new j($?Q:NaN);if(!X[0]||!$[0])return $[0]?(M.s=-R,M):new j(X[0]?Q:p==3?-0:0)}if(O=Pi(O),U=Pi(U),X=X.slice(),G=O-U){for((k=G<0)?(G=-G,B=X):(U=O,B=$),B.reverse(),R=G;R--;B.push(0));B.reverse()}else for(F=(k=(G=X.length)<(R=$.length))?G:R,G=R=0;R<F;R++)if(X[R]!=$[R]){k=X[R]<$[R];break}if(k&&(B=X,X=$,$=B,M.s=-M.s),R=(F=$.length)-(Y=X.length),R>0)for(;R--;X[Y++]=0);for(R=_l-1;F>G;){if(X[--F]<$[F]){for(Y=F;Y&&!X[--Y];X[Y]=R);--X[Y],X[F]+=_l}X[F]-=$[F]}for(;X[0]==0;X.splice(0,1),--U);return X[0]?I(M,X,U):(M.s=p==3?-1:1,M.c=[M.e=0],M)},u.modulo=u.mod=function(M,R){var Y,F,B=this;return M=new j(M,R),!B.c||!M.s||M.c&&!M.c[0]?new j(NaN):!M.c||B.c&&!B.c[0]?new j(B):(z==9?(F=M.s,M.s=1,Y=t(B,M,0,3),M.s=F,Y.s*=F):Y=t(B,M,0,z),M=B.minus(Y.times(M)),!M.c[0]&&z==1&&(M.s=B.s),M)},u.multipliedBy=u.times=function(M,R){var Y,F,B,k,Q,G,O,U,X,$,ft,q,et,yt,Et,Mt=this,Nt=Mt.c,Qt=(M=new j(M,R)).c;if(!Nt||!Qt||!Nt[0]||!Qt[0])return!Mt.s||!M.s||Nt&&!Nt[0]&&!Qt||Qt&&!Qt[0]&&!Nt?M.c=M.e=M.s=null:(M.s*=Mt.s,!Nt||!Qt?M.c=M.e=null:(M.c=[0],M.e=0)),M;for(F=Pi(Mt.e/re)+Pi(M.e/re),M.s*=Mt.s,O=Nt.length,$=Qt.length,O<$&&(et=Nt,Nt=Qt,Qt=et,B=O,O=$,$=B),B=O+$,et=[];B--;et.push(0));for(yt=_l,Et=ir,B=$;--B>=0;){for(Y=0,ft=Qt[B]%Et,q=Qt[B]/Et|0,Q=O,k=B+Q;k>B;)U=Nt[--Q]%Et,X=Nt[Q]/Et|0,G=q*U+X*ft,U=ft*U+G%Et*Et+et[k]+Y,Y=(U/yt|0)+(G/Et|0)+q*X,et[k--]=U%yt;et[k]=Y}return Y?++F:et.splice(0,1),I(M,et,F)},u.negated=function(){var M=new j(this);return M.s=-M.s||null,M},u.plus=function(M,R){var Y,F=this,B=F.s;if(M=new j(M,R),R=M.s,!B||!R)return new j(NaN);if(B!=R)return M.s=-R,F.minus(M);var k=F.e/re,Q=M.e/re,G=F.c,O=M.c;if(!k||!Q){if(!G||!O)return new j(B/0);if(!G[0]||!O[0])return O[0]?M:new j(G[0]?F:B*0)}if(k=Pi(k),Q=Pi(Q),G=G.slice(),B=k-Q){for(B>0?(Q=k,Y=O):(B=-B,Y=G),Y.reverse();B--;Y.push(0));Y.reverse()}for(B=G.length,R=O.length,B-R<0&&(Y=O,O=G,G=Y,R=B),B=0;R;)B=(G[--R]=G[R]+O[R]+B)/_l|0,G[R]=_l===G[R]?0:G[R]%_l;return B&&(G=[B].concat(G),++Q),I(M,G,Q)},u.precision=u.sd=function(M,R){var Y,F,B,k=this;if(M!=null&&M!==!!M)return On(M,1,ca),R==null?R=p:On(R,0,8),st(new j(k),M,R);if(!(Y=k.c))return null;if(B=Y.length-1,F=B*re+1,B=Y[B]){for(;B%10==0;B/=10,F--);for(B=Y[0];B>=10;B/=10,F++);}return M&&k.e+1>F&&(F=k.e+1),F},u.shiftedBy=function(M){return On(M,-ym,ym),this.times("1e"+M)},u.squareRoot=u.sqrt=function(){var M,R,Y,F,B,k=this,Q=k.c,G=k.s,O=k.e,U=h+4,X=new j("0.5");if(G!==1||!Q||!Q[0])return new j(!G||G<0&&(!Q||Q[0])?NaN:Q?k:1/0);if(G=Math.sqrt(+ot(k)),G==0||G==1/0?(R=Fi(Q),(R.length+O)%2==0&&(R+="0"),G=Math.sqrt(+R),O=Pi((O+1)/2)-(O<0||O%2),G==1/0?R="5e"+O:(R=G.toExponential(),R=R.slice(0,R.indexOf("e")+1)+O),Y=new j(R)):Y=new j(G+""),Y.c[0]){for(O=Y.e,G=O+U,G<3&&(G=0);;)if(B=Y,Y=X.times(B.plus(t(k,B,U,1))),Fi(B.c).slice(0,G)===(R=Fi(Y.c)).slice(0,G))if(Y.e<O&&--G,R=R.slice(G-3,G+1),R=="9999"||!F&&R=="4999"){if(!F&&(st(B,B.e+h+2,0),B.times(B).eq(k))){Y=B;break}U+=4,G+=4,F=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(st(Y,Y.e+h+2,1),M=!Y.times(Y).eq(k));break}}return st(Y,Y.e+h+1,p,M)},u.toExponential=function(M,R){return M!=null&&(On(M,0,ca),M++),Z(this,M,R,1)},u.toFixed=function(M,R){return M!=null&&(On(M,0,ca),M=M+this.e+1),Z(this,M,R)},u.toFormat=function(M,R,Y){var F,B=this;if(Y==null)M!=null&&R&&typeof R=="object"?(Y=R,R=null):M&&typeof M=="object"?(Y=M,M=R=null):Y=H;else if(typeof Y!="object")throw Error(fi+"Argument not an object: "+Y);if(F=B.toFixed(M,R),B.c){var k,Q=F.split("."),G=+Y.groupSize,O=+Y.secondaryGroupSize,U=Y.groupSeparator||"",X=Q[0],$=Q[1],ft=B.s<0,q=ft?X.slice(1):X,et=q.length;if(O&&(k=G,G=O,O=k,et-=k),G>0&&et>0){for(k=et%G||G,X=q.substr(0,k);k<et;k+=G)X+=U+q.substr(k,G);O>0&&(X+=U+q.slice(k)),ft&&(X="-"+X)}F=$?X+(Y.decimalSeparator||"")+((O=+Y.fractionGroupSize)?$.replace(new RegExp("\\d{"+O+"}\\B","g"),"$&"+(Y.fractionGroupSeparator||"")):$):X}return(Y.prefix||"")+F+(Y.suffix||"")},u.toFraction=function(M){var R,Y,F,B,k,Q,G,O,U,X,$,ft,q=this,et=q.c;if(M!=null&&(G=new j(M),!G.isInteger()&&(G.c||G.s!==1)||G.lt(d)))throw Error(fi+"Argument "+(G.isInteger()?"out of range: ":"not an integer: ")+ot(G));if(!et)return new j(q);for(R=new j(d),U=Y=new j(d),F=O=new j(d),ft=Fi(et),k=R.e=ft.length-q.e-1,R.c[0]=vm[(Q=k%re)<0?re+Q:Q],M=!M||G.comparedTo(R)>0?k>0?R:U:G,Q=E,E=1/0,G=new j(ft),O.c[0]=0;X=t(G,R,0,1),B=Y.plus(X.times(F)),B.comparedTo(M)!=1;)Y=F,F=B,U=O.plus(X.times(B=U)),O=B,R=G.minus(X.times(B=R)),G=B;return B=t(M.minus(Y),F,0,1),O=O.plus(B.times(U)),Y=Y.plus(B.times(F)),O.s=U.s=q.s,k=k*2,$=t(U,F,k,p).minus(q).abs().comparedTo(t(O,Y,k,p).minus(q).abs())<1?[U,F]:[O,Y],E=Q,$},u.toNumber=function(){return+ot(this)},u.toPrecision=function(M,R){return M!=null&&On(M,1,ca),Z(this,M,R,2)},u.toString=function(M){var R,Y=this,F=Y.s,B=Y.e;return B===null?F?(R="Infinity",F<0&&(R="-"+R)):R="NaN":(M==null?R=B<=y||B>=x?Lp(Fi(Y.c),B):Ps(Fi(Y.c),B,"0"):M===10&&V?(Y=st(new j(Y),h+B+1,p),R=Ps(Fi(Y.c),Y.e,"0")):(On(M,2,L.length,"Base"),R=i(Ps(Fi(Y.c),B,"0"),10,M,F,!0)),F<0&&Y.c[0]&&(R="-"+R)),R},u.valueOf=u.toJSON=function(){return ot(this)},u._isBigNumber=!0,u[Symbol.toStringTag]="BigNumber",u[Symbol.for("nodejs.util.inspect.custom")]=u.valueOf,s!=null&&j.set(s),j}function Pi(s){var t=s|0;return s>0||s===t?t:t-1}function Fi(s){for(var t,i,r=1,u=s.length,d=s[0]+"";r<u;){for(t=s[r++]+"",i=re-t.length;i--;t="0"+t);d+=t}for(u=d.length;d.charCodeAt(--u)===48;);return d.slice(0,u+1||1)}function iu(s,t){var i,r,u=s.c,d=t.c,h=s.s,p=t.s,y=s.e,x=t.e;if(!h||!p)return null;if(i=u&&!u[0],r=d&&!d[0],i||r)return i?r?0:-p:h;if(h!=p)return h;if(i=h<0,r=y==x,!u||!d)return r?0:!u^i?1:-1;if(!r)return y>x^i?1:-1;for(p=(y=u.length)<(x=d.length)?y:x,h=0;h<p;h++)if(u[h]!=d[h])return u[h]>d[h]^i?1:-1;return y==x?0:y>x^i?1:-1}function On(s,t,i,r){if(s<t||s>i||s!==Wi(s))throw Error(fi+(r||"Argument")+(typeof s=="number"?s<t||s>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(s))}function Hp(s){var t=s.c.length-1;return Pi(s.e/re)==t&&s.c[t]%2!=0}function Lp(s,t){return(s.length>1?s.charAt(0)+"."+s.slice(1):s)+(t<0?"e":"e+")+t}function Ps(s,t,i){var r,u;if(t<0){for(u=i+".";++t;u+=i);s=u+s}else if(r=s.length,++t>r){for(u=i,t-=r;--t;u+=i);s+=u}else t<r&&(s=s.slice(0,t)+"."+s.slice(t));return s}var hs=sy(),z4=class{key;left=null;right=null;constructor(s){this.key=s}},Ad=class extends z4{constructor(s){super(s)}},N4=class{size=0;modificationCount=0;splayCount=0;splay(s){const t=this.root;if(t==null)return this.compare(s,s),-1;let i=null,r=null,u=null,d=null,h=t;const p=this.compare;let y;for(;;)if(y=p(h.key,s),y>0){let x=h.left;if(x==null||(y=p(x.key,s),y>0&&(h.left=x.right,x.right=h,h=x,x=h.left,x==null)))break;i==null?r=h:i.left=h,i=h,h=x}else if(y<0){let x=h.right;if(x==null||(y=p(x.key,s),y<0&&(h.right=x.left,x.left=h,h=x,x=h.right,x==null)))break;u==null?d=h:u.right=h,u=h,h=x}else break;return u!=null&&(u.right=h.left,h.left=d),i!=null&&(i.left=h.right,h.right=r),this.root!==h&&(this.root=h,this.splayCount++),y}splayMin(s){let t=s,i=t.left;for(;i!=null;){const r=i;t.left=r.right,r.right=t,t=r,i=t.left}return t}splayMax(s){let t=s,i=t.right;for(;i!=null;){const r=i;t.right=r.left,r.left=t,t=r,i=t.right}return t}_delete(s){if(this.root==null||this.splay(s)!=0)return null;let i=this.root;const r=i,u=i.left;if(this.size--,u==null)this.root=i.right;else{const d=i.right;i=this.splayMax(u),i.right=d,this.root=i}return this.modificationCount++,r}addNewRoot(s,t){this.size++,this.modificationCount++;const i=this.root;if(i==null){this.root=s;return}t<0?(s.left=i,s.right=i.right,i.right=null):(s.right=i,s.left=i.left,i.left=null),this.root=s}_first(){const s=this.root;return s==null?null:(this.root=this.splayMin(s),this.root)}_last(){const s=this.root;return s==null?null:(this.root=this.splayMax(s),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(s){return this.validKey(s)&&this.splay(s)==0}defaultCompare(){return(s,t)=>s<t?-1:s>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:s=>{this.root=s},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:s=>{this.splayCount=s},splay:s=>this.splay(s),has:s=>this.has(s)}}},o0=class jd extends N4{root=null;compare;validKey;constructor(t,i){super(),this.compare=t??this.defaultCompare(),this.validKey=i??(r=>r!=null&&r!=null)}delete(t){return this.validKey(t)?this._delete(t)!=null:!1}deleteAll(t){for(const i of t)this.delete(i)}forEach(t){const i=this[Symbol.iterator]();let r;for(;r=i.next(),!r.done;)t(r.value,r.value,this)}add(t){const i=this.splay(t);return i!=0&&this.addNewRoot(new Ad(t),i),this}addAndReturn(t){const i=this.splay(t);return i!=0&&this.addNewRoot(new Ad(t),i),this.root.key}addAll(t){for(const i of t)this.add(i)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)<0)return this.root.key;let r=this.root.left;if(r==null)return null;let u=r.right;for(;u!=null;)r=u,u=r.right;return r.key}firstAfter(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)>0)return this.root.key;let r=this.root.right;if(r==null)return null;let u=r.left;for(;u!=null;)r=u,u=r.left;return r.key}retainAll(t){const i=new jd(this.compare,this.validKey),r=this.modificationCount;for(const u of t){if(r!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(u)&&this.splay(u)==0&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(t){return!this.validKey(t)||this.splay(t)!=0?null:this.root.key}intersection(t){const i=new jd(this.compare,this.validKey);for(const r of this)t.has(r)&&i.add(r);return i}difference(t){const i=new jd(this.compare,this.validKey);for(const r of this)t.has(r)||i.add(r);return i}union(t){const i=this.clone();return i.addAll(t),i}clone(){const t=new jd(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(t==null)return null;function i(u,d){let h,p;do{if(h=u.left,p=u.right,h!=null){const y=new Ad(h.key);d.left=y,i(h,y)}if(p!=null){const y=new Ad(p.key);d.right=y,u=p,d=y}}while(p!=null)}const r=new Ad(t.key);return i(t,r),r}toSet(){return this.clone()}entries(){return new w4(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new D4(this.wrap())}[Symbol.toStringTag]="[object Set]"},oy=class{tree;path=new Array;modificationCount=null;splayCount;constructor(s){this.tree=s,this.splayCount=s.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const s=this.path[this.path.length-1];return this.getValue(s)}rebuildPath(s){this.path.splice(0,this.path.length),this.tree.splay(s),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(s){for(;s!=null;)this.path.push(s),s=s.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let i=this.tree.getRoot();for(;i!=null;)this.path.push(i),i=i.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let s=this.path[this.path.length-1],t=s.right;if(t!=null){for(;t!=null;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===s;)s=this.path.pop();return this.path.length>0}},D4=class extends oy{getValue(s){return s.key}},w4=class extends oy{getValue(s){return[s.key,s.key]}},ry=s=>()=>s,km=s=>{const t=s?(i,r)=>r.minus(i).abs().isLessThanOrEqualTo(s):ry(!1);return(i,r)=>t(i,r)?0:i.comparedTo(r)};function j4(s){const t=s?(i,r,u,d,h)=>i.exponentiatedBy(2).isLessThanOrEqualTo(d.minus(r).exponentiatedBy(2).plus(h.minus(u).exponentiatedBy(2)).times(s)):ry(!1);return(i,r,u)=>{const d=i.x,h=i.y,p=u.x,y=u.y,x=h.minus(y).times(r.x.minus(p)).minus(d.minus(p).times(r.y.minus(y)));return t(x,d,h,p,y)?0:x.comparedTo(0)}}var U4=s=>s,B4=s=>{if(s){const t=new o0(km(s)),i=new o0(km(s)),r=(d,h)=>h.addAndReturn(d),u=d=>({x:r(d.x,t),y:r(d.y,i)});return u({x:new hs(0),y:new hs(0)}),u}return U4},Vm=s=>({set:t=>{eo=Vm(t)},reset:()=>Vm(s),compare:km(s),snap:B4(s),orient:j4(s)}),eo=Vm(),Md=(s,t)=>s.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(s.ur.x)&&s.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(s.ur.y),Qm=(s,t)=>{if(t.ur.x.isLessThan(s.ll.x)||s.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(s.ll.y)||s.ur.y.isLessThan(t.ll.y))return null;const i=s.ll.x.isLessThan(t.ll.x)?t.ll.x:s.ll.x,r=s.ur.x.isLessThan(t.ur.x)?s.ur.x:t.ur.x,u=s.ll.y.isLessThan(t.ll.y)?t.ll.y:s.ll.y,d=s.ur.y.isLessThan(t.ur.y)?s.ur.y:t.ur.y;return{ll:{x:i,y:u},ur:{x:r,y:d}}},n0=(s,t)=>s.x.times(t.y).minus(s.y.times(t.x)),uy=(s,t)=>s.x.times(t.x).plus(s.y.times(t.y)),r0=s=>uy(s,s).sqrt(),G4=(s,t,i)=>{const r={x:t.x.minus(s.x),y:t.y.minus(s.y)},u={x:i.x.minus(s.x),y:i.y.minus(s.y)};return n0(u,r).div(r0(u)).div(r0(r))},H4=(s,t,i)=>{const r={x:t.x.minus(s.x),y:t.y.minus(s.y)},u={x:i.x.minus(s.x),y:i.y.minus(s.y)};return uy(u,r).div(r0(u)).div(r0(r))},jg=(s,t,i)=>t.y.isZero()?null:{x:s.x.plus(t.x.div(t.y).times(i.minus(s.y))),y:i},Ug=(s,t,i)=>t.x.isZero()?null:{x:i,y:s.y.plus(t.y.div(t.x).times(i.minus(s.x)))},L4=(s,t,i,r)=>{if(t.x.isZero())return Ug(i,r,s.x);if(r.x.isZero())return Ug(s,t,i.x);if(t.y.isZero())return jg(i,r,s.y);if(r.y.isZero())return jg(s,t,i.y);const u=n0(t,r);if(u.isZero())return null;const d={x:i.x.minus(s.x),y:i.y.minus(s.y)},h=n0(d,t).div(u),p=n0(d,r).div(u),y=s.x.plus(p.times(t.x)),x=i.x.plus(h.times(r.x)),_=s.y.plus(p.times(t.y)),E=i.y.plus(h.times(r.y)),T=y.plus(x).div(2),z=_.plus(E).div(2);return{x:T,y:z}},ds=class cy{point;isLeft;segment;otherSE;consumedBy;static compare(t,i){const r=cy.comparePoints(t.point,i.point);return r!==0?r:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft?t.isLeft?1:-1:u0.compare(t.segment,i.segment))}static comparePoints(t,i){return t.x.isLessThan(i.x)?-1:t.x.isGreaterThan(i.x)?1:t.y.isLessThan(i.y)?-1:t.y.isGreaterThan(i.y)?1:0}constructor(t,i){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=i}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const i=t.point.events;for(let r=0,u=i.length;r<u;r++){const d=i[r];this.point.events.push(d),d.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let i=0;i<t;i++){const r=this.point.events[i];if(r.segment.consumedBy===void 0)for(let u=i+1;u<t;u++){const d=this.point.events[u];d.consumedBy===void 0&&r.otherSE.point.events===d.otherSE.point.events&&r.segment.consume(d.segment)}}}getAvailableLinkedEvents(){const t=[];for(let i=0,r=this.point.events.length;i<r;i++){const u=this.point.events[i];u!==this&&!u.segment.ringOut&&u.segment.isInResult()&&t.push(u)}return t}getLeftmostComparator(t){const i=new Map,r=u=>{const d=u.otherSE;i.set(u,{sine:G4(this.point,t.point,d.point),cosine:H4(this.point,t.point,d.point)})};return(u,d)=>{i.has(u)||r(u),i.has(d)||r(d);const{sine:h,cosine:p}=i.get(u),{sine:y,cosine:x}=i.get(d);return h.isGreaterThanOrEqualTo(0)&&y.isGreaterThanOrEqualTo(0)?p.isLessThan(x)?1:p.isGreaterThan(x)?-1:0:h.isLessThan(0)&&y.isLessThan(0)?p.isLessThan(x)?-1:p.isGreaterThan(x)?1:0:y.isLessThan(h)?-1:y.isGreaterThan(h)?1:0}}},q4=class Km{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const i=[];for(let r=0,u=t.length;r<u;r++){const d=t[r];if(!d.isInResult()||d.ringOut)continue;let h=null,p=d.leftSE,y=d.rightSE;const x=[p],_=p.point,E=[];for(;h=p,p=y,x.push(p),p.point!==_;)for(;;){const T=p.getAvailableLinkedEvents();if(T.length===0){const H=x[0].point,L=x[x.length-1].point;throw new Error(`Unable to complete output ring starting at [${H.x}, ${H.y}]. Last matching segment found ends at [${L.x}, ${L.y}].`)}if(T.length===1){y=T[0].otherSE;break}let z=null;for(let H=0,L=E.length;H<L;H++)if(E[H].point===p.point){z=H;break}if(z!==null){const H=E.splice(z)[0],L=x.splice(H.index);L.unshift(L[0].otherSE),i.push(new Km(L.reverse()));continue}E.push({index:x.length,point:p.point});const A=p.getLeftmostComparator(h);y=T.sort(A)[0].otherSE;break}i.push(new Km(x))}return i}constructor(t){this.events=t;for(let i=0,r=t.length;i<r;i++)t[i].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const i=[t];for(let x=1,_=this.events.length-1;x<_;x++){const E=this.events[x].point,T=this.events[x+1].point;eo.orient(E,t,T)!==0&&(i.push(E),t=E)}if(i.length===1)return null;const r=i[0],u=i[1];eo.orient(r,t,u)===0&&i.shift(),i.push(i[0]);const d=this.isExteriorRing()?1:-1,h=this.isExteriorRing()?0:i.length-1,p=this.isExteriorRing()?i.length:-1,y=[];for(let x=h;x!=p;x+=d)y.push([i[x].x.toNumber(),i[x].y.toNumber()]);return y}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let u=1,d=this.events.length;u<d;u++){const h=this.events[u];ds.compare(t,h)>0&&(t=h)}let i=t.segment.prevInResult(),r=i?i.prevInResult():null;for(;;){if(!i)return null;if(!r)return i.ringOut;if(r.ringOut!==i.ringOut)return r.ringOut?.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut?.enclosingRing();i=r.prevInResult(),r=i?i.prevInResult():null}}},Bg=class{exteriorRing;interiorRings;constructor(s){this.exteriorRing=s,s.poly=this,this.interiorRings=[]}addInterior(s){this.interiorRings.push(s),s.poly=this}getGeom(){const s=this.exteriorRing.getGeom();if(s===null)return null;const t=[s];for(let i=0,r=this.interiorRings.length;i<r;i++){const u=this.interiorRings[i].getGeom();u!==null&&t.push(u)}return t}},Y4=class{rings;polys;constructor(s){this.rings=s,this.polys=this._composePolys(s)}getGeom(){const s=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getGeom();r!==null&&s.push(r)}return s}_composePolys(s){const t=[];for(let i=0,r=s.length;i<r;i++){const u=s[i];if(!u.poly)if(u.isExteriorRing())t.push(new Bg(u));else{const d=u.enclosingRing();d?.poly||t.push(new Bg(d)),d?.poly?.addInterior(u)}}return t}},X4=class{queue;tree;segments;constructor(s,t=u0.compare){this.queue=s,this.tree=new o0(t),this.segments=[]}process(s){const t=s.segment,i=[];if(s.consumedBy)return s.isLeft?this.queue.delete(s.otherSE):this.tree.delete(t),i;s.isLeft&&this.tree.add(t);let r=t,u=t;do r=this.tree.lastBefore(r);while(r!=null&&r.consumedBy!=null);do u=this.tree.firstAfter(u);while(u!=null&&u.consumedBy!=null);if(s.isLeft){let d=null;if(r){const p=r.getIntersection(t);if(p!==null&&(t.isAnEndpoint(p)||(d=p),!r.isAnEndpoint(p))){const y=this._splitSafely(r,p);for(let x=0,_=y.length;x<_;x++)i.push(y[x])}}let h=null;if(u){const p=u.getIntersection(t);if(p!==null&&(t.isAnEndpoint(p)||(h=p),!u.isAnEndpoint(p))){const y=this._splitSafely(u,p);for(let x=0,_=y.length;x<_;x++)i.push(y[x])}}if(d!==null||h!==null){let p=null;d===null?p=h:h===null?p=d:p=ds.comparePoints(d,h)<=0?d:h,this.queue.delete(t.rightSE),i.push(t.rightSE);const y=t.split(p);for(let x=0,_=y.length;x<_;x++)i.push(y[x])}i.length>0?(this.tree.delete(t),i.push(s)):(this.segments.push(t),t.prev=r)}else{if(r&&u){const d=r.getIntersection(u);if(d!==null){if(!r.isAnEndpoint(d)){const h=this._splitSafely(r,d);for(let p=0,y=h.length;p<y;p++)i.push(h[p])}if(!u.isAnEndpoint(d)){const h=this._splitSafely(u,d);for(let p=0,y=h.length;p<y;p++)i.push(h[p])}}}this.tree.delete(t)}return i}_splitSafely(s,t){this.tree.delete(s);const i=s.rightSE;this.queue.delete(i);const r=s.split(t);return r.push(i),s.consumedBy===void 0&&this.tree.add(s),r}},k4=class{type;numMultiPolys;run(s,t,i){Ud.type=s;const r=[new Hg(t,!0)];for(let x=0,_=i.length;x<_;x++)r.push(new Hg(i[x],!1));if(Ud.numMultiPolys=r.length,Ud.type==="difference"){const x=r[0];let _=1;for(;_<r.length;)Qm(r[_].bbox,x.bbox)!==null?_++:r.splice(_,1)}if(Ud.type==="intersection")for(let x=0,_=r.length;x<_;x++){const E=r[x];for(let T=x+1,z=r.length;T<z;T++)if(Qm(E.bbox,r[T].bbox)===null)return[]}const u=new o0(ds.compare);for(let x=0,_=r.length;x<_;x++){const E=r[x].getSweepEvents();for(let T=0,z=E.length;T<z;T++)u.add(E[T])}const d=new X4(u);let h=null;for(u.size!=0&&(h=u.first(),u.delete(h));h;){const x=d.process(h);for(let _=0,E=x.length;_<E;_++){const T=x[_];T.consumedBy===void 0&&u.add(T)}u.size!=0?(h=u.first(),u.delete(h)):h=null}eo.reset();const p=q4.factory(d.segments);return new Y4(p).getGeom()}},Ud=new k4,Zm=Ud,V4=0,u0=class a0{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(t,i){const r=t.leftSE.point.x,u=i.leftSE.point.x,d=t.rightSE.point.x,h=i.rightSE.point.x;if(h.isLessThan(r))return 1;if(d.isLessThan(u))return-1;const p=t.leftSE.point.y,y=i.leftSE.point.y,x=t.rightSE.point.y,_=i.rightSE.point.y;if(r.isLessThan(u)){if(y.isLessThan(p)&&y.isLessThan(x))return 1;if(y.isGreaterThan(p)&&y.isGreaterThan(x))return-1;const E=t.comparePoint(i.leftSE.point);if(E<0)return 1;if(E>0)return-1;const T=i.comparePoint(t.rightSE.point);return T!==0?T:-1}if(r.isGreaterThan(u)){if(p.isLessThan(y)&&p.isLessThan(_))return-1;if(p.isGreaterThan(y)&&p.isGreaterThan(_))return 1;const E=i.comparePoint(t.leftSE.point);if(E!==0)return E;const T=t.comparePoint(i.rightSE.point);return T<0?1:T>0?-1:1}if(p.isLessThan(y))return-1;if(p.isGreaterThan(y))return 1;if(d.isLessThan(h)){const E=i.comparePoint(t.rightSE.point);if(E!==0)return E}if(d.isGreaterThan(h)){const E=t.comparePoint(i.rightSE.point);if(E<0)return 1;if(E>0)return-1}if(!d.eq(h)){const E=x.minus(p),T=d.minus(r),z=_.minus(y),A=h.minus(u);if(E.isGreaterThan(T)&&z.isLessThan(A))return 1;if(E.isLessThan(T)&&z.isGreaterThan(A))return-1}return d.isGreaterThan(h)?1:d.isLessThan(h)||x.isLessThan(_)?-1:x.isGreaterThan(_)?1:t.id<i.id?-1:t.id>i.id?1:0}constructor(t,i,r,u){this.id=++V4,this.leftSE=t,t.segment=this,t.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=t,this.rings=r,this.windings=u}static fromRing(t,i,r){let u,d,h;const p=ds.comparePoints(t,i);if(p<0)u=t,d=i,h=1;else if(p>0)u=i,d=t,h=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const y=new ds(u,!0),x=new ds(d,!1);return new a0(y,x,[r],[h])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(i)?t:i},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(i)?t:i}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return eo.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const i=this.bbox(),r=t.bbox(),u=Qm(i,r);if(u===null)return null;const d=this.leftSE.point,h=this.rightSE.point,p=t.leftSE.point,y=t.rightSE.point,x=Md(i,p)&&this.comparePoint(p)===0,_=Md(r,d)&&t.comparePoint(d)===0,E=Md(i,y)&&this.comparePoint(y)===0,T=Md(r,h)&&t.comparePoint(h)===0;if(_&&x)return T&&!E?h:!T&&E?y:null;if(_)return E&&d.x.eq(y.x)&&d.y.eq(y.y)?null:d;if(x)return T&&h.x.eq(p.x)&&h.y.eq(p.y)?null:p;if(T&&E)return null;if(T)return h;if(E)return y;const z=L4(d,this.vector(),p,t.vector());return z===null||!Md(u,z)?null:eo.snap(z)}split(t){const i=[],r=t.events!==void 0,u=new ds(t,!0),d=new ds(t,!1),h=this.rightSE;this.replaceRightSE(d),i.push(d),i.push(u);const p=new a0(u,h,this.rings.slice(),this.windings.slice());return ds.comparePoints(p.leftSE.point,p.rightSE.point)>0&&p.swapEvents(),ds.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(u.checkForConsuming(),d.checkForConsuming()),i}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,r=this.windings.length;i<r;i++)this.windings[i]*=-1}consume(t){let i=this,r=t;for(;i.consumedBy;)i=i.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const u=a0.compare(i,r);if(u!==0){if(u>0){const d=i;i=r,r=d}if(i.prev===r){const d=i;i=r,r=d}for(let d=0,h=r.rings.length;d<h;d++){const p=r.rings[d],y=r.windings[d],x=i.rings.indexOf(p);x===-1?(i.rings.push(p),i.windings.push(y)):i.windings[x]+=y}r.rings=null,r.windings=null,r.consumedBy=i,r.leftSE.consumedBy=i.leftSE,r.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,r=this._afterState.windings,u=this._afterState.multiPolys;for(let p=0,y=this.rings.length;p<y;p++){const x=this.rings[p],_=this.windings[p],E=i.indexOf(x);E===-1?(i.push(x),r.push(_)):r[E]+=_}const d=[],h=[];for(let p=0,y=i.length;p<y;p++){if(r[p]===0)continue;const x=i[p],_=x.poly;if(h.indexOf(_)===-1)if(x.isExterior)d.push(_);else{h.indexOf(_)===-1&&h.push(_);const E=d.indexOf(x.poly);E!==-1&&d.splice(E,1)}}for(let p=0,y=d.length;p<y;p++){const x=d[p].multiPoly;u.indexOf(x)===-1&&u.push(x)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Zm.type){case"union":{const r=t.length===0,u=i.length===0;this._isInResult=r!==u;break}case"intersection":{let r,u;t.length<i.length?(r=t.length,u=i.length):(r=i.length,u=t.length),this._isInResult=u===Zm.numMultiPolys&&r<u;break}case"xor":{const r=Math.abs(t.length-i.length);this._isInResult=r%2===1;break}case"difference":{const r=u=>u.length===1&&u[0].isSubject;this._isInResult=r(t)!==r(i);break}}return this._isInResult}},Gg=class{poly;isExterior;segments;bbox;constructor(s,t,i){if(!Array.isArray(s)||s.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=i,this.segments=[],typeof s[0][0]!="number"||typeof s[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=eo.snap({x:new hs(s[0][0]),y:new hs(s[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let u=r;for(let d=1,h=s.length;d<h;d++){if(typeof s[d][0]!="number"||typeof s[d][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const p=eo.snap({x:new hs(s[d][0]),y:new hs(s[d][1])});p.x.eq(u.x)&&p.y.eq(u.y)||(this.segments.push(u0.fromRing(u,p,this)),p.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.x),p.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.y),p.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.x),p.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.y),u=p)}(!r.x.eq(u.x)||!r.y.eq(u.y))&&this.segments.push(u0.fromRing(u,r,this))}getSweepEvents(){const s=[];for(let t=0,i=this.segments.length;t<i;t++){const r=this.segments[t];s.push(r.leftSE),s.push(r.rightSE)}return s}},Q4=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(s,t){if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Gg(s[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,r=s.length;i<r;i++){const u=new Gg(s[i],this,!1);u.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=u.bbox.ll.x),u.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=u.bbox.ll.y),u.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=u.bbox.ur.x),u.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=u.bbox.ur.y),this.interiorRings.push(u)}this.multiPoly=t}getSweepEvents(){const s=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){const r=this.interiorRings[t].getSweepEvents();for(let u=0,d=r.length;u<d;u++)s.push(r[u])}return s}},Hg=class{isSubject;polys;bbox;constructor(s,t){if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof s[0][0][0]=="number"&&(s=[s])}catch{}this.polys=[],this.bbox={ll:{x:new hs(Number.POSITIVE_INFINITY),y:new hs(Number.POSITIVE_INFINITY)},ur:{x:new hs(Number.NEGATIVE_INFINITY),y:new hs(Number.NEGATIVE_INFINITY)}};for(let i=0,r=s.length;i<r;i++){const u=new Q4(s[i],this);u.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=u.bbox.ll.x),u.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=u.bbox.ll.y),u.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=u.bbox.ur.x),u.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=u.bbox.ur.y),this.polys.push(u)}this.isSubject=t}getSweepEvents(){const s=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getSweepEvents();for(let u=0,d=r.length;u<d;u++)s.push(r[u])}return s}},K4=(s,...t)=>Zm.run("union",s,t);eo.set;function Z4(s,t={}){const i=[];if(O4(s,u=>{i.push(u.coordinates)}),i.length<2)throw new Error("Must have at least 2 geometries");const r=K4(i[0],...i.slice(1));return r.length===0?null:r.length===1?ly(r[0],t.properties):M4(r,t.properties)}const J4=()=>{const[s,t]=nt.useState(null),[i,r]=nt.useState(null),[u,d]=nt.useState(null),[h,p]=nt.useState({width:window.innerWidth,height:window.innerHeight-100}),[y,x]=nt.useState({x:0,y:0,scale:1}),_=nt.useRef(null),E=nt.useRef(null);nt.useEffect(()=>{const V=()=>{p({width:window.innerWidth,height:window.innerHeight-56})};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),nt.useEffect(()=>{if(u){const V=h.width,j=h.height,Z=u.naturalWidth,K=u.naturalHeight,I=Math.min(V/Z,j/K),st=(V-Z*I)/2,ot=(j-K*I)/2;x({x:st,y:ot,scale:I})}},[u,h]),nt.useEffect(()=>{if(i){const V=new window.Image;V.src=i,V.onload=()=>d(V)}},[i]);const T=nt.useCallback(V=>{V.evt.preventDefault();const j=_.current;if(!j)return;const Z=y.scale,K=j.getPointerPosition(),I=1.1,st=V.evt.deltaY<0?Z*I:Z/I,ot={x:(K.x-y.x)/Z,y:(K.y-y.y)/Z},M={x:K.x-ot.x*st,y:K.y-ot.y*st};x({scale:st,x:M.x,y:M.y})},[y]),z=nt.useCallback(V=>{const j=V.target.files[0];if(j){t(j);const Z=new FileReader;return Z.onload=K=>r(K.target.result),Z.readAsDataURL(j),V.target.value="",j}return null},[]),A=nt.useCallback(()=>{if(!E.current||!_.current)return{x:0,y:0};const V=E.current.getAbsoluteTransform().copy();V.invert();const j=_.current.getPointerPosition();return V.point(j)},[]),H=nt.useCallback(()=>{t(null),r(null),d(null),x({x:0,y:0,scale:1})},[]),L=nt.useCallback((V,j)=>{x(Z=>({...Z,x:Z.x+V,y:Z.y+j}))},[]);return{imageFile:s,imageUrl:i,imageObj:u,stageSize:h,imageLayout:y,stageRef:_,groupRef:E,setStageSize:p,setImageLayout:x,handleWheel:T,handleImageUpload:z,getRelativePointerPosition:A,closeImage:H,panImage:L,setImageFile:t,setImageUrl:r,setImageObj:d}},fy=s=>{if(!s)return"#888888";let t=0;for(let r=0;r<s.length;r++)t=s.charCodeAt(r)+((t<<5)-t);let i="#";for(let r=0;r<3;r++){const u=t>>r*8&255;i+=("00"+u.toString(16)).substr(-2)}return i},to=()=>crypto.randomUUID(),xm=s=>JSON.parse(JSON.stringify(s)),F4=()=>{const[s,t]=nt.useState([]),[i,r]=nt.useState([]),[u,d]=nt.useState(""),[h,p]=nt.useState([]),[y,x]=nt.useState([]),_=nt.useMemo(()=>i.length===1&&s.find(B=>B.id===i[0])||null,[s,i]),E=nt.useMemo(()=>s.filter(B=>i.includes(B.id)),[s,i]),T=nt.useCallback(B=>{const k=xm(B);p(Q=>[...Q,k]),x([])},[]),z=nt.useCallback(()=>{if(h.length>0){const B=h[h.length-1];x(k=>[...k,xm(s)]),t(B),p(k=>k.slice(0,-1)),r([]),d("")}},[h,s]),A=nt.useCallback(()=>{if(y.length>0){const B=y[y.length-1];p(k=>[...k,xm(s)]),t(B),x(k=>k.slice(0,-1)),r([]),d("")}},[y,s]),H=nt.useCallback(()=>{confirm("Delete all annotations?")&&(T(s),t([]),r([]),d(""))},[s,T]),L=nt.useCallback(B=>{i.length>0&&(T(s),t(k=>k.map(Q=>i.includes(Q.id)?{...Q,label:B}:Q)),d(B))},[i,s,T]),V=nt.useCallback(()=>{i.length>0&&(T(s),t(B=>B.filter(k=>!i.includes(k.id))),r([]),d(""))},[i,s,T]),j=nt.useCallback(B=>(T(s),t(k=>[...k,B]),B.id),[s,T]),Z=nt.useCallback(B=>(T(s),t(k=>[...k,...B]),B.map(k=>k.id)),[s,T]),K=nt.useCallback((B,k)=>{t(Q=>{const G=[...Q];let O=-1;return typeof B=="number"?O=B:O=G.findIndex(U=>U.id===B),O!==-1?(G[O]={...G[O],...k},G):Q})},[]),I=nt.useCallback((B,k)=>{T(s),K(B,k)},[s,T,K]),st=nt.useCallback((B,k)=>{T(s),t(Q=>{const G=[...Q];return B>=0&&B<G.length&&(G[B]=k),G})},[s,T]),ot=nt.useCallback(B=>{T(s),t(k=>{const Q=k[B];if(!Q)return k;const G=k.filter((O,U)=>U!==B);return i.includes(Q.id)&&r(O=>O.filter(U=>U!==Q.id)),G})},[s,T,i]),M=nt.useCallback((B,k)=>{T(s);const Q=[...s];Q.splice(B,1,...k),t(Q),r([])},[s,T]),R=nt.useCallback((B,k=!1)=>{if(!B){k||r([]);return}if(k)r(Q=>Q.includes(B)?Q.filter(O=>O!==B):[...Q,B]);else{r([B]);const Q=s.find(G=>G.id===B);Q&&d(Q.label||"")}},[s]),Y=nt.useCallback(()=>{r([]),d("")},[]),F=nt.useCallback(()=>{t([]),r([]),d(""),p([]),x([])},[]);return{annotations:s,selectedIds:i,selectedLabel:u,selectedAnn:_,selectedAnns:E,history:h,future:y,canUndo:h.length>0,canRedo:y.length>0,addToHistory:T,handleUndo:z,handleRedo:A,handleClearAll:H,updateLabel:L,deleteSelected:V,addAnnotation:j,addAnnotations:Z,updateAnnotation:K,updateAnnotationWithHistory:I,replaceAnnotation:st,removeAnnotation:ot,spliceAndInsert:M,selectAnnotation:R,clearSelection:Y,reset:F,setAnnotations:t,setSelectedIds:r,setSelectedLabel:d}},Ii="http://localhost:8000/api",W4=20,Sm={yolo:{type:"YOLO",label:"YOLO Model",parameters:[{key:"conf",label:"Confidence",type:"slider",min:0,max:1,step:.01,default:.25,help:"Minimum confidence score."},{key:"iou",label:"IOU Threshold",type:"slider",min:0,max:1,step:.01,default:.45,help:"Intersection over Union threshold."},{key:"max_det",label:"Max Detections",type:"slider",min:1,max:1e3,step:1,default:300,help:"Maximum number of objects to detect."},{key:"retina_masks",label:"Retina Masks",type:"switch",default:!0,help:"Generate high-resolution masks."},{key:"enable_tiling",label:"Enable Tiling",type:"switch",default:!1,help:"Use SAHI slicing. Disable for faster, full-image inference."},{key:"tile_size",label:"Tile Size",type:"number",min:320,max:1500,step:32,default:640,help:"Tile size for SAHI inference."},{key:"tile_overlap",label:"Tile Overlap",type:"slider",min:0,max:.5,step:.05,default:.25,help:"Overlap between tiles."}]},sam:{type:"SAM",label:"Segment Anything",parameters:[{key:"box_padding",label:"Box Padding",type:"slider",min:0,max:100,step:1,default:0,help:"Expands the input box by pixels."},{key:"use_hq",label:"Use HQ Model",type:"switch",default:!1,help:"Use High-Quality model (slower)."},{key:"enable_yolo_verification",label:"Verify with Yolo",type:"switch",default:!1,help:"Use YOLO to verify text prompt grounding."}]},"grounding-dino":{type:"Grounding DINO",label:"Grounding DINO",parameters:[{key:"box_threshold",label:"Box Threshold",type:"slider",min:0,max:1,step:.01,default:.35,help:"Lower to detect more objects, raise to reduce noise."},{key:"text_threshold",label:"Text Threshold",type:"slider",min:0,max:1,step:.01,default:.25,help:"Similarity threshold for text matching."},{key:"inference_mode",label:"Inference Mode",type:"select",default:"standard",options:["standard","tiled","smart_focus"],help:"Strategy: Standard (Full), Tiled (Small Objs), Smart Focus (Large/Sparse)."},{key:"tile_size",label:"Tile Size",type:"number",min:320,max:2e3,step:32,default:640,help:"Size of tiles for Tiled Inference."},{key:"tile_overlap",label:"Tile Overlap",type:"slider",min:0,max:.5,step:.05,default:.25,help:"Overlap ratio between tiles."},{key:"sam_sensitivity",label:"SAM Sensitivity",type:"slider",min:0,max:1,step:.01,default:.5,help:"Confidence threshold for Smart Focus candidate generation."},{key:"sam_model_name",label:"SAM Model",type:"select",default:"sam2.1_l.pt",options:["sam2.1_l.pt","sam2.1_b.pt","sam2.1_t.pt"],help:"Model for Smart Focus candidates & refinement."},{key:"use_sam",label:"Refine with SAM",type:"switch",default:!0,help:"Refine detections with Segment Anything Model."}]}},Jm=s=>{if(!s)return null;const t=s.toLowerCase();return t.includes("grounding")||t.includes("dino")?{...Sm["grounding-dino"],label:s}:t.includes("yolo")?{...Sm.yolo,label:s}:t.includes("sam")?{...Sm.sam,label:s}:{type:"Unknown",label:s,parameters:[]}},P4=(s,t,i)=>{const r=Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2);if(r===0)return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));let u=((s.x-t.x)*(i.x-t.x)+(s.y-t.y)*(i.y-t.y))/r;u=Math.max(0,Math.min(1,u));const d={x:t.x+u*(i.x-t.x),y:t.y+u*(i.y-t.y)};return Math.sqrt(Math.pow(s.x-d.x,2)+Math.pow(s.y-d.y,2))},I4=(s,t)=>s.x<t.x+t.width&&s.x+s.width>t.x&&s.y<t.y+t.height&&s.y+s.height>t.y,dy=s=>{let t=1/0,i=1/0,r=-1/0,u=-1/0;for(let d=0;d<s.length;d+=2){const h=s[d],p=s[d+1];t=Math.min(t,h),i=Math.min(i,p),r=Math.max(r,h),u=Math.max(u,p)}return{x:t,y:i,width:r-t,height:u-i}},$4=s=>dy(s),t5=(s,t)=>{const i=s.x,r=s.y;let u=!1;for(let d=0,h=t.length-1;d<t.length;h=d++){const p=t[d].x,y=t[d].y,x=t[h].x,_=t[h].y;y>r!=_>r&&i<(x-p)*(r-y)/(_-y)+p&&(u=!u)}return u},e5=(s,t,i)=>{let r=t.x,u=t.y,d=i.x-r,h=i.y-u;if(d!==0||h!==0){const p=((s.x-r)*d+(s.y-u)*h)/(d*d+h*h);p>1?(r=i.x,u=i.y):p>0&&(r+=d*p,u+=h*p)}return d=s.x-r,h=s.y-u,d*d+h*h},n5=(s,t=2)=>{if(s.length<=4)return s;const i=t*t,r=[];for(let h=0;h<s.length;h+=2)r.push({x:s[h],y:s[h+1]});const u=h=>{const p=h.length;if(p<=2)return h;let y=0,x=0;for(let _=1;_<p-1;_++){const E=e5(h[_],h[0],h[p-1]);E>y&&(x=_,y=E)}if(y>i){const _=u(h.slice(0,x+1)),E=u(h.slice(x));return[..._.slice(0,_.length-1),...E]}else return[h[0],h[p-1]]};return u(r).flatMap(h=>[h.x,h.y])},a5=s=>{if(s.length<4)return s;const t=[],i=s.length/2;for(let r=0;r<i;r++){const u=s[r*2],d=s[r*2+1];t.push(u,d);const h=(r+1)%i,p=s[h*2],y=s[h*2+1],x=(u+p)/2,_=(d+y)/2;t.push(x,_)}return t},i5=s=>{const t=[];for(let i=0;i<s.length;i+=2)t.push({x:s[i],y:s[i+1]});return t},l5=(s,t,i,r,u)=>{const{stageRef:d,groupRef:h,getRelativePointerPosition:p,imageLayout:y,panImage:x,imageFile:_}=s,{annotations:E,addToHistory:T,setAnnotations:z,addAnnotation:A,addAnnotations:H,spliceAndInsert:L,selectAnnotation:V,clearSelection:j}=t,[Z,K]=nt.useState("select"),[I,st]=nt.useState("#205a09ff"),[ot,M]=nt.useState(W4),[R,Y]=nt.useState(""),[F,B]=nt.useState(!1),[k,Q]=nt.useState([]),[G,O]=nt.useState([]),[U,X]=nt.useState(null),[$,ft]=nt.useState({x:0,y:0}),[q,et]=nt.useState(!1),yt=nt.useRef({x:0,y:0}),Et=nt.useRef(!1),Mt=nt.useRef(!1),Nt=nt.useCallback(Xt=>{for(let Ct=E.length-1;Ct>=0;Ct--){const _t=E[Ct];if(_t.type==="poly"&&_t.points){const Ot=i5(_t.points);if(t5(Xt,Ot))return Ct}}return null},[E]),Qt=nt.useCallback(()=>{Q([]),O([]),X(null),B(!1)},[]),Ne=nt.useCallback(()=>{k.length>0&&Q(Xt=>Xt.slice(0,-1))},[k.length]),ne=nt.useCallback(()=>{if(k.length>=3){const Xt={id:to(),type:"poly",points:k.flatMap(_t=>[_t.x,_t.y]),label:"unknown",originalRawPoints:k.flatMap(_t=>[_t.x,_t.y])},Ct=A(Xt);Q([]),V(Ct),Mt.current=!0,K("select")}},[k,A,V]),bn=nt.useCallback(Xt=>{Qt(),K(Xt)},[Qt]),Yt=nt.useCallback(Xt=>{if(Xt.evt.button===2){Et.current=!0,yt.current=d.current.getPointerPosition(),d.current.container().style.cursor="grabbing";return}const Ct=p();if(Z==="eraser"){T(E),B(!0);return}if(Z==="select"||Z==="pan"){Z==="pan"&&(yt.current=d.current.getPointerPosition(),B(!0));return}Z!=="poly"&&(B(!0),Z==="pen"||Z==="knife"?O([Ct.x,Ct.y]):(yt.current=Ct,X({x:Ct.x,y:Ct.y,width:0,height:0,type:"poly"})))},[Z,d,p,E,T,Nt,V,j]),Me=nt.useCallback(Xt=>{if(F&&Z==="pan"||Et.current){const Ot=d.current.getPointerPosition(),kt=yt.current,Bt=Ot.x-kt.x,At=Ot.y-kt.y;x(Bt,At),yt.current=Ot;return}const Ct=p();if(ft(Ct),F&&Z==="eraser"){const _t=ot/y.scale;let Ot=!1;const kt=E.map(Bt=>{if(Bt.type!=="poly"||!Bt.points)return Bt;const At=new Set,xt=Bt.points.length/2;for(let Gt=0;Gt<xt;Gt++){const Wt=Gt*2,Lt=Gt*2+1,pe={x:Bt.points[Wt],y:Bt.points[Lt]},Te=(Gt+1)%xt,Fe=Te*2,Al=Te*2+1,Ml={x:Bt.points[Fe],y:Bt.points[Al]};P4(Ct,pe,Ml)<_t&&(At.add(Gt),At.add(Te))}if(At.size>0){const Gt=[];for(let Wt=0;Wt<xt;Wt++)At.has(Wt)||Gt.push(Bt.points[Wt*2],Bt.points[Wt*2+1]);return Ot=!0,{...Bt,points:Gt}}return Bt}).filter(Bt=>Bt.type==="poly"&&Bt.points&&Bt.points.length<6?(Ot=!0,!1):!0);Ot&&z(kt);return}if(F){if(Z==="pen"||Z==="knife"){const _t=G[G.length-2],Ot=G[G.length-1];Math.sqrt(Math.pow(Ct.x-_t,2)+Math.pow(Ct.y-Ot,2))>5&&O(Bt=>[...Bt,Ct.x,Ct.y]);return}if((Z==="box"||Z==="ai-box")&&U){const _t=yt.current.x,Ot=yt.current.y;X({x:Math.min(_t,Ct.x),y:Math.min(Ot,Ct.y),width:Math.abs(Ct.x-_t),height:Math.abs(Ct.y-Ot),type:"poly"})}}},[F,Z,d,x,p,ot,y.scale,E,z,G,U]),we=nt.useCallback(async()=>{if(Et.current){Et.current=!1;const Xt=Z==="pan"?"grab":Z==="eraser"?"crosshair":"default";d.current.container().style.cursor=Xt;return}if(F&&(B(!1),!(Z==="pan"||Z==="eraser"))){if(Z==="pen"){if(G.length>4){const Xt={id:to(),type:"poly",points:G,label:R||"unknown",color:I,originalRawPoints:[...G],isPenDrawn:!0},Ct=A(Xt);V(Ct),Mt.current=!0}O([]);return}if(Z==="knife"){if(G.length>4){const Xt=$4(G);let Ct=null;for(let _t=E.length-1;_t>=0;_t--){const Ot=E[_t];if(Ot.type!=="poly")continue;const kt=dy(Ot.points);if(I4(Xt,kt)){Ct=_t;break}}if(Ct!==null){const _t=E[Ct];et(!0);try{const Ot=new FormData;Ot.append("target_points",JSON.stringify(_t.points)),Ot.append("cutter_points",JSON.stringify(G)),Ot.append("operation","subtract");const kt=await Ge.post(`${Ii}/edit-polygon-boolean`,Ot);if(kt.data.polygons?.length>0){const Bt=kt.data.polygons.map(At=>({id:to(),type:"poly",points:At,label:_t.label,originalRawPoints:At}));L(Ct,Bt)}}catch(Ot){console.error("Knife error",Ot)}finally{et(!1)}}}O([]);return}if(Z==="box"){if(U&&U.width>5&&U.height>5){const Xt={id:to(),type:"poly",points:[U.x,U.y,U.x+U.width,U.y,U.x+U.width,U.y+U.height,U.x,U.y+U.height],label:"unknown",originalRawPoints:[U.x,U.y,U.x+U.width,U.y,U.x+U.width,U.y+U.height,U.x,U.y+U.height]},Ct=A(Xt);V(Ct),Mt.current=!0}X(null);return}if(Z==="ai-box"){if(!U||U.width<5||U.height<5){X(null);return}if(!_){alert("No image file!"),X(null);return}if(!r){alert("Please select an AI model to use the AI Box tool."),X(null);return}et(!0);try{const Xt=new FormData;Xt.append("file",_),Xt.append("box_json",JSON.stringify([U.x,U.y,U.width,U.height])),Xt.append("model_name",r);const Ct=u?.conf??.25;Xt.append("confidence",Ct),u?.box_padding!==void 0&&Xt.append("box_padding",u.box_padding),u?.use_sam_hq!==void 0&&Xt.append("use_hq",u.use_sam_hq),i&&Xt.append("text_prompt",i),u?.enable_yolo_verification!==void 0&&Xt.append("enable_yolo_verification",u.enable_yolo_verification);const _t=await Ge.post(`${Ii}/segment-box`,Xt);if(_t.data.detections?.length>0){const Ot=_t.data.detections.map(Bt=>({id:Bt.id||to(),type:Bt.type||"poly",points:Bt.points,label:Bt.label||"object",confidence:Bt.confidence,suggestions:Bt.suggestions||[],originalRawPoints:Bt.points})),kt=H(Ot);kt.length>0&&V(kt[kt.length-1]),Mt.current=!0}else alert("No objects found in box.")}catch(Xt){console.error("AI Box Failed",Xt)}finally{et(!1),X(null)}}}},[F,Z,d,G,U,R,I,_,i,E,A,H,V,L,r,u]),ve=nt.useCallback(Xt=>{if(Xt.evt&&Xt.evt.button===2)return;if(Mt.current){Mt.current=!1;return}const Ct=p();if(Z==="poly"){if(k.length>2){const _t=k[0];if(Math.sqrt(Math.pow(Ct.x-_t.x,2)+Math.pow(Ct.y-_t.y,2))<10){const kt={id:to(),type:"poly",points:k.flatMap(At=>[At.x,At.y]),label:"unknown",originalRawPoints:k.flatMap(At=>[At.x,At.y])},Bt=A(kt);Q([]),V(Bt),Mt.current=!0;return}}Q(_t=>[..._t,{x:Ct.x,y:Ct.y}])}else if(Z==="eraser")j();else{const _t=Nt(Ct),Ot=Xt.evt.ctrlKey||Xt.evt.metaKey;if(_t!==null){const kt=E[_t].id;V(kt,Ot)}else Ot||j()}},[Z,k,p,A,V,j,Nt,E]),ue=nt.useCallback((Xt,Ct,_t)=>{const Ot=Xt.target.position(),kt=[...E],Bt={...kt[Ct]},At=[...Bt.points];At[_t]=Ot.x,At[_t+1]=Ot.y,Bt.points=At,kt[Ct]=Bt,z(kt)},[E,z]),_n=nt.useCallback(async()=>{if(!_){alert("Please upload an image first");return}if(!r){alert("Please select an AI model first.");return}const Xt=i?i.trim():"",Ct=Xt.length>0,_t=r&&(r.toLowerCase().includes("world")||r.toLowerCase().includes("objv1")),Ot=r&&r.toLowerCase().includes("sam"),kt=r&&(r.toLowerCase().includes("grounding")||r.toLowerCase().includes("dino")),Bt=_t||Ot||kt;if(!(Ct&&!Bt&&!window.confirm(` Model Mismatch:

You entered a text prompt ("${Xt}"), but the selected model (${r}) does not support text-based detection.

Do you want to ignore the text and continue with standard detection (Detect All)?`))){if(Bt&&!Ct){alert(`${r} requires a text prompt. Please enter a class name (e.g., 'car', 'person').`);return}et(!0),T(E);try{const At=new FormData;At.append("file",_);let xt="/detect-all";kt?(xt="/auto-label/grounding-dino",At.append("text_prompt",Xt),At.append("box_threshold",u?.box_threshold??.35),At.append("text_threshold",u?.text_threshold??.25),At.append("inference_mode",u?.inference_mode??"standard"),At.append("tile_size",u?.tile_size??640),At.append("tile_overlap",u?.tile_overlap??.25),At.append("sam_sensitivity",u?.sam_sensitivity??.5),At.append("sam_model_name",u?.sam_model_name??"sam2.1_l.pt"),At.append("use_sam",u?.use_sam??!0)):Ct&&Bt?(xt="/segment-by-text",At.append("text_prompt",Xt),At.append("sam_model_name",Ot?r:"sam2.1_l.pt"),At.append("box_confidence",u?.conf??.25),At.append("iou_threshold",u?.iou??.45)):(xt="/detect-all",At.append("model_name",r),At.append("confidence",u?.conf??.25),At.append("iou",u?.iou??.45),u?.retina_masks&&At.append("retina_masks",!0),u?.max_det!==void 0&&At.append("max_det",u.max_det),u?.enable_tiling!==void 0&&At.append("enable_tiling",u.enable_tiling)),console.log(`Sending request to ${xt} with model ${r}`);const Gt=await Ge.post(`${Ii}${xt}`,At);if(Gt.data.detections?.length>0){const Wt=Gt.data.detections.map(Lt=>({id:Lt.id||crypto.randomUUID(),type:"poly",points:Lt.points||[Lt.box.x,Lt.box.y,Lt.box.x+Lt.box.w,Lt.box.y,Lt.box.x+Lt.box.w,Lt.box.y+Lt.box.h,Lt.box.x,Lt.box.y+Lt.box.h],label:Lt.label||(Ct&&Bt?Xt:"object"),confidence:Lt.confidence,originalRawPoints:Lt.points||[Lt.box.x,Lt.box.y,Lt.box.x+Lt.box.w,Lt.box.y,Lt.box.x+Lt.box.w,Lt.box.y+Lt.box.h,Lt.box.x,Lt.box.y+Lt.box.h]}));z(Lt=>[...Lt,...Wt])}else Gt.data.detections?.length===0&&alert("No objects found.")}catch(At){console.error("Detection failed",At);const xt=At.response?.data?.detail||At.response?.data?.error||At.message;alert(`Detection failed: ${xt}`)}finally{et(!1)}}},[_,i,E,T,z,r,u]);return{tool:Z,color:I,eraserSize:ot,filterText:R,isDrawing:F,currentPolyPoints:k,currentPenPoints:G,tempAnnotation:U,mousePos:$,isProcessing:q,justFinishedDrawingRef:Mt,setTool:bn,setColor:st,setEraserSize:M,setFilterText:Y,setCurrentPolyPoints:Q,setCurrentPenPoints:O,setTempAnnotation:X,setIsProcessing:et,handleMouseDown:Yt,handleMouseMove:Me,handleMouseUp:we,handleStageClick:ve,handleVertexDrag:ue,handleDetectAll:_n,resetToolState:Qt,undoLastPolyPoint:Ne,closePolygon:ne,getClickedShape:Nt}},s5=(s=null,t)=>{const[i,r]=nt.useState(s||null),[u,d]=nt.useState({}),[h,p]=nt.useState([]),[y,x]=nt.useState([]),_=h.filter(K=>K.is_downloaded),E=nt.useCallback(async()=>{try{const I=(await Ge.get(`${Ii}/models`)).data;I.models&&Array.isArray(I.models)?p(I.models):Array.isArray(I)&&p(I)}catch(K){console.error("Failed to fetch models:",K)}},[]);nt.useEffect(()=>{E()},[E]);const[T,z]=nt.useState({isTraining:!1,progress:0,epoch:0,totalEpochs:0,map50:0,loss:0,message:"Idle"});nt.useEffect(()=>{let K;const I=async()=>{try{const ot=(await Ge.get(`${Ii}/training-status`)).data;z(M=>({isTraining:ot.is_training,progress:ot.progress,epoch:ot.epoch,totalEpochs:ot.total_epochs,message:ot.message,loss:0}))}catch(st){console.error("Failed to poll status:",st)}};return I(),K=setInterval(I,2e3),()=>clearInterval(K)},[]),nt.useEffect(()=>{if(!i){d({});return}const K=Jm(i);if(K&&K.parameters){const I=K.parameters.reduce((st,ot)=>(st[ot.key]=ot.default,st),{});d(I)}else d({})},[i]);const A=nt.useCallback((K,I)=>{d(st=>({...st,[K]:I}))},[]),[H,L]=nt.useState({showModelManager:!1,showSettings:!1,showTrainModal:!1,showPreprocessingModal:!1});return{selectedModel:i,setSelectedModel:r,currentParams:u,updateParam:A,actions:{openModelManager:()=>L(K=>({...K,showModelManager:!0})),closeModelManager:()=>L(K=>({...K,showModelManager:!1})),openSettings:()=>L(K=>({...K,showSettings:!0})),closeSettings:()=>L(K=>({...K,showSettings:!1})),openTrainModal:()=>L(K=>({...K,showTrainModal:!0})),closeTrainModal:()=>L(K=>({...K,showTrainModal:!1})),openPreprocessingModal:()=>L(K=>({...K,showPreprocessingModal:!0})),closePreprocessingModal:()=>L(K=>({...K,showPreprocessingModal:!1})),setModel:r,downloadModel:async K=>{if(!y.includes(K)){x(I=>[...I,K]);try{await Ge.post(`${Ii}/download-model`,{model_id:K}),await E()}catch(I){console.error(`Failed to download ${K}:`,I),alert(`Download failed: ${I.response?.data?.detail||I.message}`)}finally{x(I=>I.filter(st=>st!==K))}}},deleteModel:async K=>{if(!y.includes(K)&&window.confirm(`Are you sure you want to delete ${K}?`)){x(I=>[...I,K]);try{i===K&&r(null),await Ge.delete(`${Ii}/delete-model`,{data:{model_id:K}}),await E()}catch(I){console.error(`Failed to delete ${K}:`,I),alert(`Delete failed: ${I.response?.data?.detail||I.message}`)}finally{x(I=>I.filter(st=>st!==K))}}},startTraining:async K=>{try{const I=new FormData;return K.base_model&&I.append("base_model",K.base_model),K.epochs&&I.append("epochs",K.epochs),K.batch_size&&I.append("batch_size",K.batch_size),K.patience&&I.append("patience",K.patience),K.optimizer&&I.append("optimizer",K.optimizer),K.lr0&&I.append("lr0",K.lr0),K.imgsz&&I.append("imgsz",K.imgsz),K.custom_model_name&&I.append("custom_model_name",K.custom_model_name),K.preprocess_params&&I.append("preprocess_params",JSON.stringify(K.preprocess_params)),await Ge.post(`${Ii}/train-model`,I,{headers:{"Content-Type":"multipart/form-data"}}),z(st=>({...st,isTraining:!0})),{success:!0}}catch(I){return console.error("Training failed:",I),{success:!1,error:I.response?.data?.detail||I.message}}},cancelTraining:async()=>{try{return await Ge.post(`${Ii}/cancel-training`),{success:!0}}catch(K){return console.error("Cancel failed:",K),{success:!1,error:K.message}}}},modelConfig:Jm(i),trainingStatus:T,modals:H,models:h,downloadedModels:_,loadingModelIds:y,isTraining:T.isTraining,trainingProgress:T.progress,trainingMessage:T.isTraining?`Epoch ${T.epoch}/${T.totalEpochs} | Loss: ${T.loss?.toFixed(4)||"..."}`:"Idle"}},o5=(s,t)=>{const{annotations:i,selectedIds:r,addToHistory:u,setAnnotations:d}=s,{imageFile:h}=t||{},p=nt.useCallback(T=>{if(!r||r.length===0)return!1;u(i);const z=i.map(A=>r.includes(A.id)?T(A):A);return d(z),!0},[i,r,u,d]),y=nt.useCallback((T=2)=>!r||r.length===0?!1:p(z=>{if(z.type!=="poly"||!z.points||z.points.length<=6)return z;const A=z.originalRawPoints||z.points,H=n5(z.points,T);return H.length>=6?{...z,points:H,originalRawPoints:A}:z}),[r,p]),x=nt.useCallback(()=>!r||r.length===0?!1:p(T=>{if(T.type!=="poly"||!T.points||T.points.length<4)return T;const z=T.originalRawPoints||T.points,A=a5(T.points);return{...T,points:A,originalRawPoints:z}}),[r,p]),_=nt.useCallback(()=>!r||r.length===0?!1:p(T=>T.originalRawPoints?{...T,points:[...T.originalRawPoints]}:T),[r,p]),E=nt.useCallback(async(T,z)=>{if(!r||r.length===0||!h)return{success:!1,error:"No selection or image"};if(!T)return{success:!1,error:"Please select an AI model first"};z&&z(!0);const A=i.filter(H=>r.includes(H.id)&&H.type==="poly"&&H.points.length>=6);if(A.length===0)return z&&z(!1),{success:!1,error:"No valid polygons selected"};u(i);try{const H={},L=A.slice(0,5);for(const V of L){const j=new FormData;j.append("file",h),j.append("points_json",JSON.stringify(V.points)),j.append("model_name",T);try{const Z=await Ge.post(`${Ii}/refine-polygon`,j);Z.data.points&&(H[V.id]=Z.data.points)}catch(Z){console.error(`Beautify failed for ${V.id}`,Z)}}return Object.keys(H).length>0?(d(V=>V.map(j=>{if(H[j.id]){const Z=j.originalRawPoints||j.points;return{...j,points:H[j.id],originalRawPoints:Z}}return j})),{success:!0}):{success:!1,error:"Could not refine any shapes"}}catch(H){return console.error("Beautify failed",H),{success:!1,error:H.response?.data?.error||H.message}}finally{z&&z(!1)}},[i,r,h,u,d]);return{handleSimplify:y,handleDensify:x,handleReset:_,handleBeautify:E,canModify:r&&r.length>0,canReset:r&&r.length>0}},r5=Math.PI/180;function u5(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const ru=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ht={_global:ru,version:"10.2.0",isBrowser:u5(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return Ht.angleDeg?s*r5:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ht.DD.isDragging},isTransforming(){var s,t;return(t=(s=Ht.Transformer)===null||s===void 0?void 0:s.isTransforming())!==null&&t!==void 0?t:!1},isDragReady(){return!!Ht.DD.node},releaseCanvasOnDestroy:!0,document:ru.document,_injectGlobal(s){typeof ru.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),ru.Konva=s}},zn=s=>{Ht[s.prototype.getClassName()]=s};Ht._injectGlobal(Ht);const c5=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,Lg=()=>{if(typeof document>"u")throw new Error(c5)};class bi{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new bi(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){const i=this.m;return{x:i[0]*t.x+i[2]*t.y+i[4],y:i[1]*t.x+i[3]*t.y+i[5]}}translate(t,i){return this.m[4]+=this.m[0]*t+this.m[2]*i,this.m[5]+=this.m[1]*t+this.m[3]*i,this}scale(t,i){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=i,this.m[3]*=i,this}rotate(t){const i=Math.cos(t),r=Math.sin(t),u=this.m[0]*i+this.m[2]*r,d=this.m[1]*i+this.m[3]*r,h=this.m[0]*-r+this.m[2]*i,p=this.m[1]*-r+this.m[3]*i;return this.m[0]=u,this.m[1]=d,this.m[2]=h,this.m[3]=p,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,i){const r=this.m[0]+this.m[2]*i,u=this.m[1]+this.m[3]*i,d=this.m[2]+this.m[0]*t,h=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=u,this.m[2]=d,this.m[3]=h,this}multiply(t){const i=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],u=this.m[0]*t.m[2]+this.m[2]*t.m[3],d=this.m[1]*t.m[2]+this.m[3]*t.m[3],h=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],p=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=i,this.m[1]=r,this.m[2]=u,this.m[3]=d,this.m[4]=h,this.m[5]=p,this}invert(){const t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=this.m[3]*t,r=-this.m[1]*t,u=-this.m[2]*t,d=this.m[0]*t,h=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),p=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=i,this.m[1]=r,this.m[2]=u,this.m[3]=d,this.m[4]=h,this.m[5]=p,this}getMatrix(){return this.m}decompose(){const t=this.m[0],i=this.m[1],r=this.m[2],u=this.m[3],d=this.m[4],h=this.m[5],p=t*u-i*r,y={x:d,y:h,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||i!=0){const x=Math.sqrt(t*t+i*i);y.rotation=i>0?Math.acos(t/x):-Math.acos(t/x),y.scaleX=x,y.scaleY=p/x,y.skewX=(t*r+i*u)/p,y.skewY=0}else if(r!=0||u!=0){const x=Math.sqrt(r*r+u*u);y.rotation=Math.PI/2-(u>0?Math.acos(-r/x):-Math.acos(r/x)),y.scaleX=p/x,y.scaleY=x,y.skewX=0,y.skewY=(t*r+i*u)/p}return y.rotation=it._getRotation(y.rotation),y}}const f5="[object Array]",d5="[object Number]",h5="[object String]",p5="[object Boolean]",m5=Math.PI/180,g5=180/Math.PI,Od="#",y5="",v5="0",x5="Konva warning: ",qg="Konva error: ",S5="rgb(",bm={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b5=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let qp=[],Rd=null;const _5=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(s){setTimeout(s,16)},it={_isElement(s){return!!(s&&s.nodeType==1)},_isFunction(s){return!!(s&&s.constructor&&s.call&&s.apply)},_isPlainObject(s){return!!s&&s.constructor===Object},_isArray(s){return Object.prototype.toString.call(s)===f5},_isNumber(s){return Object.prototype.toString.call(s)===d5&&!isNaN(s)&&isFinite(s)},_isString(s){return Object.prototype.toString.call(s)===h5},_isBoolean(s){return Object.prototype.toString.call(s)===p5},isObject(s){return s instanceof Object},isValidSelector(s){if(typeof s!="string")return!1;const t=s[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(s){return s===0||s>0?1:-1},requestAnimFrame(s){qp.push(s),qp.length===1&&_5(function(){const t=qp;qp=[],t.forEach(function(i){i()})})},createCanvasElement(){Lg();const s=document.createElement("canvas");try{s.style=s.style||{}}catch{}return s},createImageElement(){return Lg(),document.createElement("img")},_isInDocument(s){for(;s=s.parentNode;)if(s==document)return!0;return!1},_urlToImage(s,t){const i=it.createImageElement();i.onload=function(){t(i)},i.src=s},_rgbToHex(s,t,i){return((1<<24)+(s<<16)+(t<<8)+i).toString(16).slice(1)},_hexToRgb(s){s=s.replace(Od,y5);const t=parseInt(s,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){let s=(Math.random()*16777215<<0).toString(16);for(;s.length<6;)s=v5+s;return Od+s},isCanvasFarblingActive(){if(Rd!==null)return Rd;if(typeof document>"u")return Rd=!1,!1;const s=this.createCanvasElement();s.width=10,s.height=10;const t=s.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,10,10),t.fillStyle="#282828",t.fillRect(0,0,10,10);const i=t.getImageData(0,0,10,10).data;let r=!1;for(let u=0;u<100;u++)if(i[u*4]!==40||i[u*4+1]!==40||i[u*4+2]!==40||i[u*4+3]!==255){r=!0;break}return Rd=r,this.releaseCanvas(s),Rd},getHitColor(){const s=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(s):s},getHitColorKey(s,t,i){return this.isCanvasFarblingActive()&&(s=Math.round(s/5)*5,t=Math.round(t/5)*5,i=Math.round(i/5)*5),Od+this._rgbToHex(s,t,i)},getSnappedHexColor(s){const t=this._hexToRgb(s);return Od+this._rgbToHex(Math.round(t.r/5)*5,Math.round(t.g/5)*5,Math.round(t.b/5)*5)},getRGB(s){let t;return s in bm?(t=bm[s],{r:t[0],g:t[1],b:t[2]}):s[0]===Od?this._hexToRgb(s.substring(1)):s.substr(0,4)===S5?(t=b5.exec(s.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(s){return s=s||"black",it._namedColorToRBA(s)||it._hex3ColorToRGBA(s)||it._hex4ColorToRGBA(s)||it._hex6ColorToRGBA(s)||it._hex8ColorToRGBA(s)||it._rgbColorToRGBA(s)||it._rgbaColorToRGBA(s)||it._hslColorToRGBA(s)},_namedColorToRBA(s){const t=bm[s.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(s){if(s.indexOf("rgb(")===0){s=s.match(/rgb\(([^)]+)\)/)[1];const t=s.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(s){if(s.indexOf("rgba(")===0){s=s.match(/rgba\(([^)]+)\)/)[1];const t=s.split(/ *, */).map((i,r)=>i.slice(-1)==="%"?r===3?parseInt(i)/100:parseInt(i)/100*255:Number(i));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(s){if(s[0]==="#"&&s.length===9)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:parseInt(s.slice(7,9),16)/255}},_hex6ColorToRGBA(s){if(s[0]==="#"&&s.length===7)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:1}},_hex4ColorToRGBA(s){if(s[0]==="#"&&s.length===5)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:parseInt(s[4]+s[4],16)/255}},_hex3ColorToRGBA(s){if(s[0]==="#"&&s.length===4)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:1}},_hslColorToRGBA(s){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(s)){const[t,...i]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s),r=Number(i[0])/360,u=Number(i[1])/100,d=Number(i[2])/100;let h,p,y;if(u===0)return y=d*255,{r:Math.round(y),g:Math.round(y),b:Math.round(y),a:1};d<.5?h=d*(1+u):h=d+u-d*u;const x=2*d-h,_=[0,0,0];for(let E=0;E<3;E++)p=r+1/3*-(E-1),p<0&&p++,p>1&&p--,6*p<1?y=x+(h-x)*6*p:2*p<1?y=h:3*p<2?y=x+(h-x)*(2/3-p)*6:y=x,_[E]=y*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(s,t){return!(t.x>s.x+s.width||t.x+t.width<s.x||t.y>s.y+s.height||t.y+t.height<s.y)},cloneObject(s){const t={};for(const i in s)this._isPlainObject(s[i])?t[i]=this.cloneObject(s[i]):this._isArray(s[i])?t[i]=this.cloneArray(s[i]):t[i]=s[i];return t},cloneArray(s){return s.slice(0)},degToRad(s){return s*m5},radToDeg(s){return s*g5},_degToRad(s){return it.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),it.degToRad(s)},_radToDeg(s){return it.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),it.radToDeg(s)},_getRotation(s){return Ht.angleDeg?it.radToDeg(s):s},_capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)},throw(s){throw new Error(qg+s)},error(s){console.error(qg+s)},warn(s){Ht.showWarnings&&console.warn(x5+s)},each(s,t){for(const i in s)t(i,s[i])},_inRange(s,t,i){return t<=s&&s<i},_getProjectionToSegment(s,t,i,r,u,d){let h,p,y;const x=(s-i)*(s-i)+(t-r)*(t-r);if(x==0)h=s,p=t,y=(u-i)*(u-i)+(d-r)*(d-r);else{const _=((u-s)*(i-s)+(d-t)*(r-t))/x;_<0?(h=s,p=t,y=(s-u)*(s-u)+(t-d)*(t-d)):_>1?(h=i,p=r,y=(i-u)*(i-u)+(r-d)*(r-d)):(h=s+_*(i-s),p=t+_*(r-t),y=(h-u)*(h-u)+(p-d)*(p-d))}return[h,p,y]},_getProjectionToLine(s,t,i){const r=it.cloneObject(s);let u=Number.MAX_VALUE;return t.forEach(function(d,h){if(!i&&h===t.length-1)return;const p=t[(h+1)%t.length],y=it._getProjectionToSegment(d.x,d.y,p.x,p.y,s.x,s.y),x=y[0],_=y[1],E=y[2];E<u&&(r.x=x,r.y=_,u=E)}),r},_prepareArrayForTween(s,t,i){const r=[],u=[];if(s.length>t.length){const h=t;t=s,s=h}for(let h=0;h<s.length;h+=2)r.push({x:s[h],y:s[h+1]});for(let h=0;h<t.length;h+=2)u.push({x:t[h],y:t[h+1]});const d=[];return u.forEach(function(h){const p=it._getProjectionToLine(h,r,i);d.push(p.x),d.push(p.y)}),d},_prepareToStringify(s){let t;s.visitedByCircularReferenceRemoval=!0;for(const i in s)if(s.hasOwnProperty(i)&&s[i]&&typeof s[i]=="object"){if(t=Object.getOwnPropertyDescriptor(s,i),s[i].visitedByCircularReferenceRemoval||it._isElement(s[i]))if(t.configurable)delete s[i];else return null;else if(it._prepareToStringify(s[i])===null)if(t.configurable)delete s[i];else return null}return delete s.visitedByCircularReferenceRemoval,s},_assign(s,t){for(const i in t)s[i]=t[i];return s},_getFirstPointerId(s){return s.touches?s.changedTouches[0].identifier:s.pointerId||999},releaseCanvas(...s){Ht.releaseCanvasOnDestroy&&s.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(s,t,i,r){let u=t<0?t:0,d=i<0?i:0;t=Math.abs(t),i=Math.abs(i);let h=0,p=0,y=0,x=0;typeof r=="number"?h=p=y=x=Math.min(r,t/2,i/2):(h=Math.min(r[0]||0,t/2,i/2),p=Math.min(r[1]||0,t/2,i/2),x=Math.min(r[2]||0,t/2,i/2),y=Math.min(r[3]||0,t/2,i/2)),s.moveTo(u+h,d),s.lineTo(u+t-p,d),s.arc(u+t-p,d+p,p,Math.PI*3/2,0,!1),s.lineTo(u+t,d+i-x),s.arc(u+t-x,d+i-x,x,0,Math.PI/2,!1),s.lineTo(u+y,d+i),s.arc(u+y,d+i-y,y,Math.PI/2,Math.PI,!1),s.lineTo(u,d+h),s.arc(u+h,d+h,h,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(s,t,i,r,u){r=Math.abs(r);for(let d=0;d<i;d++){const h=t[(d-1+i)%i],p=t[d],y=t[(d+1)%i],x={x:p.x-h.x,y:p.y-h.y},_={x:y.x-p.x,y:y.y-p.y},E=Math.hypot(x.x,x.y),T=Math.hypot(_.x,_.y);let z;typeof u=="number"?z=u:z=d<u.length?u[d]:0,z=r*Math.cos(Math.PI/i)*Math.min(1,z/r*2);const H={x:x.x/E,y:x.y/E},L={x:_.x/T,y:_.y/T},V={x:p.x-H.x*z,y:p.y-H.y*z},j={x:p.x+L.x*z,y:p.y+L.y*z};d===0?s.moveTo(V.x,V.y):s.lineTo(V.x,V.y),s.arcTo(p.x,p.y,j.x,j.y,z)}}};function E5(s){const t=[],i=s.length,r=it;for(let u=0;u<i;u++){let d=s[u];r._isNumber(d)?d=Math.round(d*1e3)/1e3:r._isString(d)||(d=d+""),t.push(d)}return t}const Yg=",",T5="(",C5=")",A5="([",M5="])",O5=";",R5="()",z5="=",Xg=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],N5=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],D5=100;let Yp=null;function kg(){if(Yp!==null)return Yp;try{const t=it.createCanvasElement().getContext("2d");return t?!!t&&"filter"in t:(Yp=!1,!1)}catch{return Yp=!1,!1}}class _0{constructor(t){this.canvas=t,Ht.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,i){let r=this.traceArr,u=r.length,d="",h,p,y,x;for(h=0;h<u;h++)p=r[h],y=p.method,y?(x=p.args,d+=y,t?d+=R5:it._isArray(x[0])?d+=A5+x.join(Yg)+M5:(i&&(x=x.map(_=>typeof _=="number"?Math.floor(_):_)),d+=T5+x.join(Yg)+C5)):(d+=p.property,t||(d+=z5+p.val)),d+=O5;return d}clearTrace(){this.traceArr=[]}_trace(t){let i=this.traceArr,r;i.push(t),r=i.length,r>=D5&&i.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const i=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,i.getWidth()/i.pixelRatio,i.getHeight()/i.pixelRatio)}_applyLineCap(t){const i=t.attrs.lineCap;i&&this.setAttr("lineCap",i)}_applyOpacity(t){const i=t.getAbsoluteOpacity();i!==1&&this.setAttr("globalAlpha",i)}_applyLineJoin(t){const i=t.attrs.lineJoin;i&&this.setAttr("lineJoin",i)}_applyMiterLimit(t){const i=t.attrs.miterLimit;i!=null&&this.setAttr("miterLimit",i)}setAttr(t,i){this._context[t]=i}arc(t,i,r,u,d,h){this._context.arc(t,i,r,u,d,h)}arcTo(t,i,r,u,d){this._context.arcTo(t,i,r,u,d)}beginPath(){this._context.beginPath()}bezierCurveTo(t,i,r,u,d,h){this._context.bezierCurveTo(t,i,r,u,d,h)}clearRect(t,i,r,u){this._context.clearRect(t,i,r,u)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,i){const r=arguments;if(r.length===2)return this._context.createImageData(t,i);if(r.length===1)return this._context.createImageData(t)}createLinearGradient(t,i,r,u){return this._context.createLinearGradient(t,i,r,u)}createPattern(t,i){return this._context.createPattern(t,i)}createRadialGradient(t,i,r,u,d,h){return this._context.createRadialGradient(t,i,r,u,d,h)}drawImage(t,i,r,u,d,h,p,y,x){const _=arguments,E=this._context;_.length===3?E.drawImage(t,i,r):_.length===5?E.drawImage(t,i,r,u,d):_.length===9&&E.drawImage(t,i,r,u,d,h,p,y,x)}ellipse(t,i,r,u,d,h,p,y){this._context.ellipse(t,i,r,u,d,h,p,y)}isPointInPath(t,i,r,u){return r?this._context.isPointInPath(r,t,i,u):this._context.isPointInPath(t,i,u)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,i,r,u){this._context.fillRect(t,i,r,u)}strokeRect(t,i,r,u){this._context.strokeRect(t,i,r,u)}fillText(t,i,r,u){u?this._context.fillText(t,i,r,u):this._context.fillText(t,i,r)}measureText(t){return this._context.measureText(t)}getImageData(t,i,r,u){return this._context.getImageData(t,i,r,u)}lineTo(t,i){this._context.lineTo(t,i)}moveTo(t,i){this._context.moveTo(t,i)}rect(t,i,r,u){this._context.rect(t,i,r,u)}roundRect(t,i,r,u,d){this._context.roundRect(t,i,r,u,d)}putImageData(t,i,r){this._context.putImageData(t,i,r)}quadraticCurveTo(t,i,r,u){this._context.quadraticCurveTo(t,i,r,u)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,i){this._context.scale(t,i)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,i,r,u,d,h){this._context.setTransform(t,i,r,u,d,h)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,i,r,u){this._context.strokeText(t,i,r,u)}transform(t,i,r,u,d,h){this._context.transform(t,i,r,u,d,h)}translate(t,i){this._context.translate(t,i)}_enableTrace(){let t=this,i=Xg.length,r=this.setAttr,u,d;const h=function(p){let y=t[p],x;t[p]=function(){return d=E5(Array.prototype.slice.call(arguments,0)),x=y.apply(t,arguments),t._trace({method:p,args:d}),x}};for(u=0;u<i;u++)h(Xg[u]);t.setAttr=function(){r.apply(t,arguments);const p=arguments[0];let y=arguments[1];(p==="shadowOffsetX"||p==="shadowOffsetY"||p==="shadowBlur")&&(y=y/this.canvas.getPixelRatio()),t._trace({property:p,val:y})}}_applyGlobalCompositeOperation(t){const i=t.attrs.globalCompositeOperation;!i||i==="source-over"||this.setAttr("globalCompositeOperation",i)}}N5.forEach(function(s){Object.defineProperty(_0.prototype,s,{get(){return this._context[s]},set(t){this._context[s]=t}})});class w5 extends _0{constructor(t,{willReadFrequently:i=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:i})}_fillColor(t){const i=t.fill();this.setAttr("fillStyle",i),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const i=t._getLinearGradient();i&&(this.setAttr("fillStyle",i),t._fillFunc(this))}_fillRadialGradient(t){const i=t._getRadialGradient();i&&(this.setAttr("fillStyle",i),t._fillFunc(this))}_fill(t){const i=t.fill(),r=t.getFillPriority();if(i&&r==="color"){this._fillColor(t);return}const u=t.getFillPatternImage();if(u&&r==="pattern"){this._fillPattern(t);return}const d=t.getFillLinearGradientColorStops();if(d&&r==="linear-gradient"){this._fillLinearGradient(t);return}const h=t.getFillRadialGradientColorStops();if(h&&r==="radial-gradient"){this._fillRadialGradient(t);return}i?this._fillColor(t):u?this._fillPattern(t):d?this._fillLinearGradient(t):h&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const i=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),u=t.getStrokeLinearGradientColorStops(),d=this.createLinearGradient(i.x,i.y,r.x,r.y);if(u){for(let h=0;h<u.length;h+=2)d.addColorStop(u[h],u[h+1]);this.setAttr("strokeStyle",d)}}_stroke(t){const i=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();const d=this.getCanvas().getPixelRatio();this.setTransform(d,0,0,d,0,0)}this._applyLineCap(t),i&&t.dashEnabled()&&(this.setLineDash(i),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var i,r,u;const d=(i=t.getShadowRGBA())!==null&&i!==void 0?i:"black",h=(r=t.getShadowBlur())!==null&&r!==void 0?r:5,p=(u=t.getShadowOffset())!==null&&u!==void 0?u:{x:0,y:0},y=t.getAbsoluteScale(),x=this.canvas.getPixelRatio(),_=y.x*x,E=y.y*x;this.setAttr("shadowColor",d),this.setAttr("shadowBlur",h*Math.min(Math.abs(_),Math.abs(E))),this.setAttr("shadowOffsetX",p.x*_),this.setAttr("shadowOffsetY",p.y*E)}}class j5 extends _0{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const i=t.getStrokeScaleEnabled();if(!i){this.save();const d=this.getCanvas().getPixelRatio();this.setTransform(d,0,0,d,0,0)}this._applyLineCap(t);const r=t.hitStrokeWidth(),u=r==="auto"?t.strokeWidth():r;this.setAttr("lineWidth",u),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),i||this.restore()}}}let Xp;function U5(){if(Xp)return Xp;const s=it.createCanvasElement(),t=s.getContext("2d");return Xp=(function(){const i=Ht._global.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/r})(),it.releaseCanvas(s),Xp}class g1{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(t||{}).pixelRatio||Ht.pixelRatio||U5();this.pixelRatio=r,this._canvas=it.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const i=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/i,this.getHeight()/i)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const i=this.pixelRatio;this.getContext()._context.scale(i,i)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const i=this.pixelRatio;this.getContext()._context.scale(i,i)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,i){this.setWidth(t||0),this.setHeight(i||0)}toDataURL(t,i){try{return this._canvas.toDataURL(t,i)}catch{try{return this._canvas.toDataURL()}catch(u){return it.error("Unable to get data URL. "+u.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class or extends g1{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new w5(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}class y1 extends g1{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new j5(this),this.setSize(t.width,t.height)}}const Ye={get isDragging(){let s=!1;return Ye._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(s=!0)}),s},justDragged:!1,get node(){let s;return Ye._dragElements.forEach(t=>{s=t.node}),s},_dragElements:new Map,_drag(s){const t=[];Ye._dragElements.forEach((i,r)=>{const{node:u}=i,d=u.getStage();d.setPointersPositions(s),i.pointerId===void 0&&(i.pointerId=it._getFirstPointerId(s));const h=d._changedPointerPositions.find(p=>p.id===i.pointerId);if(h){if(i.dragStatus!=="dragging"){const p=u.dragDistance();if(Math.max(Math.abs(h.x-i.startPointerPos.x),Math.abs(h.y-i.startPointerPos.y))<p||(u.startDrag({evt:s}),!u.isDragging()))return}u._setDragPosition(s,i),t.push(u)}}),t.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:s},!0)})},_endDragBefore(s){const t=[];Ye._dragElements.forEach(i=>{const{node:r}=i,u=r.getStage();if(s&&u.setPointersPositions(s),!u._changedPointerPositions.find(p=>p.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(Ye.justDragged=!0,Ht._mouseListenClick=!1,Ht._touchListenClick=!1,Ht._pointerListenClick=!1,i.dragStatus="stopped");const h=i.node.getLayer()||i.node instanceof Ht.Stage&&i.node;h&&t.indexOf(h)===-1&&t.push(h)}),t.forEach(i=>{i.draw()})},_endDragAfter(s){Ye._dragElements.forEach((t,i)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:s},!0),t.dragStatus!=="dragging"&&Ye._dragElements.delete(i)})}};Ht.isBrowser&&(window.addEventListener("mouseup",Ye._endDragBefore,!0),window.addEventListener("touchend",Ye._endDragBefore,!0),window.addEventListener("touchcancel",Ye._endDragBefore,!0),window.addEventListener("mousemove",Ye._drag),window.addEventListener("touchmove",Ye._drag),window.addEventListener("mouseup",Ye._endDragAfter,!1),window.addEventListener("touchend",Ye._endDragAfter,!1),window.addEventListener("touchcancel",Ye._endDragAfter,!1));function rr(s){return it._isString(s)?'"'+s+'"':Object.prototype.toString.call(s)==="[object Number]"||it._isBoolean(s)?s:Object.prototype.toString.call(s)}function hy(s){return s>255?255:s<0?0:Math.round(s)}function jt(){if(Ht.isUnminified)return function(s,t){return it._isNumber(s)||it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),s}}function E0(s){if(Ht.isUnminified)return function(t,i){let r=it._isNumber(t),u=it._isArray(t)&&t.length==s;return!r&&!u&&it.warn(rr(t)+' is a not valid value for "'+i+'" attribute. The value should be a number or Array<number>('+s+")"),t}}function v1(){if(Ht.isUnminified)return function(s,t){return it._isNumber(s)||s==="auto"||it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),s}}function fu(){if(Ht.isUnminified)return function(s,t){return it._isString(s)||it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),s}}function py(){if(Ht.isUnminified)return function(s,t){const i=it._isString(s),r=Object.prototype.toString.call(s)==="[object CanvasGradient]"||s&&s.addColorStop;return i||r||it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),s}}function B5(){if(Ht.isUnminified)return function(s,t){const i=Int8Array?Object.getPrototypeOf(Int8Array):null;return i&&s instanceof i||(it._isArray(s)?s.forEach(function(r){it._isNumber(r)||it.warn('"'+t+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),s}}function Tl(){if(Ht.isUnminified)return function(s,t){return s===!0||s===!1||it.warn(rr(s)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),s}}function G5(s){if(Ht.isUnminified)return function(t,i){return t==null||it.isObject(t)||it.warn(rr(t)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+s),t}}const zd="get",Nd="set",J={addGetterSetter(s,t,i,r,u){J.addGetter(s,t,i),J.addSetter(s,t,r,u),J.addOverloadedGetterSetter(s,t)},addGetter(s,t,i){const r=zd+it._capitalize(t);s.prototype[r]=s.prototype[r]||function(){const u=this.attrs[t];return u===void 0?i:u}},addSetter(s,t,i,r){const u=Nd+it._capitalize(t);s.prototype[u]||J.overWriteSetter(s,t,i,r)},overWriteSetter(s,t,i,r){const u=Nd+it._capitalize(t);s.prototype[u]=function(d){return i&&d!==void 0&&d!==null&&(d=i.call(this,d,t)),this._setAttr(t,d),r&&r.call(this),this}},addComponentsGetterSetter(s,t,i,r,u){const d=i.length,h=it._capitalize,p=zd+h(t),y=Nd+h(t);s.prototype[p]=function(){const _={};for(let E=0;E<d;E++){const T=i[E];_[T]=this.getAttr(t+h(T))}return _};const x=G5(i);s.prototype[y]=function(_){const E=this.attrs[t];r&&(_=r.call(this,_,t)),x&&x.call(this,_,t);for(const T in _)_.hasOwnProperty(T)&&this._setAttr(t+h(T),_[T]);return _||i.forEach(T=>{this._setAttr(t+h(T),void 0)}),this._fireChangeEvent(t,E,_),u&&u.call(this),this},J.addOverloadedGetterSetter(s,t)},addOverloadedGetterSetter(s,t){const i=it._capitalize(t),r=Nd+i,u=zd+i;s.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,t,i,r){it.error("Adding deprecated "+t);const u=zd+it._capitalize(t),d=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){it.error(d);const h=this.attrs[t];return h===void 0?i:h},J.addSetter(s,t,r,function(){it.error(d)}),J.addOverloadedGetterSetter(s,t)},backCompat(s,t){it.each(t,function(i,r){const u=s.prototype[r],d=zd+it._capitalize(i),h=Nd+it._capitalize(i);function p(){u.apply(this,arguments),it.error('"'+i+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}s.prototype[i]=p,s.prototype[d]=p,s.prototype[h]=p})},afterSetFilter(){this._filterUpToDate=!1}};function H5(s){const t=/(\w+)\(([^)]+)\)/g;let i;for(;(i=t.exec(s))!==null;){const[,r,u]=i;switch(r){case"blur":{const d=parseFloat(u.replace("px",""));return function(h){this.blurRadius(d*.5);const p=Ht.Filters;p&&p.Blur&&p.Blur.call(this,h)}}case"brightness":{const d=u.includes("%")?parseFloat(u)/100:parseFloat(u);return function(h){this.brightness(d);const p=Ht.Filters;p&&p.Brightness&&p.Brightness.call(this,h)}}case"contrast":{const d=parseFloat(u);return function(h){const p=100*(Math.sqrt(d)-1);this.contrast(p);const y=Ht.Filters;y&&y.Contrast&&y.Contrast.call(this,h)}}case"grayscale":return function(d){const h=Ht.Filters;h&&h.Grayscale&&h.Grayscale.call(this,d)};case"sepia":return function(d){const h=Ht.Filters;h&&h.Sepia&&h.Sepia.call(this,d)};case"invert":return function(d){const h=Ht.Filters;h&&h.Invert&&h.Invert.call(this,d)};default:it.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const i0="absoluteOpacity",Vg="allEventListeners",$s="absoluteTransform",Qg="absoluteScale",lu="canvas",L5="Change",q5="children",Y5="konva",Fm="listening",X5="mouseenter",k5="mouseleave",V5="pointerenter",Q5="pointerleave",K5="touchenter",Z5="touchleave",Kg="set",Zg="Shape",l0=" ",Jg="stage",lr="transform",J5="Stage",Wm="visible",F5=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(l0);let W5=1;class wt{constructor(t){this._id=W5++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===lr||t===$s)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,i){let r=this._cache.get(t);return(r===void 0||(t===lr||t===$s)&&r.dirty===!0)&&(r=i.call(this),this._cache.set(t,r)),r}_calculate(t,i,r){if(!this._attachedDepsListeners.get(t)){const u=i.map(d=>d+"Change.konva").join(l0);this.on(u,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(lu)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===$s&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(lu)){const{scene:t,filter:i,hit:r}=this._cache.get(lu);it.releaseCanvas(t._canvas,i._canvas,r._canvas),this._cache.delete(lu)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const i=t||{};let r={};(i.x===void 0||i.y===void 0||i.width===void 0||i.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let u=Math.ceil(i.width||r.width),d=Math.ceil(i.height||r.height),h=i.pixelRatio,p=i.x===void 0?Math.floor(r.x):i.x,y=i.y===void 0?Math.floor(r.y):i.y,x=i.offset||0,_=i.drawBorder||!1,E=i.hitCanvasPixelRatio||1;if(!u||!d){it.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const T=Math.abs(Math.round(r.x)-p)>.5?1:0,z=Math.abs(Math.round(r.y)-y)>.5?1:0;u+=x*2+T,d+=x*2+z,p-=x,y-=x;const A=new or({pixelRatio:h,width:u,height:d}),H=new or({pixelRatio:h,width:0,height:0,willReadFrequently:!0}),L=new y1({pixelRatio:E,width:u,height:d}),V=A.getContext(),j=L.getContext(),Z=new or({width:A.width/A.pixelRatio+Math.abs(p),height:A.height/A.pixelRatio+Math.abs(y),pixelRatio:A.pixelRatio}),K=Z.getContext();return L.isCache=!0,A.isCache=!0,this._cache.delete(lu),this._filterUpToDate=!1,i.imageSmoothingEnabled===!1&&(A.getContext()._context.imageSmoothingEnabled=!1,H.getContext()._context.imageSmoothingEnabled=!1),V.save(),j.save(),K.save(),V.translate(-p,-y),j.translate(-p,-y),K.translate(-p,-y),Z.x=p,Z.y=y,this._isUnderCache=!0,this._clearSelfAndDescendantCache(i0),this._clearSelfAndDescendantCache(Qg),this.drawScene(A,this,Z),this.drawHit(L,this),this._isUnderCache=!1,V.restore(),j.restore(),_&&(V.save(),V.beginPath(),V.rect(0,0,u,d),V.closePath(),V.setAttr("strokeStyle","red"),V.setAttr("lineWidth",5),V.stroke(),V.restore()),it.releaseCanvas(Z._canvas),this._cache.set(lu,{scene:A,filter:H,hit:L,x:p,y}),this._requestDraw(),this}isCached(){return this._cache.has(lu)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,i){const r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let u=1/0,d=1/0,h=-1/0,p=-1/0;const y=this.getAbsoluteTransform(i);return r.forEach(function(x){const _=y.point(x);u===void 0&&(u=h=_.x,d=p=_.y),u=Math.min(u,_.x),d=Math.min(d,_.y),h=Math.max(h,_.x),p=Math.max(p,_.y)}),{x:u,y:d,width:h-u,height:p-d}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const i=this._getCanvasCache();t.translate(i.x,i.y);const r=this._getCachedSceneCanvas(),u=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/u,r.height/u),t.restore()}_drawCachedHitCanvas(t){const i=this._getCanvasCache(),r=i.hit;t.save(),t.translate(i.x,i.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),i=this._getCanvasCache(),r=i.scene,u=i.filter,d=u.getContext(),h,p,y,x;if(!t||t.length===0)return r;if(this._filterUpToDate)return u;let _=!0;for(let T=0;T<t.length;T++)if(typeof t[T]=="string"&&kg(),typeof t[T]!="string"||!kg()){_=!1;break}const E=r.pixelRatio;if(u.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),_){const T=t.join(" ");return d.save(),d.setAttr("filter",T),d.drawImage(r._canvas,0,0,r.getWidth()/E,r.getHeight()/E),d.restore(),this._filterUpToDate=!0,u}try{for(h=t.length,d.clear(),d.drawImage(r._canvas,0,0,r.getWidth()/E,r.getHeight()/E),p=d.getImageData(0,0,u.getWidth(),u.getHeight()),y=0;y<h;y++)x=t[y],typeof x=="string"&&(x=H5(x)),x.call(this,p),d.putImageData(p,0,0)}catch(T){it.error("Unable to apply filter. "+T.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,u}on(t,i){if(this._cache&&this._cache.delete(Vg),arguments.length===3)return this._delegate.apply(this,arguments);const r=t.split(l0);for(let u=0;u<r.length;u++){const h=r[u].split("."),p=h[0],y=h[1]||"";this.eventListeners[p]||(this.eventListeners[p]=[]),this.eventListeners[p].push({name:y,handler:i})}return this}off(t,i){let r=(t||"").split(l0),u=r.length,d,h,p,y,x,_;if(this._cache&&this._cache.delete(Vg),!t)for(h in this.eventListeners)this._off(h);for(d=0;d<u;d++)if(p=r[d],y=p.split("."),x=y[0],_=y[1],x)this.eventListeners[x]&&this._off(x,_,i);else for(h in this.eventListeners)this._off(h,_,i);return this}dispatchEvent(t){const i={target:this,type:t.type,evt:t};return this.fire(t.type,i),this}addEventListener(t,i){return this.on(t,function(r){i.call(this,r.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,i,r){const u=this;this.on(t,function(d){const h=d.target.findAncestors(i,!0,u);for(let p=0;p<h.length;p++)d=it.cloneObject(d),d.currentTarget=h[p],r.call(h[p],d)})}remove(){return this.isDragging()&&this.stopDrag(),Ye._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache($s),this._clearSelfAndDescendantCache(i0),this._clearSelfAndDescendantCache(Qg),this._clearSelfAndDescendantCache(Jg),this._clearSelfAndDescendantCache(Wm),this._clearSelfAndDescendantCache(Fm)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const i="get"+it._capitalize(t);return it._isFunction(this[i])?this[i]():this.attrs[t]}getAncestors(){let t=this.getParent(),i=[];for(;t;)i.push(t),t=t.getParent();return i}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let i,r;if(!t)return this;for(i in t)i!==q5&&(r=Kg+it._capitalize(i),it._isFunction(this[r])?this[r](t[i]):this._setAttr(i,t[i]))}),this}isListening(){return this._getCache(Fm,this._isListening)}_isListening(t){if(!this.listening())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isListening(t):!0}isVisible(){return this._getCache(Wm,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isVisible(t):!0}shouldDrawHit(t,i=!1){if(t)return this._isVisible(t)&&this._isListening(t);const r=this.getLayer();let u=!1;Ye._dragElements.forEach(h=>{h.dragStatus==="dragging"&&(h.node.nodeType==="Stage"||h.node.getLayer()===r)&&(u=!0)});const d=!i&&!Ht.hitOnDragEnabled&&(u||Ht.isTransforming());return this.isListening()&&this.isVisible()&&!d}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),i=this,r=0,u,d,h,p;function y(_){for(u=[],d=_.length,h=0;h<d;h++)p=_[h],r++,p.nodeType!==Zg&&(u=u.concat(p.getChildren().slice())),p._id===i._id&&(h=d);u.length>0&&u[0].getDepth()<=t&&y(u)}const x=this.getStage();return i.nodeType!==J5&&x&&y(x.getChildren()),r}getDepth(){let t=0,i=this.parent;for(;i;)t++,i=i.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(lr),this._clearSelfAndDescendantCache($s)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const i=t.getPointerPosition();if(!i)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(i)}getAbsolutePosition(t){let i=!1,r=this.parent;for(;r;){if(r.isCached()){i=!0;break}r=r.parent}i&&!t&&(t=!0);const u=this.getAbsoluteTransform(t).getMatrix(),d=new bi,h=this.offset();return d.m=u.slice(),d.translate(h.x,h.y),d.getTranslation()}setAbsolutePosition(t){const{x:i,y:r,...u}=this._clearTransform();this.attrs.x=i,this.attrs.y=r,this._clearCache(lr);const d=this._getAbsoluteTransform().copy();return d.invert(),d.translate(t.x,t.y),t={x:this.attrs.x+d.getTranslation().x,y:this.attrs.y+d.getTranslation().y},this._setTransform(u),this.setPosition({x:t.x,y:t.y}),this._clearCache(lr),this._clearSelfAndDescendantCache($s),this}_setTransform(t){let i;for(i in t)this.attrs[i]=t[i]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let i=t.x,r=t.y,u=this.x(),d=this.y();return i!==void 0&&(u+=i),r!==void 0&&(d+=r),this.setPosition({x:u,y:d}),this}_eachAncestorReverse(t,i){let r=[],u=this.getParent(),d,h;if(!(i&&i._id===this._id)){for(r.unshift(this);u&&(!i||u._id!==i._id);)r.unshift(u),u=u.parent;for(d=r.length,h=0;h<d;h++)t(r[h])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return it.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,i=this.parent.getChildren().length;return t<i-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return it.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,i=this.parent.getChildren().length;return t<i-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return it.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return it.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return it.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&it.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const i=this.index;return this.parent.children.splice(i,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(i0,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const i=this.getParent();return i&&!i._isUnderCache&&(t*=i.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),i,r,u,d,h;const p={attrs:{},className:this.getClassName()};for(i in t)r=t[i],h=it.isObject(r)&&!it._isPlainObject(r)&&!it._isArray(r),!h&&(u=typeof this[i]=="function"&&this[i],delete t[i],d=u?u.call(this):null,t[i]=r,d!==r&&(p.attrs[i]=r));return it._prepareToStringify(p)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,i,r){const u=[];i&&this._isMatch(t)&&u.push(this);let d=this.parent;for(;d;){if(d===r)return u;d._isMatch(t)&&u.push(d),d=d.parent}return u}isAncestorOf(t){return!1}findAncestor(t,i,r){return this.findAncestors(t,i,r)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let i=t.replace(/ /g,"").split(","),r=i.length,u,d;for(u=0;u<r;u++)if(d=i[u],it.isValidSelector(d)||(it.warn('Selector "'+d+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),it.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),it.warn("Konva is awesome, right?")),d.charAt(0)==="#"){if(this.id()===d.slice(1))return!0}else if(d.charAt(0)==="."){if(this.hasName(d.slice(1)))return!0}else if(this.className===d||this.nodeType===d)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(Jg,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,i={},r){return i.target=i.target||this,r?this._fireAndBubble(t,i):this._fire(t,i),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache($s,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let i;if(t)return i=new bi,this._eachAncestorReverse(function(r){const u=r.transformsEnabled();u==="all"?i.multiply(r.getTransform()):u==="position"&&i.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},t),i;{i=this._cache.get($s)||new bi,this.parent?this.parent.getAbsoluteTransform().copyInto(i):i.reset();const r=this.transformsEnabled();if(r==="all")i.multiply(this.getTransform());else if(r==="position"){const u=this.attrs.x||0,d=this.attrs.y||0,h=this.attrs.offsetX||0,p=this.attrs.offsetY||0;i.translate(u-h,d-p)}return i.dirty=!1,i}}getAbsoluteScale(t){let i=this;for(;i;)i._isUnderCache&&(t=i),i=i.getParent();const u=this.getAbsoluteTransform(t).decompose();return{x:u.scaleX,y:u.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(lr,this._getTransform)}_getTransform(){var t,i;const r=this._cache.get(lr)||new bi;r.reset();const u=this.x(),d=this.y(),h=Ht.getAngle(this.rotation()),p=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,y=(i=this.attrs.scaleY)!==null&&i!==void 0?i:1,x=this.attrs.skewX||0,_=this.attrs.skewY||0,E=this.attrs.offsetX||0,T=this.attrs.offsetY||0;return(u!==0||d!==0)&&r.translate(u,d),h!==0&&r.rotate(h),(x!==0||_!==0)&&r.skew(x,_),(p!==1||y!==1)&&r.scale(p,y),(E!==0||T!==0)&&r.translate(-1*E,-1*T),r.dirty=!1,r}clone(t){let i=it.cloneObject(this.attrs),r,u,d,h,p;for(r in t)i[r]=t[r];const y=new this.constructor(i);for(r in this.eventListeners)for(u=this.eventListeners[r],d=u.length,h=0;h<d;h++)p=u[h],p.name.indexOf(Y5)<0&&(y.eventListeners[r]||(y.eventListeners[r]=[]),y.eventListeners[r].push(p));return y}_toKonvaCanvas(t){t=t||{};const i=this.getClientRect(),r=this.getStage(),u=t.x!==void 0?t.x:Math.floor(i.x),d=t.y!==void 0?t.y:Math.floor(i.y),h=t.pixelRatio||1,p=new or({width:t.width||Math.ceil(i.width)||(r?r.width():0),height:t.height||Math.ceil(i.height)||(r?r.height():0),pixelRatio:h}),y=p.getContext(),x=new or({width:p.width/p.pixelRatio+Math.abs(u),height:p.height/p.pixelRatio+Math.abs(d),pixelRatio:p.pixelRatio});return t.imageSmoothingEnabled===!1&&(y._context.imageSmoothingEnabled=!1),y.save(),(u||d)&&y.translate(-1*u,-1*d),this.drawScene(p,void 0,x),y.restore(),p}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const i=t.mimeType||null,r=t.quality||null,u=this._toKonvaCanvas(t).toDataURL(i,r);return t.callback&&t.callback(u),u}toImage(t){return new Promise((i,r)=>{try{const u=t?.callback;u&&delete t.callback,it._urlToImage(this.toDataURL(t),function(d){i(d),u?.(d)})}catch(u){r(u)}})}toBlob(t){return new Promise((i,r)=>{try{const u=t?.callback;u&&delete t.callback,this.toCanvas(t).toBlob(d=>{i(d),u?.(d)},t?.mimeType,t?.quality)}catch(u){r(u)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ht.dragDistance}_off(t,i,r){let u=this.eventListeners[t],d,h,p;for(d=0;d<u.length;d++)if(h=u[d].name,p=u[d].handler,(h!=="konva"||i==="konva")&&(!i||h===i)&&(!r||r===p)){if(u.splice(d,1),u.length===0){delete this.eventListeners[t];break}d--}}_fireChangeEvent(t,i,r){this._fire(t+L5,{oldVal:i,newVal:r})}addName(t){if(!this.hasName(t)){const i=this.name(),r=i?i+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const i=this.name();return i?(i||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const i=(this.name()||"").split(/\s/g),r=i.indexOf(t);return r!==-1&&(i.splice(r,1),this.name(i.join(" "))),this}setAttr(t,i){const r=this[Kg+it._capitalize(t)];return it._isFunction(r)?r.call(this,i):this._setAttr(t,i),this}_requestDraw(){if(Ht.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,i){const r=this.attrs[t];r===i&&!it.isObject(i)||(i==null?delete this.attrs[t]:this.attrs[t]=i,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,i),this._requestDraw())}_setComponentAttr(t,i,r){let u;r!==void 0&&(u=this.attrs[t],u||(this.attrs[t]=this.getAttr(t)),this.attrs[t][i]=r,this._fireChangeEvent(t,u,r))}_fireAndBubble(t,i,r){i&&this.nodeType===Zg&&(i.target=this);const u=[X5,k5,V5,Q5,K5,Z5];if(!(u.indexOf(t)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(t,i);const h=u.indexOf(t)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(i&&!i.cancelBubble||!i)&&this.parent&&this.parent.isListening()&&!h&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,i,r):this._fireAndBubble.call(this.parent,t,i))}}_getProtoListeners(t){var i,r;const{nodeType:u}=this,d=wt.protoListenerMap.get(u)||{};let h=d?.[t];if(h===void 0){h=[];let p=Object.getPrototypeOf(this);for(;p;){const y=(r=(i=p.eventListeners)===null||i===void 0?void 0:i[t])!==null&&r!==void 0?r:[];h.push(...y),p=Object.getPrototypeOf(p)}d[t]=h,wt.protoListenerMap.set(u,d)}return h}_fire(t,i){i=i||{},i.currentTarget=this,i.type=t;const r=this._getProtoListeners(t);if(r)for(let d=0;d<r.length;d++)r[d].handler.call(this,i);const u=this.eventListeners[t];if(u)for(let d=0;d<u.length;d++)u[d].handler.call(this,i)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const i=t?t.pointerId:void 0,r=this.getStage(),u=this.getAbsolutePosition();if(!r)return;const d=r._getPointerById(i)||r._changedPointerPositions[0]||u;Ye._dragElements.set(this._id,{node:this,startPointerPos:d,offset:{x:d.x-u.x,y:d.y-u.y},dragStatus:"ready",pointerId:i})}startDrag(t,i=!0){Ye._dragElements.has(this._id)||this._createDragElement(t);const r=Ye._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},i)}_setDragPosition(t,i){const r=this.getStage()._getPointerById(i.pointerId);if(!r)return;let u={x:r.x-i.offset.x,y:r.y-i.offset.y};const d=this.dragBoundFunc();if(d!==void 0){const h=d.call(this,u,t);h?u=h:it.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==u.x||this._lastPos.y!==u.y)&&(this.setAbsolutePosition(u),this._requestDraw()),this._lastPos=u}stopDrag(t){const i=Ye._dragElements.get(this._id);i&&(i.dragStatus="stopped"),Ye._endDragBefore(t),Ye._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Ye._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||Ht.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let u=!1;Ye._dragElements.forEach(d=>{this.isAncestorOf(d.node)&&(u=!0)}),u||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const i=Ye._dragElements.get(this._id),r=i&&i.dragStatus==="dragging",u=i&&i.dragStatus==="ready";r?this.stopDrag():u&&Ye._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const i=this.getStage();if(!i)return!1;const r={x:-t.x,y:-t.y,width:i.width()+2*t.x,height:i.height()+2*t.y};return it.haveIntersection(r,this.getClientRect())}static create(t,i){return it._isString(t)&&(t=JSON.parse(t)),this._createNode(t,i)}static _createNode(t,i){let r=wt.prototype.getClassName.call(t),u=t.children,d,h,p;i&&(t.attrs.container=i),Ht[r]||(it.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const y=Ht[r];if(d=new y(t.attrs),u)for(h=u.length,p=0;p<h;p++)d.add(wt._createNode(u[p]));return d}}wt.protoListenerMap=new Map;wt.prototype.nodeType="Node";wt.prototype._attrsAffectingSize=[];wt.prototype.eventListeners={};wt.prototype.on.call(wt.prototype,F5,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(lr),this._clearSelfAndDescendantCache($s)});wt.prototype.on.call(wt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Wm)});wt.prototype.on.call(wt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Fm)});wt.prototype.on.call(wt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(i0)});const Ie=J.addGetterSetter;Ie(wt,"zIndex");Ie(wt,"absolutePosition");Ie(wt,"position");Ie(wt,"x",0,jt());Ie(wt,"y",0,jt());Ie(wt,"globalCompositeOperation","source-over",fu());Ie(wt,"opacity",1,jt());Ie(wt,"name","",fu());Ie(wt,"id","",fu());Ie(wt,"rotation",0,jt());J.addComponentsGetterSetter(wt,"scale",["x","y"]);Ie(wt,"scaleX",1,jt());Ie(wt,"scaleY",1,jt());J.addComponentsGetterSetter(wt,"skew",["x","y"]);Ie(wt,"skewX",0,jt());Ie(wt,"skewY",0,jt());J.addComponentsGetterSetter(wt,"offset",["x","y"]);Ie(wt,"offsetX",0,jt());Ie(wt,"offsetY",0,jt());Ie(wt,"dragDistance",void 0,jt());Ie(wt,"width",0,jt());Ie(wt,"height",0,jt());Ie(wt,"listening",!0,Tl());Ie(wt,"preventDefault",!0,Tl());Ie(wt,"filters",void 0,function(s){return this._filterUpToDate=!1,s});Ie(wt,"visible",!0,Tl());Ie(wt,"transformsEnabled","all",fu());Ie(wt,"size");Ie(wt,"dragBoundFunc");Ie(wt,"draggable",!1,Tl());J.backCompat(wt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class _i extends wt{constructor(){super(...arguments),this.children=[]}getChildren(t){const i=this.children||[];return t?i.filter(t):i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let r=0;r<t.length;r++)this.add(t[r]);return this}const i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const i=this._generalFind(t,!0);return i.length>0?i[0]:void 0}_generalFind(t,i){const r=[];return this._descendants(u=>{const d=u._isMatch(t);return d&&r.push(u),!!(d&&i)}),r}_descendants(t){let i=!1;const r=this.getChildren();for(const u of r){if(i=t(u),i)return!0;if(u.hasChildren()&&(i=u._descendants(t),i))return!0}return!1}toObject(){const t=wt.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(i=>{t.children.push(i.toObject())}),t}isAncestorOf(t){let i=t.getParent();for(;i;){if(i._id===this._id)return!0;i=i.getParent()}return!1}clone(t){const i=wt.prototype.clone.call(this,t);return this.getChildren().forEach(function(r){i.add(r.clone())}),i}getAllIntersections(t){const i=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(t)&&i.push(r)}),i}_clearSelfAndDescendantCache(t){var i;super._clearSelfAndDescendantCache(t),!this.isCached()&&((i=this.children)===null||i===void 0||i.forEach(function(r){r._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(i,r){i.index=r}),this._requestDraw()}drawScene(t,i,r){const u=this.getLayer(),d=t||u&&u.getCanvas(),h=d&&d.getContext(),p=this._getCanvasCache(),y=p&&p.scene,x=d&&d.isCache;if(!this.isVisible()&&!x)return this;if(y){h.save();const _=this.getAbsoluteTransform(i).getMatrix();h.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(h),h.restore()}else this._drawChildren("drawScene",d,i,r);return this}drawHit(t,i){if(!this.shouldDrawHit(i))return this;const r=this.getLayer(),u=t||r&&r.hitCanvas,d=u&&u.getContext(),h=this._getCanvasCache();if(h&&h.hit){d.save();const y=this.getAbsoluteTransform(i).getMatrix();d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedHitCanvas(d),d.restore()}else this._drawChildren("drawHit",u,i);return this}_drawChildren(t,i,r,u){var d;const h=i&&i.getContext(),p=this.clipWidth(),y=this.clipHeight(),x=this.clipFunc(),_=typeof p=="number"&&typeof y=="number"||x,E=r===this;if(_){h.save();const z=this.getAbsoluteTransform(r);let A=z.getMatrix();h.transform(A[0],A[1],A[2],A[3],A[4],A[5]),h.beginPath();let H;if(x)H=x.call(this,h,this);else{const L=this.clipX(),V=this.clipY();h.rect(L||0,V||0,p,y)}h.clip.apply(h,H),A=z.copy().invert().getMatrix(),h.transform(A[0],A[1],A[2],A[3],A[4],A[5])}const T=!E&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";T&&(h.save(),h._applyGlobalCompositeOperation(this)),(d=this.children)===null||d===void 0||d.forEach(function(z){z[t](i,r,u)}),T&&h.restore(),_&&h.restore()}getClientRect(t={}){var i;const r=t.skipTransform,u=t.relativeTo;let d,h,p,y,x={x:1/0,y:1/0,width:0,height:0};const _=this;(i=this.children)===null||i===void 0||i.forEach(function(z){if(!z.visible())return;const A=z.getClientRect({relativeTo:_,skipShadow:t.skipShadow,skipStroke:t.skipStroke});A.width===0&&A.height===0||(d===void 0?(d=A.x,h=A.y,p=A.x+A.width,y=A.y+A.height):(d=Math.min(d,A.x),h=Math.min(h,A.y),p=Math.max(p,A.x+A.width),y=Math.max(y,A.y+A.height)))});const E=this.find("Shape");let T=!1;for(let z=0;z<E.length;z++)if(E[z]._isVisible(this)){T=!0;break}return T&&d!==void 0?x={x:d,y:h,width:p-d,height:y-h}:x={x:0,y:0,width:0,height:0},r?x:this._transformedRect(x,u)}}J.addComponentsGetterSetter(_i,"clip",["x","y","width","height"]);J.addGetterSetter(_i,"clipX",void 0,jt());J.addGetterSetter(_i,"clipY",void 0,jt());J.addGetterSetter(_i,"clipWidth",void 0,jt());J.addGetterSetter(_i,"clipHeight",void 0,jt());J.addGetterSetter(_i,"clipFunc");const Qd=new Map,my=Ht._global.PointerEvent!==void 0;function _m(s){return Qd.get(s)}function x1(s){return{evt:s,pointerId:s.pointerId}}function gy(s,t){return Qd.get(s)===t}function yy(s,t){Yd(s),t.getStage()&&(Qd.set(s,t),my&&t._fire("gotpointercapture",x1(new PointerEvent("gotpointercapture"))))}function Yd(s,t){const i=Qd.get(s);if(!i)return;const r=i.getStage();r&&r.content,Qd.delete(s),my&&i._fire("lostpointercapture",x1(new PointerEvent("lostpointercapture")))}const P5="Stage",I5="string",Fg="px",$5="mouseout",vy="mouseleave",xy="mouseover",Sy="mouseenter",by="mousemove",_y="mousedown",Ey="mouseup",Bd="pointermove",Gd="pointerdown",Lc="pointerup",Hd="pointercancel",t6="lostpointercapture",kp="pointerout",Ld="pointerleave",Vp="pointerover",Qp="pointerenter",Pm="contextmenu",Ty="touchstart",Cy="touchend",Ay="touchmove",My="touchcancel",Im="wheel",e6=5,n6=[[Sy,"_pointerenter"],[_y,"_pointerdown"],[by,"_pointermove"],[Ey,"_pointerup"],[vy,"_pointerleave"],[Ty,"_pointerdown"],[Ay,"_pointermove"],[Cy,"_pointerup"],[My,"_pointercancel"],[xy,"_pointerover"],[Im,"_wheel"],[Pm,"_contextmenu"],[Gd,"_pointerdown"],[Bd,"_pointermove"],[Lc,"_pointerup"],[Hd,"_pointercancel"],[Ld,"_pointerleave"],[t6,"_lostpointercapture"]],Em={mouse:{[kp]:$5,[Ld]:vy,[Vp]:xy,[Qp]:Sy,[Bd]:by,[Gd]:_y,[Lc]:Ey,[Hd]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[kp]:"touchout",[Ld]:"touchleave",[Vp]:"touchover",[Qp]:"touchenter",[Bd]:Ay,[Gd]:Ty,[Lc]:Cy,[Hd]:My,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[kp]:kp,[Ld]:Ld,[Vp]:Vp,[Qp]:Qp,[Bd]:Bd,[Gd]:Gd,[Lc]:Lc,[Hd]:Hd,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},qd=s=>s.indexOf("pointer")>=0?"pointer":s.indexOf("touch")>=0?"touch":"mouse",Bc=s=>{const t=qd(s);if(t==="pointer")return Ht.pointerEventsEnabled&&Em.pointer;if(t==="touch")return Em.touch;if(t==="mouse")return Em.mouse};function Wg(s={}){return(s.clipFunc||s.clipWidth||s.clipHeight)&&it.warn("Stage does not support clipping. Please use clip for Layers or Groups."),s}const a6="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Xd=[];let T0=class extends _i{constructor(t){super(Wg(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Xd.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Wg(this.attrs)}),this._checkVisibility()}_validateAdd(t){const i=t.getType()==="Layer",r=t.getType()==="FastLayer";i||r||it.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===I5){let i;if(t.charAt(0)==="."){const r=t.slice(1);t=document.getElementsByClassName(r)[0]}else t.charAt(0)!=="#"?i=t:i=t.slice(1),t=document.getElementById(i);if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const t=this.children,i=t.length;for(let r=0;r<i;r++)t[r].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),_i.prototype.clone.call(this,t)}destroy(){super.destroy();const t=this.content;t&&it._isInDocument(t)&&this.container().removeChild(t);const i=Xd.indexOf(this);return i>-1&&Xd.splice(i,1),it.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(it.warn(a6),null)}_getPointerById(t){return this._pointerPositions.find(i=>i.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t={...t},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();const i=new or({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=i.getContext()._context,u=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),u.forEach(function(d){if(!d.isVisible())return;const h=d._toKonvaCanvas(t);r.drawImage(h._canvas,t.x,t.y,h.getWidth()/h.getPixelRatio(),h.getHeight()/h.getPixelRatio())}),i}getIntersection(t){if(!t)return null;const i=this.children,r=i.length,u=r-1;for(let d=u;d>=0;d--){const h=i[d].getIntersection(t);if(h)return h}return null}_resizeDOM(){const t=this.width(),i=this.height();this.content&&(this.content.style.width=t+Fg,this.content.style.height=i+Fg),this.bufferCanvas.setSize(t,i),this.bufferHitCanvas.setSize(t,i),this.children.forEach(r=>{r.setSize({width:t,height:i}),r.draw()})}add(t,...i){if(arguments.length>1){for(let u=0;u<arguments.length;u++)this.add(arguments[u]);return this}super.add(t);const r=this.children.length;return r>e6&&it.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),Ht.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return gy(t,this)}setPointerCapture(t){yy(t,this)}releaseCapture(t){Yd(t)}getLayers(){return this.children}_bindContentEvents(){Ht.isBrowser&&n6.forEach(([t,i])=>{this.content.addEventListener(t,r=>{this[i](r)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const i=Bc(t.type);i&&this._fire(i.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const i=Bc(t.type);i&&this._fire(i.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let i=this[t+"targetShape"];return i&&!i.getStage()&&(i=null),i}_pointerleave(t){const i=Bc(t.type),r=qd(t.type);if(!i)return;this.setPointersPositions(t);const u=this._getTargetShape(r),d=!(Ht.isDragging()||Ht.isTransforming())||Ht.hitOnDragEnabled;u&&d?(u._fireAndBubble(i.pointerout,{evt:t}),u._fireAndBubble(i.pointerleave,{evt:t}),this._fire(i.pointerleave,{evt:t,target:this,currentTarget:this}),this[r+"targetShape"]=null):d&&(this._fire(i.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(i.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(t){const i=Bc(t.type),r=qd(t.type);if(!i)return;this.setPointersPositions(t);let u=!1;this._changedPointerPositions.forEach(d=>{const h=this.getIntersection(d);if(Ye.justDragged=!1,Ht["_"+r+"ListenClick"]=!0,!h||!h.isListening()){this[r+"ClickStartShape"]=void 0;return}Ht.capturePointerEventsEnabled&&h.setPointerCapture(d.id),this[r+"ClickStartShape"]=h,h._fireAndBubble(i.pointerdown,{evt:t,pointerId:d.id}),u=!0;const p=t.type.indexOf("touch")>=0;h.preventDefault()&&t.cancelable&&p&&t.preventDefault()}),u||this._fire(i.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(t){const i=Bc(t.type),r=qd(t.type);if(!i)return;const u=t.type.indexOf("touch")>=0||t.pointerType==="touch";if(Ht.isDragging()&&Ye.node.preventDefault()&&t.cancelable&&u&&t.preventDefault(),this.setPointersPositions(t),!(!(Ht.isDragging()||Ht.isTransforming())||Ht.hitOnDragEnabled))return;const h={};let p=!1;const y=this._getTargetShape(r);this._changedPointerPositions.forEach(x=>{const _=_m(x.id)||this.getIntersection(x),E=x.id,T={evt:t,pointerId:E},z=y!==_;if(z&&y&&(y._fireAndBubble(i.pointerout,{...T},_),y._fireAndBubble(i.pointerleave,{...T},_)),_){if(h[_._id])return;h[_._id]=!0}_&&_.isListening()?(p=!0,z&&(_._fireAndBubble(i.pointerover,{...T},y),_._fireAndBubble(i.pointerenter,{...T},y),this[r+"targetShape"]=_),_._fireAndBubble(i.pointermove,{...T})):y&&(this._fire(i.pointerover,{evt:t,target:this,currentTarget:this,pointerId:E}),this[r+"targetShape"]=null)}),p||this._fire(i.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const i=Bc(t.type),r=qd(t.type);if(!i)return;this.setPointersPositions(t);const u=this[r+"ClickStartShape"],d=this[r+"ClickEndShape"],h={};let p=!1;this._changedPointerPositions.forEach(y=>{const x=_m(y.id)||this.getIntersection(y);if(x){if(x.releaseCapture(y.id),h[x._id])return;h[x._id]=!0}const _=y.id,E={evt:t,pointerId:_};let T=!1;Ht["_"+r+"InDblClickWindow"]?(T=!0,clearTimeout(this[r+"DblTimeout"])):Ye.justDragged||(Ht["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Ht["_"+r+"InDblClickWindow"]=!1},Ht.dblClickWindow),x&&x.isListening()?(p=!0,this[r+"ClickEndShape"]=x,x._fireAndBubble(i.pointerup,{...E}),Ht["_"+r+"ListenClick"]&&u&&u===x&&(x._fireAndBubble(i.pointerclick,{...E}),T&&d&&d===x&&x._fireAndBubble(i.pointerdblclick,{...E}))):(this[r+"ClickEndShape"]=null,p||(this._fire(i.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),p=!0),Ht["_"+r+"ListenClick"]&&this._fire(i.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:_}),T&&this._fire(i.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:_}))}),p||this._fire(i.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ht["_"+r+"ListenClick"]=!1,t.cancelable&&r!=="touch"&&r!=="pointer"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);const i=this.getIntersection(this.getPointerPosition());i&&i.isListening()?i._fireAndBubble(Pm,{evt:t}):this._fire(Pm,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);const i=this.getIntersection(this.getPointerPosition());i&&i.isListening()?i._fireAndBubble(Im,{evt:t}):this._fire(Im,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const i=_m(t.pointerId)||this.getIntersection(this.getPointerPosition());i&&i._fireAndBubble(Lc,x1(t)),Yd(t.pointerId)}_lostpointercapture(t){Yd(t.pointerId)}setPointersPositions(t){const i=this._getContentPosition();let r=null,u=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,d=>{this._pointerPositions.push({id:d.identifier,x:(d.clientX-i.left)/i.scaleX,y:(d.clientY-i.top)/i.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,d=>{this._changedPointerPositions.push({id:d.identifier,x:(d.clientX-i.left)/i.scaleX,y:(d.clientY-i.top)/i.scaleY})})):(r=(t.clientX-i.left)/i.scaleX,u=(t.clientY-i.top)/i.scaleY,this.pointerPos={x:r,y:u},this._pointerPositions=[{x:r,y:u,id:it._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:u,id:it._getFirstPointerId(t)}])}_setPointerPosition(t){it.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new or({width:this.width(),height:this.height()}),this.bufferHitCanvas=new y1({pixelRatio:1,width:this.width(),height:this.height()}),!Ht.isBrowser)return;const t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}cache(){return it.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}};T0.prototype.nodeType=P5;zn(T0);J.addGetterSetter(T0,"container");Ht.isBrowser&&document.addEventListener("visibilitychange",()=>{Xd.forEach(s=>{s.batchDraw()})});const Oy="hasShadow",Ry="shadowRGBA",zy="patternImage",Ny="linearGradient",Dy="radialGradient";let Kp;function Tm(){return Kp||(Kp=it.createCanvasElement().getContext("2d"),Kp)}const kd={};function i6(s){const t=this.attrs.fillRule;t?s.fill(t):s.fill()}function l6(s){s.stroke()}function s6(s){const t=this.attrs.fillRule;t?s.fill(t):s.fill()}function o6(s){s.stroke()}function r6(){this._clearCache(Oy)}function u6(){this._clearCache(Ry)}function c6(){this._clearCache(zy)}function f6(){this._clearCache(Ny)}function d6(){this._clearCache(Dy)}class zt extends wt{constructor(t){super(t);let i,r=0;for(;i=it.getHitColor(),!(i&&!(i in kd));)if(r++,r>=1e4){it.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),i=it.getRandomColor();break}this.colorKey=i,kd[i]=this}getContext(){return it.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return it.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Oy,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(zy,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const i=Tm().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(i&&i.setTransform){const r=new bi;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Ht.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const u=r.getMatrix(),d=typeof DOMMatrix>"u"?{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}:new DOMMatrix(u);i.setTransform(d)}return i}}_getLinearGradient(){return this._getCache(Ny,this.__getLinearGradient)}__getLinearGradient(){const t=this.fillLinearGradientColorStops();if(t){const i=Tm(),r=this.fillLinearGradientStartPoint(),u=this.fillLinearGradientEndPoint(),d=i.createLinearGradient(r.x,r.y,u.x,u.y);for(let h=0;h<t.length;h+=2)d.addColorStop(t[h],t[h+1]);return d}}_getRadialGradient(){return this._getCache(Dy,this.__getRadialGradient)}__getRadialGradient(){const t=this.fillRadialGradientColorStops();if(t){const i=Tm(),r=this.fillRadialGradientStartPoint(),u=this.fillRadialGradientEndPoint(),d=i.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),u.x,u.y,this.fillRadialGradientEndRadius());for(let h=0;h<t.length;h+=2)d.addColorStop(t[h],t[h+1]);return d}}getShadowRGBA(){return this._getCache(Ry,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const t=it.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){const i=this.getStage();if(!i)return!1;const r=i.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return wt.prototype.destroy.call(this),delete kd[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var i;if(!((i=this.attrs.perfectDrawEnabled)!==null&&i!==void 0?i:!0))return!1;const u=t||this.hasFill(),d=this.hasStroke(),h=this.getAbsoluteOpacity()!==1;if(u&&d&&h)return!0;const p=this.hasShadow(),y=this.shadowForStrokeEnabled();return!!(u&&d&&p&&y)}setStrokeHitEnabled(t){it.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){let i=!1,r=this.getParent();for(;r;){if(r.isCached()){i=!0;break}r=r.getParent()}const u=t.skipTransform,d=t.relativeTo||i&&this.getStage()||void 0,h=this.getSelfRect(),y=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,x=h.width+y,_=h.height+y,E=!t.skipShadow&&this.hasShadow(),T=E?this.shadowOffsetX():0,z=E?this.shadowOffsetY():0,A=x+Math.abs(T),H=_+Math.abs(z),L=E&&this.shadowBlur()||0,V=A+L*2,j=H+L*2,Z={width:V,height:j,x:-(y/2+L)+Math.min(T,0)+h.x,y:-(y/2+L)+Math.min(z,0)+h.y};return u?Z:this._transformedRect(Z,d)}drawScene(t,i,r){const u=this.getLayer(),d=t||u.getCanvas(),h=d.getContext(),p=this._getCanvasCache(),y=this.getSceneFunc(),x=this.hasShadow();let _;const E=i===this;if(!this.isVisible()&&!E)return this;if(p){h.save();const T=this.getAbsoluteTransform(i).getMatrix();return h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedSceneCanvas(h),h.restore(),this}if(!y)return this;if(h.save(),this._useBufferCanvas()){_=this.getStage();const T=r||_.bufferCanvas,z=T.getContext();r?(z.save(),z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,T.width,T.height),z.restore()):z.clear(),z.save(),z._applyLineJoin(this),z._applyMiterLimit(this);const A=this.getAbsoluteTransform(i).getMatrix();z.transform(A[0],A[1],A[2],A[3],A[4],A[5]),y.call(this,z,this),z.restore();const H=T.pixelRatio;x&&h._applyShadow(this),E||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h.drawImage(T._canvas,T.x||0,T.y||0,T.width/H,T.height/H)}else{if(h._applyLineJoin(this),h._applyMiterLimit(this),!E){const T=this.getAbsoluteTransform(i).getMatrix();h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),h._applyOpacity(this),h._applyGlobalCompositeOperation(this)}x&&h._applyShadow(this),y.call(this,h,this)}return h.restore(),this}drawHit(t,i,r=!1){if(!this.shouldDrawHit(i,r))return this;const u=this.getLayer(),d=t||u.hitCanvas,h=d&&d.getContext(),p=this.hitFunc()||this.sceneFunc(),y=this._getCanvasCache(),x=y&&y.hit;if(this.colorKey||it.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),x){h.save();const E=this.getAbsoluteTransform(i).getMatrix();return h.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedHitCanvas(h),h.restore(),this}if(!p)return this;if(h.save(),h._applyLineJoin(this),h._applyMiterLimit(this),!(this===i)){const E=this.getAbsoluteTransform(i).getMatrix();h.transform(E[0],E[1],E[2],E[3],E[4],E[5])}return p.call(this,h,this),h.restore(),this}drawHitFromCache(t=0){const i=this._getCanvasCache(),r=this._getCachedSceneCanvas(),u=i.hit,d=u.getContext(),h=u.getWidth(),p=u.getHeight();d.clear(),d.drawImage(r._canvas,0,0,h,p);try{const y=d.getImageData(0,0,h,p),x=y.data,_=x.length,E=it._hexToRgb(this.colorKey);for(let T=0;T<_;T+=4)x[T+3]>t?(x[T]=E.r,x[T+1]=E.g,x[T+2]=E.b,x[T+3]=255):x[T+3]=0;d.putImageData(y,0,0)}catch(y){it.error("Unable to draw hit graph from cached scene canvas. "+y.message)}return this}hasPointerCapture(t){return gy(t,this)}setPointerCapture(t){yy(t,this)}releaseCapture(t){Yd(t)}}zt.prototype._fillFunc=i6;zt.prototype._strokeFunc=l6;zt.prototype._fillFuncHit=s6;zt.prototype._strokeFuncHit=o6;zt.prototype._centroid=!1;zt.prototype.nodeType="Shape";zn(zt);zt.prototype.eventListeners={};zt.prototype.on.call(zt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",r6);zt.prototype.on.call(zt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",u6);zt.prototype.on.call(zt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",c6);zt.prototype.on.call(zt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",f6);zt.prototype.on.call(zt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",d6);J.addGetterSetter(zt,"stroke",void 0,py());J.addGetterSetter(zt,"strokeWidth",2,jt());J.addGetterSetter(zt,"fillAfterStrokeEnabled",!1);J.addGetterSetter(zt,"hitStrokeWidth","auto",v1());J.addGetterSetter(zt,"strokeHitEnabled",!0,Tl());J.addGetterSetter(zt,"perfectDrawEnabled",!0,Tl());J.addGetterSetter(zt,"shadowForStrokeEnabled",!0,Tl());J.addGetterSetter(zt,"lineJoin");J.addGetterSetter(zt,"lineCap");J.addGetterSetter(zt,"miterLimit");J.addGetterSetter(zt,"sceneFunc");J.addGetterSetter(zt,"hitFunc");J.addGetterSetter(zt,"dash");J.addGetterSetter(zt,"dashOffset",0,jt());J.addGetterSetter(zt,"shadowColor",void 0,fu());J.addGetterSetter(zt,"shadowBlur",0,jt());J.addGetterSetter(zt,"shadowOpacity",1,jt());J.addComponentsGetterSetter(zt,"shadowOffset",["x","y"]);J.addGetterSetter(zt,"shadowOffsetX",0,jt());J.addGetterSetter(zt,"shadowOffsetY",0,jt());J.addGetterSetter(zt,"fillPatternImage");J.addGetterSetter(zt,"fill",void 0,py());J.addGetterSetter(zt,"fillPatternX",0,jt());J.addGetterSetter(zt,"fillPatternY",0,jt());J.addGetterSetter(zt,"fillLinearGradientColorStops");J.addGetterSetter(zt,"strokeLinearGradientColorStops");J.addGetterSetter(zt,"fillRadialGradientStartRadius",0);J.addGetterSetter(zt,"fillRadialGradientEndRadius",0);J.addGetterSetter(zt,"fillRadialGradientColorStops");J.addGetterSetter(zt,"fillPatternRepeat","repeat");J.addGetterSetter(zt,"fillEnabled",!0);J.addGetterSetter(zt,"strokeEnabled",!0);J.addGetterSetter(zt,"shadowEnabled",!0);J.addGetterSetter(zt,"dashEnabled",!0);J.addGetterSetter(zt,"strokeScaleEnabled",!0);J.addGetterSetter(zt,"fillPriority","color");J.addComponentsGetterSetter(zt,"fillPatternOffset",["x","y"]);J.addGetterSetter(zt,"fillPatternOffsetX",0,jt());J.addGetterSetter(zt,"fillPatternOffsetY",0,jt());J.addComponentsGetterSetter(zt,"fillPatternScale",["x","y"]);J.addGetterSetter(zt,"fillPatternScaleX",1,jt());J.addGetterSetter(zt,"fillPatternScaleY",1,jt());J.addComponentsGetterSetter(zt,"fillLinearGradientStartPoint",["x","y"]);J.addComponentsGetterSetter(zt,"strokeLinearGradientStartPoint",["x","y"]);J.addGetterSetter(zt,"fillLinearGradientStartPointX",0);J.addGetterSetter(zt,"strokeLinearGradientStartPointX",0);J.addGetterSetter(zt,"fillLinearGradientStartPointY",0);J.addGetterSetter(zt,"strokeLinearGradientStartPointY",0);J.addComponentsGetterSetter(zt,"fillLinearGradientEndPoint",["x","y"]);J.addComponentsGetterSetter(zt,"strokeLinearGradientEndPoint",["x","y"]);J.addGetterSetter(zt,"fillLinearGradientEndPointX",0);J.addGetterSetter(zt,"strokeLinearGradientEndPointX",0);J.addGetterSetter(zt,"fillLinearGradientEndPointY",0);J.addGetterSetter(zt,"strokeLinearGradientEndPointY",0);J.addComponentsGetterSetter(zt,"fillRadialGradientStartPoint",["x","y"]);J.addGetterSetter(zt,"fillRadialGradientStartPointX",0);J.addGetterSetter(zt,"fillRadialGradientStartPointY",0);J.addComponentsGetterSetter(zt,"fillRadialGradientEndPoint",["x","y"]);J.addGetterSetter(zt,"fillRadialGradientEndPointX",0);J.addGetterSetter(zt,"fillRadialGradientEndPointY",0);J.addGetterSetter(zt,"fillPatternRotation",0);J.addGetterSetter(zt,"fillRule",void 0,fu());J.backCompat(zt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const h6="beforeDraw",p6="draw",wy=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m6=wy.length;let du=class extends _i{constructor(t){super(t),this.canvas=new or,this.hitCanvas=new y1({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),t<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[t+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){wt.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!wt.prototype.moveUp.call(this))return!1;const i=this.getStage();return!i||!i.content?!1:(i.content.removeChild(this.getNativeCanvasElement()),this.index<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[this.index+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(wt.prototype.moveDown.call(this)){const t=this.getStage();if(t){const i=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),i[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(wt.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const i=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),i[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return wt.prototype.remove.call(this),t&&t.parentNode&&it._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:i}){return this.canvas.setSize(t,i),this.hitCanvas.setSize(t,i),this._setSmoothEnabled(),this}_validateAdd(t){const i=t.getType();i!=="Group"&&i!=="Shape"&&it.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t={...t},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),wt.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){it.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){it.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,it.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let i=1,r=!1;for(;;){for(let u=0;u<m6;u++){const d=wy[u],h=this._getIntersection({x:t.x+d.x*i,y:t.y+d.y*i}),p=h.shape;if(p)return p;if(r=!!h.antialiased,!h.antialiased)break}if(r)i+=1;else return null}}_getIntersection(t){const i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*i),Math.round(t.y*i),1,1).data,u=r[3];if(u===255){const d=it.getHitColorKey(r[0],r[1],r[2]),h=kd[d];return h?{shape:h}:{antialiased:!0}}else if(u>0)return{antialiased:!0};return{}}drawScene(t,i,r){const u=this.getLayer(),d=t||u&&u.getCanvas();return this._fire(h6,{node:this}),this.clearBeforeDraw()&&d.getContext().clear(),_i.prototype.drawScene.call(this,d,i,r),this._fire(p6,{node:this}),this}drawHit(t,i){const r=this.getLayer(),u=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),_i.prototype.drawHit.call(this,u,i),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){it.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return it.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return it.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};du.prototype.nodeType="Layer";zn(du);J.addGetterSetter(du,"imageSmoothingEnabled",!0);J.addGetterSetter(du,"clearBeforeDraw",!0);J.addGetterSetter(du,"hitGraphEnabled",!0,Tl());class S1 extends du{constructor(t){super(t),this.listening(!1),it.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}S1.prototype.nodeType="FastLayer";zn(S1);let Yc=class extends _i{_validateAdd(t){const i=t.getType();i!=="Group"&&i!=="Shape"&&it.throw("You may only add groups and shapes to groups.")}};Yc.prototype.nodeType="Group";zn(Yc);const Cm=(function(){return ru.performance&&ru.performance.now?function(){return ru.performance.now()}:function(){return new Date().getTime()}})();class $i{constructor(t,i){this.id=$i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Cm(),frameRate:0},this.func=t,this.setLayers(i)}setLayers(t){let i=[];return t&&(i=Array.isArray(t)?t:[t]),this.layers=i,this}getLayers(){return this.layers}addLayer(t){const i=this.layers,r=i.length;for(let u=0;u<r;u++)if(i[u]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const i=$i.animations,r=i.length;for(let u=0;u<r;u++)if(i[u].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Cm(),$i._addAnimation(this),this}stop(){return $i._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const i=t.id,r=this.animations,u=r.length;for(let d=0;d<u;d++)if(r[d].id===i){this.animations.splice(d,1);break}}static _runFrames(){const t={},i=this.animations;for(let r=0;r<i.length;r++){const u=i[r],d=u.layers,h=u.func;u._updateFrameObject(Cm());const p=d.length;let y;if(h?y=h.call(u,u.frame)!==!1:y=!0,!!y)for(let x=0;x<p;x++){const _=d[x];_._id!==void 0&&(t[_._id]=_)}}for(const r in t)t.hasOwnProperty(r)&&t[r].batchDraw()}static _animationLoop(){const t=$i;t.animations.length?(t._runFrames(),it.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,it.requestAnimFrame(this._animationLoop))}}$i.animations=[];$i.animIdCounter=0;$i.animRunning=!1;const g6={node:1,duration:1,easing:1,onFinish:1,yoyo:1},y6=1,Pg=2,Ig=3,$g=["fill","stroke","shadowColor"];let v6=0;class x6{constructor(t,i,r,u,d,h,p){this.prop=t,this.propFunc=i,this.begin=u,this._pos=u,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=p,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=d-this.begin,this.pause()}fire(t){const i=this[t];i&&i()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=Pg,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Ig,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const t=this.getTimer()-this._startTime;this.state===Pg?this.setTime(t):this.state===Ig&&this.setTime(this.duration-t)}pause(){this.state=y6,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ln{constructor(t){const i=this,r=t.node,u=r._id,d=t.easing||Vd.Linear,h=!!t.yoyo;let p,y;typeof t.duration>"u"?p=.3:t.duration===0?p=.001:p=t.duration,this.node=r,this._id=v6++;const x=r.getLayer()||(r instanceof Ht.Stage?r.getLayers():null);x||it.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new $i(function(){i.tween.onEnterFrame()},x),this.tween=new x6(y,function(_){i._tweenFunc(_)},d,0,1,p*1e3,h),this._addListeners(),ln.attrs[u]||(ln.attrs[u]={}),ln.attrs[u][this._id]||(ln.attrs[u][this._id]={}),ln.tweens[u]||(ln.tweens[u]={});for(y in t)g6[y]===void 0&&this._addAttr(y,t[y]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,i){const r=this.node,u=r._id;let d,h,p,y,x;const _=ln.tweens[u][t];_&&delete ln.attrs[u][_][t];let E=r.getAttr(t);if(it._isArray(i))if(d=[],h=Math.max(i.length,E.length),t==="points"&&i.length!==E.length&&(i.length>E.length?(y=E,E=it._prepareArrayForTween(E,i,r.closed())):(p=i,i=it._prepareArrayForTween(i,E,r.closed()))),t.indexOf("fill")===0)for(let T=0;T<h;T++)if(T%2===0)d.push(i[T]-E[T]);else{const z=it.colorToRGBA(E[T]);x=it.colorToRGBA(i[T]),E[T]=z,d.push({r:x.r-z.r,g:x.g-z.g,b:x.b-z.b,a:x.a-z.a})}else for(let T=0;T<h;T++)d.push(i[T]-E[T]);else $g.indexOf(t)!==-1?(E=it.colorToRGBA(E),x=it.colorToRGBA(i),d={r:x.r-E.r,g:x.g-E.g,b:x.b-E.b,a:x.a-E.a}):d=i-E;ln.attrs[u][this._id][t]={start:E,diff:d,end:i,trueEnd:p,trueStart:y},ln.tweens[u][t]=this._id}_tweenFunc(t){const i=this.node,r=ln.attrs[i._id][this._id];let u,d,h,p,y,x,_,E;for(u in r){if(d=r[u],h=d.start,p=d.diff,E=d.end,it._isArray(h))if(y=[],_=Math.max(h.length,E.length),u.indexOf("fill")===0)for(x=0;x<_;x++)x%2===0?y.push((h[x]||0)+p[x]*t):y.push("rgba("+Math.round(h[x].r+p[x].r*t)+","+Math.round(h[x].g+p[x].g*t)+","+Math.round(h[x].b+p[x].b*t)+","+(h[x].a+p[x].a*t)+")");else for(x=0;x<_;x++)y.push((h[x]||0)+p[x]*t);else $g.indexOf(u)!==-1?y="rgba("+Math.round(h.r+p.r*t)+","+Math.round(h.g+p.g*t)+","+Math.round(h.b+p.b*t)+","+(h.a+p.a*t)+")":y=h+p*t;i.setAttr(u,y)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const t=this.node,i=ln.attrs[t._id][this._id];i.points&&i.points.trueEnd&&t.setAttr("points",i.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const t=this.node,i=ln.attrs[t._id][this._id];i.points&&i.points.trueStart&&t.points(i.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const t=this.node._id,i=this._id,r=ln.tweens[t];this.pause(),this.anim&&this.anim.stop();for(const u in r)delete ln.tweens[t][u];delete ln.attrs[t][i],ln.tweens[t]&&(Object.keys(ln.tweens[t]).length===0&&delete ln.tweens[t],Object.keys(ln.attrs[t]).length===0&&delete ln.attrs[t])}}ln.attrs={};ln.tweens={};wt.prototype.to=function(s){const t=s.onFinish;s.node=this,s.onFinish=function(){this.destroy(),t&&t()},new ln(s).play()};const Vd={BackEaseIn(s,t,i,r){return i*(s/=r)*s*((1.70158+1)*s-1.70158)+t},BackEaseOut(s,t,i,r){return i*((s=s/r-1)*s*((1.70158+1)*s+1.70158)+1)+t},BackEaseInOut(s,t,i,r){let u=1.70158;return(s/=r/2)<1?i/2*(s*s*(((u*=1.525)+1)*s-u))+t:i/2*((s-=2)*s*(((u*=1.525)+1)*s+u)+2)+t},ElasticEaseIn(s,t,i,r,u,d){let h=0;return s===0?t:(s/=r)===1?t+i:(d||(d=r*.3),!u||u<Math.abs(i)?(u=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/u),-(u*Math.pow(2,10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d))+t)},ElasticEaseOut(s,t,i,r,u,d){let h=0;return s===0?t:(s/=r)===1?t+i:(d||(d=r*.3),!u||u<Math.abs(i)?(u=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/u),u*Math.pow(2,-10*s)*Math.sin((s*r-h)*(2*Math.PI)/d)+i+t)},ElasticEaseInOut(s,t,i,r,u,d){let h=0;return s===0?t:(s/=r/2)===2?t+i:(d||(d=r*(.3*1.5)),!u||u<Math.abs(i)?(u=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/u),s<1?-.5*(u*Math.pow(2,10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d))+t:u*Math.pow(2,-10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d)*.5+i+t)},BounceEaseOut(s,t,i,r){return(s/=r)<1/2.75?i*(7.5625*s*s)+t:s<2/2.75?i*(7.5625*(s-=1.5/2.75)*s+.75)+t:s<2.5/2.75?i*(7.5625*(s-=2.25/2.75)*s+.9375)+t:i*(7.5625*(s-=2.625/2.75)*s+.984375)+t},BounceEaseIn(s,t,i,r){return i-Vd.BounceEaseOut(r-s,0,i,r)+t},BounceEaseInOut(s,t,i,r){return s<r/2?Vd.BounceEaseIn(s*2,0,i,r)*.5+t:Vd.BounceEaseOut(s*2-r,0,i,r)*.5+i*.5+t},EaseIn(s,t,i,r){return i*(s/=r)*s+t},EaseOut(s,t,i,r){return-i*(s/=r)*(s-2)+t},EaseInOut(s,t,i,r){return(s/=r/2)<1?i/2*s*s+t:-i/2*(--s*(s-2)-1)+t},StrongEaseIn(s,t,i,r){return i*(s/=r)*s*s*s*s+t},StrongEaseOut(s,t,i,r){return i*((s=s/r-1)*s*s*s*s+1)+t},StrongEaseInOut(s,t,i,r){return(s/=r/2)<1?i/2*s*s*s*s*s+t:i/2*((s-=2)*s*s*s*s+2)+t},Linear(s,t,i,r){return i*s/r+t}},Xc=it._assign(Ht,{Util:it,Transform:bi,Node:wt,Container:_i,Stage:T0,stages:Xd,Layer:du,FastLayer:S1,Group:Yc,DD:Ye,Shape:zt,shapes:kd,Animation:$i,Tween:ln,Easings:Vd,Context:_0,Canvas:g1});class no extends zt{_sceneFunc(t){const i=Ht.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,i,r),t.arc(0,0,this.innerRadius(),i,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),i=this.outerRadius(),r=this.clockwise(),u=Ht.getAngle(r?360-this.angle():this.angle()),d=Math.cos(Math.min(u,Math.PI)),h=1,p=Math.sin(Math.min(Math.max(Math.PI,u),3*Math.PI/2)),y=Math.sin(Math.min(u,Math.PI/2)),x=d*(d>0?t:i),_=h*i,E=p*(p>0?t:i),T=y*(y>0?i:t);return{x,y:r?-1*T:E,width:_-x,height:T-E}}}no.prototype._centroid=!0;no.prototype.className="Arc";no.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];zn(no);J.addGetterSetter(no,"innerRadius",0,jt());J.addGetterSetter(no,"outerRadius",0,jt());J.addGetterSetter(no,"angle",0,jt());J.addGetterSetter(no,"clockwise",!1,Tl());function $m(s,t,i,r,u,d,h){const p=Math.sqrt(Math.pow(i-s,2)+Math.pow(r-t,2)),y=Math.sqrt(Math.pow(u-i,2)+Math.pow(d-r,2)),x=h*p/(p+y),_=h*y/(p+y),E=i-x*(u-s),T=r-x*(d-t),z=i+_*(u-s),A=r+_*(d-t);return[E,T,z,A]}function t2(s,t){const i=s.length,r=[];for(let u=2;u<i-2;u+=2){const d=$m(s[u-2],s[u-1],s[u],s[u+1],s[u+2],s[u+3],t);isNaN(d[0])||(r.push(d[0]),r.push(d[1]),r.push(s[u]),r.push(s[u+1]),r.push(d[2]),r.push(d[3]))}return r}function S6(s){const t=[[s[0],s[2],s[4],s[6]],[s[1],s[3],s[5],s[7]]],i=[];for(const r of t){const u=-3*r[0]+9*r[1]-9*r[2]+3*r[3];if(u!==0){const d=6*r[0]-12*r[1]+6*r[2],h=-3*r[0]+3*r[1],p=d*d-4*u*h;if(p>=0){const y=Math.sqrt(p);i.push((-d+y)/(2*u)),i.push((-d-y)/(2*u))}}}return i.filter(r=>r>0&&r<1).flatMap(r=>t.map(u=>{const d=1-r;return d*d*d*u[0]+3*d*d*r*u[1]+3*d*r*r*u[2]+r*r*r*u[3]}))}let ao=class extends zt{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){const i=this.points(),r=i.length,u=this.tension(),d=this.closed(),h=this.bezier();if(!r)return;let p=0;if(t.beginPath(),t.moveTo(i[0],i[1]),u!==0&&r>4){const y=this.getTensionPoints(),x=y.length;for(p=d?0:4,d||t.quadraticCurveTo(y[0],y[1],y[2],y[3]);p<x-2;)t.bezierCurveTo(y[p++],y[p++],y[p++],y[p++],y[p++],y[p++]);d||t.quadraticCurveTo(y[x-2],y[x-1],i[r-2],i[r-1])}else if(h)for(p=2;p<r;)t.bezierCurveTo(i[p++],i[p++],i[p++],i[p++],i[p++],i[p++]);else for(p=2;p<r;p+=2)t.lineTo(i[p],i[p+1]);d?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():t2(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),i=t.length,r=this.tension(),u=$m(t[i-2],t[i-1],t[0],t[1],t[2],t[3],r),d=$m(t[i-4],t[i-3],t[i-2],t[i-1],t[0],t[1],r),h=t2(t,r);return[u[2],u[3]].concat(h).concat([d[0],d[1],t[i-2],t[i-1],d[2],d[3],u[0],u[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.bezier()?t=[t[0],t[1],...S6(this.points()),t[t.length-2],t[t.length-1]]:t=this.points();let i=t[0],r=t[0],u=t[1],d=t[1],h,p;for(let y=0;y<t.length/2;y++)h=t[y*2],p=t[y*2+1],i=Math.min(i,h),r=Math.max(r,h),u=Math.min(u,p),d=Math.max(d,p);return{x:i,y:u,width:r-i,height:d-u}}};ao.prototype.className="Line";ao.prototype._attrsAffectingSize=["points","bezier","tension"];zn(ao);J.addGetterSetter(ao,"closed",!1);J.addGetterSetter(ao,"bezier",!1);J.addGetterSetter(ao,"tension",0,jt());J.addGetterSetter(ao,"points",[],B5());const b6=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],_6=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],E6=[[1],[1,1],[1,2,1],[1,3,3,1]],e2=(s,t,i)=>{let r,u;const h=i/2;r=0;for(let p=0;p<20;p++)u=h*b6[20][p]+h,r+=_6[20][p]*T6(s,t,u);return h*r},n2=(s,t,i)=>{i===void 0&&(i=1);const r=s[0]-2*s[1]+s[2],u=t[0]-2*t[1]+t[2],d=2*s[1]-2*s[0],h=2*t[1]-2*t[0],p=4*(r*r+u*u),y=4*(r*d+u*h),x=d*d+h*h;if(p===0)return i*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(t[2]-t[0],2));const _=y/(2*p),E=x/p,T=i+_,z=E-_*_,A=T*T+z>0?Math.sqrt(T*T+z):0,H=_*_+z>0?Math.sqrt(_*_+z):0,L=_+Math.sqrt(_*_+z)!==0?z*Math.log(Math.abs((T+A)/(_+H))):0;return Math.sqrt(p)/2*(T*A-_*H+L)};function T6(s,t,i){const r=t1(1,i,s),u=t1(1,i,t),d=r*r+u*u;return Math.sqrt(d)}const t1=(s,t,i)=>{const r=i.length-1;let u,d;if(r===0)return 0;if(s===0){d=0;for(let h=0;h<=r;h++)d+=E6[r][h]*Math.pow(1-t,r-h)*Math.pow(t,h)*i[h];return d}else{u=new Array(r);for(let h=0;h<r;h++)u[h]=r*(i[h+1]-i[h]);return t1(s-1,t,u)}},a2=(s,t,i)=>{let r=1,u=s/t,d=(s-i(u))/t,h=0;for(;r>.001;){const p=i(u+d),y=Math.abs(s-p)/t;if(y<r)r=y,u+=d;else{const x=i(u-d),_=Math.abs(s-x)/t;_<r?(r=_,u-=d):d/=2}if(h++,h>500)break}return u};class sn extends zt{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=sn.parsePathData(this.data()),this.pathLength=sn.getPathLength(this.dataArray)}_sceneFunc(t){const i=this.dataArray;t.beginPath();let r=!1;for(let u=0;u<i.length;u++){const d=i[u].command,h=i[u].points;switch(d){case"L":t.lineTo(h[0],h[1]);break;case"M":t.moveTo(h[0],h[1]);break;case"C":t.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":t.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":const p=h[0],y=h[1],x=h[2],_=h[3],E=h[4],T=h[5],z=h[6],A=h[7],H=x>_?x:_,L=x>_?1:x/_,V=x>_?_/x:1;t.translate(p,y),t.rotate(z),t.scale(L,V),t.arc(0,0,H,E,E+T,1-A),t.scale(1/L,1/V),t.rotate(-z),t.translate(-p,-y);break;case"z":r=!0,t.closePath();break}}!r&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach(function(y){if(y.command==="A"){const x=y.points[4],_=y.points[5],E=y.points[4]+_;let T=Math.PI/180;if(Math.abs(x-E)<T&&(T=Math.abs(x-E)),_<0)for(let z=x-T;z>E;z-=T){const A=sn.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],z,0);t.push(A.x,A.y)}else for(let z=x+T;z<E;z+=T){const A=sn.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],z,0);t.push(A.x,A.y)}}else if(y.command==="C")for(let x=0;x<=1;x+=.01){const _=sn.getPointOnCubicBezier(x,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);t.push(_.x,_.y)}else t=t.concat(y.points)});let i=t[0],r=t[0],u=t[1],d=t[1],h,p;for(let y=0;y<t.length/2;y++)h=t[y*2],p=t[y*2+1],isNaN(h)||(i=Math.min(i,h),r=Math.max(r,h)),isNaN(p)||(u=Math.min(u,p),d=Math.max(d,p));return{x:i,y:u,width:r-i,height:d-u}}getLength(){return this.pathLength}getPointAtLength(t){return sn.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,i,r,u){return Math.sqrt((r-t)*(r-t)+(u-i)*(u-i))}static getPathLength(t){let i=0;for(let r=0;r<t.length;++r)i+=t[r].pathLength;return i}static getPointAtLengthOfDataArray(t,i){let r,u=0,d=i.length;if(!d)return null;for(;u<d&&t>i[u].pathLength;)t-=i[u].pathLength,++u;if(u===d)return r=i[u-1].points.slice(-2),{x:r[0],y:r[1]};if(t<.01)return i[u].command==="M"?(r=i[u].points.slice(0,2),{x:r[0],y:r[1]}):{x:i[u].start.x,y:i[u].start.y};const h=i[u],p=h.points;switch(h.command){case"L":return sn.getPointOnLine(t,h.start.x,h.start.y,p[0],p[1]);case"C":return sn.getPointOnCubicBezier(a2(t,sn.getPathLength(i),H=>e2([h.start.x,p[0],p[2],p[4]],[h.start.y,p[1],p[3],p[5]],H)),h.start.x,h.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return sn.getPointOnQuadraticBezier(a2(t,sn.getPathLength(i),H=>n2([h.start.x,p[0],p[2]],[h.start.y,p[1],p[3]],H)),h.start.x,h.start.y,p[0],p[1],p[2],p[3]);case"A":const y=p[0],x=p[1],_=p[2],E=p[3],T=p[5],z=p[6];let A=p[4];return A+=T*t/h.pathLength,sn.getPointOnEllipticalArc(y,x,_,E,A,z)}return null}static getPointOnLine(t,i,r,u,d,h,p){h=h??i,p=p??r;const y=this.getLineLength(i,r,u,d);if(y<1e-10)return{x:i,y:r};if(u===i)return{x:h,y:p+(d>r?t:-t)};const x=(d-r)/(u-i),_=Math.sqrt(t*t/(1+x*x))*(u<i?-1:1),E=x*_;if(Math.abs(p-r-x*(h-i))<1e-10)return{x:h+_,y:p+E};const T=((h-i)*(u-i)+(p-r)*(d-r))/(y*y),z=i+T*(u-i),A=r+T*(d-r),H=this.getLineLength(h,p,z,A),L=Math.sqrt(t*t-H*H),V=Math.sqrt(L*L/(1+x*x))*(u<i?-1:1),j=x*V;return{x:z+V,y:A+j}}static getPointOnCubicBezier(t,i,r,u,d,h,p,y,x){function _(L){return L*L*L}function E(L){return 3*L*L*(1-L)}function T(L){return 3*L*(1-L)*(1-L)}function z(L){return(1-L)*(1-L)*(1-L)}const A=y*_(t)+h*E(t)+u*T(t)+i*z(t),H=x*_(t)+p*E(t)+d*T(t)+r*z(t);return{x:A,y:H}}static getPointOnQuadraticBezier(t,i,r,u,d,h,p){function y(z){return z*z}function x(z){return 2*z*(1-z)}function _(z){return(1-z)*(1-z)}const E=h*y(t)+u*x(t)+i*_(t),T=p*y(t)+d*x(t)+r*_(t);return{x:E,y:T}}static getPointOnEllipticalArc(t,i,r,u,d,h){const p=Math.cos(h),y=Math.sin(h),x={x:r*Math.cos(d),y:u*Math.sin(d)};return{x:t+(x.x*p-x.y*y),y:i+(x.x*y+x.y*p)}}static parsePathData(t){if(!t)return[];let i=t;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];i=i.replace(new RegExp(" ","g"),",");for(let E=0;E<r.length;E++)i=i.replace(new RegExp(r[E],"g"),"|"+r[E]);const u=i.split("|"),d=[],h=[];let p=0,y=0;const x=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let _;for(let E=1;E<u.length;E++){let T=u[E],z=T.charAt(0);for(T=T.slice(1),h.length=0;_=x.exec(T);)h.push(_[0]);let A=[],H=z==="A"||z==="a"?0:-1;for(let L=0,V=h.length;L<V;L++){const j=h[L];if(j==="00"){A.push(0,0),H>=0&&(H+=2,H>=7&&(H-=7));continue}if(H>=0){if(H===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(j)){A.push(parseInt(j[0],10)),A.push(parseInt(j[1],10)),A.push(parseFloat(j.slice(2))),H+=3,H>=7&&(H-=7);continue}if(j==="11"||j==="10"||j==="01"){A.push(parseInt(j[0],10)),A.push(parseInt(j[1],10)),H+=2,H>=7&&(H-=7);continue}if(j==="0"||j==="1"){A.push(parseInt(j,10)),H+=1,H>=7&&(H-=7);continue}}else if(H===4){if(/^[01]\d+(?:\.\d+)?$/.test(j)){A.push(parseInt(j[0],10)),A.push(parseFloat(j.slice(1))),H+=2,H>=7&&(H-=7);continue}if(j==="0"||j==="1"){A.push(parseInt(j,10)),H+=1,H>=7&&(H-=7);continue}}const Z=parseFloat(j);isNaN(Z)?A.push(0):A.push(Z),H+=1,H>=7&&(H-=7)}else{const Z=parseFloat(j);isNaN(Z)?A.push(0):A.push(Z)}}for(;A.length>0&&!isNaN(A[0]);){let L="",V=[];const j=p,Z=y;let K,I,st,ot,M,R,Y,F,B,k;switch(z){case"l":p+=A.shift(),y+=A.shift(),L="L",V.push(p,y);break;case"L":p=A.shift(),y=A.shift(),V.push(p,y);break;case"m":const Q=A.shift(),G=A.shift();if(p+=Q,y+=G,L="M",d.length>2&&d[d.length-1].command==="z"){for(let O=d.length-2;O>=0;O--)if(d[O].command==="M"){p=d[O].points[0]+Q,y=d[O].points[1]+G;break}}V.push(p,y),z="l";break;case"M":p=A.shift(),y=A.shift(),L="M",V.push(p,y),z="L";break;case"h":p+=A.shift(),L="L",V.push(p,y);break;case"H":p=A.shift(),L="L",V.push(p,y);break;case"v":y+=A.shift(),L="L",V.push(p,y);break;case"V":y=A.shift(),L="L",V.push(p,y);break;case"C":V.push(A.shift(),A.shift(),A.shift(),A.shift()),p=A.shift(),y=A.shift(),V.push(p,y);break;case"c":V.push(p+A.shift(),y+A.shift(),p+A.shift(),y+A.shift()),p+=A.shift(),y+=A.shift(),L="C",V.push(p,y);break;case"S":I=p,st=y,K=d[d.length-1],K.command==="C"&&(I=p+(p-K.points[2]),st=y+(y-K.points[3])),V.push(I,st,A.shift(),A.shift()),p=A.shift(),y=A.shift(),L="C",V.push(p,y);break;case"s":I=p,st=y,K=d[d.length-1],K.command==="C"&&(I=p+(p-K.points[2]),st=y+(y-K.points[3])),V.push(I,st,p+A.shift(),y+A.shift()),p+=A.shift(),y+=A.shift(),L="C",V.push(p,y);break;case"Q":V.push(A.shift(),A.shift()),p=A.shift(),y=A.shift(),V.push(p,y);break;case"q":V.push(p+A.shift(),y+A.shift()),p+=A.shift(),y+=A.shift(),L="Q",V.push(p,y);break;case"T":I=p,st=y,K=d[d.length-1],K.command==="Q"&&(I=p+(p-K.points[0]),st=y+(y-K.points[1])),p=A.shift(),y=A.shift(),L="Q",V.push(I,st,p,y);break;case"t":I=p,st=y,K=d[d.length-1],K.command==="Q"&&(I=p+(p-K.points[0]),st=y+(y-K.points[1])),p+=A.shift(),y+=A.shift(),L="Q",V.push(I,st,p,y);break;case"A":ot=A.shift(),M=A.shift(),R=A.shift(),Y=A.shift(),F=A.shift(),B=p,k=y,p=A.shift(),y=A.shift(),L="A",V=this.convertEndpointToCenterParameterization(B,k,p,y,Y,F,ot,M,R);break;case"a":ot=A.shift(),M=A.shift(),R=A.shift(),Y=A.shift(),F=A.shift(),B=p,k=y,p+=A.shift(),y+=A.shift(),L="A",V=this.convertEndpointToCenterParameterization(B,k,p,y,Y,F,ot,M,R);break}d.push({command:L||z,points:V,start:{x:j,y:Z},pathLength:this.calcLength(j,Z,L||z,V)})}(z==="z"||z==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(t,i,r,u){let d,h,p,y;const x=sn;switch(r){case"L":return x.getLineLength(t,i,u[0],u[1]);case"C":return e2([t,u[0],u[2],u[4]],[i,u[1],u[3],u[5]],1);case"Q":return n2([t,u[0],u[2]],[i,u[1],u[3]],1);case"A":d=0;const _=u[4],E=u[5],T=u[4]+E;let z=Math.PI/180;if(Math.abs(_-T)<z&&(z=Math.abs(_-T)),h=x.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],_,0),E<0)for(y=_-z;y>T;y-=z)p=x.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),d+=x.getLineLength(h.x,h.y,p.x,p.y),h=p;else for(y=_+z;y<T;y+=z)p=x.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),d+=x.getLineLength(h.x,h.y,p.x,p.y),h=p;return p=x.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],T,0),d+=x.getLineLength(h.x,h.y,p.x,p.y),d}return 0}static convertEndpointToCenterParameterization(t,i,r,u,d,h,p,y,x){const _=x*(Math.PI/180),E=Math.cos(_)*(t-r)/2+Math.sin(_)*(i-u)/2,T=-1*Math.sin(_)*(t-r)/2+Math.cos(_)*(i-u)/2,z=E*E/(p*p)+T*T/(y*y);z>1&&(p*=Math.sqrt(z),y*=Math.sqrt(z));let A=Math.sqrt((p*p*(y*y)-p*p*(T*T)-y*y*(E*E))/(p*p*(T*T)+y*y*(E*E)));d===h&&(A*=-1),isNaN(A)&&(A=0);const H=A*p*T/y,L=A*-y*E/p,V=(t+r)/2+Math.cos(_)*H-Math.sin(_)*L,j=(i+u)/2+Math.sin(_)*H+Math.cos(_)*L,Z=function(Y){return Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1])},K=function(Y,F){return(Y[0]*F[0]+Y[1]*F[1])/(Z(Y)*Z(F))},I=function(Y,F){return(Y[0]*F[1]<Y[1]*F[0]?-1:1)*Math.acos(K(Y,F))},st=I([1,0],[(E-H)/p,(T-L)/y]),ot=[(E-H)/p,(T-L)/y],M=[(-1*E-H)/p,(-1*T-L)/y];let R=I(ot,M);return K(ot,M)<=-1&&(R=Math.PI),K(ot,M)>=1&&(R=0),h===0&&R>0&&(R=R-2*Math.PI),h===1&&R<0&&(R=R+2*Math.PI),[V,j,p,y,st,R,_,h]}}sn.prototype.className="Path";sn.prototype._attrsAffectingSize=["data"];zn(sn);J.addGetterSetter(sn,"data");class hu extends ao{_sceneFunc(t){super._sceneFunc(t);const i=Math.PI*2,r=this.points();let u=r;const d=this.tension()!==0&&r.length>4;d&&(u=this.getTensionPoints());const h=this.pointerLength(),p=r.length;let y,x;if(d){const T=[u[u.length-4],u[u.length-3],u[u.length-2],u[u.length-1],r[p-2],r[p-1]],z=sn.calcLength(u[u.length-4],u[u.length-3],"C",T),A=sn.getPointOnQuadraticBezier(Math.min(1,1-h/z),T[0],T[1],T[2],T[3],T[4],T[5]);y=r[p-2]-A.x,x=r[p-1]-A.y}else y=r[p-2]-r[p-4],x=r[p-1]-r[p-3];const _=(Math.atan2(x,y)+i)%i,E=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(r[p-2],r[p-1]),t.rotate(_),t.moveTo(0,0),t.lineTo(-h,E/2),t.lineTo(-h,-E/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(r[0],r[1]),d?(y=(u[0]+u[2])/2-r[0],x=(u[1]+u[3])/2-r[1]):(y=r[2]-r[0],x=r[3]-r[1]),t.rotate((Math.atan2(-x,-y)+i)%i),t.moveTo(0,0),t.lineTo(-h,E/2),t.lineTo(-h,-E/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const i=this.dashEnabled();i&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),i&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),i=this.pointerWidth()/2;return{x:t.x,y:t.y-i,width:t.width,height:t.height+i*2}}}hu.prototype.className="Arrow";zn(hu);J.addGetterSetter(hu,"pointerLength",10,jt());J.addGetterSetter(hu,"pointerWidth",10,jt());J.addGetterSetter(hu,"pointerAtBeginning",!1);J.addGetterSetter(hu,"pointerAtEnding",!0);let Kc=class extends zt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}};Kc.prototype._centroid=!0;Kc.prototype.className="Circle";Kc.prototype._attrsAffectingSize=["radius"];zn(Kc);J.addGetterSetter(Kc,"radius",0,jt());class ur extends zt{_sceneFunc(t){const i=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),i!==r&&t.scale(1,r/i),t.arc(0,0,i,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}ur.prototype.className="Ellipse";ur.prototype._centroid=!0;ur.prototype._attrsAffectingSize=["radiusX","radiusY"];zn(ur);J.addComponentsGetterSetter(ur,"radius",["x","y"]);J.addGetterSetter(ur,"radiusX",0,jt());J.addGetterSetter(ur,"radiusY",0,jt());let Cl=class jy extends zt{constructor(t){super(t),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",i=>{this._removeImageLoad(i.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",this._loadListener)}_removeImageLoad(t){t&&t.removeEventListener&&t.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const t=!!this.cornerRadius(),i=this.hasShadow();return t&&i?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const i=this.getWidth(),r=this.getHeight(),u=this.cornerRadius(),d=this.attrs.image;let h;if(d){const p=this.attrs.cropWidth,y=this.attrs.cropHeight;p&&y?h=[d,this.cropX(),this.cropY(),p,y,0,0,i,r]:h=[d,0,0,i,r]}(this.hasFill()||this.hasStroke()||u)&&(t.beginPath(),u?it.drawRoundedRectPath(t,i,r,u):t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),d&&(u&&t.clip(),t.drawImage.apply(t,h))}_hitFunc(t){const i=this.width(),r=this.height(),u=this.cornerRadius();t.beginPath(),u?it.drawRoundedRectPath(t,i,r,u):t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,i,r;return(r=(t=this.attrs.width)!==null&&t!==void 0?t:(i=this.image())===null||i===void 0?void 0:i.width)!==null&&r!==void 0?r:0}getHeight(){var t,i,r;return(r=(t=this.attrs.height)!==null&&t!==void 0?t:(i=this.image())===null||i===void 0?void 0:i.height)!==null&&r!==void 0?r:0}static fromURL(t,i,r=null){const u=it.createImageElement();u.onload=function(){const d=new jy({image:u});i(d)},u.onerror=r,u.crossOrigin="Anonymous",u.src=t}};Cl.prototype.className="Image";Cl.prototype._attrsAffectingSize=["image"];zn(Cl);J.addGetterSetter(Cl,"cornerRadius",0,E0(4));J.addGetterSetter(Cl,"image");J.addComponentsGetterSetter(Cl,"crop",["x","y","width","height"]);J.addGetterSetter(Cl,"cropX",0,jt());J.addGetterSetter(Cl,"cropY",0,jt());J.addGetterSetter(Cl,"cropWidth",0,jt());J.addGetterSetter(Cl,"cropHeight",0,jt());const Uy=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],C6="Change.konva",A6="none",e1="up",n1="right",a1="down",i1="left",M6=Uy.length;class b1 extends Yc{constructor(t){super(t),this.on("add.konva",function(i){this._addListeners(i.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let i=this,r;const u=function(){i._sync()};for(r=0;r<M6;r++)t.on(Uy[r]+C6,u)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t=this.getText(),i=this.getTag(),r,u,d,h,p,y,x;if(t&&i){switch(r=t.width(),u=t.height(),d=i.pointerDirection(),h=i.pointerWidth(),x=i.pointerHeight(),p=0,y=0,d){case e1:p=r/2,y=-1*x;break;case n1:p=r+h,y=u/2;break;case a1:p=r/2,y=u+x;break;case i1:p=-1*h,y=u/2;break}i.setAttrs({x:-1*p,y:-1*y,width:r,height:u}),t.setAttrs({x:-1*p,y:-1*y})}}}b1.prototype.className="Label";zn(b1);class pu extends zt{_sceneFunc(t){const i=this.width(),r=this.height(),u=this.pointerDirection(),d=this.pointerWidth(),h=this.pointerHeight(),p=this.cornerRadius();let y=0,x=0,_=0,E=0;typeof p=="number"?y=x=_=E=Math.min(p,i/2,r/2):(y=Math.min(p[0]||0,i/2,r/2),x=Math.min(p[1]||0,i/2,r/2),E=Math.min(p[2]||0,i/2,r/2),_=Math.min(p[3]||0,i/2,r/2)),t.beginPath(),t.moveTo(y,0),u===e1&&(t.lineTo((i-d)/2,0),t.lineTo(i/2,-1*h),t.lineTo((i+d)/2,0)),t.lineTo(i-x,0),t.arc(i-x,x,x,Math.PI*3/2,0,!1),u===n1&&(t.lineTo(i,(r-h)/2),t.lineTo(i+d,r/2),t.lineTo(i,(r+h)/2)),t.lineTo(i,r-E),t.arc(i-E,r-E,E,0,Math.PI/2,!1),u===a1&&(t.lineTo((i+d)/2,r),t.lineTo(i/2,r+h),t.lineTo((i-d)/2,r)),t.lineTo(_,r),t.arc(_,r-_,_,Math.PI/2,Math.PI,!1),u===i1&&(t.lineTo(0,(r+h)/2),t.lineTo(-1*d,r/2),t.lineTo(0,(r-h)/2)),t.lineTo(0,y),t.arc(y,y,y,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,i=0,r=this.pointerWidth(),u=this.pointerHeight(),d=this.pointerDirection(),h=this.width(),p=this.height();return d===e1?(i-=u,p+=u):d===a1?p+=u:d===i1?(t-=r*1.5,h+=r):d===n1&&(h+=r*1.5),{x:t,y:i,width:h,height:p}}}pu.prototype.className="Tag";zn(pu);J.addGetterSetter(pu,"pointerDirection",A6);J.addGetterSetter(pu,"pointerWidth",0,jt());J.addGetterSetter(pu,"pointerHeight",0,jt());J.addGetterSetter(pu,"cornerRadius",0,E0(4));let Pd=class extends zt{_sceneFunc(t){const i=this.cornerRadius(),r=this.width(),u=this.height();t.beginPath(),i?it.drawRoundedRectPath(t,r,u,i):t.rect(0,0,r,u),t.closePath(),t.fillStrokeShape(this)}};Pd.prototype.className="Rect";zn(Pd);J.addGetterSetter(Pd,"cornerRadius",0,E0(4));class cr extends zt{_sceneFunc(t){const i=this._getPoints(),r=this.radius(),u=this.sides(),d=this.cornerRadius();if(t.beginPath(),d)it.drawRoundedPolygonPath(t,i,u,r,d);else{t.moveTo(i[0].x,i[0].y);for(let h=1;h<i.length;h++)t.lineTo(i[h].x,i[h].y)}t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,i=this.attrs.radius||0,r=[];for(let u=0;u<t;u++)r.push({x:i*Math.sin(u*2*Math.PI/t),y:-1*i*Math.cos(u*2*Math.PI/t)});return r}getSelfRect(){const t=this._getPoints();let i=t[0].x,r=t[0].x,u=t[0].y,d=t[0].y;return t.forEach(h=>{i=Math.min(i,h.x),r=Math.max(r,h.x),u=Math.min(u,h.y),d=Math.max(d,h.y)}),{x:i,y:u,width:r-i,height:d-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}cr.prototype.className="RegularPolygon";cr.prototype._centroid=!0;cr.prototype._attrsAffectingSize=["radius"];zn(cr);J.addGetterSetter(cr,"radius",0,jt());J.addGetterSetter(cr,"sides",0,jt());J.addGetterSetter(cr,"cornerRadius",0,E0(4));const i2=Math.PI*2;class mu extends zt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,i2,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),i2,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}mu.prototype.className="Ring";mu.prototype._centroid=!0;mu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];zn(mu);J.addGetterSetter(mu,"innerRadius",0,jt());J.addGetterSetter(mu,"outerRadius",0,jt());class ps extends zt{constructor(t){super(t),this._updated=!0,this.anim=new $i(()=>{const i=this._updated;return this._updated=!1,i}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){const i=this.animation(),r=this.frameIndex(),u=r*4,d=this.animations()[i],h=this.frameOffsets(),p=d[u+0],y=d[u+1],x=d[u+2],_=d[u+3],E=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,x,_),t.closePath(),t.fillStrokeShape(this)),E)if(h){const T=h[i],z=r*2;t.drawImage(E,p,y,x,_,T[z+0],T[z+1],x,_)}else t.drawImage(E,p,y,x,_,0,0,x,_)}_hitFunc(t){const i=this.animation(),r=this.frameIndex(),u=r*4,d=this.animations()[i],h=this.frameOffsets(),p=d[u+2],y=d[u+3];if(t.beginPath(),h){const x=h[i],_=r*2;t.rect(x[_+0],x[_+1],p,y)}else t.rect(0,0,p,y);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),i=this.animation(),r=this.animations(),u=r[i],d=u.length/4;t<d-1?this.frameIndex(t+1):this.frameIndex(0)}}ps.prototype.className="Sprite";zn(ps);J.addGetterSetter(ps,"animation");J.addGetterSetter(ps,"animations");J.addGetterSetter(ps,"frameOffsets");J.addGetterSetter(ps,"image");J.addGetterSetter(ps,"frameIndex",0,jt());J.addGetterSetter(ps,"frameRate",17,jt());J.backCompat(ps,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class fr extends zt{_sceneFunc(t){const i=this.innerRadius(),r=this.outerRadius(),u=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(let d=1;d<u*2;d++){const h=d%2===0?r:i,p=h*Math.sin(d*Math.PI/u),y=-1*h*Math.cos(d*Math.PI/u);t.lineTo(p,y)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}fr.prototype.className="Star";fr.prototype._centroid=!0;fr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];zn(fr);J.addGetterSetter(fr,"numPoints",5,jt());J.addGetterSetter(fr,"innerRadius",0,jt());J.addGetterSetter(fr,"outerRadius",0,jt());function sr(s){return[...s].reduce((t,i,r,u)=>{if(new RegExp("\\p{Emoji}","u").test(i)){const d=u[r+1];d&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(d)?(t.push(i+d),u[r+1]=""):t.push(i)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(i+(u[r+1]||""))?t.push(i+u[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(i)?t[t.length-1]+=i:i&&t.push(i);return t},[])}const Gc="auto",O6="center",By="inherit",Dd="justify",R6="Change.konva",z6="2d",l2="-",Gy="left",N6="text",D6="Text",w6="top",j6="bottom",s2="middle",Hy="normal",U6="px ",Zp=" ",B6="right",o2="rtl",G6="word",H6="char",r2="none",Am="",Ly=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],L6=Ly.length;function q6(s){return s.split(",").map(t=>{t=t.trim();const i=t.indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return i&&!r&&(t=`"${t}"`),t}).join(", ")}let Jp;function Mm(){return Jp||(Jp=it.createCanvasElement().getContext(z6),Jp)}function Y6(s){s.fillText(this._partialText,this._partialTextX,this._partialTextY)}function X6(s){s.setAttr("miterLimit",2),s.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function k6(s){return s=s||{},!s.fillLinearGradientColorStops&&!s.fillRadialGradientColorStops&&!s.fillPatternImage&&(s.fill=s.fill||"black"),s}let on=class extends zt{constructor(t){super(k6(t)),this._partialTextX=0,this._partialTextY=0;for(let i=0;i<L6;i++)this.on(Ly[i]+R6,this._setTextData);this._setTextData()}_sceneFunc(t){var i,r;const u=this.textArr,d=u.length;if(!this.text())return;let h=this.padding(),p=this.fontSize(),y=this.lineHeight()*p,x=this.verticalAlign(),_=this.direction(),E=0,T=this.align(),z=this.getWidth(),A=this.letterSpacing(),H=this.charRenderFunc(),L=this.fill(),V=this.textDecoration(),j=this.underlineOffset(),Z=V.indexOf("underline")!==-1,K=V.indexOf("line-through")!==-1,I;_=_===By?t.direction:_;let st=y/2,ot=s2;if(!Ht.legacyTextRendering){const M=this.measureSize("M");ot="alphabetic";const R=(i=M.fontBoundingBoxAscent)!==null&&i!==void 0?i:M.actualBoundingBoxAscent,Y=(r=M.fontBoundingBoxDescent)!==null&&r!==void 0?r:M.actualBoundingBoxDescent;st=(R-Y)/2+y/2}for(_===o2&&t.setAttr("direction",_),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",ot),t.setAttr("textAlign",Gy),x===s2?E=(this.getHeight()-d*y-h*2)/2:x===j6&&(E=this.getHeight()-d*y-h*2),t.translate(h,E+h),I=0;I<d;I++){let M=0,R=0;const Y=u[I],F=Y.text,B=Y.width,k=Y.lastInParagraph;if(t.save(),T===B6?M+=z-B-h*2:T===O6&&(M+=(z-B-h*2)/2),Z){t.save(),t.beginPath();const G=j??(Ht.legacyTextRendering?Math.round(p/2):Math.round(p/4)),O=M,U=st+R+G;t.moveTo(O,U);const X=T===Dd&&!k?z-h*2:B;t.lineTo(O+Math.round(X),U),t.lineWidth=p/15;const $=this._getLinearGradient();t.strokeStyle=$||L,t.stroke(),t.restore()}const Q=M;if(_!==o2&&(A!==0||T===Dd||H)){const G=F.split(" ").length-1,O=sr(F);for(let U=0;U<O.length;U++){const X=O[U];if(X===" "&&!k&&T===Dd&&(M+=(z-h*2-B)/G),this._partialTextX=M,this._partialTextY=st+R,this._partialText=X,H){t.save();const ft=u.slice(0,I).reduce((et,yt)=>et+sr(yt.text).length,0),q=U+ft;H({char:X,index:q,x:M,y:st+R,lineIndex:I,column:U,isLastInLine:k,width:this.measureSize(X).width,context:t})}t.fillStrokeShape(this),H&&t.restore(),M+=this.measureSize(X).width+A}}else A!==0&&t.setAttr("letterSpacing",`${A}px`),this._partialTextX=M,this._partialTextY=st+R,this._partialText=F,t.fillStrokeShape(this);if(K){t.save(),t.beginPath();const G=Ht.legacyTextRendering?0:-Math.round(p/4),O=Q;t.moveTo(O,st+R+G);const U=T===Dd&&!k?z-h*2:B;t.lineTo(O+Math.round(U),st+R+G),t.lineWidth=p/15;const X=this._getLinearGradient();t.strokeStyle=X||L,t.stroke(),t.restore()}t.restore(),d>1&&(st+=y)}}_hitFunc(t){const i=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)}setText(t){const i=it._isString(t)?t:t==null?"":t+"";return this._setAttr(N6,i),this}getWidth(){return this.attrs.width===Gc||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Gc||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return it.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var i,r,u,d,h,p,y,x,_,E,T;let z=Mm(),A=this.fontSize(),H;z.save(),z.font=this._getContextFont(),H=z.measureText(t),z.restore();const L=A/100;return{actualBoundingBoxAscent:(i=H.actualBoundingBoxAscent)!==null&&i!==void 0?i:71.58203125*L,actualBoundingBoxDescent:(r=H.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(u=H.actualBoundingBoxLeft)!==null&&u!==void 0?u:-7.421875*L,actualBoundingBoxRight:(d=H.actualBoundingBoxRight)!==null&&d!==void 0?d:75.732421875*L,alphabeticBaseline:(h=H.alphabeticBaseline)!==null&&h!==void 0?h:0,emHeightAscent:(p=H.emHeightAscent)!==null&&p!==void 0?p:100*L,emHeightDescent:(y=H.emHeightDescent)!==null&&y!==void 0?y:-20*L,fontBoundingBoxAscent:(x=H.fontBoundingBoxAscent)!==null&&x!==void 0?x:91*L,fontBoundingBoxDescent:(_=H.fontBoundingBoxDescent)!==null&&_!==void 0?_:21*L,hangingBaseline:(E=H.hangingBaseline)!==null&&E!==void 0?E:72.80000305175781*L,ideographicBaseline:(T=H.ideographicBaseline)!==null&&T!==void 0?T:-21*L,width:H.width,height:A}}_getContextFont(){return this.fontStyle()+Zp+this.fontVariant()+Zp+(this.fontSize()+U6)+q6(this.fontFamily())}_addTextLine(t){this.align()===Dd&&(t=t.trim());const r=this._getTextWidth(t);return this.textArr.push({text:t,width:r,lastInParagraph:!1})}_getTextWidth(t){const i=this.letterSpacing(),r=t.length;return Mm().measureText(t).width+i*r}_setTextData(){let t=this.text().split(`
`),i=+this.fontSize(),r=0,u=this.lineHeight()*i,d=this.attrs.width,h=this.attrs.height,p=d!==Gc&&d!==void 0,y=h!==Gc&&h!==void 0,x=this.padding(),_=d-x*2,E=h-x*2,T=0,z=this.wrap(),A=z!==r2,H=z!==H6&&A,L=this.ellipsis();this.textArr=[],Mm().font=this._getContextFont();const V=L?this._getTextWidth(Am):0;for(let j=0,Z=t.length;j<Z;++j){let K=t[j],I=this._getTextWidth(K);if(p&&I>_)for(;K.length>0;){let st=0,ot=sr(K).length,M="",R=0;for(;st<ot;){const Y=st+ot>>>1,F=sr(K),B=F.slice(0,Y+1).join(""),k=this._getTextWidth(B);(L&&y&&T+u>E?k+V:k)<=_?(st=Y+1,M=B,R=k):ot=Y}if(M){if(H){const B=sr(K),k=sr(M),Q=B[k.length],G=Q===Zp||Q===l2;let O;if(G&&R<=_)O=k.length;else{const U=k.lastIndexOf(Zp),X=k.lastIndexOf(l2);O=Math.max(U,X)+1}O>0&&(st=O,M=B.slice(0,st).join(""),R=this._getTextWidth(M))}if(M=M.trimRight(),this._addTextLine(M),r=Math.max(r,R),T+=u,this._shouldHandleEllipsis(T)){this._tryToAddEllipsisToLastLine();break}if(K=sr(K).slice(st).join("").trimLeft(),K.length>0&&(I=this._getTextWidth(K),I<=_)){this._addTextLine(K),T+=u,r=Math.max(r,I);break}}else break}else this._addTextLine(K),T+=u,r=Math.max(r,I),this._shouldHandleEllipsis(T)&&j<Z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),y&&T+u>E)break}this.textHeight=i,this.textWidth=r}_shouldHandleEllipsis(t){const i=+this.fontSize(),r=this.lineHeight()*i,u=this.attrs.height,d=u!==Gc&&u!==void 0,h=this.padding(),p=u-h*2;return!(this.wrap()!==r2)||d&&t+r>p}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,i=t!==Gc&&t!==void 0,r=this.padding(),u=t-r*2,d=this.ellipsis(),h=this.textArr[this.textArr.length-1];!h||!d||(i&&(this._getTextWidth(h.text+Am)<u||(h.text=h.text.slice(0,h.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(h.text+Am))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,i=this.hasShadow();return t&&i?!0:super._useBufferCanvas()}};on.prototype._fillFunc=Y6;on.prototype._strokeFunc=X6;on.prototype.className=D6;on.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];zn(on);J.overWriteSetter(on,"width",v1());J.overWriteSetter(on,"height",v1());J.addGetterSetter(on,"direction",By);J.addGetterSetter(on,"fontFamily","Arial");J.addGetterSetter(on,"fontSize",12,jt());J.addGetterSetter(on,"fontStyle",Hy);J.addGetterSetter(on,"fontVariant",Hy);J.addGetterSetter(on,"padding",0,jt());J.addGetterSetter(on,"align",Gy);J.addGetterSetter(on,"verticalAlign",w6);J.addGetterSetter(on,"lineHeight",1,jt());J.addGetterSetter(on,"wrap",G6);J.addGetterSetter(on,"ellipsis",!1,Tl());J.addGetterSetter(on,"letterSpacing",0,jt());J.addGetterSetter(on,"text","",fu());J.addGetterSetter(on,"textDecoration","");J.addGetterSetter(on,"underlineOffset",void 0,jt());J.addGetterSetter(on,"charRenderFunc",void 0);const V6="",qy="normal";function Yy(s){s.fillText(this.partialText,0,0)}function Xy(s){s.strokeText(this.partialText,0,0)}class na extends zt{constructor(t){super(t),this.dummyCanvas=it.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return sn.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const i=this.pathLength;return t>i?null:sn.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=sn.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const i=this.textDecoration(),r=this.fill(),u=this.fontSize(),d=this.glyphInfo,h=i.indexOf("underline")!==-1,p=i.indexOf("line-through")!==-1;h&&t.beginPath();for(let y=0;y<d.length;y++){t.save();const x=d[y].p0;t.translate(x.x,x.y),t.rotate(d[y].rotation),this.partialText=d[y].text,t.fillStrokeShape(this),h&&(y===0&&t.moveTo(0,u/2+1),t.lineTo(d[y].width,u/2+1)),t.restore()}if(h&&(t.strokeStyle=r,t.lineWidth=u/20,t.stroke()),p){t.beginPath();for(let y=0;y<d.length;y++){t.save();const x=d[y].p0;t.translate(x.x,x.y),t.rotate(d[y].rotation),y===0&&t.moveTo(0,0),t.lineTo(d[y].width,0),t.restore()}t.strokeStyle=r,t.lineWidth=u/20,t.stroke()}t.restore()}_hitFunc(t){t.beginPath();const i=this.glyphInfo;if(i.length>=1){const r=i[0].p0;t.moveTo(r.x,r.y)}for(let r=0;r<i.length;r++){const u=i[r].p1;t.lineTo(u.x,u.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return it.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return on.prototype.setText.call(this,t)}_getContextFont(){return on.prototype._getContextFont.call(this)}_getTextSize(t){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const u=r.measureText(t);return r.restore(),{width:u.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const t=sr(this.text()),i=[];let r=0;for(let E=0;E<t.length;E++)i.push({char:t[E],width:this._getTextSize(t[E]).width}),r+=i[E].width;const{height:u}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=u,this.glyphInfo=[],!this.attrs.data)return null;const d=this.letterSpacing(),h=this.align(),p=this.kerningFunc(),y=Math.max(this.textWidth+((this.attrs.text||"").length-1)*d,0);let x=0;h==="center"&&(x=Math.max(0,this.pathLength/2-y/2)),h==="right"&&(x=Math.max(0,this.pathLength-y));let _=x;for(let E=0;E<i.length;E++){const T=this._getPointAtLength(_);if(!T)return;const z=i[E].char;let A=i[E].width+d;if(z===" "&&h==="justify"){const K=this.text().split(" ").length-1;A+=(this.pathLength-y)/K}const H=this._getPointAtLength(_+A);if(!H)return;const L=sn.getLineLength(T.x,T.y,H.x,H.y);let V=0;if(p)try{V=p(i[E-1].char,z)*this.fontSize()}catch{V=0}T.x+=V,H.x+=V,this.textWidth+=V;const j=sn.getPointOnLine(V+L/2,T.x,T.y,H.x,H.y),Z=Math.atan2(H.y-T.y,H.x-T.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:t[E],rotation:Z,p0:T,p1:H,width:L}),_+=A}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach(function(x){t.push(x.p0.x),t.push(x.p0.y),t.push(x.p1.x),t.push(x.p1.y)});let i=t[0]||0,r=t[0]||0,u=t[1]||0,d=t[1]||0,h,p;for(let x=0;x<t.length/2;x++)h=t[x*2],p=t[x*2+1],i=Math.min(i,h),r=Math.max(r,h),u=Math.min(u,p),d=Math.max(d,p);const y=this.fontSize();return{x:i-y/2,y:u-y/2,width:r-i+y,height:d-u+y}}destroy(){return it.releaseCanvas(this.dummyCanvas),super.destroy()}}na.prototype._fillFunc=Yy;na.prototype._strokeFunc=Xy;na.prototype._fillFuncHit=Yy;na.prototype._strokeFuncHit=Xy;na.prototype.className="TextPath";na.prototype._attrsAffectingSize=["text","fontSize","data"];zn(na);J.addGetterSetter(na,"data");J.addGetterSetter(na,"fontFamily","Arial");J.addGetterSetter(na,"fontSize",12,jt());J.addGetterSetter(na,"fontStyle",qy);J.addGetterSetter(na,"align","left");J.addGetterSetter(na,"letterSpacing",0,jt());J.addGetterSetter(na,"textBaseline","middle");J.addGetterSetter(na,"fontVariant",qy);J.addGetterSetter(na,"text",V6);J.addGetterSetter(na,"textDecoration","");J.addGetterSetter(na,"kerningFunc",void 0);const ky="tr-konva",Q6=["resizeEnabledChange","rotateAnchorOffsetChange","rotateAnchorAngleChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(s=>s+`.${ky}`).join(" "),u2="nodesRect",K6=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],Z6={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},J6="ontouchstart"in Ht._global;function F6(s,t,i){if(s==="rotater")return i;t+=it.degToRad(Z6[s]||0);const r=(it.radToDeg(t)%360+360)%360;return it._inRange(r,315+22.5,360)||it._inRange(r,0,22.5)?"ns-resize":it._inRange(r,45-22.5,45+22.5)?"nesw-resize":it._inRange(r,90-22.5,90+22.5)?"ew-resize":it._inRange(r,135-22.5,135+22.5)?"nwse-resize":it._inRange(r,180-22.5,180+22.5)?"ns-resize":it._inRange(r,225-22.5,225+22.5)?"nesw-resize":it._inRange(r,270-22.5,270+22.5)?"ew-resize":it._inRange(r,315-22.5,315+22.5)?"nwse-resize":(it.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const c0=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function W6(s){return{x:s.x+s.width/2*Math.cos(s.rotation)+s.height/2*Math.sin(-s.rotation),y:s.y+s.height/2*Math.cos(s.rotation)+s.width/2*Math.sin(s.rotation)}}function Vy(s,t,i){const r=i.x+(s.x-i.x)*Math.cos(t)-(s.y-i.y)*Math.sin(t),u=i.y+(s.x-i.x)*Math.sin(t)+(s.y-i.y)*Math.cos(t);return{...s,rotation:s.rotation+t,x:r,y:u}}function P6(s,t){const i=W6(s);return Vy(s,t,i)}function I6(s,t,i){let r=t;for(let u=0;u<s.length;u++){const d=Ht.getAngle(s[u]),h=Math.abs(d-t)%(Math.PI*2);Math.min(h,Math.PI*2-h)<i&&(r=d)}return r}let l1=0;class ze extends Yc{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Q6,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return it.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return ky+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const i=t.filter(u=>u.isAncestorOf(this)?(it.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=t=i,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(u=>{const d=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(u._attrsAffectingSize.length){const h=u._attrsAffectingSize.map(p=>p+"Change."+this._getEventNamespace()).join(" ");u.on(h,d)}u.on(K6.map(h=>h+`.${this._getEventNamespace()}`).join(" "),d),u.on(`absoluteTransformChange.${this._getEventNamespace()}`,d),this._proxyDrag(u)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let i;t.on(`dragstart.${this._getEventNamespace()}`,r=>{i=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(r,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!i)return;const u=t.getAbsolutePosition(),d=u.x-i.x,h=u.y-i.y;this.nodes().forEach(p=>{if(p===t||p.isDragging())return;const y=p.getAbsolutePosition();p.setAbsolutePosition({x:y.x+d,y:y.y+h}),p.startDrag(r)}),i=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(u2),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(u2,this.__getNodeRect)}__getNodeShape(t,i=this.rotation(),r){const u=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=t.getAbsoluteScale(r),h=t.getAbsolutePosition(r),p=u.x*d.x-t.offsetX()*d.x,y=u.y*d.y-t.offsetY()*d.y,x=(Ht.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),_={x:h.x+p*Math.cos(x)+y*Math.sin(-x),y:h.y+y*Math.cos(x)+p*Math.sin(x),width:u.width*d.x,height:u.height*d.y,rotation:x};return Vy(_,-Ht.getAngle(i),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const i=[];this.nodes().map(x=>{const _=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),E=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],T=x.getAbsoluteTransform();E.forEach(function(z){const A=T.point(z);i.push(A)})});const r=new bi;r.rotate(-Ht.getAngle(this.rotation()));let u=1/0,d=1/0,h=-1/0,p=-1/0;i.forEach(function(x){const _=r.point(x);u===void 0&&(u=h=_.x,d=p=_.y),u=Math.min(u,_.x),d=Math.min(d,_.y),h=Math.max(h,_.x),p=Math.max(p,_.y)}),r.invert();const y=r.point({x:u,y:d});return{x:y.x,y:y.y,width:h-u,height:p-d,rotation:Ht.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),c0.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){const i=new Pd({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:J6?10:"auto"}),r=this;i.on("mousedown touchstart",function(u){r._handleMouseDown(u)}),i.on("dragstart",u=>{i.stopDrag(),u.cancelBubble=!0}),i.on("dragend",u=>{u.cancelBubble=!0}),i.on("mouseenter",()=>{const u=Ht.getAngle(this.rotation()),d=this.rotateAnchorCursor(),h=F6(t,u,d);i.getStage().content&&(i.getStage().content.style.cursor=h),this._cursorChange=!0}),i.on("mouseout",()=>{i.getStage().content&&(i.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(i)}_createBack(){const t=new zt({name:"back",width:0,height:0,sceneFunc(i,r){const u=r.getParent(),d=u.padding(),h=r.width(),p=r.height();if(i.beginPath(),i.rect(-d,-d,h+d*2,p+d*2),u.rotateEnabled()&&u.rotateLineVisible()){const y=u.rotateAnchorAngle(),x=u.rotateAnchorOffset(),_=it.degToRad(y),E=Math.sin(_),T=-Math.cos(_),z=h/2,A=p/2;let H=1/0;T<0?H=Math.min(H,-A/T):T>0&&(H=Math.min(H,(p-A)/T)),E<0?H=Math.min(H,-z/E):E>0&&(H=Math.min(H,(h-z)/E));const L=z+E*H,V=A+T*H,j=it._sign(p),Z=L+E*x*j,K=V+T*x*j;i.moveTo(L,V),i.lineTo(Z,K)}i.fillStrokeShape(r)},hitFunc:(i,r)=>{if(!this.shouldOverdrawWholeArea())return;const u=this.padding();i.beginPath(),i.rect(-u,-u,r.width()+u*2,r.height()+u*2),i.fillStrokeShape(r)}});this.add(t),this._proxyDrag(t),t.on("dragstart",i=>{i.cancelBubble=!0}),t.on("dragmove",i=>{i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),this.on("dragmove",i=>{this.update()})}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const i=this._getNodeRect(),r=i.width,u=i.height,d=Math.sqrt(Math.pow(r,2)+Math.pow(u,2));this.sin=Math.abs(u/d),this.cos=Math.abs(r/d),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const h=t.target.getAbsolutePosition(),p=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:p.x-h.x,y:p.y-h.y},l1++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(y=>{y._fire("transformstart",{evt:t.evt,target:y})})}_handleMouseMove(t){let i,r,u;const d=this.findOne("."+this._movingAnchorName),h=d.getStage();h.setPointersPositions(t);const p=h.getPointerPosition();let y={x:p.x-this._anchorDragOffset.x,y:p.y-this._anchorDragOffset.y};const x=d.getAbsolutePosition();this.anchorDragBoundFunc()&&(y=this.anchorDragBoundFunc()(x,y,t)),d.setAbsolutePosition(y);const _=d.getAbsolutePosition();if(x.x===_.x&&x.y===_.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();i=d.x()-j.width/2,r=-d.y()+j.height/2;const Z=Ht.getAngle(this.rotateAnchorAngle());let K=Math.atan2(-r,i)+Math.PI/2-Z;j.height<0&&(K-=Math.PI);const st=Ht.getAngle(this.rotation())+K,ot=Ht.getAngle(this.rotationSnapTolerance()),R=I6(this.rotationSnaps(),st,ot)-j.rotation,Y=P6(j,R);this._fitNodesInto(Y,t);return}const E=this.shiftBehavior();let T;E==="inverted"?T=this.keepRatio()&&!t.shiftKey:E==="none"?T=this.keepRatio():T=this.keepRatio()||t.shiftKey;let z=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(T){const j=z?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};u=Math.sqrt(Math.pow(j.x-d.x(),2)+Math.pow(j.y-d.y(),2));const Z=this.findOne(".top-left").x()>j.x?-1:1,K=this.findOne(".top-left").y()>j.y?-1:1;i=u*this.cos*Z,r=u*this.sin*K,this.findOne(".top-left").x(j.x-i),this.findOne(".top-left").y(j.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(d.y());else if(this._movingAnchorName==="top-right"){if(T){const j=z?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};u=Math.sqrt(Math.pow(d.x()-j.x,2)+Math.pow(j.y-d.y(),2));const Z=this.findOne(".top-right").x()<j.x?-1:1,K=this.findOne(".top-right").y()>j.y?-1:1;i=u*this.cos*Z,r=u*this.sin*K,this.findOne(".top-right").x(j.x+i),this.findOne(".top-right").y(j.y-r)}var A=d.position();this.findOne(".top-left").y(A.y),this.findOne(".bottom-right").x(A.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(d.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(d.x());else if(this._movingAnchorName==="bottom-left"){if(T){const j=z?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};u=Math.sqrt(Math.pow(j.x-d.x(),2)+Math.pow(d.y()-j.y,2));const Z=j.x<d.x()?-1:1,K=d.y()<j.y?-1:1;i=u*this.cos*Z,r=u*this.sin*K,d.x(j.x-i),d.y(j.y+r)}A=d.position(),this.findOne(".top-left").x(A.x),this.findOne(".bottom-right").y(A.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(d.y());else if(this._movingAnchorName==="bottom-right"){if(T){const j=z?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};u=Math.sqrt(Math.pow(d.x()-j.x,2)+Math.pow(d.y()-j.y,2));const Z=this.findOne(".bottom-right").x()<j.x?-1:1,K=this.findOne(".bottom-right").y()<j.y?-1:1;i=u*this.cos*Z,r=u*this.sin*K,this.findOne(".bottom-right").x(j.x+i),this.findOne(".bottom-right").y(j.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(z=this.centeredScaling()||t.altKey,z){const j=this.findOne(".top-left"),Z=this.findOne(".bottom-right"),K=j.x(),I=j.y(),st=this.getWidth()-Z.x(),ot=this.getHeight()-Z.y();Z.move({x:-K,y:-I}),j.move({x:st,y:ot})}const H=this.findOne(".top-left").getAbsolutePosition();i=H.x,r=H.y;const L=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),V=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:i,y:r,width:L,height:V,rotation:Ht.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var i;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();l1--,this._fire("transformend",{evt:t,target:r}),(i=this.getLayer())===null||i===void 0||i.batchDraw(),r&&this._nodes.forEach(u=>{var d;u._fire("transformend",{evt:t,target:u}),(d=u.getLayer())===null||d===void 0||d.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,i){const r=this._getNodeRect(),u=1;if(it._inRange(t.width,-this.padding()*2-u,u)){this.update();return}if(it._inRange(t.height,-this.padding()*2-u,u)){this.update();return}const d=new bi;if(d.rotate(Ht.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const T=d.point({x:-this.padding()*2,y:0});t.x+=T.x,t.y+=T.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const T=d.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const T=d.point({x:0,y:-this.padding()*2});t.x+=T.x,t.y+=T.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const T=d.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const T=this.boundBoxFunc()(r,t);T?t=T:it.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const h=1e7,p=new bi;p.translate(r.x,r.y),p.rotate(r.rotation),p.scale(r.width/h,r.height/h);const y=new bi,x=t.width/h,_=t.height/h;this.flipEnabled()===!1?(y.translate(t.x,t.y),y.rotate(t.rotation),y.translate(t.width<0?t.width:0,t.height<0?t.height:0),y.scale(Math.abs(x),Math.abs(_))):(y.translate(t.x,t.y),y.rotate(t.rotation),y.scale(x,_));const E=y.multiply(p.invert());this._nodes.forEach(T=>{var z;if(!T.getStage())return;const A=T.getParent().getAbsoluteTransform(),H=T.getTransform().copy();H.translate(T.offsetX(),T.offsetY());const L=new bi;L.multiply(A.copy().invert()).multiply(E).multiply(A).multiply(H);const V=L.decompose();T.setAttrs(V),(z=T.getLayer())===null||z===void 0||z.batchDraw()}),this.rotation(it._getRotation(t.rotation)),this._nodes.forEach(T=>{this._fire("transform",{evt:i,target:T}),T._fire("transform",{evt:i,target:T})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,i){this.findOne(t).setAttrs(i)}update(){var t;const i=this._getNodeRect();this.rotation(it._getRotation(i.rotation));const r=i.width,u=i.height,d=this.enabledAnchors(),h=this.resizeEnabled(),p=this.padding(),y=this.anchorSize(),x=this.find("._anchor");x.forEach(st=>{st.setAttrs({width:y,height:y,offsetX:y/2,offsetY:y/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:y/2+p,offsetY:y/2+p,visible:h&&d.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:y/2+p,visible:h&&d.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:y/2-p,offsetY:y/2+p,visible:h&&d.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:u/2,offsetX:y/2+p,visible:h&&d.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:u/2,offsetX:y/2-p,visible:h&&d.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:u,offsetX:y/2+p,offsetY:y/2-p,visible:h&&d.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:u,offsetY:y/2-p,visible:h&&d.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:u,offsetX:y/2-p,offsetY:y/2-p,visible:h&&d.indexOf("bottom-right")>=0});const _=this.rotateAnchorAngle(),E=this.rotateAnchorOffset(),T=it.degToRad(_),z=Math.sin(T),A=-Math.cos(T),H=r/2,L=u/2;let V=1/0;A<0?V=Math.min(V,-L/A):A>0&&(V=Math.min(V,(u-L)/A)),z<0?V=Math.min(V,-H/z):z>0&&(V=Math.min(V,(r-H)/z));const j=H+z*V,Z=L+A*V,K=it._sign(u);this._batchChangeChild(".rotater",{x:j+z*E*K,y:Z+A*E*K-p*A,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:u,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(st=>st.draggable()),x:0,y:0});const I=this.anchorStyleFunc();I&&x.forEach(st=>{I(st)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Yc.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return wt.prototype.toObject.call(this)}clone(t){return wt.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}ze.isTransforming=()=>l1>0;function $6(s){return s instanceof Array||it.warn("enabledAnchors value should be an array"),s instanceof Array&&s.forEach(function(t){c0.indexOf(t)===-1&&it.warn("Unknown anchor name: "+t+". Available names are: "+c0.join(", "))}),s||[]}ze.prototype.className="Transformer";zn(ze);J.addGetterSetter(ze,"enabledAnchors",c0,$6);J.addGetterSetter(ze,"flipEnabled",!0,Tl());J.addGetterSetter(ze,"resizeEnabled",!0);J.addGetterSetter(ze,"anchorSize",10,jt());J.addGetterSetter(ze,"rotateEnabled",!0);J.addGetterSetter(ze,"rotateLineVisible",!0);J.addGetterSetter(ze,"rotationSnaps",[]);J.addGetterSetter(ze,"rotateAnchorOffset",50,jt());J.addGetterSetter(ze,"rotateAnchorAngle",0,jt());J.addGetterSetter(ze,"rotateAnchorCursor","crosshair");J.addGetterSetter(ze,"rotationSnapTolerance",5,jt());J.addGetterSetter(ze,"borderEnabled",!0);J.addGetterSetter(ze,"anchorStroke","rgb(0, 161, 255)");J.addGetterSetter(ze,"anchorStrokeWidth",1,jt());J.addGetterSetter(ze,"anchorFill","white");J.addGetterSetter(ze,"anchorCornerRadius",0,jt());J.addGetterSetter(ze,"borderStroke","rgb(0, 161, 255)");J.addGetterSetter(ze,"borderStrokeWidth",1,jt());J.addGetterSetter(ze,"borderDash");J.addGetterSetter(ze,"keepRatio",!0);J.addGetterSetter(ze,"shiftBehavior","default");J.addGetterSetter(ze,"centeredScaling",!1);J.addGetterSetter(ze,"ignoreStroke",!1);J.addGetterSetter(ze,"padding",0,jt());J.addGetterSetter(ze,"nodes");J.addGetterSetter(ze,"node");J.addGetterSetter(ze,"boundBoxFunc");J.addGetterSetter(ze,"anchorDragBoundFunc");J.addGetterSetter(ze,"anchorStyleFunc");J.addGetterSetter(ze,"shouldOverdrawWholeArea",!1);J.addGetterSetter(ze,"useSingleNodeRotation",!0);J.backCompat(ze,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class io extends zt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,Ht.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}io.prototype.className="Wedge";io.prototype._centroid=!0;io.prototype._attrsAffectingSize=["radius"];zn(io);J.addGetterSetter(io,"radius",0,jt());J.addGetterSetter(io,"angle",0,jt());J.addGetterSetter(io,"clockwise",!1);J.backCompat(io,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function c2(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const tx=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ex=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function nx(s,t){const i=s.data,r=s.width,u=s.height;let d,h,p,y,x,_,E,T,z,A,H,L,V,j,Z,K,I,st,ot,M;const R=t+t+1,Y=r-1,F=u-1,B=t+1,k=B*(B+1)/2,Q=new c2,G=tx[t],O=ex[t];let U=null,X=Q,$=null,ft=null;for(let q=1;q<R;q++)X=X.next=new c2,q===B&&(U=X);X.next=Q,p=h=0;for(let q=0;q<u;q++){L=V=j=Z=y=x=_=E=0,T=B*(K=i[h]),z=B*(I=i[h+1]),A=B*(st=i[h+2]),H=B*(ot=i[h+3]),y+=k*K,x+=k*I,_+=k*st,E+=k*ot,X=Q;for(let et=0;et<B;et++)X.r=K,X.g=I,X.b=st,X.a=ot,X=X.next;for(let et=1;et<B;et++)d=h+((Y<et?Y:et)<<2),y+=(X.r=K=i[d])*(M=B-et),x+=(X.g=I=i[d+1])*M,_+=(X.b=st=i[d+2])*M,E+=(X.a=ot=i[d+3])*M,L+=K,V+=I,j+=st,Z+=ot,X=X.next;$=Q,ft=U;for(let et=0;et<r;et++)i[h+3]=ot=E*G>>O,ot!==0?(ot=255/ot,i[h]=(y*G>>O)*ot,i[h+1]=(x*G>>O)*ot,i[h+2]=(_*G>>O)*ot):i[h]=i[h+1]=i[h+2]=0,y-=T,x-=z,_-=A,E-=H,T-=$.r,z-=$.g,A-=$.b,H-=$.a,d=p+((d=et+t+1)<Y?d:Y)<<2,L+=$.r=i[d],V+=$.g=i[d+1],j+=$.b=i[d+2],Z+=$.a=i[d+3],y+=L,x+=V,_+=j,E+=Z,$=$.next,T+=K=ft.r,z+=I=ft.g,A+=st=ft.b,H+=ot=ft.a,L-=K,V-=I,j-=st,Z-=ot,ft=ft.next,h+=4;p+=r}for(let q=0;q<r;q++){V=j=Z=L=x=_=E=y=0,h=q<<2,T=B*(K=i[h]),z=B*(I=i[h+1]),A=B*(st=i[h+2]),H=B*(ot=i[h+3]),y+=k*K,x+=k*I,_+=k*st,E+=k*ot,X=Q;for(let yt=0;yt<B;yt++)X.r=K,X.g=I,X.b=st,X.a=ot,X=X.next;let et=r;for(let yt=1;yt<=t;yt++)h=et+q<<2,y+=(X.r=K=i[h])*(M=B-yt),x+=(X.g=I=i[h+1])*M,_+=(X.b=st=i[h+2])*M,E+=(X.a=ot=i[h+3])*M,L+=K,V+=I,j+=st,Z+=ot,X=X.next,yt<F&&(et+=r);h=q,$=Q,ft=U;for(let yt=0;yt<u;yt++)d=h<<2,i[d+3]=ot=E*G>>O,ot>0?(ot=255/ot,i[d]=(y*G>>O)*ot,i[d+1]=(x*G>>O)*ot,i[d+2]=(_*G>>O)*ot):i[d]=i[d+1]=i[d+2]=0,y-=T,x-=z,_-=A,E-=H,T-=$.r,z-=$.g,A-=$.b,H-=$.a,d=q+((d=yt+B)<F?d:F)*r<<2,y+=L+=$.r=i[d],x+=V+=$.g=i[d+1],_+=j+=$.b=i[d+2],E+=Z+=$.a=i[d+3],$=$.next,T+=K=ft.r,z+=I=ft.g,A+=st=ft.b,H+=ot=ft.a,L-=K,V-=I,j-=st,Z-=ot,ft=ft.next,h+=r}}const ax=function(t){const i=Math.round(this.blurRadius());i>0&&nx(t,i)};J.addGetterSetter(wt,"blurRadius",0,jt(),J.afterSetFilter);const ix=function(s){const t=this.brightness()*255,i=s.data,r=i.length;for(let u=0;u<r;u+=4)i[u]+=t,i[u+1]+=t,i[u+2]+=t};J.addGetterSetter(wt,"brightness",0,jt(),J.afterSetFilter);const lx=function(s){const t=this.brightness(),i=s.data,r=i.length;for(let u=0;u<r;u+=4)i[u]=Math.min(255,i[u]*t),i[u+1]=Math.min(255,i[u+1]*t),i[u+2]=Math.min(255,i[u+2]*t)},sx=function(s){const t=Math.pow((this.contrast()+100)/100,2),i=s.data,r=i.length;let u=150,d=150,h=150;for(let p=0;p<r;p+=4)u=i[p],d=i[p+1],h=i[p+2],u/=255,u-=.5,u*=t,u+=.5,u*=255,d/=255,d-=.5,d*=t,d+=.5,d*=255,h/=255,h-=.5,h*=t,h+=.5,h*=255,u=u<0?0:u>255?255:u,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,i[p]=u,i[p+1]=d,i[p+2]=h};J.addGetterSetter(wt,"contrast",0,jt(),J.afterSetFilter);const ox=function(s){var t,i,r,u,d,h,p,y,x;const _=s.data,E=s.width,T=s.height,z=Math.min(1,Math.max(0,(i=(t=this.embossStrength)===null||t===void 0?void 0:t.call(this))!==null&&i!==void 0?i:.5)),A=Math.min(1,Math.max(0,(u=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&u!==void 0?u:.5)),L=(p={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(h=(d=this.embossDirection)===null||d===void 0?void 0:d.call(this))!==null&&h!==void 0?h:"top-left"])!==null&&p!==void 0?p:315,V=!!((x=(y=this.embossBlend)===null||y===void 0?void 0:y.call(this))!==null&&x!==void 0&&x),j=z*10,Z=A*255,K=L*Math.PI/180,I=Math.cos(K),st=Math.sin(K),ot=128/1020*j,M=new Uint8ClampedArray(_),R=new Float32Array(E*T);for(let Q=0,G=0;G<_.length;G+=4,Q++)R[Q]=.2126*M[G]+.7152*M[G+1]+.0722*M[G+2];const Y=[-1,0,1,-2,0,2,-1,0,1],F=[-1,-2,-1,0,0,0,1,2,1],B=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1],k=Q=>Q<0?0:Q>255?255:Q;for(let Q=1;Q<T-1;Q++)for(let G=1;G<E-1;G++){const O=Q*E+G;let U=0,X=0;U+=R[O+B[0]]*Y[0],X+=R[O+B[0]]*F[0],U+=R[O+B[1]]*Y[1],X+=R[O+B[1]]*F[1],U+=R[O+B[2]]*Y[2],X+=R[O+B[2]]*F[2],U+=R[O+B[3]]*Y[3],X+=R[O+B[3]]*F[3],U+=R[O+B[5]]*Y[5],X+=R[O+B[5]]*F[5],U+=R[O+B[6]]*Y[6],X+=R[O+B[6]]*F[6],U+=R[O+B[7]]*Y[7],X+=R[O+B[7]]*F[7],U+=R[O+B[8]]*Y[8],X+=R[O+B[8]]*F[8];const $=I*U+st*X,ft=k(Z+$*ot),q=O*4;if(V){const et=ft-Z;_[q]=k(M[q]+et),_[q+1]=k(M[q+1]+et),_[q+2]=k(M[q+2]+et),_[q+3]=M[q+3]}else _[q]=_[q+1]=_[q+2]=ft,_[q+3]=M[q+3]}for(let Q=0;Q<E;Q++){let G=Q*4,O=((T-1)*E+Q)*4;_[G]=M[G],_[G+1]=M[G+1],_[G+2]=M[G+2],_[G+3]=M[G+3],_[O]=M[O],_[O+1]=M[O+1],_[O+2]=M[O+2],_[O+3]=M[O+3]}for(let Q=1;Q<T-1;Q++){let G=Q*E*4,O=(Q*E+(E-1))*4;_[G]=M[G],_[G+1]=M[G+1],_[G+2]=M[G+2],_[G+3]=M[G+3],_[O]=M[O],_[O+1]=M[O+1],_[O+2]=M[O+2],_[O+3]=M[O+3]}return s};J.addGetterSetter(wt,"embossStrength",.5,jt(),J.afterSetFilter);J.addGetterSetter(wt,"embossWhiteLevel",.5,jt(),J.afterSetFilter);J.addGetterSetter(wt,"embossDirection","top-left",void 0,J.afterSetFilter);J.addGetterSetter(wt,"embossBlend",!1,void 0,J.afterSetFilter);function Om(s,t,i,r,u){const d=i-t,h=u-r;if(d===0)return r+h/2;if(h===0)return r;let p=(s-t)/d;return p=h*p+r,p}const rx=function(s){const t=s.data,i=t.length;let r=t[0],u=r,d,h=t[1],p=h,y,x=t[2],_=x,E;const T=this.enhance();if(T===0)return;for(let Z=0;Z<i;Z+=4)d=t[Z+0],d<r?r=d:d>u&&(u=d),y=t[Z+1],y<h?h=y:y>p&&(p=y),E=t[Z+2],E<x?x=E:E>_&&(_=E);u===r&&(u=255,r=0),p===h&&(p=255,h=0),_===x&&(_=255,x=0);let z,A,H,L,V,j;if(T>0)z=u+T*(255-u),A=r-T*(r-0),H=p+T*(255-p),L=h-T*(h-0),V=_+T*(255-_),j=x-T*(x-0);else{const Z=(u+r)*.5;z=u+T*(u-Z),A=r+T*(r-Z);const K=(p+h)*.5;H=p+T*(p-K),L=h+T*(h-K);const I=(_+x)*.5;V=_+T*(_-I),j=x+T*(x-I)}for(let Z=0;Z<i;Z+=4)t[Z+0]=Om(t[Z+0],r,u,A,z),t[Z+1]=Om(t[Z+1],h,p,L,H),t[Z+2]=Om(t[Z+2],x,_,j,V)};J.addGetterSetter(wt,"enhance",0,jt(),J.afterSetFilter);const ux=function(s){const t=s.data,i=t.length;for(let r=0;r<i;r+=4){const u=.34*t[r]+.5*t[r+1]+.16*t[r+2];t[r]=u,t[r+1]=u,t[r+2]=u}};J.addGetterSetter(wt,"hue",0,jt(),J.afterSetFilter);J.addGetterSetter(wt,"saturation",0,jt(),J.afterSetFilter);J.addGetterSetter(wt,"luminance",0,jt(),J.afterSetFilter);const cx=function(s){const t=s.data,i=t.length,r=1,u=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,h=this.luminance()*127,p=r*u*Math.cos(d*Math.PI/180),y=r*u*Math.sin(d*Math.PI/180),x=.299*r+.701*p+.167*y,_=.587*r-.587*p+.33*y,E=.114*r-.114*p-.497*y,T=.299*r-.299*p-.328*y,z=.587*r+.413*p+.035*y,A=.114*r-.114*p+.293*y,H=.299*r-.3*p+1.25*y,L=.587*r-.586*p-1.05*y,V=.114*r+.886*p-.2*y;let j,Z,K,I;for(let st=0;st<i;st+=4)j=t[st+0],Z=t[st+1],K=t[st+2],I=t[st+3],t[st+0]=x*j+_*Z+E*K+h,t[st+1]=T*j+z*Z+A*K+h,t[st+2]=H*j+L*Z+V*K+h,t[st+3]=I},fx=function(s){const t=s.data,i=t.length,r=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,h=r*u*Math.cos(d*Math.PI/180),p=r*u*Math.sin(d*Math.PI/180),y=.299*r+.701*h+.167*p,x=.587*r-.587*h+.33*p,_=.114*r-.114*h-.497*p,E=.299*r-.299*h-.328*p,T=.587*r+.413*h+.035*p,z=.114*r-.114*h+.293*p,A=.299*r-.3*h+1.25*p,H=.587*r-.586*h-1.05*p,L=.114*r+.886*h-.2*p;for(let V=0;V<i;V+=4){const j=t[V+0],Z=t[V+1],K=t[V+2],I=t[V+3];t[V+0]=y*j+x*Z+_*K,t[V+1]=E*j+T*Z+z*K,t[V+2]=A*j+H*Z+L*K,t[V+3]=I}};J.addGetterSetter(wt,"hue",0,jt(),J.afterSetFilter);J.addGetterSetter(wt,"saturation",0,jt(),J.afterSetFilter);J.addGetterSetter(wt,"value",0,jt(),J.afterSetFilter);const dx=function(s){const t=s.data,i=t.length;for(let r=0;r<i;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},hx=function(s,t,i){const r=s.data,u=t.data,d=s.width,h=s.height,p=i.polarCenterX||d/2,y=i.polarCenterY||h/2;let x=Math.sqrt(p*p+y*y),_=d-p,E=h-y;const T=Math.sqrt(_*_+E*E);x=T>x?T:x;const z=h,A=d,H=360/A*Math.PI/180;for(let L=0;L<A;L+=1){const V=Math.sin(L*H),j=Math.cos(L*H);for(let Z=0;Z<z;Z+=1){_=Math.floor(p+x*Z/z*j),E=Math.floor(y+x*Z/z*V);let K=(E*d+_)*4;const I=r[K+0],st=r[K+1],ot=r[K+2],M=r[K+3];K=(L+Z*d)*4,u[K+0]=I,u[K+1]=st,u[K+2]=ot,u[K+3]=M}}},px=function(s,t,i){const r=s.data,u=t.data,d=s.width,h=s.height,p=i.polarCenterX||d/2,y=i.polarCenterY||h/2;let x=Math.sqrt(p*p+y*y),_=d-p,E=h-y;const T=Math.sqrt(_*_+E*E);x=T>x?T:x;const z=h,A=d,H=0;let L,V;for(_=0;_<d;_+=1)for(E=0;E<h;E+=1){const j=_-p,Z=E-y,K=Math.sqrt(j*j+Z*Z)*z/x;let I=(Math.atan2(Z,j)*180/Math.PI+360+H)%360;I=I*A/360,L=Math.floor(I),V=Math.floor(K);let st=(V*d+L)*4;const ot=r[st+0],M=r[st+1],R=r[st+2],Y=r[st+3];st=(E*d+_)*4,u[st+0]=ot,u[st+1]=M,u[st+2]=R,u[st+3]=Y}},mx=function(s){const t=s.width,i=s.height;let r,u,d,h,p,y,x,_,E,T,z=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),H=Math.floor(t*(A%360)/360);if(z<1)return;const L=it.createCanvasElement();L.width=t,L.height=i;const V=L.getContext("2d").getImageData(0,0,t,i);it.releaseCanvas(L),hx(s,V,{polarCenterX:t/2,polarCenterY:i/2});let j=t/Math.pow(2,z);for(;j<=8;)j=j*2,z-=1;j=Math.ceil(j);let Z=j,K=0,I=Z,st=1;for(H+j>t&&(K=Z,I=0,st=-1),u=0;u<i;u+=1)for(r=K;r!==I;r+=st)d=Math.round(r+H)%t,E=(t*u+d)*4,p=V.data[E+0],y=V.data[E+1],x=V.data[E+2],_=V.data[E+3],T=(t*u+r)*4,V.data[T+0]=p,V.data[T+1]=y,V.data[T+2]=x,V.data[T+3]=_;for(u=0;u<i;u+=1)for(Z=Math.floor(j),h=0;h<z;h+=1){for(r=0;r<Z+1;r+=1)E=(t*u+r)*4,p=V.data[E+0],y=V.data[E+1],x=V.data[E+2],_=V.data[E+3],T=(t*u+Z*2-r-1)*4,V.data[T+0]=p,V.data[T+1]=y,V.data[T+2]=x,V.data[T+3]=_;Z*=2}px(V,s,{})};J.addGetterSetter(wt,"kaleidoscopePower",2,jt(),J.afterSetFilter);J.addGetterSetter(wt,"kaleidoscopeAngle",0,jt(),J.afterSetFilter);function Fp(s,t,i){let r=(i*s.width+t)*4;const u=[];return u.push(s.data[r++],s.data[r++],s.data[r++],s.data[r++]),u}function wd(s,t){return Math.sqrt(Math.pow(s[0]-t[0],2)+Math.pow(s[1]-t[1],2)+Math.pow(s[2]-t[2],2))}function gx(s){const t=[0,0,0];for(let i=0;i<s.length;i++)t[0]+=s[i][0],t[1]+=s[i][1],t[2]+=s[i][2];return t[0]/=s.length,t[1]/=s.length,t[2]/=s.length,t}function yx(s,t){const i=Fp(s,0,0),r=Fp(s,s.width-1,0),u=Fp(s,0,s.height-1),d=Fp(s,s.width-1,s.height-1),h=t||10;if(wd(i,r)<h&&wd(r,d)<h&&wd(d,u)<h&&wd(u,i)<h){const p=gx([r,i,d,u]),y=[];for(let x=0;x<s.width*s.height;x++){const _=wd(p,[s.data[x*4],s.data[x*4+1],s.data[x*4+2]]);y[x]=_<h?0:255}return y}}function vx(s,t){for(let i=0;i<s.width*s.height;i++)s.data[4*i+3]=t[i]}function xx(s,t,i){const r=[1,1,1,1,0,1,1,1,1],u=Math.round(Math.sqrt(r.length)),d=Math.floor(u/2),h=[];for(let p=0;p<i;p++)for(let y=0;y<t;y++){const x=p*t+y;let _=0;for(let E=0;E<u;E++)for(let T=0;T<u;T++){const z=p+E-d,A=y+T-d;if(z>=0&&z<i&&A>=0&&A<t){const H=z*t+A,L=r[E*u+T];_+=s[H]*L}}h[x]=_===2040?255:0}return h}function Sx(s,t,i){const r=[1,1,1,1,1,1,1,1,1],u=Math.round(Math.sqrt(r.length)),d=Math.floor(u/2),h=[];for(let p=0;p<i;p++)for(let y=0;y<t;y++){const x=p*t+y;let _=0;for(let E=0;E<u;E++)for(let T=0;T<u;T++){const z=p+E-d,A=y+T-d;if(z>=0&&z<i&&A>=0&&A<t){const H=z*t+A,L=r[E*u+T];_+=s[H]*L}}h[x]=_>=1020?255:0}return h}function bx(s,t,i){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],u=Math.round(Math.sqrt(r.length)),d=Math.floor(u/2),h=[];for(let p=0;p<i;p++)for(let y=0;y<t;y++){const x=p*t+y;let _=0;for(let E=0;E<u;E++)for(let T=0;T<u;T++){const z=p+E-d,A=y+T-d;if(z>=0&&z<i&&A>=0&&A<t){const H=z*t+A,L=r[E*u+T];_+=s[H]*L}}h[x]=_}return h}const _x=function(s){const t=this.threshold();let i=yx(s,t);return i&&(i=xx(i,s.width,s.height),i=Sx(i,s.width,s.height),i=bx(i,s.width,s.height),vx(s,i)),s};J.addGetterSetter(wt,"threshold",0,jt(),J.afterSetFilter);const Ex=function(s){const t=this.noise()*255,i=s.data,r=i.length,u=t/2;for(let d=0;d<r;d+=4)i[d+0]+=u-2*u*Math.random(),i[d+1]+=u-2*u*Math.random(),i[d+2]+=u-2*u*Math.random()};J.addGetterSetter(wt,"noise",.2,jt(),J.afterSetFilter);const Tx=function(s){let t=Math.ceil(this.pixelSize()),i=s.width,r=s.height,u=Math.ceil(i/t),d=Math.ceil(r/t),h=s.data;if(t<=0){it.error("pixelSize value can not be <= 0");return}for(let p=0;p<u;p+=1)for(let y=0;y<d;y+=1){let x=0,_=0,E=0,T=0;const z=p*t,A=z+t,H=y*t,L=H+t;let V=0;for(let j=z;j<A;j+=1)if(!(j>=i))for(let Z=H;Z<L;Z+=1){if(Z>=r)continue;const K=(i*Z+j)*4;x+=h[K+0],_+=h[K+1],E+=h[K+2],T+=h[K+3],V+=1}x=x/V,_=_/V,E=E/V,T=T/V;for(let j=z;j<A;j+=1)if(!(j>=i))for(let Z=H;Z<L;Z+=1){if(Z>=r)continue;const K=(i*Z+j)*4;h[K+0]=x,h[K+1]=_,h[K+2]=E,h[K+3]=T}}};J.addGetterSetter(wt,"pixelSize",8,jt(),J.afterSetFilter);const Cx=function(s){const t=Math.round(this.levels()*254)+1,i=s.data,r=i.length,u=255/t;for(let d=0;d<r;d+=1)i[d]=Math.floor(i[d]/u)*u};J.addGetterSetter(wt,"levels",.5,jt(),J.afterSetFilter);const Ax=function(s){const t=s.data,i=t.length,r=this.red(),u=this.green(),d=this.blue();for(let h=0;h<i;h+=4){const p=(.34*t[h]+.5*t[h+1]+.16*t[h+2])/255;t[h]=p*r,t[h+1]=p*u,t[h+2]=p*d,t[h+3]=t[h+3]}};J.addGetterSetter(wt,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});J.addGetterSetter(wt,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});J.addGetterSetter(wt,"blue",0,hy,J.afterSetFilter);const Mx=function(s){const t=s.data,i=t.length,r=this.red(),u=this.green(),d=this.blue(),h=this.alpha();for(let p=0;p<i;p+=4){const y=1-h;t[p]=r*h+t[p]*y,t[p+1]=u*h+t[p+1]*y,t[p+2]=d*h+t[p+2]*y}};J.addGetterSetter(wt,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});J.addGetterSetter(wt,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});J.addGetterSetter(wt,"blue",0,hy,J.afterSetFilter);J.addGetterSetter(wt,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s});const Ox=function(s){const t=s.data,i=t.length;for(let r=0;r<i;r+=4){const u=t[r+0],d=t[r+1],h=t[r+2];t[r+0]=Math.min(255,u*.393+d*.769+h*.189),t[r+1]=Math.min(255,u*.349+d*.686+h*.168),t[r+2]=Math.min(255,u*.272+d*.534+h*.131)}},Rx=function(s){const i=s.data;for(let r=0;r<i.length;r+=4){const u=i[r],d=i[r+1],h=i[r+2];.2126*u+.7152*d+.0722*h>=128&&(i[r]=255-u,i[r+1]=255-d,i[r+2]=255-h)}return s},zx=function(s){const t=this.threshold()*255,i=s.data,r=i.length;for(let u=0;u<r;u+=1)i[u]=i[u]<t?0:255};J.addGetterSetter(wt,"threshold",.5,jt(),J.afterSetFilter);Xc.Util._assign(Xc,{Arc:no,Arrow:hu,Circle:Kc,Ellipse:ur,Image:Cl,Label:b1,Tag:pu,Line:ao,Path:sn,Rect:Pd,RegularPolygon:cr,Ring:mu,Sprite:ps,Star:fr,Text:on,TextPath:na,Transformer:ze,Wedge:io,Filters:{Blur:ax,Brightness:lx,Brighten:ix,Contrast:sx,Emboss:ox,Enhance:rx,Grayscale:ux,HSL:cx,HSV:fx,Invert:dx,Kaleidoscope:mx,Mask:_x,Noise:Ex,Pixelate:Tx,Posterize:Cx,RGB:Ax,RGBA:Mx,Sepia:Ox,Solarize:Rx,Threshold:zx}});var Rm={exports:{}},zm={exports:{}};var f2;function Nx(){return f2||(f2=1,(function(s){s.exports=function(t){function i(a,l,f,m){return new Ef(a,l,f,m)}function r(){}function u(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function h(a){if(d(a)!==a)throw Error(u(188))}function p(a){var l=a.alternate;if(!l){if(l=d(a),l===null)throw Error(u(188));return l!==a?null:a}for(var f=a,m=l;;){var S=f.return;if(S===null)break;var b=S.alternate;if(b===null){if(m=S.return,m!==null){f=m;continue}break}if(S.child===b.child){for(b=S.child;b;){if(b===f)return h(S),a;if(b===m)return h(S),l;b=b.sibling}throw Error(u(188))}if(f.return!==m.return)f=S,m=b;else{for(var N=!1,P=S.child;P;){if(P===f){N=!0,f=S,m=b;break}if(P===m){N=!0,m=S,f=b;break}P=P.sibling}if(!N){for(P=b.child;P;){if(P===f){N=!0,f=b,m=S;break}if(P===m){N=!0,m=b,f=S;break}P=P.sibling}if(!N)throw Error(u(189))}}if(f.alternate!==m)throw Error(u(190))}if(f.tag!==3)throw Error(u(188));return f.stateNode.current===f?a:l}function y(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=y(a),l!==null)return l;a=a.sibling}return null}function x(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(a.tag!==4&&(l=x(a),l!==null))return l;a=a.sibling}return null}function _(a){return a===null||typeof a!="object"?null:(a=dl&&a[dl]||a["@@iterator"],typeof a=="function"?a:null)}function E(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Zl?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ws:return"Fragment";case Us:return"Profiler";case js:return"StrictMode";case ic:return"Suspense";case fl:return"SuspenseList";case Lr:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case Ds:return"Portal";case $a:return a.displayName||"Context";case Hr:return(a._context.displayName||"Context")+".Consumer";case Uo:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case lc:return l=a.displayName||null,l!==null?l:E(a.type)||"Memo";case pa:l=a._payload,a=a._init;try{return E(a(l))}catch{}}return null}function T(a){return{current:a}}function z(a){0>qs||(a.current=vc[qs],vc[qs]=null,qs--)}function A(a,l){qs++,vc[qs]=a.current,a.current=l}function H(a){return a>>>=0,a===0?32:31-(xc(a)/gp|0)|0}function L(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function V(a,l,f){var m=a.pendingLanes;if(m===0)return 0;var S=0,b=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var P=m&134217727;return P!==0?(m=P&~b,m!==0?S=L(m):(N&=P,N!==0?S=L(N):f||(f=P&~a,f!==0&&(S=L(f))))):(P=m&~b,P!==0?S=L(P):N!==0?S=L(N):f||(f=m&~a,f!==0&&(S=L(f)))),S===0?0:l!==0&&l!==S&&(l&b)===0&&(b=S&-S,f=l&-l,b>=f||b===32&&(f&4194048)!==0)?l:S}function j(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Z(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K(){var a=Xo;return Xo<<=1,(Xo&62914560)===0&&(Xo=4194304),a}function I(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function st(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ot(a,l,f,m,S,b){var N=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var P=a.entanglements,pt=a.expirationTimes,Tt=a.hiddenUpdates;for(f=N&~f;0<f;){var Ut=31-Ma(f),Rt=1<<Ut;P[Ut]=0,pt[Ut]=-1;var qt=Tt[Ut];if(qt!==null)for(Tt[Ut]=null,Ut=0;Ut<qt.length;Ut++){var ae=qt[Ut];ae!==null&&(ae.lane&=-536870913)}f&=~Rt}m!==0&&M(a,m,0),b!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=b&~(N&~l))}function M(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Ma(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|f&261930}function R(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var m=31-Ma(f),S=1<<m;S&l|a[m]&l&&(a[m]|=l),f&=~S}}function Y(a,l){var f=l&-l;return f=(f&42)!==0?1:F(f),(f&(a.suspendedLanes|l))!==0?0:f}function F(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function B(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function k(a){if(typeof rd=="function"&&xp(a),Oa&&typeof Oa.setStrictMode=="function")try{Oa.setStrictMode(Xs,a)}catch{}}function Q(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}function G(a){if(Cc===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Cc=l&&l[1]||"",Li=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+a+Li}function O(a,l){if(!a||Jr)return"";Jr=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(ae){var qt=ae}Reflect.construct(a,[],Rt)}else{try{Rt.call()}catch(ae){qt=ae}a.call(Rt.prototype)}}else{try{throw Error()}catch(ae){qt=ae}(Rt=a())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(ae){if(ae&&qt&&typeof ae.stack=="string")return[ae.stack,qt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),N=b[0],P=b[1];if(N&&P){var pt=N.split(`
`),Tt=P.split(`
`);for(S=m=0;m<pt.length&&!pt[m].includes("DetermineComponentFrameRoot");)m++;for(;S<Tt.length&&!Tt[S].includes("DetermineComponentFrameRoot");)S++;if(m===pt.length||S===Tt.length)for(m=pt.length-1,S=Tt.length-1;1<=m&&0<=S&&pt[m]!==Tt[S];)S--;for(;1<=m&&0<=S;m--,S--)if(pt[m]!==Tt[S]){if(m!==1||S!==1)do if(m--,S--,0>S||pt[m]!==Tt[S]){var Ut=`
`+pt[m].replace(" at new "," at ");return a.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",a.displayName)),Ut}while(1<=m&&0<=S);break}}}finally{Jr=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?G(f):""}function U(a,l){switch(a.tag){case 26:case 27:case 5:return G(a.type);case 16:return G("Lazy");case 13:return a.child!==l&&l!==null?G("Suspense Fallback"):G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return O(a.type,!1);case 11:return O(a.type.render,!1);case 1:return O(a.type,!0);case 31:return G("Activity");default:return""}}function X(a){try{var l="",f=null;do l+=U(a,f),f=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function $(a,l){if(typeof a=="object"&&a!==null){var f=ud.get(a);return f!==void 0?f:(l={value:a,source:l,stack:X(l)},ud.set(a,l),l)}return{value:a,source:l,stack:X(l)}}function ft(a,l){ml[qi++]=Fr,ml[qi++]=ke,ke=a,Fr=l}function q(a,l,f){ni[Ya++]=In,ni[Ya++]=yi,ni[Ya++]=ai,ai=a;var m=In;a=yi;var S=32-Ma(m)-1;m&=~(1<<S),f+=1;var b=32-Ma(l)+S;if(30<b){var N=S-S%5;b=(m&(1<<N)-1).toString(32),m>>=N,S-=N,In=1<<32-Ma(l)+S|f<<S|m,yi=b+a}else In=1<<b|f<<S|m,yi=a}function et(a){a.return!==null&&(ft(a,1),q(a,1,0))}function yt(a){for(;a===ke;)ke=ml[--qi],ml[qi]=null,Fr=ml[--qi],ml[qi]=null;for(;a===ai;)ai=ni[--Ya],ni[Ya]=null,yi=ni[--Ya],ni[Ya]=null,In=ni[--Ya],ni[Ya]=null}function Et(a,l){ni[Ya++]=In,ni[Ya++]=yi,ni[Ya++]=ai,In=l.id,yi=l.overflow,ai=a}function Mt(a,l){A($n,l),A(gl,a),A(Kn,null),a=Dh(l),z(Kn),A(Kn,a)}function Nt(){z(Kn),z(gl),z($n)}function Qt(a){a.memoizedState!==null&&A(Wr,a);var l=Kn.current,f=Ho(l,a.type);l!==f&&(A(gl,a),A(Kn,f))}function Ne(a){gl.current===a&&(z(Kn),z(gl)),Wr.current===a&&(z(Wr),En?Hs._currentValue=Gs:Hs._currentValue2=Gs)}function ne(a){var l=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ue($(l,a)),Ac}function bn(a,l){if(!en)throw Error(u(175));ip(a.stateNode,a.type,a.memoizedProps,l,a)||ne(a,!0)}function Yt(a){for(qn=a.return;qn;)switch(qn.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:qn=qn.return}}function Me(a){if(!en||a!==qn)return!1;if(!Se)return Yt(a),Se=!0,!1;var l=a.tag;if(Ln?l!==3&&l!==27&&(l!==5||Yo(a.type)&&!ma(a.type,a.memoizedProps))&&nn&&ne(a):l!==3&&(l!==5||Yo(a.type)&&!ma(a.type,a.memoizedProps))&&nn&&ne(a),Yt(a),l===13){if(!en)throw Error(u(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));nn=Pf(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));nn=sp(a)}else nn=Ln&&l===27?Wh(a.type,nn):qn?Fh(a.stateNode):null;return!0}function we(){en&&(nn=qn=null,Se=!1)}function ve(){var a=Yi;return a!==null&&(za===null?za=a:za.push.apply(za,a),Yi=null),a}function ue(a){Yi===null?Yi=[a]:Yi.push(a)}function _n(a,l,f){En?(A(ii,l._currentValue),l._currentValue=f):(A(ii,l._currentValue2),l._currentValue2=f)}function Xt(a){var l=ii.current;En?a._currentValue=l:a._currentValue2=l,z(ii)}function Ct(a,l,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===f)break;a=a.return}}function _t(a,l,f,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var b=S.dependencies;if(b!==null){var N=S.child;b=b.firstContext;t:for(;b!==null;){var P=b;b=S;for(var pt=0;pt<l.length;pt++)if(P.context===l[pt]){b.lanes|=f,P=b.alternate,P!==null&&(P.lanes|=f),Ct(b.return,f,a),m||(N=null);break t}b=P.next}}else if(S.tag===18){if(N=S.return,N===null)throw Error(u(341));N.lanes|=f,b=N.alternate,b!==null&&(b.lanes|=f),Ct(N,f,a),N=null}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===a){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}}function Ot(a,l,f,m){a=null;for(var S=l,b=!1;S!==null;){if(!b){if((S.flags&524288)!==0)b=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var N=S.alternate;if(N===null)throw Error(u(387));if(N=N.memoizedProps,N!==null){var P=S.type;Cn(S.pendingProps.value,N.value)||(a!==null?a.push(P):a=[P])}}else if(S===Wr.current){if(N=S.alternate,N===null)throw Error(u(387));N.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Hs):a=[Hs])}S=S.return}a!==null&&_t(l,a,f,m),l.flags|=262144}function kt(a){for(a=a.firstContext;a!==null;){var l=a.context;if(!Cn(En?l._currentValue:l._currentValue2,a.memoizedValue))return!0;a=a.next}return!1}function Bt(a){Ke=a,vi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function At(a){return Gt(Ke,a)}function xt(a,l){return Ke===null&&Bt(a),Gt(a,l)}function Gt(a,l){var f=En?l._currentValue:l._currentValue2;if(l={context:l,memoizedValue:f,next:null},vi===null){if(a===null)throw Error(u(308));vi=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else vi=vi.next=l;return f}function Wt(){return{controller:new Sp,data:new Map,refCount:0}}function Lt(a){a.refCount--,a.refCount===0&&Zn(H0,function(){a.controller.abort()})}function pe(){}function Te(a){a!==He&&a.next===null&&(He===null?Pr=He=a:He=He.next=a),li=!0,ra||(ra=!0,Wn())}function Fe(a,l){if(!Mc&&li){Mc=!0;do for(var f=!1,m=Pr;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var b=0;else{var N=m.suspendedLanes,P=m.pingedLanes;b=(1<<31-Ma(42|a)+1)-1,b&=S&~(N&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(f=!0,wa(m,b))}else b=be,b=V(m,m===de?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==Aa),(b&3)===0||j(m,b)||(f=!0,wa(m,b));m=m.next}while(f);Mc=!1}}function Al(){Ml()}function Ml(){li=ra=!1;var a=0;Il!==0&&Bs()&&(a=Il);for(var l=oa(),f=null,m=Pr;m!==null;){var S=m.next,b=pi(m,l);b===0?(m.next=null,f===null?Pr=S:f.next=S,S===null&&(He=f)):(f=m,(a!==0||(b&3)!==0)&&(li=!0)),m=S}Bn!==0&&Bn!==5||Fe(a),Il!==0&&(Il=0)}function pi(a,l){for(var f=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var N=31-Ma(b),P=1<<N,pt=S[N];pt===-1?((P&f)===0||(P&m)!==0)&&(S[N]=Z(P,l)):pt<=l&&(a.expiredLanes|=P),b&=~P}if(l=de,f=be,f=V(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Aa),m=a.callbackNode,f===0||a===l&&(qe===2||qe===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&bc(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||j(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(m!==null&&bc(m),B(f)){case 2:case 8:f=vp;break;case 32:f=Zr;break;case 268435456:f=Ec;break;default:f=Zr}return m=Gn.bind(null,a),f=Kr(f,m),a.callbackPriority=l,a.callbackNode=f,l}return m!==null&&m!==null&&bc(m),a.callbackPriority=2,a.callbackNode=null,2}function Gn(a,l){if(Bn!==0&&Bn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Bi()&&a.callbackNode!==f)return null;var m=be;return m=V(a,a===de?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Aa),m===0?null:(gi(a,m,l),pi(a,oa()),a.callbackNode!=null&&a.callbackNode===f?Gn.bind(null,a):null)}function wa(a,l){if(Bi())return null;gi(a,l,!0)}function Wn(){Uf?Bf(function(){(ge&6)!==0?Kr(_c,Al):Ml()}):Kr(_c,Al)}function ms(){if(Il===0){var a=yl;a===0&&(a=Sc,Sc<<=1,(Sc&261888)===0&&(Sc=256)),Il=a}return Il}function hr(a,l){if(ko===null){var f=ko=[];cd=0,yl=ms(),Yn={status:"pending",value:void 0,then:function(m){f.push(m)}}}return cd++,l.then(yu,yu),l}function yu(){if(--cd===0&&ko!==null){Yn!==null&&(Yn.status="fulfilled");var a=ko;ko=null,yl=0,Yn=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function vu(a,l){var f=[],m={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<f.length;S++)(0,f[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),m}function lo(){var a=$l.current;return a!==null?a:de.pooledCache}function gs(a,l){l===null?A($l,$l.current):A($l,l.pool)}function Ol(){var a=lo();return a===null?null:{parent:En?an._currentValue:an._currentValue2,pool:a}}function ys(a,l){if(Cn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var S=f[m];if(!G0.call(l,S)||!Cn(a[S],l[S]))return!1}return!0}function so(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Id(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(pe,pe),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,oo(a),a;default:if(typeof l.status=="string")l.then(pe,pe);else{if(a=de,a!==null&&100<a.shellSuspendCounter)throw Error(u(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,oo(a),a}throw ya=l,Xn}}function Rl(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ya=f,Xn):f}}function xu(){if(ya===null)throw Error(u(459));var a=ya;return ya=null,a}function oo(a){if(a===Xn||a===oi)throw Error(u(483))}function Su(a){var l=ks;return ks+=1,ts===null&&(ts=[]),Id(ts,a,l)}function ro(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function pr(a,l){throw l.$$typeof===Ns?Error(u(525)):(a=Object.prototype.toString.call(l),Error(u(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Zc(a){function l(ct,lt){if(a){var ht=ct.deletions;ht===null?(ct.deletions=[lt],ct.flags|=16):ht.push(lt)}}function f(ct,lt){if(!a)return null;for(;lt!==null;)l(ct,lt),lt=lt.sibling;return null}function m(ct){for(var lt=new Map;ct!==null;)ct.key!==null?lt.set(ct.key,ct):lt.set(ct.index,ct),ct=ct.sibling;return lt}function S(ct,lt){return ct=La(ct,lt),ct.index=0,ct.sibling=null,ct}function b(ct,lt,ht){return ct.index=ht,a?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<lt?(ct.flags|=67108866,lt):ht):(ct.flags|=67108866,lt)):(ct.flags|=1048576,lt)}function N(ct){return a&&ct.alternate===null&&(ct.flags|=67108866),ct}function P(ct,lt,ht,Dt){return lt===null||lt.tag!==6?(lt=Tf(ht,ct.mode,Dt),lt.return=ct,lt):(lt=S(lt,ht),lt.return=ct,lt)}function pt(ct,lt,ht,Dt){var Pt=ht.type;return Pt===ws?Ut(ct,lt,ht.props.children,Dt,ht.key):lt!==null&&(lt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===pa&&Rl(Pt)===lt.type)?(lt=S(lt,ht.props),ro(lt,ht),lt.return=ct,lt):(lt=cl(ht.type,ht.key,ht.props,null,ct.mode,Dt),ro(lt,ht),lt.return=ct,lt)}function Tt(ct,lt,ht,Dt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==ht.containerInfo||lt.stateNode.implementation!==ht.implementation?(lt=Af(ht,ct.mode,Dt),lt.return=ct,lt):(lt=S(lt,ht.children||[]),lt.return=ct,lt)}function Ut(ct,lt,ht,Dt,Pt){return lt===null||lt.tag!==7?(lt=Ia(ht,ct.mode,Dt,Pt),lt.return=ct,lt):(lt=S(lt,ht),lt.return=ct,lt)}function Rt(ct,lt,ht){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Tf(""+lt,ct.mode,ht),lt.return=ct,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case Gi:return ht=cl(lt.type,lt.key,lt.props,null,ct.mode,ht),ro(ht,lt),ht.return=ct,ht;case Ds:return lt=Af(lt,ct.mode,ht),lt.return=ct,lt;case pa:return lt=Rl(lt),Rt(ct,lt,ht)}if(Jl(lt)||_(lt))return lt=Ia(lt,ct.mode,ht,null),lt.return=ct,lt;if(typeof lt.then=="function")return Rt(ct,Su(lt),ht);if(lt.$$typeof===$a)return Rt(ct,xt(ct,lt),ht);pr(ct,lt)}return null}function qt(ct,lt,ht,Dt){var Pt=lt!==null?lt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Pt!==null?null:P(ct,lt,""+ht,Dt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Gi:return ht.key===Pt?pt(ct,lt,ht,Dt):null;case Ds:return ht.key===Pt?Tt(ct,lt,ht,Dt):null;case pa:return ht=Rl(ht),qt(ct,lt,ht,Dt)}if(Jl(ht)||_(ht))return Pt!==null?null:Ut(ct,lt,ht,Dt,null);if(typeof ht.then=="function")return qt(ct,lt,Su(ht),Dt);if(ht.$$typeof===$a)return qt(ct,lt,xt(ct,ht),Dt);pr(ct,ht)}return null}function ae(ct,lt,ht,Dt,Pt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return ct=ct.get(ht)||null,P(lt,ct,""+Dt,Pt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case Gi:return ct=ct.get(Dt.key===null?ht:Dt.key)||null,pt(lt,ct,Dt,Pt);case Ds:return ct=ct.get(Dt.key===null?ht:Dt.key)||null,Tt(lt,ct,Dt,Pt);case pa:return Dt=Rl(Dt),ae(ct,lt,ht,Dt,Pt)}if(Jl(Dt)||_(Dt))return ct=ct.get(ht)||null,Ut(lt,ct,Dt,Pt,null);if(typeof Dt.then=="function")return ae(ct,lt,ht,Su(Dt),Pt);if(Dt.$$typeof===$a)return ae(ct,lt,ht,xt(lt,Dt),Pt);pr(lt,Dt)}return null}function Jn(ct,lt,ht,Dt){for(var Pt=null,mn=null,It=lt,Oe=lt=0,Fn=null;It!==null&&Oe<ht.length;Oe++){It.index>Oe?(Fn=It,It=null):Fn=It.sibling;var je=qt(ct,It,ht[Oe],Dt);if(je===null){It===null&&(It=Fn);break}a&&It&&je.alternate===null&&l(ct,It),lt=b(je,lt,Oe),mn===null?Pt=je:mn.sibling=je,mn=je,It=Fn}if(Oe===ht.length)return f(ct,It),Se&&ft(ct,Oe),Pt;if(It===null){for(;Oe<ht.length;Oe++)It=Rt(ct,ht[Oe],Dt),It!==null&&(lt=b(It,lt,Oe),mn===null?Pt=It:mn.sibling=It,mn=It);return Se&&ft(ct,Oe),Pt}for(It=m(It);Oe<ht.length;Oe++)Fn=ae(It,ct,Oe,ht[Oe],Dt),Fn!==null&&(a&&Fn.alternate!==null&&It.delete(Fn.key===null?Oe:Fn.key),lt=b(Fn,lt,Oe),mn===null?Pt=Fn:mn.sibling=Fn,mn=Fn);return a&&It.forEach(function(ci){return l(ct,ci)}),Se&&ft(ct,Oe),Pt}function Po(ct,lt,ht,Dt){if(ht==null)throw Error(u(151));for(var Pt=null,mn=null,It=lt,Oe=lt=0,Fn=null,je=ht.next();It!==null&&!je.done;Oe++,je=ht.next()){It.index>Oe?(Fn=It,It=null):Fn=It.sibling;var ci=qt(ct,It,je.value,Dt);if(ci===null){It===null&&(It=Fn);break}a&&It&&ci.alternate===null&&l(ct,It),lt=b(ci,lt,Oe),mn===null?Pt=ci:mn.sibling=ci,mn=ci,It=Fn}if(je.done)return f(ct,It),Se&&ft(ct,Oe),Pt;if(It===null){for(;!je.done;Oe++,je=ht.next())je=Rt(ct,je.value,Dt),je!==null&&(lt=b(je,lt,Oe),mn===null?Pt=je:mn.sibling=je,mn=je);return Se&&ft(ct,Oe),Pt}for(It=m(It);!je.done;Oe++,je=ht.next())je=ae(It,ct,Oe,je.value,Dt),je!==null&&(a&&je.alternate!==null&&It.delete(je.key===null?Oe:je.key),lt=b(je,lt,Oe),mn===null?Pt=je:mn.sibling=je,mn=je);return a&&It.forEach(function(L0){return l(ct,L0)}),Se&&ft(ct,Oe),Pt}function rs(ct,lt,ht,Dt){if(typeof ht=="object"&&ht!==null&&ht.type===ws&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Gi:t:{for(var Pt=ht.key;lt!==null;){if(lt.key===Pt){if(Pt=ht.type,Pt===ws){if(lt.tag===7){f(ct,lt.sibling),Dt=S(lt,ht.props.children),Dt.return=ct,ct=Dt;break t}}else if(lt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===pa&&Rl(Pt)===lt.type){f(ct,lt.sibling),Dt=S(lt,ht.props),ro(Dt,ht),Dt.return=ct,ct=Dt;break t}f(ct,lt);break}else l(ct,lt);lt=lt.sibling}ht.type===ws?(Dt=Ia(ht.props.children,ct.mode,Dt,ht.key),Dt.return=ct,ct=Dt):(Dt=cl(ht.type,ht.key,ht.props,null,ct.mode,Dt),ro(Dt,ht),Dt.return=ct,ct=Dt)}return N(ct);case Ds:t:{for(Pt=ht.key;lt!==null;){if(lt.key===Pt)if(lt.tag===4&&lt.stateNode.containerInfo===ht.containerInfo&&lt.stateNode.implementation===ht.implementation){f(ct,lt.sibling),Dt=S(lt,ht.children||[]),Dt.return=ct,ct=Dt;break t}else{f(ct,lt);break}else l(ct,lt);lt=lt.sibling}Dt=Af(ht,ct.mode,Dt),Dt.return=ct,ct=Dt}return N(ct);case pa:return ht=Rl(ht),rs(ct,lt,ht,Dt)}if(Jl(ht))return Jn(ct,lt,ht,Dt);if(_(ht)){if(Pt=_(ht),typeof Pt!="function")throw Error(u(150));return ht=Pt.call(ht),Po(ct,lt,ht,Dt)}if(typeof ht.then=="function")return rs(ct,lt,Su(ht),Dt);if(ht.$$typeof===$a)return rs(ct,lt,xt(ct,ht),Dt);pr(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,lt!==null&&lt.tag===6?(f(ct,lt.sibling),Dt=S(lt,ht),Dt.return=ct,ct=Dt):(f(ct,lt),Dt=Tf(ht,ct.mode,Dt),Dt.return=ct,ct=Dt),N(ct)):f(ct,lt)}return function(ct,lt,ht,Dt){try{ks=0;var Pt=rs(ct,lt,ht,Dt);return ts=null,Pt}catch(It){if(It===Xn||It===oi)throw It;var mn=i(29,It,null,ct.mode);return mn.lanes=Dt,mn.return=ct,mn}}}function uo(){for(var a=ki,l=Vs=ki=0;l<a;){var f=ea[l];ea[l++]=null;var m=ea[l];ea[l++]=null;var S=ea[l];ea[l++]=null;var b=ea[l];if(ea[l++]=null,m!==null&&S!==null){var N=m.pending;N===null?S.next=S:(S.next=N.next,N.next=S),m.pending=S}b!==0&&tl(f,S,b)}}function co(a,l,f,m){ea[ki++]=a,ea[ki++]=l,ea[ki++]=f,ea[ki++]=m,Vs|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function bu(a,l,f,m){return co(a,l,f,m),Nn(a)}function zl(a,l){return co(a,null,null,l),Nn(a)}function tl(a,l,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var S=!1,b=a.return;b!==null;)b.childLanes|=f,m=b.alternate,m!==null&&(m.childLanes|=f),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(S=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,S&&l!==null&&(S=31-Ma(f),a=b.hiddenUpdates,m=a[S],m===null?a[S]=[l]:m.push(l),l.lane=f|536870912),b):null}function Nn(a){if(50<De)throw De=0,au=null,Error(u(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}function aa(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nl(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ei(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Dl(a,l,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(ge&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Nn(a),tl(a,null,f),l}return co(a,m,l,f),Nn(a)}function mr(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,R(a,f)}}function _u(a,l){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var S=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};b===null?S=b=N:b=b.next=N,f=f.next}while(f!==null);b===null?S=b=l:b=b.next=l}else S=b=l;f={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function el(){if(Rc){var a=Yn;if(a!==null)throw a}}function vs(a,l,f,m){Rc=!1;var S=a.updateQueue;Xa=!1;var b=S.firstBaseUpdate,N=S.lastBaseUpdate,P=S.shared.pending;if(P!==null){S.shared.pending=null;var pt=P,Tt=pt.next;pt.next=null,N===null?b=Tt:N.next=Tt,N=pt;var Ut=a.alternate;Ut!==null&&(Ut=Ut.updateQueue,P=Ut.lastBaseUpdate,P!==N&&(P===null?Ut.firstBaseUpdate=Tt:P.next=Tt,Ut.lastBaseUpdate=pt))}if(b!==null){var Rt=S.baseState;N=0,Ut=Tt=pt=null,P=b;do{var qt=P.lane&-536870913,ae=qt!==P.lane;if(ae?(be&qt)===qt:(m&qt)===qt){qt!==0&&qt===yl&&(Rc=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Jn=a,Po=P;qt=l;var rs=f;switch(Po.tag){case 1:if(Jn=Po.payload,typeof Jn=="function"){Rt=Jn.call(rs,Rt,qt);break t}Rt=Jn;break t;case 3:Jn.flags=Jn.flags&-65537|128;case 0:if(Jn=Po.payload,qt=typeof Jn=="function"?Jn.call(rs,Rt,qt):Jn,qt==null)break t;Rt=ac({},Rt,qt);break t;case 2:Xa=!0}}qt=P.callback,qt!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=S.callbacks,ae===null?S.callbacks=[qt]:ae.push(qt))}else ae={lane:qt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ut===null?(Tt=Ut=ae,pt=Rt):Ut=Ut.next=ae,N|=qt;if(P=P.next,P===null){if(P=S.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,S.lastBaseUpdate=ae,S.shared.pending=null}}while(!0);Ut===null&&(pt=Rt),S.baseState=pt,S.firstBaseUpdate=Tt,S.lastBaseUpdate=Ut,b===null&&(S.shared.lanes=0),xl|=N,a.lanes=N,a.memoizedState=Rt}}function xs(a,l){if(typeof a!="function")throw Error(u(191,a));a.call(l)}function Ss(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)xs(f[a],l)}function fo(a,l){a=Qi,A(es,a),A(Qs,l),Qi=a|l.baseLanes}function wl(){A(es,Qi),A(Qs,Qs.current)}function Dn(){Qi=es.current,z(Qs),z(es)}function nl(a){var l=a.alternate;A(yn,yn.current&1),A(Ra,a),va===null&&(l===null||Qs.current!==null||l.memoizedState!==null)&&(va=a)}function Eu(a){A(yn,yn.current),A(Ra,a),va===null&&(va=a)}function jl(a){a.tag===22?(A(yn,yn.current),A(Ra,a),va===null&&(va=a)):ja()}function ja(){A(yn,yn.current),A(Ra,Ra.current)}function Ua(a){z(Ra),va===a&&(va=null),z(yn)}function gr(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Wl(f)||fc(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function rn(){throw Error(u(321))}function Jc(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Cn(a[f],l[f]))return!1;return!0}function ho(a,l,f,m,S,b){return vl=b,le=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Jt.H=a===null||a.memoizedState===null?dn:Vi,Ce=!1,b=f(m,S),Ce=!1,oe&&(b=Ti(l,f,m,S)),yr(a),b}function yr(a){Jt.H=ka;var l=Zt!==null&&Zt.next!==null;if(vl=0,ee=Zt=le=null,fe=!1,ri=0,xi=null,l)throw Error(u(300));a===null||We||(a=a.dependencies,a!==null&&kt(a)&&(We=!0))}function Ti(a,l,f,m){le=a;var S=0;do{if(oe&&(xi=null),ri=0,oe=!1,25<=S)throw Error(u(301));if(S+=1,ee=Zt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Jt.H=ns,b=l(f,m)}while(oe);return b}function Ka(){var a=Jt.H,l=a.useState()[0];return l=typeof l.then=="function"?la(l):l,a=a.useState()[0],(Zt!==null?Zt.memoizedState:null)!==a&&(le.flags|=1024),l}function Tu(){var a=ua!==0;return ua=0,a}function Fc(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function vr(a){if(fe){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}fe=!1}vl=0,ee=Zt=le=null,oe=!1,ri=ua=0,xi=null}function ia(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?le.memoizedState=ee=a:ee=ee.next=a,ee}function $e(){if(Zt===null){var a=le.alternate;a=a!==null?a.memoizedState:null}else a=Zt.next;var l=ee===null?le.memoizedState:ee.next;if(l!==null)ee=l,Zt=a;else{if(a===null)throw le.alternate===null?Error(u(467)):Error(u(310));Zt=a,a={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ee===null?le.memoizedState=ee=a:ee=ee.next=a}return ee}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(a){var l=ri;return ri+=1,xi===null&&(xi=[]),a=Id(xi,a,l),l=le,(ee===null?l.memoizedState:ee.next)===null&&(l=l.alternate,Jt.H=l===null||l.memoizedState===null?dn:Vi),a}function po(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return la(a);if(a.$$typeof===$a)return At(a)}throw Error(u(438,String(a)))}function Au(a){var l=null,f=le.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=le.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Cu(),le.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),m=0;m<a;m++)f[m]=Of;return l.index++,f}function mi(a,l){return typeof l=="function"?l(a):l}function al(a){var l=$e();return Mu(l,Zt,a)}function Mu(a,l,f){var m=a.queue;if(m===null)throw Error(u(311));m.lastRenderedReducer=f;var S=a.baseQueue,b=m.pending;if(b!==null){if(S!==null){var N=S.next;S.next=b.next,b.next=N}l.baseQueue=S=b,m.pending=null}if(b=a.baseState,S===null)a.memoizedState=b;else{l=S.next;var P=N=null,pt=null,Tt=l,Ut=!1;do{var Rt=Tt.lane&-536870913;if(Rt!==Tt.lane?(be&Rt)===Rt:(vl&Rt)===Rt){var qt=Tt.revertLane;if(qt===0)pt!==null&&(pt=pt.next={lane:0,revertLane:0,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),Rt===yl&&(Ut=!0);else if((vl&qt)===qt){Tt=Tt.next,qt===yl&&(Ut=!0);continue}else Rt={lane:0,revertLane:Tt.revertLane,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},pt===null?(P=pt=Rt,N=b):pt=pt.next=Rt,le.lanes|=qt,xl|=qt;Rt=Tt.action,Ce&&f(b,Rt),b=Tt.hasEagerState?Tt.eagerState:f(b,Rt)}else qt={lane:Rt,revertLane:Tt.revertLane,gesture:Tt.gesture,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},pt===null?(P=pt=qt,N=b):pt=pt.next=qt,le.lanes|=Rt,xl|=Rt;Tt=Tt.next}while(Tt!==null&&Tt!==l);if(pt===null?N=b:pt.next=P,!Cn(b,a.memoizedState)&&(We=!0,Ut&&(f=Yn,f!==null)))throw f;a.memoizedState=b,a.baseState=N,a.baseQueue=pt,m.lastRenderedState=b}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Ou(a){var l=$e(),f=l.queue;if(f===null)throw Error(u(311));f.lastRenderedReducer=a;var m=f.dispatch,S=f.pending,b=l.memoizedState;if(S!==null){f.pending=null;var N=S=S.next;do b=a(b,N.action),N=N.next;while(N!==S);Cn(b,l.memoizedState)||(We=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),f.lastRenderedState=b}return[b,m]}function bs(a,l,f){var m=le,S=$e(),b=Se;if(b){if(f===void 0)throw Error(u(407));f=f()}else f=l();var N=!Cn((Zt||S).memoizedState,f);if(N&&(S.memoizedState=f,We=!0),S=S.queue,yo(Pc.bind(null,m,S,a),[a]),S.getSnapshot!==l||N||ee!==null&&ee.memoizedState.tag&1){if(m.flags|=2048,Ba(9,{destroy:void 0},Wc.bind(null,m,S,f,l),null),de===null)throw Error(u(349));b||(vl&127)!==0||$d(m,l,f)}return f}function $d(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=le.updateQueue,l===null?(l=Cu(),le.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Wc(a,l,f,m){l.value=f,l.getSnapshot=m,Ru(l)&&th(a)}function Pc(a,l,f){return f(function(){Ru(l)&&th(a)})}function Ru(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Cn(a,f)}catch{return!0}}function th(a){var l=zl(a,2);l!==null&&cn(l,a,2)}function Ic(a){var l=ia();if(typeof a=="function"){var f=a;if(a=f(),Ce){k(!0);try{f()}finally{k(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},l}function xr(a,l,f,m){return a.baseState=f,Mu(a,Zt,typeof m=="function"?m:mi)}function il(a,l,f,m,S){if(Gu(a))throw Error(u(485));if(a=l.action,a!==null){var b={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};Jt.T!==null?f(!0):b.isTransition=!1,m(b),f=l.pending,f===null?(b.next=l.pending=b,zu(l,b)):(b.next=f.next,l.pending=f.next=b)}}function zu(a,l){var f=l.action,m=l.payload,S=a.state;if(l.isTransition){var b=Jt.T,N={};Jt.T=N;try{var P=f(S,m),pt=Jt.S;pt!==null&&pt(N,P),Nu(a,l,P)}catch(Tt){Ul(a,l,Tt)}finally{b!==null&&N.types!==null&&(b.types=N.types),Jt.T=b}}else try{b=f(S,m),Nu(a,l,b)}catch(Tt){Ul(a,l,Tt)}}function Nu(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){_s(a,l,m)},function(m){return Ul(a,l,m)}):_s(a,l,f)}function _s(a,l,f){l.status="fulfilled",l.value=f,$c(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,zu(a,f)))}function Ul(a,l,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,$c(l),l=l.next;while(l!==m)}a.action=null}function $c(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Du(a,l){return l}function tf(a,l){if(Se){var f=de.formState;if(f!==null){t:{var m=le;if(Se){if(nn){var S=Jh(nn,ga);if(S){nn=Fh(S),m=Zf(S);break t}}ne(m)}m=!1}m&&(l=f[0])}}f=ia(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:l},f.queue=m,f=sh.bind(null,le,m),m.dispatch=f,m=Ic(!1);var b=Bu.bind(null,le,!1,m.queue);return m=ia(),S={state:l,dispatch:null,action:a,pending:null},m.queue=S,f=il.bind(null,le,S,b,f),S.dispatch=f,m.memoizedState=a,[l,f,!1]}function mo(a){var l=$e();return Ci(l,Zt,a)}function Ci(a,l,f){if(l=Mu(a,l,Du)[0],a=al(mi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=la(l)}catch(N){throw N===Xn?oi:N}else m=l;l=$e();var S=l.queue,b=S.dispatch;return f!==l.memoizedState&&(le.flags|=2048,Ba(9,{destroy:void 0},ef.bind(null,S,f),null)),[m,b,a]}function ef(a,l){a.action=l}function go(a){var l=$e(),f=Zt;if(f!==null)return Ci(l,f,a);$e(),l=l.memoizedState,f=$e();var m=f.queue.dispatch;return f.memoizedState=a,[l,m,!1]}function Ba(a,l,f,m){return a={tag:a,create:f,deps:m,inst:l,next:null},l=le.updateQueue,l===null&&(l=Cu(),le.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,l.lastEffect=a),a}function wu(){return $e().memoizedState}function Es(a,l,f,m){var S=ia();le.flags|=a,S.memoizedState=Ba(1|l,{destroy:void 0},f,m===void 0?null:m)}function Sr(a,l,f,m){var S=$e();m=m===void 0?null:m;var b=S.memoizedState.inst;Zt!==null&&m!==null&&Jc(m,Zt.memoizedState.deps)?S.memoizedState=Ba(l,b,f,m):(le.flags|=a,S.memoizedState=Ba(1|l,b,f,m))}function br(a,l){Es(8390656,8,a,l)}function yo(a,l){Sr(2048,8,a,l)}function eh(a){le.flags|=4;var l=le.updateQueue;if(l===null)l=Cu(),le.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function fa(a){var l=$e().memoizedState;return eh({ref:l,nextImpl:a}),function(){if((ge&2)!==0)throw Error(u(440));return l.impl.apply(void 0,arguments)}}function Bl(a,l){return Sr(4,2,a,l)}function _r(a,l){return Sr(4,4,a,l)}function vo(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function nh(a,l,f){f=f!=null?f.concat([a]):null,Sr(4,4,vo.bind(null,l,a),f)}function Er(){}function ju(a,l){var f=$e();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&Jc(l,m[1])?m[0]:(f.memoizedState=[a,l],a)}function xo(a,l){var f=$e();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&Jc(l,m[1]))return m[0];if(m=a(),Ce){k(!0);try{a()}finally{k(!1)}}return f.memoizedState=[m,l],m}function So(a,l,f){return f===void 0||(vl&1073741824)!==0&&(be&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=ol(),le.lanes|=a,xl|=a,f)}function nf(a,l,f,m){return Cn(f,l)?f:Qs.current!==null?(a=So(a,f,m),Cn(a,l)||(We=!0),a):(vl&42)===0||(vl&1073741824)!==0&&(be&261930)===0?(We=!0,a.memoizedState=f):(a=ol(),le.lanes|=a,xl|=a,l)}function ah(a,l,f,m,S){var b=ti();xe(b!==0&&8>b?b:8);var N=Jt.T,P={};Jt.T=P,Bu(a,!1,l,f);try{var pt=S(),Tt=Jt.S;if(Tt!==null&&Tt(P,pt),pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var Ut=vu(pt,m);Tr(a,l,Ut,tn(a))}else Tr(a,l,m,tn(a))}catch(Rt){Tr(a,l,{then:function(){},status:"rejected",reason:Rt},tn())}finally{xe(b),N!==null&&P.types!==null&&(N.types=P.types),Jt.T=N}}function ih(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Gs,baseState:Gs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:Gs},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function af(){return At(Hs)}function Uu(){return $e().memoizedState}function lh(){return $e().memoizedState}function M0(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=tn();a=Ei(f);var m=Dl(l,a,f);m!==null&&(cn(m,l,f),mr(m,l,f)),l={cache:Wt()},a.payload=l;return}l=l.return}}function O0(a,l,f){var m=tn();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Gu(a)?oh(l,f):(f=bu(a,l,f,m),f!==null&&(cn(f,a,m),rh(f,l,m)))}function sh(a,l,f){var m=tn();Tr(a,l,f,m)}function Tr(a,l,f,m){var S={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gu(a))oh(l,S);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var N=l.lastRenderedState,P=b(N,f);if(S.hasEagerState=!0,S.eagerState=P,Cn(P,N))return co(a,l,S,0),de===null&&uo(),!1}catch{}if(f=bu(a,l,S,m),f!==null)return cn(f,a,m),rh(f,l,m),!0}return!1}function Bu(a,l,f,m){if(m={lane:2,revertLane:ms(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gu(a)){if(l)throw Error(u(479))}else l=bu(a,f,m,2),l!==null&&cn(l,a,2)}function Gu(a){var l=a.alternate;return a===le||l!==null&&l===le}function oh(a,l){oe=fe=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function rh(a,l,f){if((f&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,R(a,f)}}function lf(a,l,f,m){l=a.memoizedState,f=f(m,l),f=f==null?l:ac({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}function Hu(a,l,f,m,S,b,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,N):l.prototype&&l.prototype.isPureReactComponent?!ys(f,m)||!ys(S,b):!0}function uh(a,l,f,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==a&&Ir.enqueueReplaceState(l,l.state,null)}function Ts(a,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(a=a.defaultProps){f===l&&(f=ac({},f));for(var S in a)f[S]===void 0&&(f[S]=a[S])}return f}function Lu(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function sf(a,l,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function of(a,l,f){return f=Ei(f),f.tag=3,f.payload={element:null},f.callback=function(){Lu(a,l)},f}function ch(a){return a=Ei(a),a.tag=3,a}function fh(a,l,f,m){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var b=m.value;a.payload=function(){return S(b)},a.callback=function(){sf(l,f,m)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){sf(l,f,m),typeof S!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function R0(a,l,f,m,S){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Ot(l,f,S,!0),f=Ra.current,f!==null){switch(f.tag){case 31:case 13:return va===null?No():f.alternate===null&&pn===0&&(pn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,m===Xi?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),jo(a,m,S)),!1;case 22:return f.flags|=65536,m===Xi?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),jo(a,m,S)),!1}throw Error(u(435,f.tag))}return jo(a,m,S),No(),!1}if(Se)return l=Ra.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==Ac&&(a=Error(u(422),{cause:m}),ue($(a,f)))):(m!==Ac&&(l=Error(u(423),{cause:m}),ue($(l,f))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=$(m,f),S=of(a.stateNode,m,S),_u(a,S),pn!==4&&(pn=2)),!1;var b=Error(u(520),{cause:m});if(b=$(b,f),tu===null?tu=[b]:tu.push(b),pn!==4&&(pn=2),l===null)return!0;m=$(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=S&-S,f.lanes|=a,a=of(f.stateNode,m,a),_u(f,a),!1;case 1:if(l=f.type,b=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Sl===null||!Sl.has(b))))return f.flags|=65536,S&=-S,f.lanes|=S,S=ch(S),fh(S,a,f,m),_u(f,S),!1}f=f.return}while(f!==null);return!1}function Pn(a,l,f,m){l.child=a===null?fd(l,null,f,m):ta(l,a.child,f,m)}function dh(a,l,f,m,S){f=f.render;var b=l.ref;if("ref"in m){var N={};for(var P in m)P!=="ref"&&(N[P]=m[P])}else N=m;return Bt(l),m=ho(a,l,f,N,b,S),P=Tu(),a!==null&&!We?(Fc(a,l,S),Ai(a,l,S)):(Se&&P&&et(l),l.flags|=1,Pn(a,l,m,S),l.child)}function hh(a,l,f,m,S){if(a===null){var b=f.type;return typeof b=="function"&&!Rs(b)&&b.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=b,ph(a,l,b,m,S)):(a=cl(f.type,null,m,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!Ar(a,S)){var N=b.memoizedProps;if(f=f.compare,f=f!==null?f:ys,f(N,m)&&a.ref===l.ref)return Ai(a,l,S)}return l.flags|=1,a=La(b,m),a.ref=l.ref,a.return=l,l.child=a}function ph(a,l,f,m,S){if(a!==null){var b=a.memoizedProps;if(ys(b,m)&&a.ref===l.ref)if(We=!1,l.pendingProps=m=b,Ar(a,S))(a.flags&131072)!==0&&(We=!0);else return l.lanes=a.lanes,Ai(a,l,S)}return Yu(a,l,f,m,S)}function mh(a,l,f,m){var S=m.children,b=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|f:f,a!==null){for(m=l.child=a.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~b}else m=0,l.child=null;return bo(a,l,b,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&gs(l,b!==null?b.cachePool:null),b!==null?fo(l,b):wl(),jl(l);else return m=l.lanes=536870912,bo(a,l,b!==null?b.baseLanes|f:f,f,m)}else b!==null?(gs(l,b.cachePool),fo(l,b),ja(),l.memoizedState=null):(a!==null&&gs(l,null),wl(),ja());return Pn(a,l,S,f),l.child}function Cs(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function bo(a,l,f,m,S){var b=lo();return b=b===null?null:{parent:En?an._currentValue:an._currentValue2,pool:b},l.memoizedState={baseLanes:f,cachePool:b},a!==null&&gs(l,null),wl(),jl(l),a!==null&&Ot(a,l,m,!0),l.childLanes=S,null}function qu(a,l){return l=Gl({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function rf(a,l,f){return ta(l,a.child,null,f),a=qu(l,l.pendingProps),a.flags|=2,Ua(l),l.memoizedState=null,a}function gh(a,l,f){var m=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Se){if(m.mode==="hidden")return a=qu(l,m),l.lanes=536870912,Cs(null,a);if(Eu(l),(a=nn)?(a=Ff(a,ga),a!==null&&(l.memoizedState={dehydrated:a,treeContext:ai!==null?{id:In,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},f=Cf(a),f.return=l,l.child=f,qn=l,nn=null)):a=null,a===null)throw ne(l);return l.lanes=536870912,null}return qu(l,m)}var b=a.memoizedState;if(b!==null){var N=b.dehydrated;if(Eu(l),S)if(l.flags&256)l.flags&=-257,l=rf(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(u(558));else if(We||Ot(a,l,f,!1),S=(f&a.childLanes)!==0,We||S){if(m=de,m!==null&&(N=Y(m,f),N!==0&&N!==b.retryLane))throw b.retryLane=N,zl(a,N),cn(m,a,N),xa;No(),l=rf(a,l,f)}else a=b.treeContext,en&&(nn=$h(N),qn=l,Se=!0,Yi=null,ga=!1,a!==null&&Et(l,a)),l=qu(l,m),l.flags|=4096;return l}return a=La(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Cr(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(u(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function Yu(a,l,f,m,S){return Bt(l),f=ho(a,l,f,m,void 0,S),m=Tu(),a!==null&&!We?(Fc(a,l,S),Ai(a,l,S)):(Se&&m&&et(l),l.flags|=1,Pn(a,l,f,S),l.child)}function uf(a,l,f,m,S,b){return Bt(l),l.updateQueue=null,f=Ti(l,m,f,S),yr(a),m=Tu(),a!==null&&!We?(Fc(a,l,b),Ai(a,l,b)):(Se&&m&&et(l),l.flags|=1,Pn(a,l,f,b),l.child)}function As(a,l,f,m,S){if(Bt(l),l.stateNode===null){var b=Hi,N=f.contextType;typeof N=="object"&&N!==null&&(b=At(N)),b=new f(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ir,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},aa(l),N=f.contextType,b.context=typeof N=="object"&&N!==null?At(N):Hi,b.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(lf(l,f,N,m),b.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Ir.enqueueReplaceState(b,b.state,null),vs(l,m,b,S),el(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){b=l.stateNode;var P=l.memoizedProps,pt=Ts(f,P);b.props=pt;var Tt=b.context,Ut=f.contextType;N=Hi,typeof Ut=="object"&&Ut!==null&&(N=At(Ut));var Rt=f.getDerivedStateFromProps;Ut=typeof Rt=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=l.pendingProps!==P,Ut||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||Tt!==N)&&uh(l,b,m,N),Xa=!1;var qt=l.memoizedState;b.state=qt,vs(l,m,b,S),el(),Tt=l.memoizedState,P||qt!==Tt||Xa?(typeof Rt=="function"&&(lf(l,f,Rt,m),Tt=l.memoizedState),(pt=Xa||Hu(l,f,pt,m,qt,Tt,N))?(Ut||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Tt),b.props=m,b.state=Tt,b.context=N,m=pt):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,Nl(a,l),N=l.memoizedProps,Ut=Ts(f,N),b.props=Ut,Rt=l.pendingProps,qt=b.context,Tt=f.contextType,pt=Hi,typeof Tt=="object"&&Tt!==null&&(pt=At(Tt)),P=f.getDerivedStateFromProps,(Tt=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Rt||qt!==pt)&&uh(l,b,m,pt),Xa=!1,qt=l.memoizedState,b.state=qt,vs(l,m,b,S),el();var ae=l.memoizedState;N!==Rt||qt!==ae||Xa||a!==null&&a.dependencies!==null&&kt(a.dependencies)?(typeof P=="function"&&(lf(l,f,P,m),ae=l.memoizedState),(Ut=Xa||Hu(l,f,Ut,m,qt,ae,pt)||a!==null&&a.dependencies!==null&&kt(a.dependencies))?(Tt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ae,pt),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ae,pt)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&qt===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&qt===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ae),b.props=m,b.state=ae,b.context=pt,m=Ut):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&qt===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&qt===a.memoizedState||(l.flags|=1024),m=!1)}return b=m,Cr(a,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,a!==null&&m?(l.child=ta(l,a.child,null,S),l.child=ta(l,null,f,S)):Pn(a,l,f,S),l.memoizedState=b.state,a=l.child):a=Ai(a,l,S),a}function yh(a,l,f,m){return we(),l.flags|=256,Pn(a,l,f,m),l.child}function cf(a){return{baseLanes:a,cachePool:Ol()}}function ff(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Sa),a}function df(a,l,f){var m=l.pendingProps,S=!1,b=(l.flags&128)!==0,N;if((N=b)||(N=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),N&&(S=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,a===null){if(Se){if(S?nl(l):ja(),(a=nn)?(a=ap(a,ga),a!==null&&(l.memoizedState={dehydrated:a,treeContext:ai!==null?{id:In,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},f=Cf(a),f.return=l,l.child=f,qn=l,nn=null)):a=null,a===null)throw ne(l);return fc(a)?l.lanes=32:l.lanes=536870912,null}var P=m.children;return m=m.fallback,S?(ja(),S=l.mode,P=Gl({mode:"hidden",children:P},S),m=Ia(m,S,f,null),P.return=l,m.return=l,P.sibling=m,l.child=P,m=l.child,m.memoizedState=cf(f),m.childLanes=ff(a,N,f),l.memoizedState=Ks,Cs(null,m)):(nl(l),Xu(l,P))}var pt=a.memoizedState;if(pt!==null&&(P=pt.dehydrated,P!==null)){if(b)l.flags&256?(nl(l),l.flags&=-257,l=Ms(a,l,f)):l.memoizedState!==null?(ja(),l.child=a.child,l.flags|=128,l=null):(ja(),P=m.fallback,S=l.mode,m=Gl({mode:"visible",children:m.children},S),P=Ia(P,S,f,null),P.flags|=2,m.return=l,P.return=l,m.sibling=P,l.child=m,ta(l,a.child,null,f),m=l.child,m.memoizedState=cf(f),m.childLanes=ff(a,N,f),l.memoizedState=Ks,l=Cs(null,m));else if(nl(l),fc(P))N=dc(P).digest,m=Error(u(419)),m.stack="",m.digest=N,ue({value:m,source:null,stack:null}),l=Ms(a,l,f);else if(We||Ot(a,l,f,!1),N=(f&a.childLanes)!==0,We||N){if(N=de,N!==null&&(m=Y(N,f),m!==0&&m!==pt.retryLane))throw pt.retryLane=m,zl(a,m),cn(N,a,m),xa;Wl(P)||No(),l=Ms(a,l,f)}else Wl(P)?(l.flags|=192,l.child=a.child,l=null):(a=pt.treeContext,en&&(nn=tp(P),qn=l,Se=!0,Yi=null,ga=!1,a!==null&&Et(l,a)),l=Xu(l,m.children),l.flags|=4096);return l}return S?(ja(),P=m.fallback,S=l.mode,pt=a.child,b=pt.sibling,m=La(pt,{mode:"hidden",children:m.children}),m.subtreeFlags=pt.subtreeFlags&65011712,b!==null?P=La(b,P):(P=Ia(P,S,f,null),P.flags|=2),P.return=l,m.return=l,m.sibling=P,l.child=m,Cs(null,m),m=l.child,P=a.child.memoizedState,P===null?P=cf(f):(S=P.cachePool,S!==null?(pt=En?an._currentValue:an._currentValue2,S=S.parent!==pt?{parent:pt,pool:pt}:S):S=Ol(),P={baseLanes:P.baseLanes|f,cachePool:S}),m.memoizedState=P,m.childLanes=ff(a,N,f),l.memoizedState=Ks,Cs(a.child,m)):(nl(l),f=a.child,a=f.sibling,f=La(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,a!==null&&(N=l.deletions,N===null?(l.deletions=[a],l.flags|=16):N.push(a)),l.child=f,l.memoizedState=null,f)}function Xu(a,l){return l=Gl({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Gl(a,l){return a=i(22,a,null,l),a.lanes=0,a}function Ms(a,l,f){return ta(l,a.child,null,f),a=Xu(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function vh(a,l,f){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Ct(a.return,l,f)}function _o(a,l,f,m,S,b){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:S,treeForkCount:b}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=f,N.tailMode=S,N.treeForkCount=b)}function hf(a,l,f){var m=l.pendingProps,S=m.revealOrder,b=m.tail;m=m.children;var N=yn.current,P=(N&2)!==0;if(P?(N=N&1|2,l.flags|=128):N&=1,A(yn,N),Pn(a,l,m,f),m=Se?Fr:0,!P&&a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vh(a,f,l);else if(a.tag===19)vh(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(f=l.child,S=null;f!==null;)a=f.alternate,a!==null&&gr(a)===null&&(S=f),f=f.sibling;f=S,f===null?(S=l.child,l.child=null):(S=f.sibling,f.sibling=null),_o(l,!1,S,f,b,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&gr(a)===null){l.child=S;break}a=S.sibling,S.sibling=f,f=S,S=a}_o(l,!0,f,null,b,m);break;case"together":_o(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Ai(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),xl|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Ot(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(u(153));if(l.child!==null){for(a=l.child,f=La(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=La(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function Ar(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&kt(a)))}function pf(a,l,f){switch(l.tag){case 3:Mt(l,l.stateNode.containerInfo),_n(l,an,a.memoizedState.cache),we();break;case 27:case 5:Qt(l);break;case 4:Mt(l,l.stateNode.containerInfo);break;case 10:_n(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Eu(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(nl(l),l.flags|=128,null):(f&l.child.childLanes)!==0?df(a,l,f):(nl(l),a=Ai(a,l,f),a!==null?a.sibling:null);nl(l);break;case 19:var S=(a.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Ot(a,l,f,!1),m=(f&l.childLanes)!==0),S){if(m)return hf(a,l,f);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),A(yn,yn.current),m)break;return null;case 22:return l.lanes=0,mh(a,l,f,l.pendingProps);case 24:_n(l,an,a.memoizedState.cache)}return Ai(a,l,f)}function mf(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)We=!0;else{if(!Ar(a,f)&&(l.flags&128)===0)return We=!1,pf(a,l,f);We=(a.flags&131072)!==0}else We=!1,Se&&(l.flags&1048576)!==0&&q(l,Fr,l.index);switch(l.lanes=0,l.tag){case 16:t:{var m=l.pendingProps;if(a=Rl(l.elementType),l.type=a,typeof a=="function")Rs(a)?(m=Ts(a,m),l.tag=1,l=As(null,l,a,m,f)):(l.tag=0,l=Yu(null,l,a,m,f));else{if(a!=null){var S=a.$$typeof;if(S===Uo){l.tag=11,l=dh(null,l,a,m,f);break t}else if(S===lc){l.tag=14,l=hh(null,l,a,m,f);break t}}throw l=E(a)||a,Error(u(306,l,""))}}return l;case 0:return Yu(a,l,l.type,l.pendingProps,f);case 1:return m=l.type,S=Ts(m,l.pendingProps),As(a,l,m,S,f);case 3:t:{if(Mt(l,l.stateNode.containerInfo),a===null)throw Error(u(387));var b=l.pendingProps;S=l.memoizedState,m=S.element,Nl(a,l),vs(l,b,null,f);var N=l.memoizedState;if(b=N.cache,_n(l,an,b),b!==S.cache&&_t(l,[an],f,!0),el(),b=N.element,en&&S.isDehydrated)if(S={element:b,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=yh(a,l,b,f);break t}else if(b!==m){m=$(Error(u(424)),l),ue(m),l=yh(a,l,b,f);break t}else for(en&&(nn=Ih(l.stateNode.containerInfo),qn=l,Se=!0,Yi=null,ga=!0),f=fd(l,null,b,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(we(),b===m){l=Ai(a,l,f);break t}Pn(a,l,b,f)}l=l.child}return l;case 26:if(ei)return Cr(a,l),a===null?(f=td(l.type,null,l.pendingProps,null))?l.memoizedState=f:Se||(l.stateNode=gc(l.type,l.pendingProps,$n.current,l)):l.memoizedState=td(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:if(Ln)return Qt(l),a===null&&Ln&&Se&&(m=l.stateNode=yc(l.type,l.pendingProps,$n.current,Kn.current,!1),qn=l,ga=!0,nn=Jf(l.type,m,nn)),Pn(a,l,l.pendingProps.children,f),Cr(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Se&&(dp(l.type,l.pendingProps,Kn.current),(S=m=nn)&&(m=ep(m,l.type,l.pendingProps,ga),m!==null?(l.stateNode=m,qn=l,nn=Ph(m),ga=!1,S=!0):S=!1),S||ne(l)),Qt(l),S=l.type,b=l.pendingProps,N=a!==null?a.memoizedProps:null,m=b.children,ma(S,b)?m=null:N!==null&&ma(S,N)&&(l.flags|=32),l.memoizedState!==null&&(S=ho(a,l,Ka,null,null,f),En?Hs._currentValue=S:Hs._currentValue2=S),Cr(a,l),Pn(a,l,m,f),l.child;case 6:return a===null&&Se&&($f(l.pendingProps,Kn.current),(a=f=nn)&&(f=np(f,l.pendingProps,ga),f!==null?(l.stateNode=f,qn=l,nn=null,a=!0):a=!1),a||ne(l)),null;case 13:return df(a,l,f);case 4:return Mt(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=ta(l,null,m,f):Pn(a,l,m,f),l.child;case 11:return dh(a,l,l.type,l.pendingProps,f);case 7:return Pn(a,l,l.pendingProps,f),l.child;case 8:return Pn(a,l,l.pendingProps.children,f),l.child;case 12:return Pn(a,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,_n(l,l.type,m.value),Pn(a,l,m.children,f),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,Bt(l),S=At(S),m=m(S),l.flags|=1,Pn(a,l,m,f),l.child;case 14:return hh(a,l,l.type,l.pendingProps,f);case 15:return ph(a,l,l.type,l.pendingProps,f);case 19:return hf(a,l,f);case 31:return gh(a,l,f);case 22:return mh(a,l,f,l.pendingProps);case 24:return Bt(l),m=At(an),a===null?(S=lo(),S===null&&(S=de,b=Wt(),S.pooledCache=b,b.refCount++,b!==null&&(S.pooledCacheLanes|=f),S=b),l.memoizedState={parent:m,cache:S},aa(l),_n(l,an,S)):((a.lanes&f)!==0&&(Nl(a,l),vs(l,null,null,f),el()),S=a.memoizedState,b=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),_n(l,an,m)):(m=b.cache,_n(l,an,m),m!==S.cache&&_t(l,[an],f,!0))),Pn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(u(156,l.tag))}function Za(a){a.flags|=4}function Mr(a){qa&&(a.flags|=8)}function xh(a,l){if(a!==null&&a.child===l.child)return!1;if((l.flags&16)!==0)return!0;for(a=l.child;a!==null;){if((a.flags&8218)!==0||(a.subtreeFlags&8218)!==0)return!0;a=a.sibling}return!1}function gf(a,l,f,m){if(Ee)for(f=l.child;f!==null;){if(f.tag===5||f.tag===6)Yr(a,f.stateNode);else if(!(f.tag===4||Ln&&f.tag===27)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}else if(qa)for(var S=l.child;S!==null;){if(S.tag===5){var b=S.stateNode;f&&m&&(b=Zh(b,S.type,S.memoizedProps)),Yr(a,b)}else if(S.tag===6)b=S.stateNode,f&&m&&(b=Kf(b,S.memoizedProps)),Yr(a,b);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)b=S.child,b!==null&&(b.return=S),gf(a,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===l)break;for(;S.sibling===null;){if(S.return===null||S.return===l)return;S=S.return}S.sibling.return=S.return,S=S.sibling}}function Sh(a,l,f,m){var S=!1;if(qa)for(var b=l.child;b!==null;){if(b.tag===5){var N=b.stateNode;f&&m&&(N=Zh(N,b.type,b.memoizedProps)),Vf(a,N)}else if(b.tag===6)N=b.stateNode,f&&m&&(N=Kf(N,b.memoizedProps)),Vf(a,N);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)S=b.child,S!==null&&(S.return=b),Sh(a,b,!0,!0),S=!0;else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===l)break;for(;b.sibling===null;){if(b.return===null||b.return===l)return S;b=b.return}b.sibling.return=b.return,b=b.sibling}return S}function bh(a,l){if(qa&&xh(a,l)){a=l.stateNode;var f=a.containerInfo,m=kf();Sh(m,l,!1,!1),a.pendingChildren=m,Za(l),Kh(f,m)}}function yf(a,l,f,m){if(Ee)a.memoizedProps!==m&&Za(l);else if(qa){var S=a.stateNode,b=a.memoizedProps;if((a=xh(a,l))||b!==m){var N=Kn.current;b=Qh(S,f,b,m,!a,null),b===S?l.stateNode=S:(Mr(l),Ca(b,f,m,N)&&Za(l),l.stateNode=b,a&&gf(b,l,!1,!1))}else l.stateNode=S}}function da(a,l,f,m,S){if((a.mode&32)!==0&&(f===null?Xr(l,m):qo(l,f,m))){if(a.flags|=16777216,(S&335544128)===S||Df(l,m))if(fn(a.stateNode,l,m))a.flags|=8192;else if(_e())a.flags|=8192;else throw ya=Xi,Oc}else a.flags&=-16777217}function Eo(a,l){if(id(l)){if(a.flags|=16777216,!ld(l))if(_e())a.flags|=8192;else throw ya=Xi,Oc}else a.flags&=-16777217}function Or(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?K():536870912,a.lanes|=l,Fo|=l)}function To(a,l){if(!Se)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Ve(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(l)for(var S=a.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=f,l}function _h(a,l,f){var m=l.pendingProps;switch(yt(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(l),null;case 1:return Ve(l),null;case 3:return f=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Xt(an),Nt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Me(l)?Za(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ve())),bh(a,l),Ve(l),null;case 26:if(ei){var S=l.type,b=l.memoizedState;return a===null?(Za(l),b!==null?(Ve(l),Eo(l,b)):(Ve(l),da(l,S,null,m,f))):b?b!==a.memoizedState?(Za(l),Ve(l),Eo(l,b)):(Ve(l),l.flags&=-16777217):(b=a.memoizedProps,Ee?b!==m&&Za(l):yf(a,l,S,m),Ve(l),da(l,S,b,m,f)),null}case 27:if(Ln){if(Ne(l),f=$n.current,S=l.type,a!==null&&l.stateNode!=null)Ee?a.memoizedProps!==m&&Za(l):yf(a,l,S,m);else{if(!m){if(l.stateNode===null)throw Error(u(166));return Ve(l),null}a=Kn.current,Me(l)?bn(l,a):(a=yc(S,m,f,a,!0),l.stateNode=a,Za(l))}return Ve(l),null}case 5:if(Ne(l),S=l.type,a!==null&&l.stateNode!=null)yf(a,l,S,m);else{if(!m){if(l.stateNode===null)throw Error(u(166));return Ve(l),null}if(b=Kn.current,Me(l))bn(l,b),up(l.stateNode,S,m,b)&&(l.flags|=64);else{var N=zf(S,m,$n.current,b,l);Mr(l),gf(N,l,!1,!1),l.stateNode=N,Ca(N,S,m,b)&&Za(l)}}return Ve(l),da(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)f=a.memoizedProps,Ee?f!==m&&Za(l):qa&&(f!==m?(a=$n.current,f=Kn.current,Mr(l),l.stateNode=hl(m,a,f,l)):l.stateNode=a.stateNode);else{if(typeof m!="string"&&l.stateNode===null)throw Error(u(166));if(a=$n.current,f=Kn.current,Me(l)){if(!en)throw Error(u(176));if(a=l.stateNode,f=l.memoizedProps,m=null,S=qn,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}j0(a,f,l,m)||ne(l,!0)}else Mr(l),l.stateNode=hl(m,a,f,l)}return Ve(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(m=Me(l),f!==null){if(a===null){if(!m)throw Error(u(318));if(!en)throw Error(u(556));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(557));Wf(a,l)}else we(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ve(l),a=!1}else f=ve(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Ua(l),l):(Ua(l),null);if((l.flags&128)!==0)throw Error(u(558))}return Ve(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Me(l),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(u(318));if(!en)throw Error(u(344));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(u(317));lp(S,l)}else we(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ve(l),S=!1}else S=ve(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Ua(l),l):(Ua(l),null)}return Ua(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,a=a!==null&&a.memoizedState!==null,f&&(m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==S&&(m.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),Or(l,l.updateQueue),Ve(l),null);case 4:return Nt(),bh(a,l),a===null&&Xe(l.stateNode.containerInfo),Ve(l),null;case 10:return Xt(l.type),Ve(l),null;case 19:if(z(yn),m=l.memoizedState,m===null)return Ve(l),null;if(S=(l.flags&128)!==0,b=m.rendering,b===null)if(S)To(m,!1);else{if(pn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(b=gr(a),b!==null){for(l.flags|=128,To(m,!1),a=b.updateQueue,l.updateQueue=a,Or(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)tc(f,a),f=f.sibling;return A(yn,yn.current&1|2),Se&&ft(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&oa()>os&&(l.flags|=128,S=!0,To(m,!1),l.lanes=4194304)}else{if(!S)if(a=gr(b),a!==null){if(l.flags|=128,S=!0,a=a.updateQueue,l.updateQueue=a,Or(l,a),To(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Se)return Ve(l),null}else 2*oa()-m.renderingStartTime>os&&f!==536870912&&(l.flags|=128,S=!0,To(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(a=m.last,a!==null?a.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=oa(),a.sibling=null,f=yn.current,A(yn,S?f&1|2:f&1),Se&&ft(l,m.treeForkCount),a):(Ve(l),null);case 22:case 23:return Ua(l),Dn(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Ve(l),l.subtreeFlags&6&&(l.flags|=8192)):Ve(l),f=l.updateQueue,f!==null&&Or(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),a!==null&&z($l),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Xt(an),Ve(l),null;case 25:return null;case 30:return null}throw Error(u(156,l.tag))}function vf(a,l){switch(yt(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Xt(an),Nt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 31:if(l.memoizedState!==null){if(Ua(l),l.alternate===null)throw Error(u(340));we()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Ua(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(u(340));we()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return z(yn),null;case 4:return Nt(),null;case 10:return Xt(l.type),null;case 22:case 23:return Ua(l),Dn(),a!==null&&z($l),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Xt(an),null;case 25:return null;default:return null}}function Eh(a,l){switch(yt(l),l.tag){case 3:Xt(an),Nt();break;case 26:case 27:case 5:Ne(l);break;case 4:Nt();break;case 31:l.memoizedState!==null&&Ua(l);break;case 13:Ua(l);break;case 19:z(yn);break;case 10:Xt(l.type);break;case 22:case 23:Ua(l),Dn(),a!==null&&z($l);break;case 24:Xt(an)}}function Mi(a,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var S=m.next;f=S;do{if((f.tag&a)===a){m=void 0;var b=f.create,N=f.inst;m=b(),N.destroy=m}f=f.next}while(f!==S)}}catch(P){te(l,l.return,P)}}function Oi(a,l,f){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var b=S.next;m=b;do{if((m.tag&a)===a){var N=m.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,S=l;var pt=f,Tt=P;try{Tt()}catch(Ut){te(S,pt,Ut)}}}m=m.next}while(m!==b)}}catch(Ut){te(l,l.return,Ut)}}function Co(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{Ss(l,f)}catch(m){te(a,a.return,m)}}}function ku(a,l,f){f.props=Ts(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){te(a,l,m)}}function Ao(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=Go(a.stateNode);break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(S){te(a,l,S)}}function sa(a,l){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(S){te(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){te(a,l,S)}else f.current=null}function Os(a){var l=a.type,f=a.memoizedProps,m=a.stateNode;try{Gh(m,l,f,a)}catch(S){te(a,a.return,S)}}function Rr(a,l,f){try{Hh(a.stateNode,a.type,f,l,a)}catch(m){te(a,a.return,m)}}function xf(a){return a.tag===5||a.tag===3||(ei?a.tag===26:!1)||(Ln?a.tag===27&&Ls(a.type):!1)||a.tag===4}function ll(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||xf(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(Ln&&a.tag===27&&Ls(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vu(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?qh(f,a,l):Lf(f,a);else if(m!==4&&(Ln&&m===27&&Ls(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(Vu(a,l,f),a=a.sibling;a!==null;)Vu(a,l,f),a=a.sibling}function zr(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?Lh(f,a,l):Hf(f,a);else if(m!==4&&(Ln&&m===27&&Ls(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(zr(a,l,f),a=a.sibling;a!==null;)zr(a,l,f),a=a.sibling}function Sf(a,l,f){a=a.containerInfo;try{Qf(a,f)}catch(m){te(l,l.return,m)}}function Th(a){var l=a.stateNode,f=a.memoizedProps;try{jn(a.type,f,l,a)}catch(m){te(a,a.return,m)}}function z0(a,l){for(sc(a.containerInfo),An=l;An!==null;)if(a=An,l=a.child,(a.subtreeFlags&1028)!==0&&l!==null)l.return=a,An=l;else for(;An!==null;){a=An;var f=a.alternate;switch(l=a.flags,a.tag){case 0:if((l&4)!==0&&(l=a.updateQueue,l=l!==null?l.events:null,l!==null))for(var m=0;m<l.length;m++){var S=l[m];S.ref.impl=S.nextImpl}break;case 11:case 15:break;case 1:if((l&1024)!==0&&f!==null){l=void 0,m=a,S=f.memoizedProps,f=f.memoizedState;var b=m.stateNode;try{var N=Ts(m.type,S);l=b.getSnapshotBeforeUpdate(N,f),b.__reactInternalSnapshotBeforeUpdate=l}catch(P){te(m,m.return,P)}}break;case 3:(l&1024)!==0&&Ee&&Xf(a.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(u(163))}if(l=a.sibling,l!==null){l.return=a.return,An=l;break}An=a.return}}function Ch(a,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:ha(a,f),m&4&&Mi(5,f);break;case 1:if(ha(a,f),m&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(N){te(f,f.return,N)}else{var S=Ts(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(N){te(f,f.return,N)}}m&64&&Co(f),m&512&&Ao(f,f.return);break;case 3:if(ha(a,f),m&64&&(m=f.updateQueue,m!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=Go(f.child.stateNode);break;case 1:a=f.child.stateNode}try{Ss(m,a)}catch(N){te(f,f.return,N)}}break;case 27:Ln&&l===null&&m&4&&Th(f);case 26:case 5:if(ha(a,f),l===null){if(m&4)Os(f);else if(m&64){a=f.type,l=f.memoizedProps,S=f.stateNode;try{op(S,a,l,f)}catch(N){te(f,f.return,N)}}}m&512&&Ao(f,f.return);break;case 12:ha(a,f);break;case 31:ha(a,f),m&4&&Fa(a,f);break;case 13:ha(a,f),m&4&&Dr(a,f),m&64&&(m=f.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(f=N0.bind(null,f),hc(m,f))));break;case 22:if(m=f.memoizedState!==null||vn,!m){l=l!==null&&l.memoizedState!==null||xn,S=vn;var b=xn;vn=m,(xn=l)&&!b?Pa(a,f,(f.subtreeFlags&8772)!==0):ha(a,f),vn=S,xn=b}break;case 30:break;default:ha(a,f)}}function bf(a){var l=a.alternate;l!==null&&(a.alternate=null,bf(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&oc(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Ja(a,l,f){for(f=f.child;f!==null;)Nr(a,l,f),f=f.sibling}function Nr(a,l,f){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(Xs,f)}catch{}switch(f.tag){case 26:if(ei){xn||sa(f,l),Ja(a,l,f),f.memoizedState?Pl(f.memoizedState):f.stateNode&&ad(f.stateNode);break}case 27:if(Ln){xn||sa(f,l);var m=hn,S=Mn;Ls(f.type)&&(hn=f.stateNode,Mn=!1),Ja(a,l,f),Qn(f.stateNode),hn=m,Mn=S;break}case 5:xn||sa(f,l);case 6:if(Ee){if(m=hn,S=Mn,hn=null,Ja(a,l,f),hn=m,Mn=S,hn!==null)if(Mn)try{qf(hn,f.stateNode)}catch(b){te(f,l,b)}else try{Yh(hn,f.stateNode)}catch(b){te(f,l,b)}}else Ja(a,l,f);break;case 18:Ee&&hn!==null&&(Mn?pc(hn,f.stateNode):If(hn,f.stateNode));break;case 4:Ee?(m=hn,S=Mn,hn=f.stateNode.containerInfo,Mn=!0,Ja(a,l,f),hn=m,Mn=S):(qa&&Sf(f.stateNode,f,kf()),Ja(a,l,f));break;case 0:case 11:case 14:case 15:Oi(2,f,l),xn||Oi(4,f,l),Ja(a,l,f);break;case 1:xn||(sa(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&ku(f,l,m)),Ja(a,l,f);break;case 21:Ja(a,l,f);break;case 22:xn=(m=xn)||f.memoizedState!==null,Ja(a,l,f),xn=m;break;default:Ja(a,l,f)}}function Fa(a,l){if(en&&l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{U0(a)}catch(f){te(l,l.return,f)}}}function Dr(a,l){if(en&&l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{B0(a)}catch(f){te(l,l.return,f)}}function Wa(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new hd),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new hd),l;default:throw Error(u(435,a.tag))}}function sl(a,l){var f=Wa(a);l.forEach(function(m){if(!f.has(m)){f.add(m);var S=D0.bind(null,a,m);m.then(S,S)}})}function kn(a,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var S=f[m],b=a,N=l;if(Ee){var P=N;t:for(;P!==null;){switch(P.tag){case 27:if(Ln){if(Ls(P.type)){hn=P.stateNode,Mn=!1;break t}break}case 5:hn=P.stateNode,Mn=!1;break t;case 3:case 4:hn=P.stateNode.containerInfo,Mn=!0;break t}P=P.return}if(hn===null)throw Error(u(160));Nr(b,N,S),hn=null,Mn=!1}else Nr(b,N,S);b=S.alternate,b!==null&&(b.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)wr(l,a),l=l.sibling}function wr(a,l){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:kn(l,a),Vn(a),m&4&&(Oi(3,a,a.return),Mi(3,a),Oi(5,a,a.return));break;case 1:kn(l,a),Vn(a),m&512&&(xn||f===null||sa(f,f.return)),m&64&&vn&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:if(ei){var S=Le;if(kn(l,a),Vn(a),m&512&&(xn||f===null||sa(f,f.return)),m&4){m=f!==null?f.memoizedState:null;var b=a.memoizedState;f===null?b===null?a.stateNode===null?a.stateNode=hp(S,a.type,a.memoizedProps,a):nd(S,a.type,a.stateNode):a.stateNode=ed(S,b,a.memoizedProps):m!==b?(m===null?f.stateNode!==null&&ad(f.stateNode):Pl(m),b===null?nd(S,a.type,a.stateNode):ed(S,b,a.memoizedProps)):b===null&&a.stateNode!==null&&Rr(a,a.memoizedProps,f.memoizedProps)}break}case 27:if(Ln){kn(l,a),Vn(a),m&512&&(xn||f===null||sa(f,f.return)),f!==null&&m&4&&Rr(a,a.memoizedProps,f.memoizedProps);break}case 5:if(kn(l,a),Vn(a),m&512&&(xn||f===null||sa(f,f.return)),Ee){if(a.flags&32){S=a.stateNode;try{Yf(S)}catch(Rt){te(a,a.return,Rt)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,Rr(a,S,f!==null?f.memoizedProps:S)),m&1024&&(Vo=!0)}else qa&&a.alternate!==null&&(a.alternate.stateNode=a.stateNode);break;case 6:if(kn(l,a),Vn(a),m&4&&Ee){if(a.stateNode===null)throw Error(u(162));m=a.memoizedProps,f=f!==null?f.memoizedProps:m,S=a.stateNode;try{Bh(S,f,m)}catch(Rt){te(a,a.return,Rt)}}break;case 3:if(ei?(pp(),S=Le,Le=Qr(l.containerInfo),kn(l,a),Le=S):kn(l,a),Vn(a),m&4){if(Ee&&en&&f!==null&&f.memoizedState.isDehydrated)try{rp(l.containerInfo)}catch(Rt){te(a,a.return,Rt)}if(qa){m=l.containerInfo,f=l.pendingChildren;try{Qf(m,f)}catch(Rt){te(a,a.return,Rt)}}}Vo&&(Vo=!1,Qu(a));break;case 4:ei?(f=Le,Le=Qr(a.stateNode.containerInfo),kn(l,a),Vn(a),Le=f):(kn(l,a),Vn(a)),m&4&&qa&&Sf(a.stateNode,a,a.stateNode.pendingChildren);break;case 12:kn(l,a),Vn(a);break;case 31:kn(l,a),Vn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,sl(a,m)));break;case 13:kn(l,a),Vn(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(eu=oa()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,sl(a,m)));break;case 22:S=a.memoizedState!==null;var N=f!==null&&f.memoizedState!==null,P=vn,pt=xn;if(vn=P||S,xn=pt||N,kn(l,a),xn=pt,vn=P,Vn(a),m&8192&&(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(f===null||N||vn||xn||Hl(a)),Ee)){t:if(f=null,Ee)for(l=a;;){if(l.tag===5||ei&&l.tag===26){if(f===null){N=f=l;try{b=N.stateNode,S?w0(b):kh(N.stateNode,N.memoizedProps)}catch(Rt){te(N,N.return,Rt)}}}else if(l.tag===6){if(f===null){N=l;try{var Tt=N.stateNode;S?Xh(Tt):Vh(Tt,N.memoizedProps)}catch(Rt){te(N,N.return,Rt)}}}else if(l.tag===18){if(f===null){N=l;try{var Ut=N.stateNode;S?cp(Ut):fp(N.stateNode)}catch(Rt){te(N,N.return,Rt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,sl(a,f))));break;case 19:kn(l,a),Vn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,sl(a,m)));break;case 30:break;case 21:break;default:kn(l,a),Vn(a)}}function Vn(a){var l=a.flags;if(l&2){try{for(var f,m=a.return;m!==null;){if(xf(m)){f=m;break}m=m.return}if(Ee){if(f==null)throw Error(u(160));switch(f.tag){case 27:if(Ln){var S=f.stateNode,b=ll(a);zr(a,b,S);break}case 5:var N=f.stateNode;f.flags&32&&(Yf(N),f.flags&=-33);var P=ll(a);zr(a,P,N);break;case 3:case 4:var pt=f.stateNode.containerInfo,Tt=ll(a);Vu(a,Tt,pt);break;default:throw Error(u(161))}}}catch(Ut){te(a,a.return,Ut)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Qu(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Qu(l),l.tag===5&&l.flags&1024&&jf(l.stateNode),a=a.sibling}}function ha(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ch(a,l.alternate,l),l=l.sibling}function Hl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Oi(4,l,l.return),Hl(l);break;case 1:sa(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&ku(l,l.return,f),Hl(l);break;case 27:Ln&&Qn(l.stateNode);case 26:case 5:sa(l,l.return),Hl(l);break;case 22:l.memoizedState===null&&Hl(l);break;case 30:Hl(l);break;default:Hl(l)}a=a.sibling}}function Pa(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=a,b=l,N=b.flags;switch(b.tag){case 0:case 11:case 15:Pa(S,b,f),Mi(4,b);break;case 1:if(Pa(S,b,f),m=b,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Tt){te(m,m.return,Tt)}if(m=b,S=m.updateQueue,S!==null){var P=m.stateNode;try{var pt=S.shared.hiddenCallbacks;if(pt!==null)for(S.shared.hiddenCallbacks=null,S=0;S<pt.length;S++)xs(pt[S],P)}catch(Tt){te(m,m.return,Tt)}}f&&N&64&&Co(b),Ao(b,b.return);break;case 27:Ln&&Th(b);case 26:case 5:Pa(S,b,f),f&&m===null&&N&4&&Os(b),Ao(b,b.return);break;case 12:Pa(S,b,f);break;case 31:Pa(S,b,f),f&&N&4&&Fa(S,b);break;case 13:Pa(S,b,f),f&&N&4&&Dr(S,b);break;case 22:b.memoizedState===null&&Pa(S,b,f),Ao(b,b.return);break;case 30:break;default:Pa(S,b,f)}l=l.sibling}}function Ll(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Lt(f))}function _f(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lt(a))}function un(a,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ku(a,l,f,m),l=l.sibling}function Ku(a,l,f,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:un(a,l,f,m),S&2048&&Mi(9,l);break;case 1:un(a,l,f,m);break;case 3:un(a,l,f,m),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Lt(a)));break;case 12:if(S&2048){un(a,l,f,m),a=l.stateNode;try{var b=l.memoizedProps,N=b.id,P=b.onPostCommit;typeof P=="function"&&P(N,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(pt){te(l,l.return,pt)}}else un(a,l,f,m);break;case 31:un(a,l,f,m);break;case 13:un(a,l,f,m);break;case 23:break;case 22:b=l.stateNode,N=l.alternate,l.memoizedState!==null?b._visibility&2?un(a,l,f,m):Mo(a,l):b._visibility&2?un(a,l,f,m):(b._visibility|=2,_a(a,l,f,m,(l.subtreeFlags&10256)!==0||!1)),S&2048&&Ll(N,l);break;case 24:un(a,l,f,m),S&2048&&_f(l.alternate,l);break;default:un(a,l,f,m)}}function _a(a,l,f,m,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=a,N=l,P=f,pt=m,Tt=N.flags;switch(N.tag){case 0:case 11:case 15:_a(b,N,P,pt,S),Mi(8,N);break;case 23:break;case 22:var Ut=N.stateNode;N.memoizedState!==null?Ut._visibility&2?_a(b,N,P,pt,S):Mo(b,N):(Ut._visibility|=2,_a(b,N,P,pt,S)),S&&Tt&2048&&Ll(N.alternate,N);break;case 24:_a(b,N,P,pt,S),S&&Tt&2048&&_f(N.alternate,N);break;default:_a(b,N,P,pt,S)}l=l.sibling}}function Mo(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,m=l,S=m.flags;switch(m.tag){case 22:Mo(f,m),S&2048&&Ll(m.alternate,m);break;case 24:Mo(f,m),S&2048&&_f(m.alternate,m);break;default:Mo(f,m)}l=l.sibling}}function Ri(a,l,f){if(a.subtreeFlags&Va)for(a=a.child;a!==null;)ql(a,l,f),a=a.sibling}function ql(a,l,f){switch(a.tag){case 26:if(Ri(a,l,f),a.flags&Va)if(a.memoizedState!==null)mp(f,Le,a.memoizedState,a.memoizedProps);else{var m=a.stateNode,S=a.type;a=a.memoizedProps,((l&335544128)===l||Df(S,a))&&rc(f,m,S,a)}break;case 5:Ri(a,l,f),a.flags&Va&&(m=a.stateNode,S=a.type,a=a.memoizedProps,((l&335544128)===l||Df(S,a))&&rc(f,m,S,a));break;case 3:case 4:ei?(m=Le,Le=Qr(a.stateNode.containerInfo),Ri(a,l,f),Le=m):Ri(a,l,f);break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Va,Va=16777216,Ri(a,l,f),Va=m):Ri(a,l,f));break;default:Ri(a,l,f)}}function Zu(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Oo(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];An=m,Ga(m,a)}Zu(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ju(a),a=a.sibling}function Ju(a){switch(a.tag){case 0:case 11:case 15:Oo(a),a.flags&2048&&Oi(9,a,a.return);break;case 3:Oo(a);break;case 12:Oo(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,jr(a)):Oo(a);break;default:Oo(a)}}function jr(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];An=m,Ga(m,a)}Zu(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Oi(8,l,l.return),jr(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,jr(l));break;default:jr(l)}a=a.sibling}}function Ga(a,l){for(;An!==null;){var f=An;switch(f.tag){case 0:case 11:case 15:Oi(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Lt(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,An=m;else t:for(f=a;An!==null;){m=An;var S=m.sibling,b=m.return;if(bf(m),m===f){An=null;break t}if(S!==null){S.return=b,An=S;break t}An=b}}}function Yl(a){var l=ie(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(u(364));return l}if(a=Tn(a),a===null)throw Error(u(362));return a.stateNode.current}function Xl(a,l){var f=a.tag;switch(l.$$typeof){case ui:if(a.type===l.value)return!0;break;case Ko:t:{for(l=l.value,a=[a,0],f=0;f<a.length;){var m=a[f++],S=m.tag,b=a[f++],N=l[b];if(S!==5&&S!==26&&S!==27||!Fl(m)){for(;N!=null&&Xl(m,N);)b++,N=l[b];if(b===l.length){l=!0;break t}else for(m=m.child;m!==null;)a.push(m,b),m=m.sibling}}l=!1}return l;case Zo:if((f===5||f===26||f===27)&&Gf(a.stateNode,l.value))return!0;break;case as:if((f===5||f===6||f===26||f===27)&&(a=kr(a),a!==null&&0<=a.indexOf(l.value)))return!0;break;case $r:if((f===5||f===26||f===27)&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===l.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function Ro(a){switch(a.$$typeof){case ui:return"<"+(E(a.value)||"Unknown")+">";case Ko:return":has("+(Ro(a)||"")+")";case Zo:return'[role="'+a.value+'"]';case as:return'"'+a.value+'"';case $r:return'[data-testname="'+a.value+'"]';default:throw Error(u(365))}}function zo(a,l){var f=[];a=[a,0];for(var m=0;m<a.length;){var S=a[m++],b=S.tag,N=a[m++],P=l[N];if(b!==5&&b!==26&&b!==27||!Fl(S)){for(;P!=null&&Xl(S,P);)N++,P=l[N];if(N===l.length)f.push(S);else for(S=S.child;S!==null;)a.push(S,N),S=S.sibling}}return f}function Ea(a,l){if(!Hn)throw Error(u(363));a=Yl(a),a=zo(a,l),l=[],a=Array.from(a);for(var f=0;f<a.length;){var m=a[f++],S=m.tag;if(S===5||S===26||S===27)Fl(m)||l.push(m.stateNode);else for(m=m.child;m!==null;)a.push(m),m=m.sibling}return l}function tn(){return(ge&2)!==0&&be!==0?be&-be:Jt.T!==null?ms():Lo()}function ol(){if(Sa===0)if((be&536870912)===0||Se){var a=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),Sa=a}else Sa=536870912;return a=Ra.current,a!==null&&(a.flags|=32),Sa}function cn(a,l,f){(a===de&&(qe===2||qe===9)||a.cancelPendingCommit!==null)&&(gn(a,0),Ni(a,be,Sa,!1)),st(a,f),((ge&2)===0||a!==de)&&(a===de&&((ge&2)===0&&(ss|=f),pn===4&&Ni(a,be,Sa,!1)),Te(a))}function gi(a,l,f){if((ge&6)!==0)throw Error(u(327));var m=!f&&(l&127)===0&&(l&a.expiredLanes)===0||j(a,l),S=m?Oh(a,l):Di(a,l,!0),b=m;do{if(S===0){is&&!m&&Ni(a,l,0,!1);break}else{if(f=a.current.alternate,b&&!Ah(f)){S=Di(a,l,!1),b=!1;continue}if(S===2){if(b=l,a.errorRecoveryDisabledLanes&b)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;t:{var P=a;S=tu;var pt=en&&P.current.memoizedState.isDehydrated;if(pt&&(gn(P,N).flags|=256),N=Di(P,N,!1),N!==2){if(ls&&!pt){P.errorRecoveryDisabledLanes|=b,ss|=b,S=4;break t}b=za,za=S,b!==null&&(za===null?za=b:za.push.apply(za,b))}S=N}if(b=!1,S!==2)continue}}if(S===1){gn(a,0),Ni(a,l,0,!0);break}t:{switch(m=a,b=S,b){case 0:case 1:throw Error(u(345));case 4:if((l&4194048)!==l)break;case 6:Ni(m,l,Sa,!Si);break t;case 2:za=null;break;case 3:case 5:break;default:throw Error(u(329))}if((l&62914560)===l&&(S=eu+300-oa(),10<S)){if(Ni(m,l,Sa,!Si),V(m,0,!0)!==0)break t;Ki=l,m.timeoutHandle=Nf(zi.bind(null,m,f,za,nu,zc,l,Sa,ss,Fo,Si,b,"Throttled",-0,0),S);break t}zi(m,f,za,nu,zc,l,Sa,ss,Fo,Si,b,null,-0,0)}}break}while(!0);Te(a)}function zi(a,l,f,m,S,b,N,P,pt,Tt,Ut,Rt,qt,ae){if(a.timeoutHandle=Aa,Rt=l.subtreeFlags,Rt&8192||(Rt&16785408)===16785408){Rt=wf(),ql(l,b,Rt);var Jn=(b&62914560)===b?eu-oa():(b&4194048)===b?Js-oa():0;if(Jn=Uh(Rt,Jn),Jn!==null){Ki=b,a.cancelPendingCommit=Jn(ji.bind(null,a,l,b,f,m,S,N,P,pt,Ut,Rt,null,qt,ae)),Ni(a,b,N,!Tt);return}}ji(a,l,b,f,m,S,N,P,pt)}function Ah(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var S=f[m],b=S.getSnapshot;S=S.value;try{if(!Cn(b(),S))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ni(a,l,f,m){l&=~Jo,l&=~ss,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var S=l;0<S;){var b=31-Ma(S),N=1<<b;m[b]=-1,S&=~N}f!==0&&M(a,f,l)}function Fu(){return(ge&6)===0?(Fe(0),!1):!0}function Wu(){if(ye!==null){if(qe===0)var a=ye.return;else a=ye,vi=Ke=null,vr(a),ts=null,ks=0,a=ye;for(;a!==null;)Eh(a.alternate,a),a=a.return;ye=null}}function gn(a,l){var f=a.timeoutHandle;f!==Aa&&(a.timeoutHandle=Aa,jh(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Ki=0,Wu(),de=a,ye=f=La(a.current,null),be=l,qe=0,Un=null,Si=!1,is=j(a,l),ls=!1,Fo=Sa=Jo=ss=xl=pn=0,za=tu=null,zc=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var S=31-Ma(m),b=1<<S;l|=a[S],m&=~b}return Qi=l,uo(),f}function Qe(a,l){le=null,Jt.H=ka,l===Xn||l===oi?(l=xu(),qe=3):l===Oc?(l=xu(),qe=4):qe=l===xa?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Un=l,ye===null&&(pn=1,Lu(a,$(l,a.current)))}function _e(){var a=Ra.current;return a===null?!0:(be&4194048)===be?va===null:(be&62914560)===be||(be&536870912)!==0?a===va:!1}function rl(){var a=Jt.H;return Jt.H=ka,a===null?ka:a}function Ha(){var a=Jt.A;return Jt.A=Qo,a}function No(){pn=4,Si||(be&4194048)!==be&&Ra.current!==null||(is=!0),(xl&134217727)===0&&(ss&134217727)===0||de===null||Ni(de,be,Sa,!1)}function Di(a,l,f){var m=ge;ge|=2;var S=rl(),b=Ha();(de!==a||be!==l)&&(nu=null,gn(a,l)),l=!1;var N=pn;t:do try{if(qe!==0&&ye!==null){var P=ye,pt=Un;switch(qe){case 8:Wu(),N=6;break t;case 3:case 2:case 9:case 6:Ra.current===null&&(l=!0);var Tt=qe;if(qe=0,Un=null,wi(a,P,pt,Tt),f&&is){N=0;break t}break;default:Tt=qe,qe=0,Un=null,wi(a,P,pt,Tt)}}Mh(),N=pn;break}catch(Ut){Qe(a,Ut)}while(!0);return l&&a.shellSuspendCounter++,vi=Ke=null,ge=m,Jt.H=S,Jt.A=b,ye===null&&(de=null,be=0,uo()),N}function Mh(){for(;ye!==null;)kl(ye)}function Oh(a,l){var f=ge;ge|=2;var m=rl(),S=Ha();de!==a||be!==l?(nu=null,os=oa()+500,gn(a,l)):is=j(a,l);t:do try{if(qe!==0&&ye!==null){l=ye;var b=Un;e:switch(qe){case 1:qe=0,Un=null,wi(a,l,b,1);break;case 2:case 9:if(so(b)){qe=0,Un=null,Pu(l);break}l=function(){qe!==2&&qe!==9||de!==a||(qe=7),Te(a)},b.then(l,l);break t;case 3:qe=7;break t;case 4:qe=5;break t;case 7:so(b)?(qe=0,Un=null,Pu(l)):(qe=0,Un=null,wi(a,l,b,7));break;case 5:var N=null;switch(ye.tag){case 26:N=ye.memoizedState;case 5:case 27:var P=ye,pt=P.type,Tt=P.pendingProps;if(N?ld(N):fn(P.stateNode,pt,Tt)){qe=0,Un=null;var Ut=P.sibling;if(Ut!==null)ye=Ut;else{var Rt=P.return;Rt!==null?(ye=Rt,wo(Rt)):ye=null}break e}}qe=0,Un=null,wi(a,l,b,5);break;case 6:qe=0,Un=null,wi(a,l,b,6);break;case 8:Wu(),pn=6;break t;default:throw Error(u(462))}}Do();break}catch(qt){Qe(a,qt)}while(!0);return vi=Ke=null,Jt.H=m,Jt.A=S,ge=f,ye!==null?0:(de=null,be=0,uo(),pn)}function Do(){for(;ye!==null&&!yp();)kl(ye)}function kl(a){var l=mf(a.alternate,a,Qi);a.memoizedProps=a.pendingProps,l===null?wo(a):ye=l}function Pu(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=uf(f,l,l.pendingProps,l.type,void 0,be);break;case 11:l=uf(f,l,l.pendingProps,l.type.render,l.ref,be);break;case 5:vr(l);default:Eh(f,l),l=ye=tc(l,Qi),l=mf(f,l,Qi)}a.memoizedProps=a.pendingProps,l===null?wo(a):ye=l}function wi(a,l,f,m){vi=Ke=null,vr(l),ts=null,ks=0;var S=l.return;try{if(R0(a,S,l,f,be)){pn=1,Lu(a,$(f,a.current)),ye=null;return}}catch(b){if(S!==null)throw ye=S,b;pn=1,Lu(a,$(f,a.current)),ye=null;return}l.flags&32768?(Se||m===1?a=!0:is||(be&536870912)!==0?a=!1:(Si=a=!0,(m===2||m===9||m===3||m===6)&&(m=Ra.current,m!==null&&m.tag===13&&(m.flags|=16384))),Vl(l,a)):wo(l)}function wo(a){var l=a;do{if((l.flags&32768)!==0){Vl(l,Si);return}a=l.return;var f=_h(l.alternate,l,Qi);if(f!==null){ye=f;return}if(l=l.sibling,l!==null){ye=l;return}ye=l=a}while(l!==null);pn===0&&(pn=5)}function Vl(a,l){do{var f=vf(a.alternate,a);if(f!==null){f.flags&=32767,ye=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){ye=a;return}ye=a=f}while(a!==null);pn=6,ye=null}function ji(a,l,f,m,S,b,N,P,pt){a.cancelPendingCommit=null;do Bi();while(Bn!==0);if((ge&6)!==0)throw Error(u(327));if(l!==null){if(l===a.current)throw Error(u(177));if(b=l.lanes|l.childLanes,b|=Vs,ot(a,f,b,N,P,pt),a===de&&(ye=de=null,be=0),Fs=l,bl=a,Ki=f,Wo=b,Nc=S,pd=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wn(Zr,function(){return Ur(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=Jt.T,Jt.T=null,S=ti(),xe(2),N=ge,ge|=4;try{z0(a,l,f)}finally{ge=N,xe(S),Jt.T=m}}Bn=1,ul(),Ui(),Iu()}}function ul(){if(Bn===1){Bn=0;var a=bl,l=Fs,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=Jt.T,Jt.T=null;var m=ti();xe(2);var S=ge;ge|=4;try{wr(l,a),wh(a.containerInfo)}finally{ge=S,xe(m),Jt.T=f}}a.current=l,Bn=2}}function Ui(){if(Bn===2){Bn=0;var a=bl,l=Fs,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=Jt.T,Jt.T=null;var m=ti();xe(2);var S=ge;ge|=4;try{Ch(a,l.alternate,l)}finally{ge=S,xe(m),Jt.T=f}}Bn=3}}function Iu(){if(Bn===4||Bn===3){Bn=0,od();var a=bl,l=Fs,f=Ki,m=pd;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Fs=bl=null,$u(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(Sl=null),B(f),l=l.stateNode,Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(Xs,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=Jt.T,S=ti(),xe(2),Jt.T=null;try{for(var b=a.onRecoverableError,N=0;N<m.length;N++){var P=m[N];b(P.value,{componentStack:P.stack})}}finally{Jt.T=l,xe(S)}}(Ki&3)!==0&&Bi(),Te(a),S=a.pendingLanes,(f&261930)!==0&&(S&42)!==0?a===au?De++:(De=0,au=a):De=0,en&&Vr(),Fe(0)}}function $u(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Lt(l)))}function Bi(){return ul(),Ui(),Iu(),Ur()}function Ur(){if(Bn!==5)return!1;var a=bl,l=Wo;Wo=0;var f=B(Ki),m=32>f?32:f;f=Jt.T;var S=ti();try{xe(m),Jt.T=null,m=Nc,Nc=null;var b=bl,N=Ki;if(Bn=0,Fs=bl=null,Ki=0,(ge&6)!==0)throw Error(u(331));var P=ge;if(ge|=4,Ju(b.current),Ku(b,b.current,N,m),ge=P,Fe(0,!1),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(Xs,b)}catch{}return!0}finally{xe(S),Jt.T=f,$u(a,l)}}function Ql(a,l,f){l=$(f,l),l=of(a.stateNode,l,2),a=Dl(a,l,2),a!==null&&(st(a,2),Te(a))}function te(a,l,f){if(a.tag===3)Ql(a,a,f);else for(;l!==null;){if(l.tag===3){Ql(l,a,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Sl===null||!Sl.has(m))){a=$(f,a),f=ch(2),m=Dl(l,f,2),m!==null&&(fh(f,m,l,a),st(m,2),Te(m));break}}l=l.return}}function jo(a,l,f){var m=a.pingCache;if(m===null){m=a.pingCache=new Qa;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(f)||(ls=!0,S.add(f),a=Rh.bind(null,a,l,f),l.then(a,a))}function Rh(a,l,f){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,de===a&&(be&f)===f&&(pn===4||pn===3&&(be&62914560)===be&&300>oa()-eu?(ge&2)===0&&gn(a,0):Jo|=f,Fo===be&&(Fo=0)),Te(a)}function zh(a,l){l===0&&(l=K()),a=zl(a,l),a!==null&&(st(a,l),Te(a))}function N0(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),zh(a,f)}function D0(a,l){var f=0;switch(a.tag){case 31:case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(f=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(u(314))}m!==null&&m.delete(l),zh(a,f)}function wn(a,l){return Kr(a,l)}function Ef(a,l,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(a){return a=a.prototype,!(!a||!a.isReactComponent)}function La(a,l){var f=a.alternate;return f===null?(f=i(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function tc(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function cl(a,l,f,m,S,b){var N=0;if(m=a,typeof a=="function")Rs(a)&&(N=1);else if(typeof a=="string")N=ei&&Ln?mc(a,f,Kn.current)?26:sd(a)?27:5:ei?mc(a,f,Kn.current)?26:5:Ln&&sd(a)?27:5;else t:switch(a){case Lr:return a=i(31,f,l,S),a.elementType=Lr,a.lanes=b,a;case ws:return Ia(f.children,S,b,l);case js:N=8,S|=24;break;case Us:return a=i(12,f,l,S|2),a.elementType=Us,a.lanes=b,a;case ic:return a=i(13,f,l,S),a.elementType=ic,a.lanes=b,a;case fl:return a=i(19,f,l,S),a.elementType=fl,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $a:N=10;break t;case Hr:N=9;break t;case Uo:N=11;break t;case lc:N=14;break t;case pa:N=16,m=null;break t}N=29,f=Error(u(130,a===null?"null":typeof a,"")),m=null}return l=i(N,f,l,S),l.elementType=a,l.type=m,l.lanes=b,l}function Ia(a,l,f,m){return a=i(7,a,m,l),a.lanes=f,a}function Tf(a,l,f){return a=i(6,a,null,l),a.lanes=f,a}function Cf(a){var l=i(18,null,null,0);return l.stateNode=a,l}function Af(a,l,f){return l=i(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Nh(a,l,f,m,S,b,N,P,pt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Aa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pt,this.incompleteTransitions=new Map}function Kl(a,l,f,m,S,b,N,P,pt,Tt,Ut,Rt){return a=new Nh(a,l,f,N,pt,Tt,Ut,Rt,P),l=1,b===!0&&(l|=24),b=i(3,null,null,l),a.current=b,b.stateNode=a,l=Wt(),l.refCount++,a.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:f,cache:l},aa(b),a}function ec(a){return a?(a=Hi,a):Hi}function Br(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(u(188)):(a=Object.keys(a).join(","),Error(u(268,a)));return a=p(l),a=a!==null?y(a):null,a===null?null:Go(a.stateNode)}function Mf(a,l,f,m,S,b){S=ec(S),m.context===null?m.context=S:m.pendingContext=S,m=Ei(l),m.payload={element:f},b=b===void 0?null:b,b!==null&&(m.callback=b),f=Dl(a,m,l),f!==null&&(cn(f,a,l),mr(f,a,l))}function zs(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function Gr(a,l){zs(a,l),(a=a.alternate)&&zs(a,l)}var ce={},nc=g0(),Ta=f1(),ac=Object.assign,Ns=Symbol.for("react.element"),Gi=Symbol.for("react.transitional.element"),Ds=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),js=Symbol.for("react.strict_mode"),Us=Symbol.for("react.profiler"),Hr=Symbol.for("react.consumer"),$a=Symbol.for("react.context"),Uo=Symbol.for("react.forward_ref"),ic=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Lr=Symbol.for("react.activity"),Of=Symbol.for("react.memo_cache_sentinel"),dl=Symbol.iterator,Zl=Symbol.for("react.client.reference"),Jl=Array.isArray,Jt=nc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rf=t.rendererVersion,qr=t.rendererPackageName,Bo=t.extraDevToolsConfig,Go=t.getPublicInstance,Dh=t.getRootHostContext,Ho=t.getChildHostContext,sc=t.prepareForCommit,wh=t.resetAfterCommit,zf=t.createInstance;t.cloneMutableInstance;var Yr=t.appendInitialChild,Ca=t.finalizeInitialChildren,ma=t.shouldSetTextContent,hl=t.createTextInstance;t.cloneMutableTextInstance;var Nf=t.scheduleTimeout,jh=t.cancelTimeout,Aa=t.noTimeout,En=t.isPrimaryRenderer;t.warnsIfNotActing;var Ee=t.supportsMutation,qa=t.supportsPersistence,en=t.supportsHydration,ie=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var Xe=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var xe=t.setCurrentUpdatePriority,ti=t.getCurrentUpdatePriority,Lo=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var Bs=t.shouldAttemptEagerTransition,oc=t.detachDeletedInstance;t.requestPostPaintCallback;var Xr=t.maySuspendCommit,qo=t.maySuspendCommitOnUpdate,Df=t.maySuspendCommitInSyncRender,fn=t.preloadInstance,wf=t.startSuspendingCommit,rc=t.suspendInstance;t.suspendOnActiveViewTransition;var Uh=t.waitForCommitToBeReady;t.getSuspendedCommitReason;var Gs=t.NotPendingTransition,Hs=t.HostTransitionContext,jf=t.resetFormInstance;t.bindToConsole;var Uf=t.supportsMicrotasks,Bf=t.scheduleMicrotask,Hn=t.supportsTestSelectors,Tn=t.findFiberRoot,uc=t.getBoundingRect,kr=t.getTextContent,Fl=t.isHiddenSubtree,Gf=t.matchAccessibilityRole,pl=t.setFocusIfFocusable,cc=t.setupIntersectionObserver,Hf=t.appendChild,Lf=t.appendChildToContainer,Bh=t.commitTextUpdate,Gh=t.commitMount,Hh=t.commitUpdate,Lh=t.insertBefore,qh=t.insertInContainerBefore,Yh=t.removeChild,qf=t.removeChildFromContainer,Yf=t.resetTextContent,w0=t.hideInstance,Xh=t.hideTextInstance,kh=t.unhideInstance,Vh=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopViewTransition,t.getCurrentGestureOffset,t.createViewTransitionInstance;var Xf=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var Qh=t.cloneInstance,kf=t.createContainerChildSet,Vf=t.appendChildToContainerChildSet,Kh=t.finalizeContainerChildren,Qf=t.replaceContainerChildren,Zh=t.cloneHiddenInstance,Kf=t.cloneHiddenTextInstance,Wl=t.isSuspenseInstancePending,fc=t.isSuspenseInstanceFallback,dc=t.getSuspenseInstanceFallbackErrorDetails,hc=t.registerSuspenseInstanceRetry,Jh=t.canHydrateFormStateMarker,Zf=t.isFormStateMarkerMatching,Fh=t.getNextHydratableSibling,Wh=t.getNextHydratableSiblingAfterSingleton,Ph=t.getFirstHydratableChild,Ih=t.getFirstHydratableChildWithinContainer,$h=t.getFirstHydratableChildWithinActivityInstance,tp=t.getFirstHydratableChildWithinSuspenseInstance,Jf=t.getFirstHydratableChildWithinSingleton,ep=t.canHydrateInstance,np=t.canHydrateTextInstance,Ff=t.canHydrateActivityInstance,ap=t.canHydrateSuspenseInstance,ip=t.hydrateInstance,j0=t.hydrateTextInstance,Wf=t.hydrateActivityInstance,lp=t.hydrateSuspenseInstance,sp=t.getNextHydratableInstanceAfterActivityInstance,Pf=t.getNextHydratableInstanceAfterSuspenseInstance,op=t.commitHydratedInstance,rp=t.commitHydratedContainer,U0=t.commitHydratedActivityInstance,B0=t.commitHydratedSuspenseInstance,up=t.finalizeHydratedChildren,Vr=t.flushHydrationEvents;t.clearActivityBoundary;var If=t.clearSuspenseBoundary;t.clearActivityBoundaryFromContainer;var pc=t.clearSuspenseBoundaryFromContainer,cp=t.hideDehydratedBoundary,fp=t.unhideDehydratedBoundary,Yo=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var dp=t.validateHydratableInstance,$f=t.validateHydratableTextInstance,ei=t.supportsResources,mc=t.isHostHoistableType,Qr=t.getHoistableRoot,td=t.getResource,ed=t.acquireResource,Pl=t.releaseResource,hp=t.hydrateHoistable,nd=t.mountHoistable,ad=t.unmountHoistable,gc=t.createHoistableInstance,pp=t.prepareToCommitHoistables,id=t.mayResourceSuspendCommit,ld=t.preloadResource,mp=t.suspendResource,Ln=t.supportsSingletons,yc=t.resolveSingletonInstance,jn=t.acquireSingletonInstance,Qn=t.releaseSingletonInstance,sd=t.isHostSingletonType,Ls=t.isSingletonScope,vc=[],qs=-1,Hi={},Ma=Math.clz32?Math.clz32:H,xc=Math.log,gp=Math.LN2,Sc=256,Ys=262144,Xo=4194304,Kr=Ta.unstable_scheduleCallback,bc=Ta.unstable_cancelCallback,yp=Ta.unstable_shouldYield,od=Ta.unstable_requestPaint,oa=Ta.unstable_now,_c=Ta.unstable_ImmediatePriority,vp=Ta.unstable_UserBlockingPriority,Zr=Ta.unstable_NormalPriority,Ec=Ta.unstable_IdlePriority,rd=Ta.log,xp=Ta.unstable_setDisableYieldValue,Xs=null,Oa=null,Cn=typeof Object.is=="function"?Object.is:Q,Tc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},G0=Object.prototype.hasOwnProperty,Cc,Li,Jr=!1,ud=new WeakMap,ml=[],qi=0,ke=null,Fr=0,ni=[],Ya=0,ai=null,In=1,yi="",Kn=T(null),gl=T(null),$n=T(null),Wr=T(null),qn=null,nn=null,Se=!1,Yi=null,ga=!1,Ac=Error(u(519)),ii=T(null),Ke=null,vi=null,Sp=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},Zn=Ta.unstable_scheduleCallback,H0=Ta.unstable_NormalPriority,an={$$typeof:$a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Pr=null,He=null,ra=!1,li=!1,Mc=!1,Il=0,ko=null,cd=0,yl=0,Yn=null,si=Jt.S;Jt.S=function(a,l){Js=oa(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&hr(a,l),si!==null&&si(a,l)};var $l=T(null),Xn=Error(u(460)),Oc=Error(u(474)),oi=Error(u(542)),Xi={then:function(){}},ya=null,ts=null,ks=0,ta=Zc(!0),fd=Zc(!1),ea=[],ki=0,Vs=0,Xa=!1,Rc=!1,Qs=T(null),es=T(0),Ra=T(null),va=null,yn=T(0),vl=0,le=null,Zt=null,ee=null,fe=!1,oe=!1,Ce=!1,ua=0,ri=0,xi=null,dd=0,ka={readContext:At,use:po,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};ka.useEffectEvent=rn;var dn={readContext:At,use:po,useCallback:function(a,l){return ia().memoizedState=[a,l===void 0?null:l],a},useContext:At,useEffect:br,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Es(4194308,4,vo.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Es(4194308,4,a,l)},useInsertionEffect:function(a,l){Es(4,2,a,l)},useMemo:function(a,l){var f=ia();l=l===void 0?null:l;var m=a();if(Ce){k(!0);try{a()}finally{k(!1)}}return f.memoizedState=[m,l],m},useReducer:function(a,l,f){var m=ia();if(f!==void 0){var S=f(l);if(Ce){k(!0);try{f(l)}finally{k(!1)}}}else S=l;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=O0.bind(null,le,a),[m.memoizedState,a]},useRef:function(a){var l=ia();return a={current:a},l.memoizedState=a},useState:function(a){a=Ic(a);var l=a.queue,f=sh.bind(null,le,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:Er,useDeferredValue:function(a,l){var f=ia();return So(f,a,l)},useTransition:function(){var a=Ic(!1);return a=ah.bind(null,le,a.queue,!0,!1),ia().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var m=le,S=ia();if(Se){if(f===void 0)throw Error(u(407));f=f()}else{if(f=l(),de===null)throw Error(u(349));(be&127)!==0||$d(m,l,f)}S.memoizedState=f;var b={value:f,getSnapshot:l};return S.queue=b,br(Pc.bind(null,m,b,a),[a]),m.flags|=2048,Ba(9,{destroy:void 0},Wc.bind(null,m,b,f,l),null),f},useId:function(){var a=ia(),l=de.identifierPrefix;if(Se){var f=yi,m=In;f=(m&~(1<<32-Ma(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=ua++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=dd++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:af,useFormState:tf,useActionState:tf,useOptimistic:function(a){var l=ia();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Bu.bind(null,le,!0,f),f.dispatch=l,[a,l]},useMemoCache:Au,useCacheRefresh:function(){return ia().memoizedState=M0.bind(null,le)},useEffectEvent:function(a){var l=ia(),f={impl:a};return l.memoizedState=f,function(){if((ge&2)!==0)throw Error(u(440));return f.impl.apply(void 0,arguments)}}},Vi={readContext:At,use:po,useCallback:ju,useContext:At,useEffect:yo,useImperativeHandle:nh,useInsertionEffect:Bl,useLayoutEffect:_r,useMemo:xo,useReducer:al,useRef:wu,useState:function(){return al(mi)},useDebugValue:Er,useDeferredValue:function(a,l){var f=$e();return nf(f,Zt.memoizedState,a,l)},useTransition:function(){var a=al(mi)[0],l=$e().memoizedState;return[typeof a=="boolean"?a:la(a),l]},useSyncExternalStore:bs,useId:Uu,useHostTransitionStatus:af,useFormState:mo,useActionState:mo,useOptimistic:function(a,l){var f=$e();return xr(f,Zt,a,l)},useMemoCache:Au,useCacheRefresh:lh};Vi.useEffectEvent=fa;var ns={readContext:At,use:po,useCallback:ju,useContext:At,useEffect:yo,useImperativeHandle:nh,useInsertionEffect:Bl,useLayoutEffect:_r,useMemo:xo,useReducer:Ou,useRef:wu,useState:function(){return Ou(mi)},useDebugValue:Er,useDeferredValue:function(a,l){var f=$e();return Zt===null?So(f,a,l):nf(f,Zt.memoizedState,a,l)},useTransition:function(){var a=Ou(mi)[0],l=$e().memoizedState;return[typeof a=="boolean"?a:la(a),l]},useSyncExternalStore:bs,useId:Uu,useHostTransitionStatus:af,useFormState:go,useActionState:go,useOptimistic:function(a,l){var f=$e();return Zt!==null?xr(f,Zt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Au,useCacheRefresh:lh};ns.useEffectEvent=fa;var Ir={enqueueSetState:function(a,l,f){a=a._reactInternals;var m=tn(),S=Ei(m);S.payload=l,f!=null&&(S.callback=f),l=Dl(a,S,m),l!==null&&(cn(l,a,m),mr(l,a,m))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var m=tn(),S=Ei(m);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=Dl(a,S,m),l!==null&&(cn(l,a,m),mr(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=tn(),m=Ei(f);m.tag=2,l!=null&&(m.callback=l),l=Dl(a,m,f),l!==null&&(cn(l,a,f),mr(l,a,f))}},xa=Error(u(461)),We=!1,Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},vn=!1,xn=!1,Vo=!1,hd=typeof WeakSet=="function"?WeakSet:Set,An=null,hn=null,Mn=!1,Le=null,Va=8192,Qo={getCacheForType:function(a){var l=At(an),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return At(an).controller.signal}},ui=0,Ko=1,Zo=2,$r=3,as=4;if(typeof Symbol=="function"&&Symbol.for){var Zs=Symbol.for;ui=Zs("selector.component"),Ko=Zs("selector.has_pseudo_class"),Zo=Zs("selector.role"),$r=Zs("selector.test_id"),as=Zs("selector.text")}var Qa=typeof WeakMap=="function"?WeakMap:Map,ge=0,de=null,ye=null,be=0,qe=0,Un=null,Si=!1,is=!1,ls=!1,Qi=0,pn=0,xl=0,ss=0,Jo=0,Sa=0,Fo=0,tu=null,za=null,zc=!1,eu=0,Js=0,os=1/0,nu=null,Sl=null,Bn=0,bl=null,Fs=null,Ki=0,Wo=0,Nc=null,pd=null,De=0,au=null;return ce.attemptContinuousHydration=function(a){if(a.tag===13||a.tag===31){var l=zl(a,67108864);l!==null&&cn(l,a,67108864),Gr(a,67108864)}},ce.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13||a.tag===31){var l=tn();l=F(l);var f=zl(a,l);f!==null&&cn(f,a,l),Gr(a,l)}},ce.attemptSynchronousHydration=function(a){switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=L(a.pendingLanes);if(l!==0){for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var f=1<<31-Ma(l);a.entanglements[1]|=f,l&=~f}Te(a),(ge&6)===0&&(os=oa()+500,Fe(0))}}break;case 31:case 13:l=zl(a,2),l!==null&&cn(l,a,2),Fu(),Gr(a,2)}},ce.batchedUpdates=function(a,l){return a(l)},ce.createComponentSelector=function(a){return{$$typeof:ui,value:a}},ce.createContainer=function(a,l,f,m,S,b,N,P,pt,Tt){return Kl(a,l,!1,null,f,m,b,null,N,P,pt,Tt)},ce.createHasPseudoClassSelector=function(a){return{$$typeof:Ko,value:a}},ce.createHydrationContainer=function(a,l,f,m,S,b,N,P,pt,Tt,Ut,Rt,qt,ae){return a=Kl(f,m,!0,a,S,b,P,ae,pt,Tt,Ut,Rt),a.context=ec(null),f=a.current,m=tn(),m=F(m),S=Ei(m),S.callback=l??null,Dl(f,S,m),l=m,a.current.lanes=l,st(a,l),Te(a),a},ce.createPortal=function(a,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:m==null?null:""+m,children:a,containerInfo:l,implementation:f}},ce.createRoleSelector=function(a){return{$$typeof:Zo,value:a}},ce.createTestNameSelector=function(a){return{$$typeof:$r,value:a}},ce.createTextSelector=function(a){return{$$typeof:as,value:a}},ce.defaultOnCaughtError=function(a){console.error(a)},ce.defaultOnRecoverableError=function(a){Tc(a)},ce.defaultOnUncaughtError=function(a){Tc(a)},ce.deferredUpdates=function(a){var l=Jt.T,f=ti();try{return xe(32),Jt.T=null,a()}finally{xe(f),Jt.T=l}},ce.discreteUpdates=function(a,l,f,m,S){var b=Jt.T,N=ti();try{return xe(2),Jt.T=null,a(l,f,m,S)}finally{xe(N),Jt.T=b,ge===0&&(os=oa()+500)}},ce.findAllNodes=Ea,ce.findBoundingRects=function(a,l){if(!Hn)throw Error(u(363));l=Ea(a,l),a=[];for(var f=0;f<l.length;f++)a.push(uc(l[f]));for(l=a.length-1;0<l;l--){f=a[l];for(var m=f.x,S=m+f.width,b=f.y,N=b+f.height,P=l-1;0<=P;P--)if(l!==P){var pt=a[P],Tt=pt.x,Ut=Tt+pt.width,Rt=pt.y,qt=Rt+pt.height;if(m>=Tt&&b>=Rt&&S<=Ut&&N<=qt){a.splice(l,1);break}else if(m!==Tt||f.width!==pt.width||qt<b||Rt>N){if(!(b!==Rt||f.height!==pt.height||Ut<m||Tt>S)){Tt>m&&(pt.width+=Tt-m,pt.x=m),Ut<S&&(pt.width=S-Tt),a.splice(l,1);break}}else{Rt>b&&(pt.height+=Rt-b,pt.y=b),qt<N&&(pt.height=N-Rt),a.splice(l,1);break}}}return a},ce.findHostInstance=Br,ce.findHostInstanceWithNoPortals=function(a){return a=p(a),a=a!==null?x(a):null,a===null?null:Go(a.stateNode)},ce.findHostInstanceWithWarning=function(a){return Br(a)},ce.flushPassiveEffects=Bi,ce.flushSyncFromReconciler=function(a){var l=ge;ge|=1;var f=Jt.T,m=ti();try{if(xe(2),Jt.T=null,a)return a()}finally{xe(m),Jt.T=f,ge=l,(ge&6)===0&&Fe(0)}},ce.flushSyncWork=Fu,ce.focusWithin=function(a,l){if(!Hn)throw Error(u(363));for(a=Yl(a),l=zo(a,l),l=Array.from(l),a=0;a<l.length;){var f=l[a++],m=f.tag;if(!Fl(f)){if((m===5||m===26||m===27)&&pl(f.stateNode))return!0;for(f=f.child;f!==null;)l.push(f),f=f.sibling}}return!1},ce.getFindAllNodesFailureDescription=function(a,l){if(!Hn)throw Error(u(363));var f=0,m=[];a=[Yl(a),0];for(var S=0;S<a.length;){var b=a[S++],N=b.tag,P=a[S++],pt=l[P];if((N!==5&&N!==26&&N!==27||!Fl(b))&&(Xl(b,pt)&&(m.push(Ro(pt)),P++,P>f&&(f=P)),P<l.length))for(b=b.child;b!==null;)a.push(b,P),b=b.sibling}if(f<l.length){for(a=[];f<l.length;f++)a.push(Ro(l[f]));return`findAllNodes was able to match part of the selector:
  `+(m.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},ce.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 27:case 5:return Go(a.child.stateNode);default:return a.child.stateNode}},ce.injectIntoDevTools=function(){var a={bundleType:0,version:Rf,rendererPackageName:qr,currentDispatcherRef:Jt,reconcilerVersion:"19.2.0"};if(Bo!==null&&(a.rendererConfig=Bo),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{Xs=l.inject(a),Oa=l}catch{}a=!!l.checkDCE}}return a},ce.isAlreadyRendering=function(){return(ge&6)!==0},ce.observeVisibleRects=function(a,l,f,m){if(!Hn)throw Error(u(363));a=Ea(a,l);var S=cc(a,f,m).disconnect;return{disconnect:function(){S()}}},ce.shouldError=function(){return null},ce.shouldSuspend=function(){return!1},ce.startHostTransition=function(a,l,f,m){if(a.tag!==5)throw Error(u(476));var S=ih(a).queue;ah(a,S,l,Gs,f===null?r:function(){var b=ih(a);return b.next===null&&(b=a.alternate.memoizedState),Tr(a,b.next.queue,{},tn()),f(m)})},ce.updateContainer=function(a,l,f,m){var S=l.current,b=tn();return Mf(S,b,a,l,f,m),b},ce.updateContainerSync=function(a,l,f,m){return Mf(l.current,2,a,l,f,m),2},ce},s.exports.default=s.exports,Object.defineProperty(s.exports,"__esModule",{value:!0})})(zm)),zm.exports}var d2;function Dx(){return d2||(d2=1,Rm.exports=Nx()),Rm.exports}var wx=Dx();const jx=m0(wx);var Nm={exports:{}},Is={};var h2;function Ux(){return h2||(h2=1,Is.ConcurrentRoot=1,Is.ContinuousEventPriority=8,Is.DefaultEventPriority=32,Is.DiscreteEventPriority=2,Is.IdleEventPriority=268435456,Is.LegacyRoot=0,Is.NoEventPriority=0),Is}var p2;function Bx(){return p2||(p2=1,Nm.exports=Ux()),Nm.exports}var C0=Bx();const m2={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let g2=!1,y2=!1;const f0=".react-konva-event",Gx=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Hx=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Lx={};function A0(s,t,i=Lx){if(!g2&&"zIndex"in t&&(console.warn(Hx),g2=!0),!y2&&t.draggable){var r=t.x!==void 0||t.y!==void 0,u=t.onDragEnd||t.onDragMove;r&&!u&&(console.warn(Gx),y2=!0)}for(var d in i)if(!m2[d]){var h=d.slice(0,2)==="on",p=i[d]!==t[d];if(h&&p){var y=d.substr(2).toLowerCase();y.substr(0,7)==="content"&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),s.off(y,i[d])}var x=!t.hasOwnProperty(d);x&&s.setAttr(d,void 0)}var _=t._useStrictMode,E={},T=!1;const z={};for(var d in t)if(!m2[d]){var h=d.slice(0,2)==="on",A=i[d]!==t[d];if(h&&A){var y=d.substr(2).toLowerCase();y.substr(0,7)==="content"&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),t[d]&&(z[y]=t[d])}!h&&(t[d]!==i[d]||_&&t[d]!==s.getAttr(d))&&(T=!0,E[d]=t[d])}T&&(s.setAttrs(E),dr(s));for(var y in z)s.off(y+f0),s.on(y+f0,z[y])}function dr(s){if(!Ht.autoDrawEnabled){var t=s.getLayer()||s.getStage();t&&t.batchDraw()}}var Dm=f1();const Qy={},qx={};Xc.Node.prototype._applyProps=A0;let Ky=C0.DefaultEventPriority;function Yx(s,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}s.add(t),dr(s)}function Xx(s,t,i){let r=Xc[s];r||(console.error(`Konva has no node with the type ${s}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${s}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Xc.Group);const u={},d={};for(var h in t)if(h!=="ref"){var p=h.slice(0,2)==="on";p?d[h]=t[h]:u[h]=t[h]}const y=new r(u);return A0(y,d),y}function kx(s,t,i){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${s}"`)}function Vx(s,t,i){return!1}function Qx(s){return s}function Kx(){return null}function Zx(){return null}function Jx(s,t,i,r){return qx}function Fx(){}function Wx(s){}function Px(s,t){return!1}function Ix(){return Qy}function $x(){return Qy}const t8=setTimeout,e8=clearTimeout,n8=!0,a8=s=>{s()},i8=-1;function l8(s,t){return!1}const s8=!1,o8=!1,r8=!0,u8=!1,c8=!1;function f8(s,t){t.parent===s?t.moveToTop():s.add(t),dr(s)}function d8(s,t){t.parent===s?t.moveToTop():s.add(t),dr(s)}function Zy(s,t,i){t._remove(),s.add(t),t.setZIndex(i.getZIndex()),dr(s)}function h8(s,t,i){Zy(s,t,i)}function p8(s,t){t.destroy(),t.off(f0),dr(s)}function m8(s,t){t.destroy(),t.off(f0),dr(s)}function g8(s,t,i){console.error(`Text components are not yet supported in ReactKonva. You text is: "${i}"`)}function y8(s,t,i){}function v8(s,t,i,r){A0(s,r,i)}function x8(s){s.hide(),dr(s)}function S8(s){}function b8(s,t){(t.visible==null||t.visible)&&s.show()}function _8(s,t){}function E8(s){}function T8(){}function C8(){return null}function A8(){}function M8(){}function O8(){return C0.DefaultEventPriority}function R8(){}function z8(){return null}function N8(s){Ky=s}function D8(){return Ky}function w8(){return C0.DiscreteEventPriority}function j8(){return!1}function U8(){}function B8(){return null}function G8(){return-1.1}function H8(){}function L8(){return!1}function q8(){return!0}function Y8(){}function X8(){}function k8(){return null}const V8=null,Q8=Sn.createContext(null);function K8(){}const Z8=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:Q8,NotPendingTransition:V8,afterActiveInstanceBlur:M8,appendChild:f8,appendChildToContainer:d8,appendInitialChild:Yx,beforeActiveInstanceBlur:A8,cancelTimeout:e8,clearContainer:E8,commitMount:y8,commitTextUpdate:g8,commitUpdate:v8,createInstance:Xx,createTextInstance:kx,detachDeletedInstance:T8,finalizeInitialChildren:Vx,getChildHostContext:$x,getCurrentEventPriority:O8,getCurrentUpdatePriority:D8,getInstanceFromNode:C8,getInstanceFromScope:z8,getPublicInstance:Qx,getRootHostContext:Ix,hideInstance:x8,hideTextInstance:S8,idlePriority:Dm.unstable_IdlePriority,insertBefore:Zy,insertInContainerBefore:h8,isPrimaryRenderer:s8,maySuspendCommit:L8,noTimeout:i8,now:Dm.unstable_now,preloadInstance:q8,prepareForCommit:Kx,preparePortalMount:Zx,prepareScopeUpdate:R8,prepareUpdate:Jx,removeChild:p8,removeChildFromContainer:m8,requestPostPaintCallback:H8,resetAfterCommit:Fx,resetFormInstance:K8,resetTextContent:Wx,resolveEventTimeStamp:G8,resolveEventType:B8,resolveUpdatePriority:w8,run:Dm.unstable_runWithPriority,scheduleMicrotask:a8,scheduleTimeout:t8,setCurrentUpdatePriority:N8,shouldAttemptEagerTransition:j8,shouldDeprioritizeSubtree:Px,shouldSetTextContent:l8,startSuspendingCommit:Y8,supportsHydration:c8,supportsMicrotasks:n8,supportsMutation:r8,supportsPersistence:u8,suspendInstance:X8,trackSchedulerEvent:U8,unhideInstance:b8,unhideTextInstance:_8,waitForCommitToBeReady:k8,warnsIfNotActing:o8},Symbol.toStringTag,{value:"Module"}));function Jy(s,t,i){if(!s)return;if(i(s)===!0)return s;let r=s.child;for(;r;){const u=Jy(r,t,i);if(u)return u;r=r.sibling}}function Fy(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const _1=Fy(nt.createContext(null));class Wy extends nt.Component{render(){return nt.createElement(_1.Provider,{value:this._reactInternals},this.props.children)}}function J8(){const s=nt.useContext(_1);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=nt.useId();return nt.useMemo(()=>{for(const i of[s,s?.alternate]){if(!i)continue;const r=Jy(i,!1,u=>{let d=u.memoizedState;for(;d;){if(d.memoizedState===t)return!0;d=d.next}});if(r)return r}},[s,t])}const F8=Symbol.for("react.context"),W8=s=>s!==null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===F8;function P8(){const s=J8(),[t]=nt.useState(()=>new Map);t.clear();let i=s;for(;i;){const r=i.type;W8(r)&&r!==_1&&!t.has(r)&&t.set(r,nt.use(Fy(r))),i=i.return}return t}function I8(){const s=P8();return nt.useMemo(()=>Array.from(s.keys()).reduce((t,i)=>r=>nt.createElement(t,null,nt.createElement(i.Provider,{...r,value:s.get(i)})),t=>nt.createElement(Wy,{...t})),[s])}if(Sn.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function $8(s){const t=Sn.useRef({});return Sn.useLayoutEffect(()=>{t.current=s}),Sn.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const tS=()=>{const s=Sn.useRef(0);return Sn.useMemo(()=>{s.current++},[]),s.current>1},eS=s=>{const t=Sn.useRef(null),i=Sn.useRef(null),r=Sn.useRef(null),u=$8(s),d=I8(),h=Sn.useRef(null),p=_=>{const{forwardedRef:E}=s;E&&(typeof E=="function"?E(_):E.current=_)},y=tS(),x=()=>{p(null),Wp.updateContainer(null,r.current,null),i.current?.destroy(),i.current=null};return Sn.useLayoutEffect(()=>(h.current&&(clearTimeout(h.current),h.current=null),i.current?p(i.current):(i.current=new Xc.Stage({width:s.width,height:s.height,container:t.current}),p(i.current),r.current=Wp.createContainer(i.current,C0.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Wp.updateContainer(Sn.createElement(d,{},s.children),r.current,null,()=>{})),()=>{y?h.current=setTimeout(x,0):x()}),[]),Sn.useLayoutEffect(()=>{p(i.current),A0(i.current,s,u),Wp.updateContainer(Sn.createElement(d,{},s.children),r.current,null)}),Sn.createElement("div",{ref:t,id:s.id,accessKey:s.accessKey,className:s.className,role:s.role,style:s.style,tabIndex:s.tabIndex,title:s.title})},nS="Layer",aS="Group",iS="Rect",wm="Circle",Hc="Line",lS="Image",sS="Text",Wp=jx(Z8),oS=Sn.forwardRef((s,t)=>Sn.createElement(Wy,{},Sn.createElement(eS,{...s,forwardedRef:t}))),rS=({stageRef:s,groupRef:t,stageSize:i,imageObj:r,imageLayout:u,annotations:d,selectedIds:h,filterText:p,tool:y,tempAnnotation:x,currentPolyPoints:_,currentPenPoints:E,mousePos:T,eraserSize:z,color:A,onWheel:H,onClick:L,onMouseDown:V,onMouseMove:j,onMouseUp:Z,onDblClick:K,onVertexDrag:I,onContextMenu:st})=>{const ot=nt.useMemo(()=>{if(!p)return d;const R=p.toLowerCase();return d.filter(Y=>Y.label?.toLowerCase().includes(R))},[d,p]),M=()=>{switch(y){case"pan":return"grab";case"eraser":return"crosshair";case"ai-box":case"box":return"crosshair";case"poly":return"crosshair";case"pen":return"crosshair";case"knife":return"crosshair";default:return"default"}};return w.jsx(oS,{ref:s,width:i.width,height:i.height,onWheel:H,onClick:L,onDblClick:K,onMouseDown:V,onMouseMove:j,onMouseUp:Z,onContextMenu:R=>{R.evt.preventDefault(),st&&st(R)},style:{background:"#1a1a2e",cursor:M()},children:w.jsx(nS,{children:w.jsxs(aS,{ref:t,x:u.x,y:u.y,scaleX:u.scale,scaleY:u.scale,children:[r&&w.jsx(lS,{image:r,width:r.naturalWidth,height:r.naturalHeight}),ot.map((R,Y)=>{const F=h&&h.includes(R.id);if(!R.points||R.points.length<4||R.points.some(U=>typeof U!="number"||!isFinite(U)))return null;const k=R.isPenDrawn===!0,Q=R.color||fy(R.label||"unknown"),G=F?"#FF0040":Q,O=k?null:F?`${Q}4D`:`${Q}1A`;return w.jsxs(Sn.Fragment,{children:[w.jsx(Hc,{points:R.points,stroke:G,strokeWidth:F?3:2,fill:O,fillEnabled:!k,closed:!k,lineCap:"round",lineJoin:"round",hitStrokeWidth:20}),R.label&&R.points.length>=2&&w.jsx(sS,{x:R.points[0],y:R.points[1]-18,text:R.label+(R.confidence!==void 0?` ${(R.confidence*100).toFixed(0)}%`:""),fontSize:12,fill:"#fff",padding:2}),F&&R.points.map((U,X)=>X%2!==0?null:w.jsx(wm,{x:R.points[X],y:R.points[X+1],radius:5,fill:"#fff",stroke:G,strokeWidth:2,draggable:!0,onDragMove:$=>I($,Y,X)},`vertex-${Y}-${X}`))]},R.id||Y)}),x&&x.width>0&&x.height>0&&w.jsx(iS,{x:x.x,y:x.y,width:x.width,height:x.height,stroke:y==="ai-box"?"#00ff00":A,strokeWidth:2,dash:[5,5],fill:y==="ai-box"?"rgba(0, 255, 0, 0.1)":"rgba(255, 255, 255, 0.1)"}),_.length>0&&w.jsxs(w.Fragment,{children:[y==="poly"&&T&&w.jsx(Hc,{points:[..._.flatMap(R=>[R.x,R.y]),T.x,T.y],strokeEnabled:!1,fill:A,opacity:.2,closed:!0}),w.jsx(Hc,{points:_.flatMap(R=>[R.x,R.y]),stroke:A,strokeWidth:2,lineCap:"round",lineJoin:"round"}),y==="poly"&&T&&w.jsx(Hc,{points:[_[_.length-1].x,_[_.length-1].y,T.x,T.y],stroke:A,strokeWidth:2,dash:[6,3],opacity:.7,lineCap:"round"}),y==="poly"&&T&&_.length>=3&&(()=>{const R=_[0];return Math.sqrt(Math.pow(T.x-R.x,2)+Math.pow(T.y-R.y,2))<15?w.jsx(Hc,{points:[_[_.length-1].x,_[_.length-1].y,R.x,R.y],stroke:"#00ff00",strokeWidth:2,dash:[4,2],opacity:.9}):null})(),_.map((R,Y)=>w.jsx(wm,{x:R.x,y:R.y,radius:4,fill:"#ffffff",stroke:"#888888",strokeWidth:1,shadowColor:"#000",shadowBlur:2,shadowOpacity:.3},`poly-pt-${Y}`))]}),E.length>2&&w.jsx(Hc,{points:E,stroke:y==="knife"?"#ff0000":y==="ai-box"?"#00ff00":A,strokeWidth:y==="knife"?3:2,dash:y==="knife"?[8,4]:void 0,lineCap:"round",lineJoin:"round"}),y==="eraser"&&T&&w.jsx(wm,{x:T.x,y:T.y,radius:z/u.scale,stroke:"#ff0000",strokeWidth:2,dash:[4,4],listening:!1})]})})})},uS=({imageFile:s,onImageUpload:t,onCloseImage:i,tool:r,setTool:u,eraserSize:d,setEraserSize:h,textPrompt:p,setTextPrompt:y,models:x,selectedModel:_,onSelectModel:E,onOpenModelManager:T,onOpenTrainModal:z,enableAugmentation:A,setEnableAugmentation:H,onDetectAll:L,onSave:V,onUndo:j,onRedo:Z,onClearAll:K,canUndo:I,canRedo:st,onLoadAnnotations:ot,onExport:M,isProcessing:R,saveMessage:Y})=>{const F=nt.useRef(null),B=nt.useRef(null),[k,Q]=nt.useState(!1),[G,O]=nt.useState(!1),[U,X]=nt.useState(!1),[$,ft]=nt.useState("toon"),q=nt.useRef(null),et=nt.useRef(null),yt=nt.useRef(null),Et=[{id:"select",icon:"",label:"Select"},{id:"pan",icon:"",label:"Pan"},{id:"box",icon:"",label:"Box"},{id:"poly",icon:"",label:"Polygon"},{id:"pen",icon:"",label:"Pen"},{id:"ai-box",icon:"",label:"AI Box"},{id:"knife",icon:"",label:"Knife"},{id:"eraser",icon:"",label:"Eraser"}],Mt=[{id:"toon",label:"TOON (.toon)",ext:".toon"},{id:"yolo",label:"YOLO (.txt)",ext:".txt"},{id:"coco",label:"COCO (.json)",ext:".json"},{id:"voc",label:"Pascal VOC (.xml)",ext:".xml"}],Nt=[{id:"toon",label:"TOON (.toon)",ext:".toon, .json"},{id:"yolo",label:"YOLO (.txt)",ext:".txt"},{id:"coco",label:"COCO (.json)",ext:".json"},{id:"voc",label:"Pascal VOC (.xml)",ext:".xml"}],Qt=Et.find(Yt=>Yt.id===r)||Et[0];nt.useEffect(()=>{const Yt=Me=>{q.current&&!q.current.contains(Me.target)&&Q(!1),et.current&&!et.current.contains(Me.target)&&O(!1),yt.current&&!yt.current.contains(Me.target)&&X(!1)};return(k||G||U)&&document.addEventListener("mousedown",Yt),()=>{document.removeEventListener("mousedown",Yt)}},[k,G,U]);const Ne=Yt=>{u(Yt),Q(!1)},ne=Yt=>{ft(Yt),X(!1),setTimeout(()=>{B.current&&B.current.click()},0)},bn=Yt=>{M&&M(Yt),O(!1)};return w.jsxs("div",{className:"main-toolbar",children:[w.jsxs("div",{className:"toolbar-section",children:[w.jsx("input",{ref:F,type:"file",accept:"image/*",onChange:t,style:{display:"none"}}),w.jsx("button",{className:"toolbar-btn primary",onClick:()=>F.current?.click(),children:" Open Image"}),w.jsx("input",{ref:B,type:"file",accept:Nt.find(Yt=>Yt.id===$)?.ext||".toon,.json,.txt,.xml",onChange:Yt=>{const Me=Yt.target.files?.[0];if(!Me)return;const we=Nt.find(Xt=>Xt.id===$),ve=we?.ext.split(",").map(Xt=>Xt.trim().toLowerCase())||[],ue="."+Me.name.split(".").pop().toLowerCase();if(!ve.some(Xt=>Xt===ue)){alert(`Invalid file type! 
Selected format: ${we?.label}
Expected extensions: ${we?.ext}
Your file: ${Me.name}`),Yt.target.value="";return}ot&&ot(Me,$),Yt.target.value=""},style:{display:"none"}}),w.jsxs("div",{className:"import-dropdown-wrapper",ref:yt,children:[w.jsx("button",{className:`toolbar-btn secondary ${U?"active":""}`,onClick:()=>X(!U),disabled:!s,title:"Import annotations from file",children:" Import "}),w.jsx("div",{className:`import-dropdown-menu ${U?"visible":""}`,children:Nt.map(Yt=>w.jsx("button",{className:"dropdown-item",onClick:()=>ne(Yt.id),children:Yt.label},Yt.id))})]}),s&&w.jsx("button",{className:"toolbar-btn danger",onClick:i,children:" Close"})]}),w.jsx("div",{className:"toolbar-divider"}),w.jsx("div",{className:"toolbar-section tools",ref:q,children:w.jsxs("div",{className:"tool-dropdown-wrapper",children:[w.jsxs("button",{className:`active-tool-display ${k?"expanded":""}`,onClick:()=>Q(!k),children:[w.jsx("span",{className:"tool-icon",children:Qt.icon}),w.jsx("span",{className:"dropdown-arrow",children:""})]}),w.jsx("div",{className:`tool-dropdown-menu ${k?"visible":""}`,children:Et.map(Yt=>w.jsxs("button",{className:`dropdown-item ${r===Yt.id?"selected":""}`,onClick:()=>Ne(Yt.id),children:[w.jsx("span",{className:"item-icon",children:Yt.icon}),w.jsx("span",{className:"item-label",children:Yt.label})]},Yt.id))})]})}),w.jsx("div",{className:"toolbar-section",children:w.jsx("input",{type:"text",className:"text-prompt-input",placeholder:"Class prompt (e.g., 'car', 'dog')",value:p,onChange:Yt=>y(Yt.target.value)})}),r==="eraser"&&w.jsx("div",{className:"toolbar-section",children:w.jsxs("label",{className:"slider-label",children:["Size: ",d,"px",w.jsx("input",{type:"range",min:"5",max:"100",value:d,onChange:Yt=>h(parseInt(Yt.target.value)),className:"slider"})]})}),w.jsx("div",{className:"toolbar-divider"}),w.jsxs("div",{className:"toolbar-section",children:[w.jsx("button",{className:"toolbar-btn accent",onClick:L,disabled:R||!s,children:R?"":p&&p.trim()!==""?" Segment-text":" Detect All"}),w.jsxs("div",{className:"tooltip-container",style:{display:"flex",alignItems:"center",gap:"5px"},children:[w.jsxs("select",{className:"model-select-dropdown",value:_||"",onChange:Yt=>{E&&E(Yt.target.value)},style:{background:"#374151",color:"white",border:"1px solid #4b5563",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",height:"30px",outline:"none",cursor:"pointer",maxWidth:"160px"},children:[w.jsx("option",{value:"",disabled:!0,hidden:!0,children:" Select AI Model..."}),x&&x.map(Yt=>w.jsx("option",{value:Yt.id,children:Yt.name},Yt.id))]}),w.jsx("button",{onClick:T,title:"Manage Models",style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"16px",padding:"0 4px",opacity:.7},onMouseOver:Yt=>Yt.target.style.opacity=1,onMouseOut:Yt=>Yt.target.style.opacity=.7,children:""})]})]}),w.jsx("div",{className:"toolbar-divider"}),w.jsxs("div",{className:"toolbar-section",children:[w.jsx("button",{className:"toolbar-btn",onClick:j,disabled:!I,title:"Undo",children:""}),w.jsx("button",{className:"toolbar-btn",onClick:Z,disabled:!st,title:"Redo",children:""}),w.jsx("button",{className:"toolbar-btn danger",onClick:K,title:"Clear All",children:""})]}),w.jsx("div",{className:"toolbar-divider"}),w.jsxs("div",{className:"toolbar-section",children:[w.jsx("button",{className:"toolbar-btn success",onClick:V,disabled:!s,title:"Save project as TOON format (local download)",children:" Save Project"}),w.jsxs("div",{className:"export-dropdown-wrapper",ref:et,children:[w.jsx("button",{className:`toolbar-btn ${G?"active":""}`,onClick:()=>O(!G),disabled:!s,title:"Export annotations to various formats",children:" Export "}),w.jsx("div",{className:`export-dropdown-menu ${G?"visible":""}`,children:Mt.map(Yt=>w.jsx("button",{className:"dropdown-item",onClick:()=>bn(Yt.id),children:Yt.label},Yt.id))})]}),w.jsx("button",{className:`toolbar-btn ${A?"active-toggle":""}`,onClick:()=>H(!A),title:"Toggle Augmentation",style:{opacity:A?1:.6,border:A?"1px solid #10b981":"1px solid transparent"},children:"Data Augmentation"}),w.jsx("button",{className:"toolbar-btn",onClick:z,title:"Train Model",children:"Train Model"})]}),Y&&w.jsx("div",{className:"save-message",children:Y})]})},cS=({annotations:s,filterText:t,setFilterText:i,onSelectLabel:r,onToggle:u,docked:d=!1})=>{const[h,p]=nt.useState({x:20,y:80}),[y,x]=nt.useState({width:280,height:200}),[_,E]=nt.useState(!1),[T,z]=nt.useState(!1),[A,H]=nt.useState(!1),L=nt.useRef({x:0,y:0}),V=nt.useRef({x:0,y:0,width:0,height:0}),j=nt.useMemo(()=>{const I={};return s.forEach(st=>{const ot=st.label||"unknown";I[ot]=(I[ot]||0)+1}),Object.entries(I).sort((st,ot)=>ot[1]-st[1])},[s]);nt.useEffect(()=>{if(d)return;const I=ot=>{if(_&&p({x:ot.clientX-L.current.x,y:ot.clientY-L.current.y}),T){const M=Math.max(200,V.current.width+(ot.clientX-V.current.x)),R=Math.max(100,V.current.height+(ot.clientY-V.current.y));x({width:M,height:R})}},st=()=>{E(!1),z(!1)};return(_||T)&&(window.addEventListener("mousemove",I),window.addEventListener("mouseup",st)),()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",st)}},[_,T,d]);const Z=I=>{d||(L.current={x:I.clientX-h.x,y:I.clientY-h.y},E(!0))},K=I=>{d||(I.stopPropagation(),V.current={x:I.clientX,y:I.clientY,width:y.width,height:y.height},z(!0))};return w.jsxs("div",{className:`floating-panel ${d?"docked":""}`,style:d?{}:{left:h.x,top:h.y,width:y.width,height:A?"auto":y.height},children:[w.jsx("div",{className:"panel-header",onMouseDown:Z,children:w.jsx("span",{className:"panel-title",children:" Detected Labels"})}),w.jsxs("div",{className:"panel-filter",children:[w.jsx("input",{type:"text",placeholder:"Filter labels...",value:t,onChange:I=>i(I.target.value),className:"filter-input"}),t&&w.jsx("button",{className:"clear-button",onClick:()=>i(""),title:"Clear",children:""})]}),w.jsx("div",{className:"panel-content",children:j.length===0?w.jsx("p",{className:"empty-message",children:"No annotations yet"}):j.map(([I,st])=>w.jsxs("div",{className:"label-item",onClick:()=>r&&r(I),children:[w.jsx("div",{className:"label-color",style:{background:fy(I)}}),w.jsx("span",{className:"label-name",children:I}),w.jsx("span",{className:"label-count",children:st})]},I))}),w.jsxs("div",{className:"panel-footer",children:["Total: ",s.length," shapes"]}),!d&&w.jsx("div",{className:"resize-handle",onMouseDown:K})]})},fS=({selectedAnn:s,selectedLabel:t,onLabelChange:i,onDelete:r,onSimplify:u,onDensify:d,onReset:h,onBeautify:p,canModify:y,canReset:x,isProcessing:_,suggestions:E,docked:T=!1})=>{if(!s)return w.jsx("div",{className:`properties-panel ${T?"docked":"collapsed"}`,children:w.jsx("div",{className:"properties-hint",children:"Select a shape to edit properties"})});const z=s.points?s.points.length/2:0,[A,H]=Sn.useState(t||"");return Sn.useEffect(()=>{H(t||"")},[t]),w.jsxs("div",{className:`properties-panel ${T?"docked":""}`,children:[w.jsx("div",{className:"properties-header",children:w.jsx("span",{className:"properties-title",children:" Properties"})}),w.jsxs("div",{className:"properties-content",children:[w.jsxs("div",{className:"property-group",children:[w.jsx("label",{className:"property-label",children:"Label"}),w.jsx("input",{type:"text",value:A,onChange:L=>H(L.target.value),onBlur:()=>i(A),onKeyDown:L=>{L.key==="Enter"&&(i(A),L.target.blur())},className:"property-input",placeholder:"Enter label..."})]}),E&&E.length>0&&w.jsxs("div",{className:"property-group",children:[w.jsx("label",{className:"property-label",children:"Suggestions"}),w.jsx("div",{className:"suggestions-list",children:E.slice(0,5).map((L,V)=>w.jsx("button",{className:"suggestion-btn",onClick:()=>i(L),children:L},V))})]}),w.jsxs("div",{className:"property-group",children:[w.jsx("label",{className:"property-label",children:"Shape Info"}),w.jsxs("div",{className:"property-info",children:[w.jsxs("span",{children:["Type: ",s.type]}),w.jsxs("span",{children:["Points: ",z]})]})]}),w.jsxs("div",{className:"property-group",children:[w.jsx("label",{className:"property-label",children:"Modify Shape"}),w.jsxs("div",{className:"modifier-buttons",children:[w.jsx("button",{className:"modifier-btn",onClick:()=>u(),disabled:!y||_,title:"Reduce points (RDP algorithm)",children:" Simplify"}),w.jsx("button",{className:"modifier-btn",onClick:()=>d(),disabled:!y||_,title:"Add midpoints",children:" Densify"}),w.jsx("button",{className:"modifier-btn",onClick:h,disabled:!x||_,title:"Restore original points",children:" Reset"}),w.jsxs("button",{className:"modifier-btn ai",onClick:p,disabled:!y||_,title:"AI refinement",children:[_?"":""," Beautify"]})]})]}),w.jsx("div",{className:"property-group",children:w.jsx("button",{className:"delete-btn",onClick:r,children:" Delete Shape"})})]})]})},dS=({position:s,onMerge:t,selectedCount:i})=>!s||i<2?null:w.jsxs("div",{style:{position:"absolute",left:s.x,top:s.y,transform:"translate(-50%, -100%)",marginTop:-10,backgroundColor:"#1a1a2e",border:"1px solid #FF0040",borderRadius:"8px",padding:"8px",display:"flex",flexDirection:"column",gap:"5px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",zIndex:1e3,color:"white",minWidth:"150px"},children:[w.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold",textAlign:"center",color:"#ccc"},children:[i," Selected"]}),w.jsx("button",{onClick:()=>t("smart"),style:{backgroundColor:"#FF0040",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:" Smart AI Merge"}),w.jsx("button",{onClick:()=>t("geometric"),style:{backgroundColor:"#333",color:"white",border:"1px solid #555",padding:"6px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:" Geometric Merge (Fast)"})]}),hS=({selectedModel:s,currentParams:t,updateParam:i})=>{const r=Jm(s),u={container:{background:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",padding:"1rem",color:"#f3f4f6",display:"flex",flexDirection:"column",gap:"1rem"},header:{margin:0,fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",borderBottom:"1px solid #374151",paddingBottom:"0.5rem",color:"#e5e7eb",letterSpacing:"0.05em"},group:{display:"flex",flexDirection:"column",gap:"0.5rem"},labelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.75rem",color:"#d1d5db"},inputRange:{width:"100%",cursor:"pointer",accentColor:"#3b82f6"},inputNumber:{width:"100%",background:"#111827",border:"1px solid #4b5563",color:"white",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",fontSize:"0.875rem"},switchContainer:{display:"flex",alignItems:"center",justifyContent:"space-between"},switchInput:{width:"1rem",height:"1rem",accentColor:"#10b981",cursor:"pointer"},select:{width:"100%",background:"#111827",border:"1px solid #4b5563",color:"white",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",fontSize:"0.875rem",cursor:"pointer"},help:{fontSize:"0.65rem",color:"#9ca3af",marginTop:"-0.25rem"}};return w.jsxs("div",{style:u.container,children:[w.jsxs("h3",{style:u.header,children:[s?s.split(".")[0]:"Model"," Parameters"]}),r.parameters.map(d=>{let h=t?.[d.key];if(h===void 0&&(h=d.default),d.key==="tile_size"||d.key==="tile_overlap"){const p=t?.enable_tiling===!0,y=t?.inference_mode==="tiled";if(!p&&!y)return null}return d.key==="sam_sensitivity"&&t?.inference_mode!=="smart_focus"?null:w.jsxs("div",{style:u.group,children:[w.jsx("div",{style:u.labelRow,children:w.jsx("label",{children:d.label})}),d.type==="select"&&w.jsx("select",{value:h,onChange:p=>i(d.key,p.target.value),style:u.select,children:d.options&&d.options.map(p=>w.jsx("option",{value:p,children:p},p))}),d.type==="slider"&&w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[w.jsx("input",{type:"range",min:d.min,max:d.max,step:d.step,value:h,onChange:p=>i(d.key,parseFloat(p.target.value)),style:u.inputRange}),w.jsx("input",{type:"number",min:d.min,max:d.max,step:d.step,value:h,onChange:p=>i(d.key,parseFloat(p.target.value)),style:{...u.inputNumber,width:"60px",padding:"0.1rem"}})]}),d.type==="number"&&w.jsx("input",{type:"number",min:d.min,max:d.max,step:d.step||1,value:h,onChange:p=>i(d.key,parseFloat(p.target.value)),style:u.inputNumber}),d.type==="switch"&&w.jsxs("div",{style:u.switchContainer,children:[w.jsx("span",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:h?"Enabled":"Disabled"}),w.jsx("input",{type:"checkbox",checked:!!h,onChange:p=>i(d.key,p.target.checked),style:u.switchInput})]}),d.help&&w.jsx("small",{style:u.help,children:d.help}),w.jsx("div",{style:{borderBottom:"1px dashed #374151",marginTop:"0.5rem",opacity:.5}})]},d.key)}),r.parameters.length===0&&w.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#6b7280",fontSize:"0.875rem"},children:"No configurable parameters."})]})};var jm={exports:{}},Um,v2;function pS(){if(v2)return Um;v2=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Um=s,Um}var Bm,x2;function mS(){if(x2)return Bm;x2=1;var s=pS();function t(){}function i(){}return i.resetWarningCache=t,Bm=function(){function r(h,p,y,x,_,E){if(E!==s){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function u(){return r}var d={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:u,element:r,elementType:r,instanceOf:u,node:r,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:i,resetWarningCache:t};return d.PropTypes=d,d},Bm}var S2;function gS(){return S2||(S2=1,jm.exports=mS()()),jm.exports}var yS=gS();const Pe=m0(yS);function gu(s,t,i,r){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function p(_){try{x(r.next(_))}catch(E){h(E)}}function y(_){try{x(r.throw(_))}catch(E){h(E)}}function x(_){_.done?d(_.value):u(_.value).then(p,y)}x((r=r.apply(s,t||[])).next())})}const vS=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function kc(s,t,i){const r=xS(s),{webkitRelativePath:u}=s,d=typeof t=="string"?t:typeof u=="string"&&u.length>0?u:`./${s.name}`;return typeof r.path!="string"&&b2(r,"path",d),b2(r,"relativePath",d),r}function xS(s){const{name:t}=s;if(t&&t.lastIndexOf(".")!==-1&&!s.type){const r=t.split(".").pop().toLowerCase(),u=vS.get(r);u&&Object.defineProperty(s,"type",{value:u,writable:!1,configurable:!1,enumerable:!0})}return s}function b2(s,t,i){Object.defineProperty(s,t,{value:i,writable:!1,configurable:!1,enumerable:!0})}const SS=[".DS_Store","Thumbs.db"];function bS(s){return gu(this,void 0,void 0,function*(){return d0(s)&&_S(s.dataTransfer)?AS(s.dataTransfer,s.type):ES(s)?TS(s):Array.isArray(s)&&s.every(t=>"getFile"in t&&typeof t.getFile=="function")?CS(s):[]})}function _S(s){return d0(s)}function ES(s){return d0(s)&&d0(s.target)}function d0(s){return typeof s=="object"&&s!==null}function TS(s){return s1(s.target.files).map(t=>kc(t))}function CS(s){return gu(this,void 0,void 0,function*(){return(yield Promise.all(s.map(i=>i.getFile()))).map(i=>kc(i))})}function AS(s,t){return gu(this,void 0,void 0,function*(){if(s.items){const i=s1(s.items).filter(u=>u.kind==="file");if(t!=="drop")return i;const r=yield Promise.all(i.map(MS));return _2(Py(r))}return _2(s1(s.files).map(i=>kc(i)))})}function _2(s){return s.filter(t=>SS.indexOf(t.name)===-1)}function s1(s){if(s===null)return[];const t=[];for(let i=0;i<s.length;i++){const r=s[i];t.push(r)}return t}function MS(s){if(typeof s.webkitGetAsEntry!="function")return E2(s);const t=s.webkitGetAsEntry();return t&&t.isDirectory?Iy(t):E2(s,t)}function Py(s){return s.reduce((t,i)=>[...t,...Array.isArray(i)?Py(i):[i]],[])}function E2(s,t){return gu(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof s.getAsFileSystemHandle=="function"){const d=yield s.getAsFileSystemHandle();if(d===null)throw new Error(`${s} is not a File`);if(d!==void 0){const h=yield d.getFile();return h.handle=d,kc(h)}}const r=s.getAsFile();if(!r)throw new Error(`${s} is not a File`);return kc(r,(i=t?.fullPath)!==null&&i!==void 0?i:void 0)})}function OS(s){return gu(this,void 0,void 0,function*(){return s.isDirectory?Iy(s):RS(s)})}function Iy(s){const t=s.createReader();return new Promise((i,r)=>{const u=[];function d(){t.readEntries(h=>gu(this,void 0,void 0,function*(){if(h.length){const p=Promise.all(h.map(OS));u.push(p),d()}else try{const p=yield Promise.all(u);i(p)}catch(p){r(p)}}),h=>{r(h)})}d()})}function RS(s){return gu(this,void 0,void 0,function*(){return new Promise((t,i)=>{s.file(r=>{const u=kc(r,s.fullPath);t(u)},r=>{i(r)})})})}var Pp={},T2;function zS(){return T2||(T2=1,Pp.__esModule=!0,Pp.default=function(s,t){if(s&&t){var i=Array.isArray(t)?t:t.split(",");if(i.length===0)return!0;var r=s.name||"",u=(s.type||"").toLowerCase(),d=u.replace(/\/.*$/,"");return i.some(function(h){var p=h.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?d===p.replace(/\/.*$/,""):u===p})}return!0}),Pp}var NS=zS();const Gm=m0(NS);function C2(s){return jS(s)||wS(s)||tv(s)||DS()}function DS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wS(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function jS(s){if(Array.isArray(s))return o1(s)}function A2(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,r)}return i}function M2(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(i),!0).forEach(function(r){$y(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):A2(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function $y(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function Kd(s,t){return GS(s)||BS(s,t)||tv(s,t)||US()}function US(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tv(s,t){if(s){if(typeof s=="string")return o1(s,t);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o1(s,t)}}function o1(s,t){(t==null||t>s.length)&&(t=s.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=s[i];return r}function BS(s,t){var i=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(i!=null){var r=[],u=!0,d=!1,h,p;try{for(i=i.call(s);!(u=(h=i.next()).done)&&(r.push(h.value),!(t&&r.length===t));u=!0);}catch(y){d=!0,p=y}finally{try{!u&&i.return!=null&&i.return()}finally{if(d)throw p}}return r}}function GS(s){if(Array.isArray(s))return s}var HS=typeof Gm=="function"?Gm:Gm.default,LS="file-invalid-type",qS="file-too-large",YS="file-too-small",XS="too-many-files",kS=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=t.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:LS,message:"File type must be ".concat(r)}},O2=function(t){return{code:qS,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},R2=function(t){return{code:YS,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},VS={code:XS,message:"Too many files"};function ev(s,t){var i=s.type==="application/x-moz-file"||HS(s,t);return[i,i?null:kS(t)]}function nv(s,t,i){if(su(s.size))if(su(t)&&su(i)){if(s.size>i)return[!1,O2(i)];if(s.size<t)return[!1,R2(t)]}else{if(su(t)&&s.size<t)return[!1,R2(t)];if(su(i)&&s.size>i)return[!1,O2(i)]}return[!0,null]}function su(s){return s!=null}function QS(s){var t=s.files,i=s.accept,r=s.minSize,u=s.maxSize,d=s.multiple,h=s.maxFiles,p=s.validator;return!d&&t.length>1||d&&h>=1&&t.length>h?!1:t.every(function(y){var x=ev(y,i),_=Kd(x,1),E=_[0],T=nv(y,r,u),z=Kd(T,1),A=z[0],H=p?p(y):null;return E&&A&&!H})}function h0(s){return typeof s.isPropagationStopped=="function"?s.isPropagationStopped():typeof s.cancelBubble<"u"?s.cancelBubble:!1}function Ip(s){return s.dataTransfer?Array.prototype.some.call(s.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!s.target&&!!s.target.files}function z2(s){s.preventDefault()}function KS(s){return s.indexOf("MSIE")!==-1||s.indexOf("Trident/")!==-1}function ZS(s){return s.indexOf("Edge/")!==-1}function JS(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return KS(s)||ZS(s)}function cs(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return function(r){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return t.some(function(p){return!h0(r)&&p&&p.apply(void 0,[r].concat(d)),h0(r)})}}function FS(){return"showOpenFilePicker"in window}function WS(s){if(su(s)){var t=Object.entries(s).filter(function(i){var r=Kd(i,2),u=r[0],d=r[1],h=!0;return av(u)||(console.warn('Skipped "'.concat(u,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),h=!1),(!Array.isArray(d)||!d.every(iv))&&(console.warn('Skipped "'.concat(u,'" because an invalid file extension was provided.')),h=!1),h}).reduce(function(i,r){var u=Kd(r,2),d=u[0],h=u[1];return M2(M2({},i),{},$y({},d,h))},{});return[{description:"Files",accept:t}]}return s}function PS(s){if(su(s))return Object.entries(s).reduce(function(t,i){var r=Kd(i,2),u=r[0],d=r[1];return[].concat(C2(t),[u],C2(d))},[]).filter(function(t){return av(t)||iv(t)}).join(",")}function IS(s){return s instanceof DOMException&&(s.name==="AbortError"||s.code===s.ABORT_ERR)}function $S(s){return s instanceof DOMException&&(s.name==="SecurityError"||s.code===s.SECURITY_ERR)}function av(s){return s==="audio/*"||s==="video/*"||s==="image/*"||s==="text/*"||s==="application/*"||/\w+\/[-+.\w]+/g.test(s)}function iv(s){return/^.*\.[\w]+$/.test(s)}var tb=["children"],eb=["open"],nb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ab=["refKey","onChange","onClick"];function ib(s){return ob(s)||sb(s)||lv(s)||lb()}function lb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sb(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function ob(s){if(Array.isArray(s))return r1(s)}function Hm(s,t){return cb(s)||ub(s,t)||lv(s,t)||rb()}function rb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lv(s,t){if(s){if(typeof s=="string")return r1(s,t);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r1(s,t)}}function r1(s,t){(t==null||t>s.length)&&(t=s.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=s[i];return r}function ub(s,t){var i=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(i!=null){var r=[],u=!0,d=!1,h,p;try{for(i=i.call(s);!(u=(h=i.next()).done)&&(r.push(h.value),!(t&&r.length===t));u=!0);}catch(y){d=!0,p=y}finally{try{!u&&i.return!=null&&i.return()}finally{if(d)throw p}}return r}}function cb(s){if(Array.isArray(s))return s}function N2(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,r)}return i}function Rn(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(i),!0).forEach(function(r){u1(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):N2(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function u1(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function p0(s,t){if(s==null)return{};var i=fb(s,t),r,u;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(u=0;u<d.length;u++)r=d[u],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(i[r]=s[r])}return i}function fb(s,t){if(s==null)return{};var i={},r=Object.keys(s),u,d;for(d=0;d<r.length;d++)u=r[d],!(t.indexOf(u)>=0)&&(i[u]=s[u]);return i}var E1=nt.forwardRef(function(s,t){var i=s.children,r=p0(s,tb),u=ov(r),d=u.open,h=p0(u,eb);return nt.useImperativeHandle(t,function(){return{open:d}},[d]),Sn.createElement(nt.Fragment,null,i(Rn(Rn({},h),{},{open:d})))});E1.displayName="Dropzone";var sv={disabled:!1,getFilesFromEvent:bS,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};E1.defaultProps=sv;E1.propTypes={children:Pe.func,accept:Pe.objectOf(Pe.arrayOf(Pe.string)),multiple:Pe.bool,preventDropOnDocument:Pe.bool,noClick:Pe.bool,noKeyboard:Pe.bool,noDrag:Pe.bool,noDragEventsBubbling:Pe.bool,minSize:Pe.number,maxSize:Pe.number,maxFiles:Pe.number,disabled:Pe.bool,getFilesFromEvent:Pe.func,onFileDialogCancel:Pe.func,onFileDialogOpen:Pe.func,useFsAccessApi:Pe.bool,autoFocus:Pe.bool,onDragEnter:Pe.func,onDragLeave:Pe.func,onDragOver:Pe.func,onDrop:Pe.func,onDropAccepted:Pe.func,onDropRejected:Pe.func,onError:Pe.func,validator:Pe.func};var c1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ov(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Rn(Rn({},sv),s),i=t.accept,r=t.disabled,u=t.getFilesFromEvent,d=t.maxSize,h=t.minSize,p=t.multiple,y=t.maxFiles,x=t.onDragEnter,_=t.onDragLeave,E=t.onDragOver,T=t.onDrop,z=t.onDropAccepted,A=t.onDropRejected,H=t.onFileDialogCancel,L=t.onFileDialogOpen,V=t.useFsAccessApi,j=t.autoFocus,Z=t.preventDropOnDocument,K=t.noClick,I=t.noKeyboard,st=t.noDrag,ot=t.noDragEventsBubbling,M=t.onError,R=t.validator,Y=nt.useMemo(function(){return PS(i)},[i]),F=nt.useMemo(function(){return WS(i)},[i]),B=nt.useMemo(function(){return typeof L=="function"?L:D2},[L]),k=nt.useMemo(function(){return typeof H=="function"?H:D2},[H]),Q=nt.useRef(null),G=nt.useRef(null),O=nt.useReducer(db,c1),U=Hm(O,2),X=U[0],$=U[1],ft=X.isFocused,q=X.isFileDialogActive,et=nt.useRef(typeof window<"u"&&window.isSecureContext&&V&&FS()),yt=function(){!et.current&&q&&setTimeout(function(){if(G.current){var Gt=G.current.files;Gt.length||($({type:"closeDialog"}),k())}},300)};nt.useEffect(function(){return window.addEventListener("focus",yt,!1),function(){window.removeEventListener("focus",yt,!1)}},[G,q,k,et]);var Et=nt.useRef([]),Mt=function(Gt){Q.current&&Q.current.contains(Gt.target)||(Gt.preventDefault(),Et.current=[])};nt.useEffect(function(){return Z&&(document.addEventListener("dragover",z2,!1),document.addEventListener("drop",Mt,!1)),function(){Z&&(document.removeEventListener("dragover",z2),document.removeEventListener("drop",Mt))}},[Q,Z]),nt.useEffect(function(){return!r&&j&&Q.current&&Q.current.focus(),function(){}},[Q,j,r]);var Nt=nt.useCallback(function(xt){M?M(xt):console.error(xt)},[M]),Qt=nt.useCallback(function(xt){xt.preventDefault(),xt.persist(),Ot(xt),Et.current=[].concat(ib(Et.current),[xt.target]),Ip(xt)&&Promise.resolve(u(xt)).then(function(Gt){if(!(h0(xt)&&!ot)){var Wt=Gt.length,Lt=Wt>0&&QS({files:Gt,accept:Y,minSize:h,maxSize:d,multiple:p,maxFiles:y,validator:R}),pe=Wt>0&&!Lt;$({isDragAccept:Lt,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),x&&x(xt)}}).catch(function(Gt){return Nt(Gt)})},[u,x,Nt,ot,Y,h,d,p,y,R]),Ne=nt.useCallback(function(xt){xt.preventDefault(),xt.persist(),Ot(xt);var Gt=Ip(xt);if(Gt&&xt.dataTransfer)try{xt.dataTransfer.dropEffect="copy"}catch{}return Gt&&E&&E(xt),!1},[E,ot]),ne=nt.useCallback(function(xt){xt.preventDefault(),xt.persist(),Ot(xt);var Gt=Et.current.filter(function(Lt){return Q.current&&Q.current.contains(Lt)}),Wt=Gt.indexOf(xt.target);Wt!==-1&&Gt.splice(Wt,1),Et.current=Gt,!(Gt.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ip(xt)&&_&&_(xt))},[Q,_,ot]),bn=nt.useCallback(function(xt,Gt){var Wt=[],Lt=[];xt.forEach(function(pe){var Te=ev(pe,Y),Fe=Hm(Te,2),Al=Fe[0],Ml=Fe[1],pi=nv(pe,h,d),Gn=Hm(pi,2),wa=Gn[0],Wn=Gn[1],ms=R?R(pe):null;if(Al&&wa&&!ms)Wt.push(pe);else{var hr=[Ml,Wn];ms&&(hr=hr.concat(ms)),Lt.push({file:pe,errors:hr.filter(function(yu){return yu})})}}),(!p&&Wt.length>1||p&&y>=1&&Wt.length>y)&&(Wt.forEach(function(pe){Lt.push({file:pe,errors:[VS]})}),Wt.splice(0)),$({acceptedFiles:Wt,fileRejections:Lt,isDragReject:Lt.length>0,type:"setFiles"}),T&&T(Wt,Lt,Gt),Lt.length>0&&A&&A(Lt,Gt),Wt.length>0&&z&&z(Wt,Gt)},[$,p,Y,h,d,y,T,z,A,R]),Yt=nt.useCallback(function(xt){xt.preventDefault(),xt.persist(),Ot(xt),Et.current=[],Ip(xt)&&Promise.resolve(u(xt)).then(function(Gt){h0(xt)&&!ot||bn(Gt,xt)}).catch(function(Gt){return Nt(Gt)}),$({type:"reset"})},[u,bn,Nt,ot]),Me=nt.useCallback(function(){if(et.current){$({type:"openDialog"}),B();var xt={multiple:p,types:F};window.showOpenFilePicker(xt).then(function(Gt){return u(Gt)}).then(function(Gt){bn(Gt,null),$({type:"closeDialog"})}).catch(function(Gt){IS(Gt)?(k(Gt),$({type:"closeDialog"})):$S(Gt)?(et.current=!1,G.current?(G.current.value=null,G.current.click()):Nt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Nt(Gt)});return}G.current&&($({type:"openDialog"}),B(),G.current.value=null,G.current.click())},[$,B,k,V,bn,Nt,F,p]),we=nt.useCallback(function(xt){!Q.current||!Q.current.isEqualNode(xt.target)||(xt.key===" "||xt.key==="Enter"||xt.keyCode===32||xt.keyCode===13)&&(xt.preventDefault(),Me())},[Q,Me]),ve=nt.useCallback(function(){$({type:"focus"})},[]),ue=nt.useCallback(function(){$({type:"blur"})},[]),_n=nt.useCallback(function(){K||(JS()?setTimeout(Me,0):Me())},[K,Me]),Xt=function(Gt){return r?null:Gt},Ct=function(Gt){return I?null:Xt(Gt)},_t=function(Gt){return st?null:Xt(Gt)},Ot=function(Gt){ot&&Gt.stopPropagation()},kt=nt.useMemo(function(){return function(){var xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=xt.refKey,Wt=Gt===void 0?"ref":Gt,Lt=xt.role,pe=xt.onKeyDown,Te=xt.onFocus,Fe=xt.onBlur,Al=xt.onClick,Ml=xt.onDragEnter,pi=xt.onDragOver,Gn=xt.onDragLeave,wa=xt.onDrop,Wn=p0(xt,nb);return Rn(Rn(u1({onKeyDown:Ct(cs(pe,we)),onFocus:Ct(cs(Te,ve)),onBlur:Ct(cs(Fe,ue)),onClick:Xt(cs(Al,_n)),onDragEnter:_t(cs(Ml,Qt)),onDragOver:_t(cs(pi,Ne)),onDragLeave:_t(cs(Gn,ne)),onDrop:_t(cs(wa,Yt)),role:typeof Lt=="string"&&Lt!==""?Lt:"presentation"},Wt,Q),!r&&!I?{tabIndex:0}:{}),Wn)}},[Q,we,ve,ue,_n,Qt,Ne,ne,Yt,I,st,r]),Bt=nt.useCallback(function(xt){xt.stopPropagation()},[]),At=nt.useMemo(function(){return function(){var xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=xt.refKey,Wt=Gt===void 0?"ref":Gt,Lt=xt.onChange,pe=xt.onClick,Te=p0(xt,ab),Fe=u1({accept:Y,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Xt(cs(Lt,Yt)),onClick:Xt(cs(pe,Bt)),tabIndex:-1},Wt,G);return Rn(Rn({},Fe),Te)}},[G,i,p,Yt,r]);return Rn(Rn({},X),{},{isFocused:ft&&!r,getRootProps:kt,getInputProps:At,rootRef:Q,inputRef:G,open:Xt(Me)})}function db(s,t){switch(t.type){case"focus":return Rn(Rn({},s),{},{isFocused:!0});case"blur":return Rn(Rn({},s),{},{isFocused:!1});case"openDialog":return Rn(Rn({},c1),{},{isFileDialogActive:!0});case"closeDialog":return Rn(Rn({},s),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rn(Rn({},s),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Rn(Rn({},s),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Rn({},c1);default:return s}}function D2(){}const hb=({onImageUpload:s})=>{const t=d=>{if(d&&d.length>0){const h={target:{files:[d[0]]}};s(h)}},{getRootProps:i,getInputProps:r,isDragActive:u}=ov({onDrop:t,accept:{"image/*":[]},multiple:!1});return w.jsxs("div",{...i(),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#1e1e1e",color:"#888",border:u?"2px dashed #4CAF50":"2px dashed #444",margin:"20px",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},children:[w.jsx("input",{...r()}),w.jsx("div",{style:{fontSize:"64px",marginBottom:"20px",opacity:u?1:.5},children:u?"":""}),w.jsx("h2",{style:{fontSize:"24px",marginBottom:"10px",color:"#ccc"},children:u?"Drop image here...":"Please select an image"}),w.jsx("p",{style:{fontSize:"14px"},children:"Drag & Drop files here or click to browse"})]})},pb=({isOpen:s,onClose:t,models:i,loadingModelIds:r=[],downloadModel:u,deleteModel:d})=>{if(!s)return null;const h=p=>r.includes(p);return w.jsxs("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[w.jsxs("div",{className:"modal-content",style:{backgroundColor:"#1f2937",borderRadius:"8px",width:"800px",maxWidth:"95vw",maxHeight:"85vh",display:"flex",flexDirection:"column",color:"white",border:"1px solid #374151",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:[w.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:" Model Manager"}),w.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",fontSize:"1.5rem"},children:""})]}),w.jsx("div",{style:{padding:"24px",overflowY:"auto"},children:w.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[w.jsx("thead",{children:w.jsxs("tr",{style:{borderBottom:"2px solid #374151",color:"#9ca3af",textAlign:"left"},children:[w.jsx("th",{style:{padding:"12px"},children:"Name / ID"}),w.jsx("th",{style:{padding:"12px"},children:"Type"}),w.jsx("th",{style:{padding:"12px"},children:"Description"}),w.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Actions"})]})}),w.jsx("tbody",{children:i.map(p=>w.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[w.jsxs("td",{style:{padding:"12px",verticalAlign:"middle"},children:[w.jsx("div",{style:{fontWeight:"bold"},children:p.name}),w.jsx("div",{style:{fontSize:"0.8em",color:"#6b7280"},children:p.id})]}),w.jsx("td",{style:{padding:"12px",verticalAlign:"middle"},children:w.jsx("span",{style:{padding:"2px 8px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:p.type==="detection"?"rgba(16, 185, 129, 0.2)":p.type==="segmentation"?"rgba(59, 130, 246, 0.2)":"rgba(107, 114, 128, 0.2)",color:p.type==="detection"?"#34d399":p.type==="segmentation"?"#60a5fa":"#d1d5db"},children:p.type})}),w.jsx("td",{style:{padding:"12px",color:"#d1d5db",verticalAlign:"middle"},children:p.description}),w.jsx("td",{style:{padding:"12px",textAlign:"right",verticalAlign:"middle"},children:p.is_downloaded?w.jsxs("button",{onClick:()=>d(p.id),disabled:h(p.id),style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:h(p.id)?"#6b7280":"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)",padding:"6px 12px",borderRadius:"6px",cursor:h(p.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"0.85rem"},children:[h(p.id)?w.jsx("span",{className:"spinner-small"}):"",h(p.id)?"Deleting...":"Delete"]}):w.jsxs("button",{onClick:()=>u(p.id),disabled:h(p.id),style:{backgroundColor:"rgba(59, 130, 246, 0.1)",color:h(p.id)?"#6b7280":"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)",padding:"6px 12px",borderRadius:"6px",cursor:h(p.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"0.85rem"},children:[h(p.id)?w.jsx("span",{className:"spinner-small"}):"",h(p.id)?"Downloading...":"Download"]})})]},p.id))})]})}),w.jsx("div",{style:{padding:"16px 24px",borderTop:"1px solid #374151",textAlign:"right",color:"#6b7280",fontSize:"0.85rem"},children:"Models are downloaded from official repositories. Large models may take time to download."})]}),w.jsx("style",{jsx:!0,children:`
                .spinner-small {
                    width: 12px;
                    height: 12px;
                    border: 2px solid currentColor;
                    border-bottom-color: transparent;
                    border-radius: 50%;
                    display: inline-block;
                    animation: rotation 1s linear infinite;
                }
                @keyframes rotation {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]})};function mb({isOpen:s,onClose:t,onStartTraining:i,isTraining:r}){const[u,d]=nt.useState(!0),[h,p]=nt.useState("none"),[y,x]=nt.useState(!1),[_,E]=nt.useState(640),[T,z]=nt.useState(.2),[A,H]=nt.useState(50),[L,V]=nt.useState(16);if(!s)return null;const j=()=>{i({autoOrient:u,resizeMode:h,enableTiling:y,tileSize:parseInt(_),tileOverlap:parseFloat(T),epochs:parseInt(A),batchSize:parseInt(L)})};return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-container is-panel",style:{width:"450px"},children:[w.jsxs("div",{className:"modal-header",children:[w.jsxs("div",{className:"modal-title",children:[w.jsx("span",{children:""})," Prepare & Train"]}),w.jsx("button",{onClick:t,className:"close-btn",disabled:r,children:""})]}),w.jsxs("div",{className:"modal-content",children:[w.jsxs("div",{className:"settings-section",children:[w.jsx("h4",{className:"section-title",children:"Training Config"}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Epochs"}),w.jsx("input",{type:"number",value:A,onChange:Z=>H(Z.target.value),min:"1",className:"input-dark"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Batch Size"}),w.jsx("input",{type:"number",value:L,onChange:Z=>V(Z.target.value),min:"1",className:"input-dark"})]})]})]}),w.jsx("hr",{className:"divider"}),w.jsxs("div",{className:"settings-section",children:[w.jsx("h4",{className:"section-title",children:"Preprocessing Pipeline"}),w.jsxs("div",{className:"checkbox-row",children:[w.jsx("input",{type:"checkbox",checked:u,onChange:Z=>d(Z.target.checked)}),w.jsx("label",{children:"Auto-Orient (Strip EXIF)"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Resize Strategy"}),w.jsxs("select",{value:h,onChange:Z=>p(Z.target.value),className:"select-dark",children:[w.jsx("option",{value:"none",children:"No Resize (Keep Original)"}),w.jsx("option",{value:"640",children:"Resize to 640x640"}),w.jsx("option",{value:"1024",children:"Resize to 1024x1024"})]}),w.jsx("p",{className:"hint",children:"Applied to final images (or tiles)."})]}),w.jsxs("div",{className:"tiling-section",style:{background:y?"#2a3b55":"#222",padding:"10px",borderRadius:"6px",transition:"background 0.3s"},children:[w.jsxs("div",{className:"checkbox-row",children:[w.jsx("input",{type:"checkbox",checked:y,onChange:Z=>x(Z.target.checked)}),w.jsx("label",{style:{fontWeight:"bold",color:y?"#60a5fa":"#ccc"},children:"Enable Slicing / Tiling"})]}),y&&w.jsxs("div",{className:"tiling-options",style:{marginTop:"10px",paddingLeft:"24px"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Tile Size (px)"}),w.jsx("input",{type:"number",value:_,onChange:Z=>E(Z.target.value),step:"32",className:"input-dark"})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{children:["Overlap: ",(T*100).toFixed(0),"%"]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:T,onChange:Z=>z(Z.target.value),style:{width:"100%"}})]}),w.jsxs("p",{className:"hint",children:["Splits large images into smaller tiles directly on backend.",w.jsx("br",{}),"Annotations are clipped automatically."]})]})]})]}),w.jsx("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"},children:w.jsx("button",{onClick:j,disabled:r,className:"btn-primary",style:{background:r?"#ccc":"linear-gradient(45deg, #2563eb, #7c3aed)",padding:"10px 20px",fontSize:"14px"},children:r?"Training Started...":" Start Training"})})]})]})})}function gb({isOpen:s,onClose:t,models:i,selectedBaseModel:r,onBaseModelChange:u,epochs:d,onEpochsChange:h,batchSize:p,onBatchSizeChange:y,isTraining:x,trainingProgress:_,trainingMessage:E,onStartTraining:T,onCancelTraining:z,error:A}){const[H,L]=nt.useState(!1),[V,j]=nt.useState(50),[Z,K]=nt.useState("auto"),[I,st]=nt.useState(.01),[ot,M]=nt.useState(640),[R,Y]=nt.useState(""),[F,B]=nt.useState("none"),[k,Q]=nt.useState(!1),[G,O]=nt.useState(640),[U,X]=nt.useState(.2);if(!s)return null;const $=()=>{T({base_model:r,epochs:d,batch_size:p,patience:V,optimizer:Z,lr0:I,imgsz:ot,custom_model_name:R,preprocess_params:{resize_mode:F,enable_tiling:k,tile_size:parseInt(G),tile_overlap:parseFloat(U)}})};return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-container is-panel",style:{width:"500px"},children:[w.jsxs("div",{className:"modal-header",children:[w.jsxs("div",{className:"modal-title",style:{color:"#fbbf24"},children:[w.jsx("span",{children:""})," Power Training"]}),w.jsx("button",{onClick:t,className:"close-btn",disabled:x,children:""})]}),w.jsxs("div",{className:"modal-content",children:[x?w.jsxs("div",{className:"progress-container",children:[w.jsxs("div",{className:"progress-header",children:[w.jsx("span",{children:"Training in progress..."}),w.jsxs("span",{children:[Math.round(_*100),"%"]})]}),w.jsx("div",{className:"progress-track",children:w.jsx("div",{className:"progress-fill",style:{width:`${_*100}%`}})}),w.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontFamily:"monospace"},children:E})]}):w.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"8px",marginBottom:"15px"},children:w.jsxs("p",{style:{margin:0,color:"#9ca3af",fontSize:"0.85rem"},children:["Status: ",w.jsx("span",{style:{color:"#fff"},children:E})]})}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Base Model"}),w.jsx("select",{value:r,onChange:ft=>u(ft.target.value),disabled:x,className:"form-select",children:i.filter(ft=>!ft.id.includes("sam")).map(ft=>w.jsx("option",{value:ft.id,children:ft.name||ft.id},ft.id))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Target Model Name (Optional)"}),w.jsx("input",{type:"text",value:R,onChange:ft=>Y(ft.target.value),placeholder:"e.g. drone_detector_v1",className:"form-input",disabled:x})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Epochs"}),w.jsx("input",{type:"number",value:d,onChange:ft=>h(ft.target.value),disabled:x,className:"form-input"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Batch Size"}),w.jsx("input",{type:"number",value:p,onChange:ft=>y(ft.target.value),disabled:x,className:"form-input"})]})]}),w.jsxs("div",{style:{marginTop:"15px",borderTop:"1px solid #333",paddingTop:"10px"},children:[w.jsxs("button",{onClick:()=>L(!H),style:{background:"none",border:"none",color:"#60a5fa",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"5px"},children:[H?"":""," Advanced Settings"]}),H&&w.jsxs("div",{className:"advanced-settings",style:{marginTop:"10px",padding:"10px",background:"#1e293b",borderRadius:"6px"},children:[w.jsx("h5",{style:{margin:"0 0 10px 0",color:"#ccc",fontSize:"0.8rem"},children:"Hyperparameters"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"},children:[w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Img Size"}),w.jsxs("select",{value:ot,onChange:ft=>M(parseInt(ft.target.value)),className:"form-select",children:[w.jsx("option",{value:640,children:"640"}),w.jsx("option",{value:1024,children:"1024"}),w.jsx("option",{value:1280,children:"1280"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Optimizer"}),w.jsxs("select",{value:Z,onChange:ft=>K(ft.target.value),className:"form-select",children:[w.jsx("option",{value:"auto",children:"Auto"}),w.jsx("option",{value:"SGD",children:"SGD"}),w.jsx("option",{value:"Adam",children:"Adam"}),w.jsx("option",{value:"AdamW",children:"AdamW"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Patience"}),w.jsx("input",{type:"number",value:V,onChange:ft=>j(ft.target.value),className:"form-input"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Learning Rate (lr0)"}),w.jsx("input",{type:"number",step:"0.001",value:I,onChange:ft=>st(ft.target.value),className:"form-input"})]})]}),w.jsx("h5",{style:{margin:"0 0 10px 0",color:"#ccc",fontSize:"0.8rem"},children:"Data Preprocessing"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Resize Dataset"}),w.jsxs("select",{value:F,onChange:ft=>B(ft.target.value),className:"form-select",children:[w.jsx("option",{value:"none",children:"No Resize"}),w.jsx("option",{value:"640",children:"640x640"}),w.jsx("option",{value:"1024",children:"1024x1024"})]})]}),w.jsxs("div",{className:"checkbox-row",style:{marginTop:"10px"},children:[w.jsx("input",{type:"checkbox",checked:k,onChange:ft=>Q(ft.target.checked)}),w.jsx("label",{style:{color:"#fff",fontSize:"0.9rem"},children:"Enable Tiling (Slicing)"})]}),k&&w.jsxs("div",{style:{paddingLeft:"20px",marginTop:"5px"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Tile Size"}),w.jsx("input",{type:"number",value:G,onChange:ft=>O(ft.target.value),className:"form-input"})]}),w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{className:"form-label",children:["Overlap (",Math.round(U*100),"%)"]}),w.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:U,onChange:ft=>X(ft.target.value),style:{width:"100%"}})]}),w.jsx("p",{style:{fontSize:"0.7rem",color:"#fbbf24"},children:"Note: Tiling remaps coordinates. Ensure objects are smaller than tiles."})]})]})]}),A&&w.jsx("div",{className:"error-msg",style:{marginTop:"15px"},children:A}),w.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[x&&w.jsx("button",{onClick:z,className:"btn-train cancel",style:{flex:1,background:"#ef4444"},children:" Cancel"}),w.jsx("button",{onClick:$,disabled:x,className:"btn-train",style:{flex:2},children:x?"Training...":" Start Training"})]})]})]})})}const yb=({isOpen:s,onClose:t,onSubmit:i})=>{const r=nt.useRef(null),[u,d]=nt.useState("generic"),[h,p]=nt.useState([]);if(!s)return null;const y=_=>{const E=_.target.files?.[0];if(!E)return;const T=new FileReader;T.onload=z=>{const H=z.target.result.split(`
`).map(L=>L.trim()).filter(L=>L);p(H),d("upload")},T.readAsText(E)},x=()=>{i({mode:u,classes:u==="upload"?h:[]})};return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:" Missing Class Names"}),w.jsx("button",{className:"close-btn",onClick:t,children:""})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("p",{children:"The imported YOLO file does not contain class names (metadata). How should we map the class IDs?"}),w.jsxs("div",{className:"import-options",style:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"20px"},children:[w.jsxs("div",{className:`option-card ${u==="upload"?"selected":""}`,onClick:()=>r.current?.click(),style:{padding:"15px",border:`1px solid ${u==="upload"?"#3b82f6":"#4b5563"}`,borderRadius:"8px",cursor:"pointer",background:u==="upload"?"rgba(59, 130, 246, 0.1)":"transparent"},children:[w.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" Upload classes.txt"}),w.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:"Select a text file with one class per line."}),w.jsx("input",{ref:r,type:"file",accept:".txt",onChange:y,style:{display:"none"}}),h.length>0&&w.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#10b981"},children:[" Loaded ",h.length," classes"]})]}),w.jsxs("div",{className:`option-card ${u==="generic"?"selected":""}`,onClick:()=>d("generic"),style:{padding:"15px",border:`1px solid ${u==="generic"?"#3b82f6":"#4b5563"}`,borderRadius:"8px",cursor:"pointer",background:u==="generic"?"rgba(59, 130, 246, 0.1)":"transparent"},children:[w.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" Use Generic Names"}),w.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:'Map IDs to "class_0", "class_1", etc.'})]})]})]}),w.jsxs("div",{className:"modal-footer",children:[w.jsx("button",{className:"modal-btn secondary",onClick:t,children:"Cancel"}),w.jsx("button",{className:"modal-btn primary",onClick:x,disabled:u==="upload"&&h.length===0,children:"Continue Import"})]})]})})};class fs{static internalToCoco(t,i){const r=new Map;t.forEach(h=>{const p=h.label!==null&&h.label!==void 0?h.label:"unknown";r.has(p)||r.set(p,r.size+1)});const u=Array.from(r.entries()).map(([h,p])=>({id:p,name:h})),d=t.map((h,p)=>{const y=h.points||[],x=h.label!==null&&h.label!==void 0?h.label:"unknown";let _=1/0,E=1/0,T=-1/0,z=-1/0;for(let V=0;V<y.length;V+=2)_=Math.min(_,y[V]),T=Math.max(T,y[V]),E=Math.min(E,y[V+1]),z=Math.max(z,y[V+1]);const A=T-_,H=z-E,L=A*H;return{id:h.id||p+1,image_id:1,category_id:r.get(x),segmentation:[y],bbox:[_,E,A,H],area:L,iscrowd:0}});return{images:[{id:1,file_name:i.name||"image.jpg",width:i.width,height:i.height}],annotations:d,categories:u}}static cocoToInternal(t){if(!t||typeof t!="object")throw new Error("Invalid data: COCO input must be a JSON object.");if(!t.annotations&&!t.categories&&!t.images)throw new Error("Invalid COCO format: Missing standard COCO keys (images, annotations, categories).");const i=new Map;(t.categories||[]).forEach(d=>{i.set(d.id,d.name)});const r=(t.annotations||[]).map(d=>({id:String(d.id),type:"poly",label:i.get(d.category_id)||"unknown",points:d.segmentation?.[0]||[],originalRawPoints:d.segmentation?.[0]||[]})),u=Array.from(i.values());return{annotations:r,categories:u}}static cocoToToon(t){const i=t.images?.[0]||{},r=(t.categories||[]).sort((h,p)=>h.id-p.id).map(h=>h.name),u=new Map;t.categories?.forEach((h,p)=>{u.set(h.id,p)});const d=(t.annotations||[]).map(h=>{const p=u.get(h.category_id)??0,x=(h.segmentation?.[0]||[]).map(_=>Math.round(_*100)/100);return[p,x]});return{v:"1.0",m:[i.file_name||"image.jpg",i.width||0,i.height||0],c:r,d}}static toonToCoco(t){if(!t||typeof t!="object")throw new Error("Invalid data: Input is not a JSON object.");if(!Array.isArray(t.d))throw new Error('Invalid TOON format: Missing "d" (data) array.');const[i,r,u]=t.m||["image.jpg",0,0],d=t.c||[],h=t.d||[],p=d.map((x,_)=>({id:_+1,name:x})),y=h.map((x,_)=>{const[E,T]=x;if(!Array.isArray(T))return console.warn(`Skipping invalid annotation at index ${_}: Points is not an array`),null;let z=1/0,A=1/0,H=-1/0,L=-1/0;for(let V=0;V<T.length;V+=2)z=Math.min(z,T[V]),H=Math.max(H,T[V]),A=Math.min(A,T[V+1]),L=Math.max(L,T[V+1]);return{id:_+1,image_id:1,category_id:E+1,segmentation:[T],bbox:[z,A,H-z,L-A],area:(H-z)*(L-A),iscrowd:0}}).filter(x=>x!==null);return{images:[{id:1,file_name:i,width:r,height:u}],annotations:y,categories:p}}static yoloToCoco(t,i,r,u=[]){if(typeof t!="string")throw new Error("Invalid input: YOLO content must be a string.");const d=t.trim().split(`
`).filter(E=>E.trim());let h=[...u];const p=d.find(E=>E.startsWith("# classes:"));if(p)try{const E=p.replace("# classes:","").trim();E&&(h=E.split(",").map(T=>T.trim()))}catch(E){console.warn("Failed to parse classes metadata",E)}const y=d.filter(E=>!E.startsWith("#"));if(y.length>0){const E=y[0].trim().split(/\s+/);if(E.length<5||isNaN(parseFloat(E[0])))throw new Error("Invalid YOLO format: Lines must start with class_id followed by coordinates.")}const x=new Map;h.forEach((E,T)=>{x.set(T,{id:T+1,name:E})});const _=y.map((E,T)=>{const z=E.trim().split(/\s+/),A=parseInt(z[0]);if(isNaN(A))return null;const H=z.slice(1).map(parseFloat);if(H.some(isNaN))return null;const L=[];for(let I=0;I<H.length;I+=2)L.push(H[I]*i),L.push(H[I+1]*r);let V=1/0,j=1/0,Z=-1/0,K=-1/0;for(let I=0;I<L.length;I+=2)V=Math.min(V,L[I]),Z=Math.max(Z,L[I]),j=Math.min(j,L[I+1]),K=Math.max(K,L[I+1]);return x.has(A)||x.set(A,{id:A+1,name:`class_${A}`}),{id:T+1,image_id:1,category_id:A+1,segmentation:[L],bbox:[V,j,Z-V,K-j],area:(Z-V)*(K-j),iscrowd:0}}).filter(E=>E!==null);return{images:[{id:1,file_name:"image.jpg",width:i,height:r}],annotations:_,categories:Array.from(x.values()).sort((E,T)=>E.id-T.id)}}static cocoToYolo(t){const i=t.images?.[0]||{},{width:r=1,height:u=1}=i,d=[...t.categories||[]].sort((x,_)=>x.id-_.id),h=new Map;d.forEach((x,_)=>{h.set(x.id,_)});const p=(t.annotations||[]).map(x=>{const _=h.get(x.category_id)??0,E=x.segmentation?.[0]||[],T=[];for(let z=0;z<E.length;z+=2){const A=Math.max(0,Math.min(1,E[z]/r)),H=Math.max(0,Math.min(1,E[z+1]/u));T.push(A.toFixed(6)),T.push(H.toFixed(6))}return`${_} ${T.join(" ")}`}),y=d.map(x=>x.name).join(", ");return p.push(`# classes: ${y}`),{txt:p.join(`
`),classes:d.map(x=>x.name)}}static cocoToVoc(t){const i=t.images?.[0]||{},{file_name:r="image.jpg",width:u=0,height:d=0}=i,h=new Map;(t.categories||[]).forEach(y=>{h.set(y.id,y.name)});const p=(t.annotations||[]).map(y=>{const x=h.get(y.category_id)||"unknown",_=y.segmentation?.[0]||[];let E=1/0,T=1/0,z=-1/0,A=-1/0;for(let H=0;H<_.length;H+=2)E=Math.min(E,_[H]),z=Math.max(z,_[H]),T=Math.min(T,_[H+1]),A=Math.max(A,_[H+1]);return E=Math.max(0,Math.round(E)),T=Math.max(0,Math.round(T)),z=Math.min(u,Math.round(z)),A=Math.min(d,Math.round(A)),`  <object>
    <name>${w2(x)}</name>
    <pose>Unspecified</pose>
    <truncated>0</truncated>
    <difficult>0</difficult>
    <bndbox>
      <xmin>${E}</xmin>
      <ymin>${T}</ymin>
      <xmax>${z}</xmax>
      <ymax>${A}</ymax>
    </bndbox>
  </object>`});return`<?xml version="1.0" encoding="UTF-8"?>
<annotation>
  <folder>images</folder>
  <filename>${w2(r)}</filename>
  <size>
    <width>${u}</width>
    <height>${d}</height>
    <depth>3</depth>
  </size>
  <segmented>0</segmented>
${p.join(`
`)}
</annotation>`}static vocToCoco(t,i=null,r=null){const d=new DOMParser().parseFromString(t,"text/xml"),h=d.querySelector("parsererror");if(h)throw new Error("Invalid XML format: "+h.textContent);if(!d.querySelector("annotation"))throw new Error("Invalid Pascal VOC format: Missing <annotation> root element.");const y=d.querySelector("filename")?.textContent||"image.jpg",x=i||parseInt(d.querySelector("size > width")?.textContent)||0,_=r||parseInt(d.querySelector("size > height")?.textContent)||0,E=new Map,T=[];return d.querySelectorAll("object").forEach((A,H)=>{const L=A.querySelector("name")?.textContent||"unknown";E.has(L)||E.set(L,E.size+1);const V=A.querySelector("bndbox"),j=parseFloat(V?.querySelector("xmin")?.textContent)||0,Z=parseFloat(V?.querySelector("ymin")?.textContent)||0,K=parseFloat(V?.querySelector("xmax")?.textContent)||0,I=parseFloat(V?.querySelector("ymax")?.textContent)||0,st=[j,Z,K,Z,K,I,j,I];T.push({id:H+1,image_id:1,category_id:E.get(L),segmentation:[st],bbox:[j,Z,K-j,I-Z],area:(K-j)*(I-Z),iscrowd:0})}),{images:[{id:1,file_name:y,width:x,height:_}],annotations:T,categories:Array.from(E.entries()).map(([A,H])=>({id:H,name:A}))}}static internalToToon(t,i){const r=this.internalToCoco(t,i);return this.cocoToToon(r)}static toonToInternal(t){const i=this.toonToCoco(t);return this.cocoToInternal(i)}}function w2(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function vb(){const s=J4(),t=F4(),[i,r]=nt.useState(""),u=s5(null),d=l5(s,t,i,u.selectedModel,u.currentParams),h=o5(t,s),[p,y]=nt.useState(null),[x,_]=nt.useState(!1),[E,T]=nt.useState(25),[z,A]=nt.useState(45),[H,L]=nt.useState(100),[V,j]=nt.useState(16),[Z,K]=nt.useState("yolo26x-seg.pt"),[I,st]=nt.useState(""),[ot,M]=nt.useState(!1),[R,Y]=nt.useState(null),[F,B]=nt.useState(""),k=nt.useMemo(()=>{if(t.selectedIds.length<2||!s.imageObj)return null;const Ct=t.selectedAnns;if(Ct.length<2)return null;let _t=1/0,Ot=1/0,kt=-1/0,Bt=-1/0;if(Ct.forEach(Lt=>{if(Lt.points)for(let pe=0;pe<Lt.points.length;pe+=2){const Te=Lt.points[pe],Fe=Lt.points[pe+1];Te<_t&&(_t=Te),Te>kt&&(kt=Te),Fe<Ot&&(Ot=Fe),Fe>Bt&&(Bt=Fe)}}),!isFinite(_t))return null;const At=(_t+kt)/2,xt=(Ot+Bt)/2,Gt=At*s.imageLayout.scale+s.imageLayout.x,Wt=xt*s.imageLayout.scale+s.imageLayout.y;return{x:Gt,y:Wt}},[t.selectedIds,t.selectedAnns,s.imageLayout,s.imageObj]),Q=nt.useCallback(async(Ct,_t)=>{if(!Ct||!s.imageObj){y(" Please open an image first!"),setTimeout(()=>y(null),3e3);return}try{const Ot=await Ct.text(),kt=s.imageObj.width,Bt=s.imageObj.height;let At;if(_t==="yolo"){if(!Ot.includes("# classes:")){B(Ot),M(!0);return}At=fs.yoloToCoco(Ot,kt,Bt,[])}else switch(_t){case"toon":{const xt=JSON.parse(Ot);At=fs.toonToCoco(xt);break}case"coco":{At=JSON.parse(Ot);break}case"voc":{At=fs.vocToCoco(Ot,kt,Bt);break}default:throw new Error(`Unknown format: ${_t}`)}G(At,_t)}catch(Ot){console.error("Load failed",Ot),y(` Failed to load: ${Ot.message}`),setTimeout(()=>y(null),5e3)}},[s.imageObj]),G=nt.useCallback((Ct,_t)=>{const{annotations:Ot}=fs.cocoToInternal(Ct),kt=Ot.map(Bt=>({...Bt,id:to()}));t.addToHistory(t.annotations),t.setAnnotations(kt),y(` Loaded ${kt.length} annotations from ${_t.toUpperCase()}!`),setTimeout(()=>y(null),5e3)},[t]),O=nt.useCallback(({mode:Ct,classes:_t})=>{M(!1);try{const Ot=s.imageObj.width,kt=s.imageObj.height;let Bt=[];Ct==="upload"?Bt=_t:Bt=[];const At=fs.yoloToCoco(F,Ot,kt,Bt);G(At,"yolo")}catch(Ot){console.error("Import failed",Ot),y(` Import failed: ${Ot.message}`),setTimeout(()=>y(null),5e3)}finally{B("")}},[F,s.imageObj,G]),U=nt.useCallback(async Ct=>{const _t=t.selectedAnns;if(!(_t.length<2)){if(Ct==="geometric")try{const Ot=_t.map(Bt=>{const At=[];for(let xt=0;xt<Bt.points.length;xt+=2)At.push([Bt.points[xt],Bt.points[xt+1]]);if(At.length>0){const xt=At[0],Gt=At[At.length-1];(xt[0]!==Gt[0]||xt[1]!==Gt[1])&&At.push(xt)}return ly([At])}),kt=Z4(A4(Ot));if(kt){const Bt=[],At=kt.geometry;At.type==="Polygon"?Bt.push({points:At.coordinates[0].flatMap(Gt=>[Gt[0],Gt[1]])}):At.type==="MultiPolygon"&&At.coordinates.forEach(Gt=>{Bt.push({points:Gt[0].flatMap(Wt=>[Wt[0],Wt[1]])})});const xt=Bt.map(Gt=>({id:to(),type:"poly",points:Gt.points,label:_t[0].label,originalRawPoints:Gt.points}));t.deleteSelected(),t.addAnnotations(xt)}}catch(Ot){console.error("Merge failed",Ot),alert("Geometric merge failed: "+Ot.message)}else if(Ct==="smart"){d.setIsProcessing(!0);try{let Ot=1/0,kt=1/0,Bt=-1/0,At=-1/0;_t.forEach(pe=>{if(pe.points)for(let Te=0;Te<pe.points.length;Te+=2)Ot=Math.min(Ot,pe.points[Te]),Bt=Math.max(Bt,pe.points[Te]),kt=Math.min(kt,pe.points[Te+1]),At=Math.max(At,pe.points[Te+1])});const xt=Bt-Ot,Gt=At-kt,Wt=new FormData;Wt.append("file",s.imageFile),Wt.append("box_json",JSON.stringify([Ot,kt,xt,Gt])),Wt.append("model_name","sam2.1_l.pt"),Wt.append("confidence","0.25");const Lt=await Ge.post(`${Ii}/segment-box`,Wt);if(Lt.data.detections&&Lt.data.detections.length>0){const pe=Lt.data.detections.map(Fe=>({id:Fe.id||to(),type:"poly",points:Fe.points,label:_t[0].label,originalRawPoints:Fe.points}));t.deleteSelected();const Te=t.addAnnotations(pe);Te.length>0&&t.selectAnnotation(Te[0])}}catch(Ot){console.error("Smart merge failed",Ot),alert("Smart merge failed.")}finally{d.setIsProcessing(!1)}}}},[t,s.imageFile,d]),X=nt.useCallback(Ct=>{s.handleImageUpload(Ct)&&t.reset()},[s,t]),$=nt.useCallback(()=>{s.closeImage(),t.reset()},[s,t]),ft=nt.useCallback(async()=>{if(!s.imageFile||t.annotations.length===0){y(" No image or annotations to save!"),setTimeout(()=>y(null),3e3);return}try{const Ct={name:s.imageFile.name,width:s.imageObj?.width||0,height:s.imageObj?.height||0},_t=fs.internalToToon(t.annotations,Ct),Ot=new FormData;Ot.append("file",s.imageFile),Ot.append("annotations",JSON.stringify(_t)),Ot.append("augment",String(x));const kt=await Ge.post(`${Ii}/save-entry`,Ot);kt.data.success&&y(` ${kt.data.message}`)}catch(Ct){console.error("Save failed",Ct),y(" Save failed!")}setTimeout(()=>y(null),5e3)},[s.imageFile,s.imageObj,t.annotations,x]),q=nt.useCallback(Ct=>{if(!s.imageFile||t.annotations.length===0){y(" No annotations to export!"),setTimeout(()=>y(null),3e3);return}try{const _t={name:s.imageFile.name,width:s.imageObj?.width||0,height:s.imageObj?.height||0},Ot=fs.internalToCoco(t.annotations,_t);let kt,Bt,At;switch(Ct){case"toon":{const Lt=fs.cocoToToon(Ot);kt=JSON.stringify(Lt,null,2),Bt=`${_t.name.replace(/\.[^/.]+$/,"")}.toon`,At="application/json";break}case"yolo":{const{txt:Lt,classes:pe}=fs.cocoToYolo(Ot);kt=Lt,Bt=`${_t.name.replace(/\.[^/.]+$/,"")}.txt`,At="text/plain",console.log("YOLO Classes:",pe);break}case"coco":{kt=JSON.stringify(Ot,null,2),Bt=`${_t.name.replace(/\.[^/.]+$/,"")}_coco.json`,At="application/json";break}case"voc":{kt=fs.cocoToVoc(Ot),Bt=`${_t.name.replace(/\.[^/.]+$/,"")}.xml`,At="application/xml";break}default:throw new Error(`Unknown format: ${Ct}`)}const xt=new Blob([kt],{type:At}),Gt=URL.createObjectURL(xt),Wt=document.createElement("a");Wt.href=Gt,Wt.download=Bt,document.body.appendChild(Wt),Wt.click(),document.body.removeChild(Wt),URL.revokeObjectURL(Gt),y(` Exported as ${Ct.toUpperCase()}!`)}catch(_t){console.error("Export failed",_t),y(` Export failed: ${_t.message}`)}setTimeout(()=>y(null),5e3)},[s.imageFile,s.imageObj,t.annotations]),et=nt.useCallback(()=>{d.handleDetectAll()},[d]),yt=nt.useCallback(Ct=>{d.handleMouseDown(Ct)},[d]),Et=nt.useCallback(async()=>{await d.handleMouseUp()},[d]),Mt=nt.useCallback(()=>{},[]),Nt=nt.useCallback(Ct=>{t.updateLabel(Ct)},[t]),Qt=nt.useCallback(async()=>{const Ct=await h.handleBeautify(u.selectedModel,d.setIsProcessing);!Ct.success&&Ct.error&&alert("Beautify failed: "+Ct.error)},[h,u.selectedModel,d.setIsProcessing]),Ne=nt.useCallback(async Ct=>{if(Ct.base_model?.toLowerCase().includes("sam")){st("SAM is a Foundation Model and cannot be fine-tuned here. Use YOLO for custom objects.");return}st("");const _t=await u.actions.startTraining(Ct);_t.success||st(_t.error||"Failed to start training")},[u.actions]);nt.useEffect(()=>{const Ct=_t=>{if(_t.key==="Escape"&&(d.currentPolyPoints.length>0?d.setCurrentPolyPoints([]):d.isDrawing?d.resetToolState():t.selectedIds.length>0?t.clearSelection():d.tool!=="select"&&d.setTool("select")),_t.key==="Enter"&&d.tool==="poly"&&d.currentPolyPoints.length>=3&&(_t.preventDefault(),d.closePolygon()),_t.key==="Delete"){if(d.tool==="poly"&&d.currentPolyPoints.length>0){_t.preventDefault(),d.undoLastPolyPoint();return}t.selectedIds.length>0&&t.deleteSelected()}_t.ctrlKey&&_t.key==="z"&&!_t.shiftKey&&(_t.preventDefault(),t.handleUndo()),(_t.ctrlKey&&_t.shiftKey&&_t.key==="z"||_t.ctrlKey&&_t.key==="y")&&(_t.preventDefault(),t.handleRedo())};return window.addEventListener("keydown",Ct),()=>window.removeEventListener("keydown",Ct)},[d,t]);const ne=Sn.useRef(null);nt.useEffect(()=>{if(!ne.current)return;const Ct=new ResizeObserver(_t=>{for(let Ot of _t){const{width:kt,height:Bt}=Ot.contentRect;s.setStageSize({width:kt,height:Bt})}});return Ct.observe(ne.current),()=>Ct.disconnect()},[s.setStageSize]);const[bn,Yt]=nt.useState(250),[Me,we]=nt.useState(250),[ve,ue]=nt.useState(!1),[_n,Xt]=nt.useState(!1);return nt.useEffect(()=>{const Ct=Ot=>{if(ve){const kt=Math.min(Math.max(150,Ot.clientX),450);Yt(kt)}if(_n){const kt=Math.min(Math.max(150,window.innerWidth-Ot.clientX),450);we(kt)}},_t=()=>{ue(!1),Xt(!1),document.body.style.cursor="default"};return(ve||_n)&&(window.addEventListener("mousemove",Ct),window.addEventListener("mouseup",_t),document.body.style.cursor="col-resize"),()=>{window.removeEventListener("mousemove",Ct),window.removeEventListener("mouseup",_t)}},[ve,_n]),w.jsxs("div",{className:"App",children:[w.jsx(uS,{imageFile:s.imageFile,onImageUpload:X,onCloseImage:$,tool:d.tool,setTool:d.setTool,eraserSize:d.eraserSize,setEraserSize:d.setEraserSize,confidenceThreshold:d.confidenceThreshold,setConfidenceThreshold:d.setConfidenceThreshold,textPrompt:i,setTextPrompt:r,models:u.downloadedModels,selectedModel:u.selectedModel,onSelectModel:u.setSelectedModel,onOpenModelManager:u.actions.openModelManager,onOpenTrainModal:u.actions.openTrainModal,enableAugmentation:x,setEnableAugmentation:_,onDetectAll:et,onSave:ft,onLoadAnnotations:Q,onExport:q,onUndo:t.handleUndo,onRedo:t.handleRedo,onClearAll:t.handleClearAll,canUndo:t.canUndo,canRedo:t.canRedo,isProcessing:d.isProcessing,saveMessage:p}),w.jsxs("div",{className:"app-content",children:[w.jsx("div",{className:"left-panel-container",style:{width:bn},children:s.imageObj&&w.jsx(cS,{docked:!0,annotations:t.annotations,filterText:d.filterText,setFilterText:d.setFilterText,onSelectLabel:Ct=>d.setFilterText(Ct)})}),w.jsx("div",{className:`panel-resizer left ${ve?"active":""}`,onMouseDown:()=>ue(!0)}),w.jsxs("div",{className:"canvas-area",ref:ne,children:[s.imageObj?w.jsx(rS,{stageRef:s.stageRef,groupRef:s.groupRef,stageSize:s.stageSize,imageObj:s.imageObj,imageLayout:s.imageLayout,annotations:t.annotations,selectedIds:t.selectedIds,filterText:d.filterText,tool:d.tool,tempAnnotation:d.tempAnnotation,currentPolyPoints:d.currentPolyPoints,currentPenPoints:d.currentPenPoints,mousePos:d.mousePos,eraserSize:d.eraserSize,color:d.color,onWheel:s.handleWheel,onClick:d.handleStageClick,onMouseDown:yt,onMouseMove:d.handleMouseMove,onMouseUp:Et,onDblClick:Mt,onVertexDrag:d.handleVertexDrag}):w.jsx(hb,{onImageUpload:X}),k&&w.jsx(dS,{position:k,selectedCount:t.selectedIds.length,onMerge:U})]}),w.jsx("div",{className:`panel-resizer right ${_n?"active":""}`,onMouseDown:()=>Xt(!0)}),w.jsx("div",{className:"right-panel-container",style:{width:Me},children:t.selectedAnn?w.jsx(fS,{docked:!0,selectedAnn:t.selectedAnn,selectedLabel:t.selectedLabel,onLabelChange:Nt,onDelete:t.deleteSelected,onSimplify:h.handleSimplify,onDensify:h.handleDensify,onReset:h.handleReset,onBeautify:Qt,canModify:h.canModify,canReset:h.canReset,isProcessing:d.isProcessing,suggestions:t.selectedAnn?.suggestions}):u.selectedModel?w.jsx(hS,{selectedModel:u.selectedModel,currentParams:u.currentParams,updateParam:u.updateParam}):w.jsxs("div",{style:{padding:"20px",color:"#666",fontSize:"13px",fontStyle:"italic",textAlign:"center",marginTop:"50px"},children:[w.jsx("p",{children:"Select a polygon to edit properties"}),w.jsx("p",{children:"or"}),w.jsx("p",{children:"Select a model to configure parameters"})]})})]}),w.jsx(yb,{isOpen:ot,onClose:()=>{M(!1),B("")},onSubmit:O}),w.jsx(pb,{isOpen:u.modals.showModelManager,onClose:u.actions.closeModelManager,models:u.models,loadingModelIds:u.loadingModelIds,downloadModel:u.actions.downloadModel,deleteModel:u.actions.deleteModel}),w.jsx(mb,{isOpen:u.modals.showPreprocessingModal,onClose:u.actions.closePreprocessingModal,onStartTraining:Ne,isTraining:u.isTraining}),w.jsx(gb,{isOpen:u.modals.showTrainModal,onClose:u.actions.closeTrainModal,models:u.models,selectedBaseModel:Z,onBaseModelChange:K,epochs:H,onEpochsChange:L,batchSize:V,onBatchSizeChange:j,isTraining:u.isTraining,trainingProgress:u.trainingProgress,trainingMessage:u.trainingMessage,onStartTraining:Ne,onCancelTraining:u.actions.cancelTraining,error:I})]})}Wv.createRoot(document.getElementById("root")).render(w.jsx(nt.StrictMode,{children:w.jsx(vb,{})}));
