(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h1={exports:{}},Gp={};var gb;function Gw(){if(gb)return Gp;gb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Gp.Fragment=t,Gp.jsx=n,Gp.jsxs=n,Gp}var yb;function Pw(){return yb||(yb=1,h1.exports=Gw()),h1.exports}var W=Pw(),d1={exports:{}},pn={};var vb;function Vw(){if(vb)return pn;vb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function _(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function O(Y,$,ft){this.props=Y,this.context=$,this.refs=M,this.updater=ft||E}O.prototype.isReactComponent={},O.prototype.setState=function(Y,$){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,$,"setState")},O.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=O.prototype;function B(Y,$,ft){this.props=Y,this.context=$,this.refs=M,this.updater=ft||E}var H=B.prototype=new R;H.constructor=B,T(H,O.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function nt(){}var X={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function j(Y,$,ft){var pt=ft.ref;return{$$typeof:e,type:Y,key:$,ref:pt!==void 0?pt:null,props:ft}}function P(Y,$){return j(Y.type,$,Y.props)}function at(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function U(Y){var $={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ft){return $[ft]})}var q=/\/+/g;function D(Y,$){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):$.toString(36)}function Z(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(nt,nt):(Y.status="pending",Y.then(function($){Y.status==="pending"&&(Y.status="fulfilled",Y.value=$)},function($){Y.status==="pending"&&(Y.status="rejected",Y.reason=$)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function K(Y,$,ft,pt,yt){var Yt=typeof Y;(Yt==="undefined"||Yt==="boolean")&&(Y=null);var Qt=!1;if(Y===null)Qt=!0;else switch(Yt){case"bigint":case"string":case"number":Qt=!0;break;case"object":switch(Y.$$typeof){case e:case t:Qt=!0;break;case y:return Qt=Y._init,K(Qt(Y._payload),$,ft,pt,yt)}}if(Qt)return yt=yt(Y),Qt=pt===""?"."+D(Y,0):pt,F(yt)?(ft="",Qt!=null&&(ft=Qt.replace(q,"$&/")+"/"),K(yt,$,ft,"",function(Ee){return Ee})):yt!=null&&(at(yt)&&(yt=P(yt,ft+(yt.key==null||Y&&Y.key===yt.key?"":(""+yt.key).replace(q,"$&/")+"/")+Qt)),$.push(yt)),1;Qt=0;var Ht=pt===""?".":pt+":";if(F(Y))for(var Ct=0;Ct<Y.length;Ct++)pt=Y[Ct],Yt=Ht+D(pt,Ct),Qt+=K(pt,$,ft,Yt,yt);else if(Ct=_(Y),typeof Ct=="function")for(Y=Ct.call(Y),Ct=0;!(pt=Y.next()).done;)pt=pt.value,Yt=Ht+D(pt,Ct++),Qt+=K(pt,$,ft,Yt,yt);else if(Yt==="object"){if(typeof Y.then=="function")return K(Z(Y),$,ft,pt,yt);throw $=String(Y),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Qt}function Q(Y,$,ft){if(Y==null)return Y;var pt=[],yt=0;return K(Y,pt,"","",function(Yt){return $.call(ft,Yt,yt++)}),pt}function tt(Y){if(Y._status===-1){var $=Y._result;$=$(),$.then(function(ft){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ft)},function(ft){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ft)}),Y._status===-1&&(Y._status=0,Y._result=$)}if(Y._status===1)return Y._result.default;throw Y._result}var st=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},gt={map:Q,forEach:function(Y,$,ft){Q(Y,function(){$.apply(this,arguments)},ft)},count:function(Y){var $=0;return Q(Y,function(){$++}),$},toArray:function(Y){return Q(Y,function($){return $})||[]},only:function(Y){if(!at(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return pn.Activity=v,pn.Children=gt,pn.Component=O,pn.Fragment=n,pn.Profiler=s,pn.PureComponent=B,pn.StrictMode=i,pn.Suspense=d,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,pn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return X.H.useMemoCache(Y)}},pn.cache=function(Y){return function(){return Y.apply(null,arguments)}},pn.cacheSignal=function(){return null},pn.cloneElement=function(Y,$,ft){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var pt=T({},Y.props),yt=Y.key;if($!=null)for(Yt in $.key!==void 0&&(yt=""+$.key),$)!z.call($,Yt)||Yt==="key"||Yt==="__self"||Yt==="__source"||Yt==="ref"&&$.ref===void 0||(pt[Yt]=$[Yt]);var Yt=arguments.length-2;if(Yt===1)pt.children=ft;else if(1<Yt){for(var Qt=Array(Yt),Ht=0;Ht<Yt;Ht++)Qt[Ht]=arguments[Ht+2];pt.children=Qt}return j(Y.type,yt,pt)},pn.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},pn.createElement=function(Y,$,ft){var pt,yt={},Yt=null;if($!=null)for(pt in $.key!==void 0&&(Yt=""+$.key),$)z.call($,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(yt[pt]=$[pt]);var Qt=arguments.length-2;if(Qt===1)yt.children=ft;else if(1<Qt){for(var Ht=Array(Qt),Ct=0;Ct<Qt;Ct++)Ht[Ct]=arguments[Ct+2];yt.children=Ht}if(Y&&Y.defaultProps)for(pt in Qt=Y.defaultProps,Qt)yt[pt]===void 0&&(yt[pt]=Qt[pt]);return j(Y,Yt,yt)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(Y){return{$$typeof:f,render:Y}},pn.isValidElement=at,pn.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:tt}},pn.memo=function(Y,$){return{$$typeof:p,type:Y,compare:$===void 0?null:$}},pn.startTransition=function(Y){var $=X.T,ft={};X.T=ft;try{var pt=Y(),yt=X.S;yt!==null&&yt(ft,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(nt,st)}catch(Yt){st(Yt)}finally{$!==null&&ft.types!==null&&($.types=ft.types),X.T=$}},pn.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},pn.use=function(Y){return X.H.use(Y)},pn.useActionState=function(Y,$,ft){return X.H.useActionState(Y,$,ft)},pn.useCallback=function(Y,$){return X.H.useCallback(Y,$)},pn.useContext=function(Y){return X.H.useContext(Y)},pn.useDebugValue=function(){},pn.useDeferredValue=function(Y,$){return X.H.useDeferredValue(Y,$)},pn.useEffect=function(Y,$){return X.H.useEffect(Y,$)},pn.useEffectEvent=function(Y){return X.H.useEffectEvent(Y)},pn.useId=function(){return X.H.useId()},pn.useImperativeHandle=function(Y,$,ft){return X.H.useImperativeHandle(Y,$,ft)},pn.useInsertionEffect=function(Y,$){return X.H.useInsertionEffect(Y,$)},pn.useLayoutEffect=function(Y,$){return X.H.useLayoutEffect(Y,$)},pn.useMemo=function(Y,$){return X.H.useMemo(Y,$)},pn.useOptimistic=function(Y,$){return X.H.useOptimistic(Y,$)},pn.useReducer=function(Y,$,ft){return X.H.useReducer(Y,$,ft)},pn.useRef=function(Y){return X.H.useRef(Y)},pn.useState=function(Y){return X.H.useState(Y)},pn.useSyncExternalStore=function(Y,$,ft){return X.H.useSyncExternalStore(Y,$,ft)},pn.useTransition=function(){return X.H.useTransition()},pn.version="19.2.3",pn}var xb;function Lm(){return xb||(xb=1,d1.exports=Vw()),d1.exports}var ut=Lm();const Ce=lh(ut);var p1={exports:{}},Pp={},m1={exports:{}},g1={};var bb;function Iw(){return bb||(bb=1,(function(e){function t(K,Q){var tt=K.length;K.push(Q);t:for(;0<tt;){var st=tt-1>>>1,gt=K[st];if(0<s(gt,Q))K[st]=Q,K[tt]=gt,tt=st;else break t}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var Q=K[0],tt=K.pop();if(tt!==Q){K[0]=tt;t:for(var st=0,gt=K.length,Y=gt>>>1;st<Y;){var $=2*(st+1)-1,ft=K[$],pt=$+1,yt=K[pt];if(0>s(ft,tt))pt<gt&&0>s(yt,ft)?(K[st]=yt,K[pt]=tt,st=pt):(K[st]=ft,K[$]=tt,st=$);else if(pt<gt&&0>s(yt,tt))K[st]=yt,K[pt]=tt,st=pt;else break t}}return Q}function s(K,Q){var tt=K.sortIndex-Q.sortIndex;return tt!==0?tt:K.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,v=null,x=3,_=!1,E=!1,T=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function H(K){for(var Q=n(p);Q!==null;){if(Q.callback===null)i(p);else if(Q.startTime<=K)i(p),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(p)}}function F(K){if(T=!1,H(K),!E)if(n(d)!==null)E=!0,nt||(nt=!0,U());else{var Q=n(p);Q!==null&&Z(F,Q.startTime-K)}}var nt=!1,X=-1,z=5,j=-1;function P(){return M?!0:!(e.unstable_now()-j<z)}function at(){if(M=!1,nt){var K=e.unstable_now();j=K;var Q=!0;try{t:{E=!1,T&&(T=!1,R(X),X=-1),_=!0;var tt=x;try{e:{for(H(K),v=n(d);v!==null&&!(v.expirationTime>K&&P());){var st=v.callback;if(typeof st=="function"){v.callback=null,x=v.priorityLevel;var gt=st(v.expirationTime<=K);if(K=e.unstable_now(),typeof gt=="function"){v.callback=gt,H(K),Q=!0;break e}v===n(d)&&i(d),H(K)}else i(d);v=n(d)}if(v!==null)Q=!0;else{var Y=n(p);Y!==null&&Z(F,Y.startTime-K),Q=!1}}break t}finally{v=null,x=tt,_=!1}Q=void 0}}finally{Q?U():nt=!1}}}var U;if(typeof B=="function")U=function(){B(at)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,D=q.port2;q.port1.onmessage=at,U=function(){D.postMessage(null)}}else U=function(){O(at,0)};function Z(K,Q){X=O(function(){K(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(K){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var tt=x;x=Q;try{return K()}finally{x=tt}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var tt=x;x=K;try{return Q()}finally{x=tt}},e.unstable_scheduleCallback=function(K,Q,tt){var st=e.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?st+tt:st):tt=st,K){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=tt+gt,K={id:y++,callback:Q,priorityLevel:K,startTime:tt,expirationTime:gt,sortIndex:-1},tt>st?(K.sortIndex=tt,t(p,K),n(d)===null&&K===n(p)&&(T?(R(X),X=-1):T=!0,Z(F,tt-st))):(K.sortIndex=gt,t(d,K),E||_||(E=!0,nt||(nt=!0,U()))),K},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(K){var Q=x;return function(){var tt=x;x=Q;try{return K.apply(this,arguments)}finally{x=tt}}}})(g1)),g1}var Sb;function C2(){return Sb||(Sb=1,m1.exports=Iw()),m1.exports}var y1={exports:{}},Es={};var _b;function qw(){if(_b)return Es;_b=1;var e=Lm();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Es.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,y)},Es.flushSync=function(d){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=y,i.d.f()}},Es.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Es.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Es.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Es.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Es.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Es.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Es.requestFormReset=function(d){i.d.r(d)},Es.unstable_batchedUpdates=function(d,p){return d(p)},Es.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},Es.useFormStatus=function(){return u.H.useHostTransitionStatus()},Es.version="19.2.3",Es}var wb;function i4(){if(wb)return y1.exports;wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),y1.exports=qw(),y1.exports}var Eb;function Fw(){if(Eb)return Pp;Eb=1;var e=C2(),t=Lm(),n=i4();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)r+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var r=a,h=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(h=r.return),a=r.return;while(a)}return r.tag===3?h:null}function u(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function f(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(i(188))}function p(a){var r=a.alternate;if(!r){if(r=o(a),r===null)throw Error(i(188));return r!==a?null:a}for(var h=a,m=r;;){var w=h.return;if(w===null)break;var A=w.alternate;if(A===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===h)return d(w),a;if(A===m)return d(w),r;A=A.sibling}throw Error(i(188))}if(h.return!==m.return)h=w,m=A;else{for(var I=!1,lt=w.child;lt;){if(lt===h){I=!0,h=w,m=A;break}if(lt===m){I=!0,m=w,h=A;break}lt=lt.sibling}if(!I){for(lt=A.child;lt;){if(lt===h){I=!0,h=A,m=w;break}if(lt===m){I=!0,m=A,h=w;break}lt=lt.sibling}if(!I)throw Error(i(189))}}if(h.alternate!==m)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:r}function y(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=y(a),r!==null)return r;a=a.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=at&&a[at]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function D(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case nt:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case B:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case H:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case X:return r=a.displayName||null,r!==null?r:D(a.type)||"Memo";case z:r=a._payload,a=a._init;try{return D(a(r))}catch{}}return null}var Z=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},st=[],gt=-1;function Y(a){return{current:a}}function $(a){0>gt||(a.current=st[gt],st[gt]=null,gt--)}function ft(a,r){gt++,st[gt]=a.current,a.current=r}var pt=Y(null),yt=Y(null),Yt=Y(null),Qt=Y(null);function Ht(a,r){switch(ft(Yt,r),ft(yt,a),ft(pt,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?Hx(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=Hx(r),a=Gx(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(pt),ft(pt,a)}function Ct(){$(pt),$(yt),$(Yt)}function Ee(a){a.memoizedState!==null&&ft(Qt,a);var r=pt.current,h=Gx(r,a.type);r!==h&&(ft(yt,a),ft(pt,h))}function ve(a){yt.current===a&&($(pt),$(yt)),Qt.current===a&&($(Qt),Bp._currentValue=tt)}var de,Ae;function V(a){if(de===void 0)try{throw Error()}catch(h){var r=h.stack.trim().match(/\n( *(at )?)/);de=r&&r[1]||"",Ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+Ae}var Rt=!1;function kt(a,r){if(!a||Rt)return"";Rt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch($t){var Xt=$t}Reflect.construct(a,[],re)}else{try{re.call()}catch($t){Xt=$t}a.call(re.prototype)}}else{try{throw Error()}catch($t){Xt=$t}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch($t){if($t&&Xt&&typeof $t.stack=="string")return[$t.stack,Xt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),I=A[0],lt=A[1];if(I&&lt){var bt=I.split(`
`),qt=lt.split(`
`);for(w=m=0;m<bt.length&&!bt[m].includes("DetermineComponentFrameRoot");)m++;for(;w<qt.length&&!qt[w].includes("DetermineComponentFrameRoot");)w++;if(m===bt.length||w===qt.length)for(m=bt.length-1,w=qt.length-1;1<=m&&0<=w&&bt[m]!==qt[w];)w--;for(;1<=m&&0<=w;m--,w--)if(bt[m]!==qt[w]){if(m!==1||w!==1)do if(m--,w--,0>w||bt[m]!==qt[w]){var ne=`
`+bt[m].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=m&&0<=w);break}}}finally{Rt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?V(h):""}function ot(a,r){switch(a.tag){case 26:case 27:case 5:return V(a.type);case 16:return V("Lazy");case 13:return a.child!==r&&r!==null?V("Suspense Fallback"):V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return kt(a.type,!1);case 11:return kt(a.type.render,!1);case 1:return kt(a.type,!0);case 31:return V("Activity");default:return""}}function et(a){try{var r="",h=null;do r+=ot(a,h),h=a,a=a.return;while(a);return r}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ht=Object.prototype.hasOwnProperty,zt=e.unstable_scheduleCallback,Ft=e.unstable_cancelCallback,xt=e.unstable_shouldYield,Zt=e.unstable_requestPaint,Nt=e.unstable_now,Gt=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,ie=e.unstable_NormalPriority,ue=e.unstable_LowPriority,Le=e.unstable_IdlePriority,Ke=e.log,ln=e.unstable_setDisableYieldValue,Be=null,nn=null;function tn(a){if(typeof Ke=="function"&&ln(a),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Be,a)}catch{}}var pe=Math.clz32?Math.clz32:yr,wi=Math.log,Li=Math.LN2;function yr(a){return a>>>=0,a===0?32:31-(wi(a)/Li|0)|0}var Ne=256,Ms=262144,qa=4194304;function Oa(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Hr(a,r,h){var m=a.pendingLanes;if(m===0)return 0;var w=0,A=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var lt=m&134217727;return lt!==0?(m=lt&~A,m!==0?w=Oa(m):(I&=lt,I!==0?w=Oa(I):h||(h=lt&~a,h!==0&&(w=Oa(h))))):(lt=m&~A,lt!==0?w=Oa(lt):I!==0?w=Oa(I):h||(h=m&~a,h!==0&&(w=Oa(h)))),w===0?0:r!==0&&r!==w&&(r&A)===0&&(A=w&-w,h=r&-r,A>=h||A===32&&(h&4194048)!==0)?r:w}function Gr(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function yh(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var a=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),a}function vr(a){for(var r=[],h=0;31>h;h++)r.push(a);return r}function Ns(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dl(a,r,h,m,w,A){var I=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var lt=a.entanglements,bt=a.expirationTimes,qt=a.hiddenUpdates;for(h=I&~h;0<h;){var ne=31-pe(h),re=1<<ne;lt[ne]=0,bt[ne]=-1;var Xt=qt[ne];if(Xt!==null)for(qt[ne]=null,ne=0;ne<Xt.length;ne++){var $t=Xt[ne];$t!==null&&($t.lane&=-536870913)}h&=~re}m!==0&&xr(a,m,0),A!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=A&~(I&~r))}function xr(a,r,h){a.pendingLanes|=r,a.suspendedLanes&=~r;var m=31-pe(r);a.entangledLanes|=r,a.entanglements[m]=a.entanglements[m]|1073741824|h&261930}function In(a,r){var h=a.entangledLanes|=r;for(a=a.entanglements;h;){var m=31-pe(h),w=1<<m;w&r|a[m]&r&&(a[m]|=r),h&=~w}}function Ui(a,r){var h=r&-r;return h=(h&42)!==0?1:pl(h),(h&(a.suspendedLanes|r))!==0?0:h}function pl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function br(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Mo(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:ub(a.type))}function Ds(a,r){var h=Q.p;try{return Q.p=a,r()}finally{Q.p=h}}var Sr=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Sr,Ei="__reactProps$"+Sr,Ma="__reactContainer$"+Sr,Wa="__reactEvents$"+Sr,Vr="__reactListeners$"+Sr,us="__reactHandles$"+Sr,uu="__reactResources$"+Sr,Na="__reactMarker$"+Sr;function Ir(a){delete a[Xn],delete a[Ei],delete a[Wa],delete a[Vr],delete a[us]}function _r(a){var r=a[Xn];if(r)return r;for(var h=a.parentNode;h;){if(r=h[Ma]||h[Xn]){if(h=r.alternate,r.child!==null||h!==null&&h.child!==null)for(a=Yx(a);a!==null;){if(h=a[Xn])return h;a=Yx(a)}return r}a=h,h=a.parentNode}return null}function Zn(a){if(a=a[Xn]||a[Ma]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function cs(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function ba(a){var r=a[uu];return r||(r=a[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ti(a){a[Na]=!0}var Fa=new Set,No={};function Zs(a,r){Da(a,r),Da(a+"Capture",r)}function Da(a,r){for(No[a]=r,a=0;a<r.length;a++)Fa.add(r[a])}var Ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},ei={};function ac(a){return ht.call(ei,a)?!0:ht.call(ml,a)?!1:Ki.test(a)?ei[a]=!0:(ml[a]=!0,!1)}function fn(a,r,h){if(ac(r))if(h===null)a.removeAttribute(r);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var m=r.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+h)}}function gl(a,r,h){if(h===null)a.removeAttribute(r);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+h)}}function zs(a,r,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(r,h,""+m)}}function za(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function qr(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sc(a,r,h){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,A=m.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return w.call(this)},set:function(I){h=""+I,A.call(this,I)}}),Object.defineProperty(a,r,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function yl(a){if(!a._valueTracker){var r=qr(a)?"checked":"value";a._valueTracker=sc(a,r,""+a[r])}}function fa(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var h=r.getValue(),m="";return a&&(m=qr(a)?a.checked?"true":"false":a.value),a=m,a!==h?(r.setValue(a),!0):!1}function Qe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Fr=/[\n"\\]/g;function Hi(a){return a.replace(Fr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function js(a,r,h,m,w,A,I,lt){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),r!=null?I==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+za(r)):a.value!==""+za(r)&&(a.value=""+za(r)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),r!=null?$a(a,I,za(r)):h!=null?$a(a,I,za(h)):m!=null&&a.removeAttribute("value"),w==null&&A!=null&&(a.defaultChecked=!!A),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),lt!=null&&typeof lt!="function"&&typeof lt!="symbol"&&typeof lt!="boolean"?a.name=""+za(lt):a.removeAttribute("name")}function vl(a,r,h,m,w,A,I,lt){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),r!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||r!=null)){yl(a);return}h=h!=null?""+za(h):"",r=r!=null?""+za(r):h,lt||r===a.value||(a.value=r),a.defaultValue=r}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=lt?a.checked:!!m,a.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),yl(a)}function $a(a,r,h){r==="number"&&Qe(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function fs(a,r,h,m){if(a=a.options,r){r={};for(var w=0;w<h.length;w++)r["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=r.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&m&&(a[h].defaultSelected=!0)}else{for(h=""+za(h),r=null,w=0;w<a.length;w++){if(a[w].value===h){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}r!==null||a[w].disabled||(r=a[w])}r!==null&&(r.selected=!0)}}function cu(a,r,h){if(r!=null&&(r=""+za(r),r!==a.value&&(a.value=r),h==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=h!=null?""+za(h):""}function Do(a,r,h,m){if(r==null){if(m!=null){if(h!=null)throw Error(i(92));if(Z(m)){if(1<m.length)throw Error(i(93));m=m[0]}h=m}h==null&&(h=""),r=h}h=za(r),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m),yl(a)}function Kr(a,r){if(r){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=r;return}}a.textContent=r}var vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nn(a,r,h){var m=r.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":m?a.setProperty(r,h):typeof h!="number"||h===0||vh.has(r)?r==="float"?a.cssFloat=h:a[r]=(""+h).trim():a[r]=h+"px"}function rc(a,r,h){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||r!=null&&r.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in r)m=r[w],r.hasOwnProperty(w)&&h[w]!==m&&Nn(a,w,m)}else for(var A in r)r.hasOwnProperty(A)&&Nn(a,A,r[A])}function oc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ja=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(a){return ja.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function hs(){}var ks=null;function fu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yr=null,ri=null;function ds(a){var r=Zn(a);if(r&&(a=r.stateNode)){var h=a[Ei]||null;t:switch(a=r.stateNode,r.type){case"input":if(js(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),r=h.name,h.type==="radio"&&r!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Hi(""+r)+'"][type="radio"]'),r=0;r<h.length;r++){var m=h[r];if(m!==a&&m.form===a.form){var w=m[Ei]||null;if(!w)throw Error(i(90));js(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(r=0;r<h.length;r++)m=h[r],m.form===a.form&&fa(m)}break t;case"textarea":cu(a,h.value,h.defaultValue);break t;case"select":r=h.value,r!=null&&fs(a,!!h.multiple,r,!1)}}}var Xr=!1;function zo(a,r,h){if(Xr)return a(r,h);Xr=!0;try{var m=a(r);return m}finally{if(Xr=!1,(Yr!==null||ri!==null)&&(jr(),Yr&&(r=Yr,a=ri,ri=Yr=null,ds(r),a)))for(r=0;r<a.length;r++)ds(a[r])}}function Zr(a,r){var h=a.stateNode;if(h===null)return null;var m=h[Ei]||null;if(m===null)return null;h=m[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,r,typeof h));return h}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=!1;if(ha)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){pf=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{pf=!1}var Ba=null,hu=null,wr=null;function Er(){if(wr)return wr;var a,r=hu,h=r.length,m,w="value"in Ba?Ba.value:Ba.textContent,A=w.length;for(a=0;a<h&&r[a]===w[a];a++);var I=h-a;for(m=1;m<=I&&r[h-m]===w[A-m];m++);return wr=w.slice(a,1<m?1-m:void 0)}function jo(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function ko(){return!0}function bh(){return!1}function Yi(a){function r(h,m,w,A,I){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var lt in a)a.hasOwnProperty(lt)&&(h=a[lt],this[lt]=h?h(A):A[lt]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ko:bh,this.isPropagationStopped=bh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Yi(Qr),Tr=v({},Qr,{view:0,detail:0}),pu=Yi(Tr),Bo,lc,xl,bl=v({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xl&&(xl&&a.type==="mousemove"?(Bo=a.screenX-xl.screenX,lc=a.screenY-xl.screenY):lc=Bo=0,xl=a),Bo)},movementY:function(a){return"movementY"in a?a.movementY:lc}}),mu=Yi(bl),uc=v({},bl,{dataTransfer:0}),mf=Yi(uc),Sl=v({},Tr,{relatedTarget:0}),Lo=Yi(Sl),gu=v({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=Yi(gu),Hd=v({},Qr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Uo=Yi(Hd),Ho=v({},Qr,{data:0}),_l=Yi(Ho),wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=da[a])?!!r[a]:!1}function Jr(){return Go}var gf=v({},Tr,{key:function(a){if(a.key){var r=wl[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=jo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?cc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(a){return a.type==="keypress"?jo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Js=Yi(gf),yu=v({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=Yi(yu),El=v({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),hc=Yi(El),Wr=v({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=Yi(Wr),Xi=v({},bl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),vu=Yi(Xi),dc=v({},Qr,{newState:0,oldState:0}),vf=Yi(dc),_h=[9,13,27,32],Cr=ha&&"CompositionEvent"in window,Ar=null;ha&&"documentMode"in document&&(Ar=document.documentMode);var pc=ha&&"TextEvent"in window&&!Ar,xu=ha&&(!Cr||Ar&&8<Ar&&11>=Ar),mc=" ",bu=!1;function Su(a,r){switch(a){case"keyup":return _h.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $r=!1;function bf(a,r){switch(a){case"compositionend":return xf(r);case"keypress":return r.which!==32?null:(bu=!0,mc);case"textInput":return a=r.data,a===mc&&bu?null:a;default:return null}}function Sf(a,r){if($r)return a==="compositionend"||!Cr&&Su(a,r)?(a=Er(),wr=hu=Ba=null,$r=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xu&&r.locale!=="ko"?null:r.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!gc[a.type]:r==="textarea"}function wu(a,r,h,m){Yr?ri?ri.push(m):ri=[m]:Yr=m,r=Y0(r,"onChange"),0<r.length&&(h=new du("onChange","change",null,h,m),a.push({event:h,listeners:r}))}var Rr=null,Po=null;function wh(a){zx(a,0)}function Tl(a){var r=cs(a);if(fa(r))return a}function Cl(a,r){if(a==="change")return r}var sa=!1;if(ha){var oi;if(ha){var Al="oninput"in document;if(!Al){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Al=typeof Ka.oninput=="function"}oi=Al}else oi=!1;sa=oi&&(!document.documentMode||9<document.documentMode)}function ps(){Rr&&(Rr.detachEvent("onpropertychange",Vo),Po=Rr=null)}function Vo(a){if(a.propertyName==="value"&&Tl(Po)){var r=[];wu(r,Po,a,fu(a)),zo(wh,r)}}function _f(a,r,h){a==="focusin"?(ps(),Rr=r,Po=h,Rr.attachEvent("onpropertychange",Vo)):a==="focusout"&&ps()}function Or(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Tl(Po)}function yc(a,r){if(a==="click")return Tl(r)}function Io(a,r){if(a==="input"||a==="change")return Tl(r)}function Ws(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Sa=typeof Object.is=="function"?Object.is:Ws;function b(a,r){if(Sa(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var h=Object.keys(a),m=Object.keys(r);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!ht.call(r,w)||!Sa(a[w],r[w]))return!1}return!0}function C(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function k(a,r){var h=C(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=r&&m>=r)return{node:h,offset:r-a};a=m}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=C(h)}}function G(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?G(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function J(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=Qe(a.document);r instanceof a.HTMLIFrameElement;){try{var h=typeof r.contentWindow.location.href=="string"}catch{h=!1}if(h)a=r.contentWindow;else break;r=Qe(a.document)}return r}function it(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var ct=ha&&"documentMode"in document&&11>=document.documentMode,dt=null,_t=null,wt=null,jt=!1;function vt(a,r,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;jt||dt==null||dt!==Qe(m)||(m=dt,"selectionStart"in m&&it(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wt&&b(wt,m)||(wt=m,m=Y0(_t,"onSelect"),0<m.length&&(r=new du("onSelect","select",null,r,h),a.push({event:r,listeners:m}),r.target=dt)))}function Mt(a,r){var h={};return h[a.toLowerCase()]=r.toLowerCase(),h["Webkit"+a]="webkit"+r,h["Moz"+a]="moz"+r,h}var Et={animationend:Mt("Animation","AnimationEnd"),animationiteration:Mt("Animation","AnimationIteration"),animationstart:Mt("Animation","AnimationStart"),transitionrun:Mt("Transition","TransitionRun"),transitionstart:Mt("Transition","TransitionStart"),transitioncancel:Mt("Transition","TransitionCancel"),transitionend:Mt("Transition","TransitionEnd")},At={},Ot={};ha&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);function Dt(a){if(At[a])return At[a];if(!Et[a])return a;var r=Et[a],h;for(h in r)if(r.hasOwnProperty(h)&&h in Ot)return At[a]=r[h];return a}var Pt=Dt("animationend"),It=Dt("animationiteration"),ee=Dt("animationstart"),se=Dt("transitionrun"),be=Dt("transitionstart"),Oe=Dt("transitioncancel"),ge=Dt("transitionend"),he=new Map,Re="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Re.push("scrollEnd");function ye(a,r){he.set(a,r),Zs(r,[a])}var De=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Fe=[],Je=0,Ie=0;function pa(){for(var a=Je,r=Ie=Je=0;r<a;){var h=Fe[r];Fe[r++]=null;var m=Fe[r];Fe[r++]=null;var w=Fe[r];Fe[r++]=null;var A=Fe[r];if(Fe[r++]=null,m!==null&&w!==null){var I=m.pending;I===null?w.next=w:(w.next=I.next,I.next=w),m.pending=w}A!==0&&Bs(h,w,A)}}function He(a,r,h,m){Fe[Je++]=a,Fe[Je++]=r,Fe[Je++]=h,Fe[Je++]=m,Ie|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Zi(a,r,h,m){return He(a,r,h,m),ni(a)}function Pn(a,r){return He(a,null,null,r),ni(a)}function Bs(a,r,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var w=!1,A=a.return;A!==null;)A.childLanes|=h,m=A.alternate,m!==null&&(m.childLanes|=h),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(w=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,w&&r!==null&&(w=31-pe(h),a=A.hiddenUpdates,m=a[w],m===null?a[w]=[r]:m.push(r),r.lane=h|536870912),A):null}function ni(a){if(50<Fl)throw Fl=0,Iu=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var Ya={};function Eu(a,r,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(a,r,h,m){return new Eu(a,r,h,m)}function Eh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ms(a,r){var h=a.alternate;return h===null?(h=Ci(a.tag,r,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=r,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,r=a.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function vc(a,r){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,r=h.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function to(a,r,h,m,w,A){var I=0;if(m=a,typeof a=="function")Eh(a)&&(I=1);else if(typeof a=="string")I=Rw(a,h,pt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case j:return a=Ci(31,h,r,w),a.elementType=j,a.lanes=A,a;case T:return Rl(h.children,w,A,r);case M:I=8,w|=24;break;case O:return a=Ci(12,h,r,w|2),a.elementType=O,a.lanes=A,a;case F:return a=Ci(13,h,r,w),a.elementType=F,a.lanes=A,a;case nt:return a=Ci(19,h,r,w),a.elementType=nt,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:I=10;break t;case R:I=9;break t;case H:I=11;break t;case X:I=14;break t;case z:I=16,m=null;break t}I=29,h=Error(i(130,a===null?"null":typeof a,"")),m=null}return r=Ci(I,h,r,w),r.elementType=a,r.type=m,r.lanes=A,r}function Rl(a,r,h,m){return a=Ci(7,a,m,r),a.lanes=h,a}function Th(a,r,h){return a=Ci(6,a,null,r),a.lanes=h,a}function xc(a){var r=Ci(18,null,null,0);return r.stateNode=a,r}function Ch(a,r,h){return r=Ci(4,a.children!==null?a.children:[],a.key,r),r.lanes=h,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var wf=new WeakMap;function Ls(a,r){if(typeof a=="object"&&a!==null){var h=wf.get(a);return h!==void 0?h:(r={value:a,source:r,stack:et(r)},wf.set(a,r),r)}return{value:a,source:r,stack:et(r)}}var Ol=[],Ml=0,bc=null,Sc=0,gs=[],gi=0,qo=null,Ai=1,Mr="";function eo(a,r){Ol[Ml++]=Sc,Ol[Ml++]=bc,bc=a,Sc=r}function Jm(a,r,h){gs[gi++]=Ai,gs[gi++]=Mr,gs[gi++]=qo,qo=a;var m=Ai;a=Mr;var w=32-pe(m)-1;m&=~(1<<w),h+=1;var A=32-pe(r)+w;if(30<A){var I=w-w%5;A=(m&(1<<I)-1).toString(32),m>>=I,w-=I,Ai=1<<32-pe(r)+w|h<<w|m,Mr=A+a}else Ai=1<<A|h<<w|m,Mr=a}function no(a){a.return!==null&&(eo(a,1),Jm(a,1,0))}function Ah(a){for(;a===bc;)bc=Ol[--Ml],Ol[Ml]=null,Sc=Ol[--Ml],Ol[Ml]=null;for(;a===qo;)qo=gs[--gi],gs[gi]=null,Mr=gs[--gi],gs[gi]=null,Ai=gs[--gi],gs[gi]=null}function Rh(a,r){gs[gi++]=Ai,gs[gi++]=Mr,gs[gi++]=qo,Ai=r.id,Mr=r.overflow,qo=a}var Gi=null,li=null,Dn=!1,Fo=null,Us=!1,_c=Error(i(519));function io(a){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(Ls(r,a)),_c}function Wm(a){var r=a.stateNode,h=a.type,m=a.memoizedProps;switch(r[Xn]=a,r[Ei]=m,h){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(h=0;h<fr.length;h++)kn(fr[h],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":kn("invalid",r),vl(r,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":kn("invalid",r);break;case"textarea":kn("invalid",r),Do(r,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||r.textContent===""+h||m.suppressHydrationWarning===!0||Lx(r.textContent,h)?(m.popover!=null&&(kn("beforetoggle",r),kn("toggle",r)),m.onScroll!=null&&kn("scroll",r),m.onScrollEnd!=null&&kn("scrollend",r),m.onClick!=null&&(r.onclick=hs),r=!0):r=!1,r||io(a,!0)}function $m(a){for(Gi=a.return;Gi;)switch(Gi.tag){case 5:case 31:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:Gi=Gi.return}}function wc(a){if(a!==Gi)return!1;if(!Dn)return $m(a),Dn=!0,!1;var r=a.tag,h;if((h=r!==3&&r!==27)&&((h=r===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Jy(a.type,a.memoizedProps)),h=!h),h&&li&&io(a),$m(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));li=Kx(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));li=Kx(a)}else r===27?(r=li,Ic(a.type)?(a=n1,n1=null,li=a):li=r):li=Gi?xo(a.stateNode.nextSibling):null;return!0}function Nl(){li=Gi=null,Dn=!1}function Oh(){var a=Fo;return a!==null&&(Vi===null?Vi=a:Vi.push.apply(Vi,a),Fo=null),a}function ao(a){Fo===null?Fo=[a]:Fo.push(a)}var Ec=Y(null),Dl=null,so=null;function Ko(a,r,h){ft(Ec,r._currentValue),r._currentValue=h}function ro(a){a._currentValue=Ec.current,$(Ec)}function Mh(a,r,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),a===h)break;a=a.return}}function Nh(a,r,h,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var A=w.dependencies;if(A!==null){var I=w.child;A=A.firstContext;t:for(;A!==null;){var lt=A;A=w;for(var bt=0;bt<r.length;bt++)if(lt.context===r[bt]){A.lanes|=h,lt=A.alternate,lt!==null&&(lt.lanes|=h),Mh(A.return,h,a),m||(I=null);break t}A=lt.next}}else if(w.tag===18){if(I=w.return,I===null)throw Error(i(341));I.lanes|=h,A=I.alternate,A!==null&&(A.lanes|=h),Mh(I,h,a),I=null}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===a){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}}function oo(a,r,h,m){a=null;for(var w=r,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var I=w.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var lt=w.type;Sa(w.pendingProps.value,I.value)||(a!==null?a.push(lt):a=[lt])}}else if(w===Qt.current){if(I=w.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Bp):a=[Bp])}w=w.return}a!==null&&Nh(r,a,h,m),r.flags|=262144}function Ef(a){for(a=a.firstContext;a!==null;){if(!Sa(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zl(a){Dl=a,so=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function en(a){return t0(Dl,a)}function Tc(a,r){return Dl===null&&zl(a),t0(a,r)}function t0(a,r){var h=r._currentValue;if(r={context:r,memoizedValue:h,next:null},so===null){if(a===null)throw Error(i(308));so=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else so=so.next=r;return h}var e0=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){r.aborted=!0,a.forEach(function(h){return h()})}},By=e.unstable_scheduleCallback,Ly=e.unstable_NormalPriority,ra={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new e0,data:new Map,refCount:0}}function Tu(a){a.refCount--,a.refCount===0&&By(Ly,function(){a.controller.abort()})}var Hs=null,Dh=0,Yo=0,$s=null;function Pd(a,r){if(Hs===null){var h=Hs=[];Dh=0,Yo=Jt(),$s={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Dh++,r.then(Vd,Vd),r}function Vd(){if(--Dh===0&&Hs!==null){$s!==null&&($s.status="fulfilled");var a=Hs;Hs=null,Yo=0,$s=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function Id(a,r){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return a.then(function(){m.status="fulfilled",m.value=r;for(var w=0;w<h.length;w++)(0,h[w])(r)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var n0=K.S;K.S=function(a,r){Mp=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Pd(a,r),n0!==null&&n0(a,r)};var jl=Y(null);function zh(){var a=jl.current;return a!==null?a:rn.pooledCache}function Tf(a,r){r===null?ft(jl,jl.current):ft(jl,r.pool)}function qd(){var a=zh();return a===null?null:{parent:ra._currentValue,pool:a}}var Cu=Error(i(460)),Cf=Error(i(474)),vn=Error(i(542)),jh={then:function(){}};function ys(a){return a=a.status,a==="fulfilled"||a==="rejected"}function kh(a,r,h){switch(h=a[h],h===void 0?a.push(r):h!==r&&(r.then(hs,hs),r=h),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Ou(a),a;default:if(typeof r.status=="string")r.then(hs,hs);else{if(a=rn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(m){if(r.status==="pending"){var w=r;w.status="fulfilled",w.value=m}},function(m){if(r.status==="pending"){var w=r;w.status="rejected",w.reason=m}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Ou(a),a}throw lo=r,Cu}}function Au(a){try{var r=a._init;return r(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(lo=h,Cu):h}}var lo=null;function Ru(){if(lo===null)throw Error(i(459));var a=lo;return lo=null,a}function Ou(a){if(a===Cu||a===vn)throw Error(i(483))}var Mu=null,Nu=0;function Af(a){var r=Nu;return Nu+=1,Mu===null&&(Mu=[]),kh(Mu,a,r)}function tr(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function Cc(a,r){throw r.$$typeof===x?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function Bh(a){function r(Bt,Tt){if(a){var Vt=Bt.deletions;Vt===null?(Bt.deletions=[Tt],Bt.flags|=16):Vt.push(Tt)}}function h(Bt,Tt){if(!a)return null;for(;Tt!==null;)r(Bt,Tt),Tt=Tt.sibling;return null}function m(Bt){for(var Tt=new Map;Bt!==null;)Bt.key!==null?Tt.set(Bt.key,Bt):Tt.set(Bt.index,Bt),Bt=Bt.sibling;return Tt}function w(Bt,Tt){return Bt=ms(Bt,Tt),Bt.index=0,Bt.sibling=null,Bt}function A(Bt,Tt,Vt){return Bt.index=Vt,a?(Vt=Bt.alternate,Vt!==null?(Vt=Vt.index,Vt<Tt?(Bt.flags|=67108866,Tt):Vt):(Bt.flags|=67108866,Tt)):(Bt.flags|=1048576,Tt)}function I(Bt){return a&&Bt.alternate===null&&(Bt.flags|=67108866),Bt}function lt(Bt,Tt,Vt,ae){return Tt===null||Tt.tag!==6?(Tt=Th(Vt,Bt.mode,ae),Tt.return=Bt,Tt):(Tt=w(Tt,Vt),Tt.return=Bt,Tt)}function bt(Bt,Tt,Vt,ae){var Xe=Vt.type;return Xe===T?ne(Bt,Tt,Vt.props.children,ae,Vt.key):Tt!==null&&(Tt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===z&&Au(Xe)===Tt.type)?(Tt=w(Tt,Vt.props),tr(Tt,Vt),Tt.return=Bt,Tt):(Tt=to(Vt.type,Vt.key,Vt.props,null,Bt.mode,ae),tr(Tt,Vt),Tt.return=Bt,Tt)}function qt(Bt,Tt,Vt,ae){return Tt===null||Tt.tag!==4||Tt.stateNode.containerInfo!==Vt.containerInfo||Tt.stateNode.implementation!==Vt.implementation?(Tt=Ch(Vt,Bt.mode,ae),Tt.return=Bt,Tt):(Tt=w(Tt,Vt.children||[]),Tt.return=Bt,Tt)}function ne(Bt,Tt,Vt,ae,Xe){return Tt===null||Tt.tag!==7?(Tt=Rl(Vt,Bt.mode,ae,Xe),Tt.return=Bt,Tt):(Tt=w(Tt,Vt),Tt.return=Bt,Tt)}function re(Bt,Tt,Vt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Tt=Th(""+Tt,Bt.mode,Vt),Tt.return=Bt,Tt;if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case _:return Vt=to(Tt.type,Tt.key,Tt.props,null,Bt.mode,Vt),tr(Vt,Tt),Vt.return=Bt,Vt;case E:return Tt=Ch(Tt,Bt.mode,Vt),Tt.return=Bt,Tt;case z:return Tt=Au(Tt),re(Bt,Tt,Vt)}if(Z(Tt)||U(Tt))return Tt=Rl(Tt,Bt.mode,Vt,null),Tt.return=Bt,Tt;if(typeof Tt.then=="function")return re(Bt,Af(Tt),Vt);if(Tt.$$typeof===B)return re(Bt,Tc(Bt,Tt),Vt);Cc(Bt,Tt)}return null}function Xt(Bt,Tt,Vt,ae){var Xe=Tt!==null?Tt.key:null;if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return Xe!==null?null:lt(Bt,Tt,""+Vt,ae);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case _:return Vt.key===Xe?bt(Bt,Tt,Vt,ae):null;case E:return Vt.key===Xe?qt(Bt,Tt,Vt,ae):null;case z:return Vt=Au(Vt),Xt(Bt,Tt,Vt,ae)}if(Z(Vt)||U(Vt))return Xe!==null?null:ne(Bt,Tt,Vt,ae,null);if(typeof Vt.then=="function")return Xt(Bt,Tt,Af(Vt),ae);if(Vt.$$typeof===B)return Xt(Bt,Tt,Tc(Bt,Vt),ae);Cc(Bt,Vt)}return null}function $t(Bt,Tt,Vt,ae,Xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Bt=Bt.get(Vt)||null,lt(Tt,Bt,""+ae,Xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return Bt=Bt.get(ae.key===null?Vt:ae.key)||null,bt(Tt,Bt,ae,Xe);case E:return Bt=Bt.get(ae.key===null?Vt:ae.key)||null,qt(Tt,Bt,ae,Xe);case z:return ae=Au(ae),$t(Bt,Tt,Vt,ae,Xe)}if(Z(ae)||U(ae))return Bt=Bt.get(Vt)||null,ne(Tt,Bt,ae,Xe,null);if(typeof ae.then=="function")return $t(Bt,Tt,Vt,Af(ae),Xe);if(ae.$$typeof===B)return $t(Bt,Tt,Vt,Tc(Tt,ae),Xe);Cc(Tt,ae)}return null}function Ue(Bt,Tt,Vt,ae){for(var Xe=null,qn=null,Pe=Tt,_n=Tt=0,Ln=null;Pe!==null&&_n<Vt.length;_n++){Pe.index>_n?(Ln=Pe,Pe=null):Ln=Pe.sibling;var Fn=Xt(Bt,Pe,Vt[_n],ae);if(Fn===null){Pe===null&&(Pe=Ln);break}a&&Pe&&Fn.alternate===null&&r(Bt,Pe),Tt=A(Fn,Tt,_n),qn===null?Xe=Fn:qn.sibling=Fn,qn=Fn,Pe=Ln}if(_n===Vt.length)return h(Bt,Pe),Dn&&eo(Bt,_n),Xe;if(Pe===null){for(;_n<Vt.length;_n++)Pe=re(Bt,Vt[_n],ae),Pe!==null&&(Tt=A(Pe,Tt,_n),qn===null?Xe=Pe:qn.sibling=Pe,qn=Pe);return Dn&&eo(Bt,_n),Xe}for(Pe=m(Pe);_n<Vt.length;_n++)Ln=$t(Pe,Bt,_n,Vt[_n],ae),Ln!==null&&(a&&Ln.alternate!==null&&Pe.delete(Ln.key===null?_n:Ln.key),Tt=A(Ln,Tt,_n),qn===null?Xe=Ln:qn.sibling=Ln,qn=Ln);return a&&Pe.forEach(function(Xc){return r(Bt,Xc)}),Dn&&eo(Bt,_n),Xe}function $e(Bt,Tt,Vt,ae){if(Vt==null)throw Error(i(151));for(var Xe=null,qn=null,Pe=Tt,_n=Tt=0,Ln=null,Fn=Vt.next();Pe!==null&&!Fn.done;_n++,Fn=Vt.next()){Pe.index>_n?(Ln=Pe,Pe=null):Ln=Pe.sibling;var Xc=Xt(Bt,Pe,Fn.value,ae);if(Xc===null){Pe===null&&(Pe=Ln);break}a&&Pe&&Xc.alternate===null&&r(Bt,Pe),Tt=A(Xc,Tt,_n),qn===null?Xe=Xc:qn.sibling=Xc,qn=Xc,Pe=Ln}if(Fn.done)return h(Bt,Pe),Dn&&eo(Bt,_n),Xe;if(Pe===null){for(;!Fn.done;_n++,Fn=Vt.next())Fn=re(Bt,Fn.value,ae),Fn!==null&&(Tt=A(Fn,Tt,_n),qn===null?Xe=Fn:qn.sibling=Fn,qn=Fn);return Dn&&eo(Bt,_n),Xe}for(Pe=m(Pe);!Fn.done;_n++,Fn=Vt.next())Fn=$t(Pe,Bt,_n,Fn.value,ae),Fn!==null&&(a&&Fn.alternate!==null&&Pe.delete(Fn.key===null?_n:Fn.key),Tt=A(Fn,Tt,_n),qn===null?Xe=Fn:qn.sibling=Fn,qn=Fn);return a&&Pe.forEach(function(Hw){return r(Bt,Hw)}),Dn&&eo(Bt,_n),Xe}function fi(Bt,Tt,Vt,ae){if(typeof Vt=="object"&&Vt!==null&&Vt.type===T&&Vt.key===null&&(Vt=Vt.props.children),typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case _:t:{for(var Xe=Vt.key;Tt!==null;){if(Tt.key===Xe){if(Xe=Vt.type,Xe===T){if(Tt.tag===7){h(Bt,Tt.sibling),ae=w(Tt,Vt.props.children),ae.return=Bt,Bt=ae;break t}}else if(Tt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===z&&Au(Xe)===Tt.type){h(Bt,Tt.sibling),ae=w(Tt,Vt.props),tr(ae,Vt),ae.return=Bt,Bt=ae;break t}h(Bt,Tt);break}else r(Bt,Tt);Tt=Tt.sibling}Vt.type===T?(ae=Rl(Vt.props.children,Bt.mode,ae,Vt.key),ae.return=Bt,Bt=ae):(ae=to(Vt.type,Vt.key,Vt.props,null,Bt.mode,ae),tr(ae,Vt),ae.return=Bt,Bt=ae)}return I(Bt);case E:t:{for(Xe=Vt.key;Tt!==null;){if(Tt.key===Xe)if(Tt.tag===4&&Tt.stateNode.containerInfo===Vt.containerInfo&&Tt.stateNode.implementation===Vt.implementation){h(Bt,Tt.sibling),ae=w(Tt,Vt.children||[]),ae.return=Bt,Bt=ae;break t}else{h(Bt,Tt);break}else r(Bt,Tt);Tt=Tt.sibling}ae=Ch(Vt,Bt.mode,ae),ae.return=Bt,Bt=ae}return I(Bt);case z:return Vt=Au(Vt),fi(Bt,Tt,Vt,ae)}if(Z(Vt))return Ue(Bt,Tt,Vt,ae);if(U(Vt)){if(Xe=U(Vt),typeof Xe!="function")throw Error(i(150));return Vt=Xe.call(Vt),$e(Bt,Tt,Vt,ae)}if(typeof Vt.then=="function")return fi(Bt,Tt,Af(Vt),ae);if(Vt.$$typeof===B)return fi(Bt,Tt,Tc(Bt,Vt),ae);Cc(Bt,Vt)}return typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint"?(Vt=""+Vt,Tt!==null&&Tt.tag===6?(h(Bt,Tt.sibling),ae=w(Tt,Vt),ae.return=Bt,Bt=ae):(h(Bt,Tt),ae=Th(Vt,Bt.mode,ae),ae.return=Bt,Bt=ae),I(Bt)):h(Bt,Tt)}return function(Bt,Tt,Vt,ae){try{Nu=0;var Xe=fi(Bt,Tt,Vt,ae);return Mu=null,Xe}catch(Pe){if(Pe===Cu||Pe===vn)throw Pe;var qn=Ci(29,Pe,null,Bt.mode);return qn.lanes=ae,qn.return=Bt,qn}}}var Xo=Bh(!0),Lh=Bh(!1),ts=!1;function Rf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Zo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function kl(a,r,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ve&2)!==0){var w=m.pending;return w===null?r.next=r:(r.next=w.next,w.next=r),m.pending=r,r=ni(a),Bs(a,null,h),r}return He(a,m,r,h),ni(a)}function Bl(a,r,h){if(r=r.updateQueue,r!==null&&(r=r.shared,(h&4194048)!==0)){var m=r.lanes;m&=a.pendingLanes,h|=m,r.lanes=h,In(a,h)}}function Ye(a,r){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?w=A=I:A=A.next=I,h=h.next}while(h!==null);A===null?w=A=r:A=A.next=r}else w=A=r;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=r:a.next=r,h.lastBaseUpdate=r}var Kd=!1;function Of(){if(Kd){var a=$s;if(a!==null)throw a}}function Ac(a,r,h,m){Kd=!1;var w=a.updateQueue;ts=!1;var A=w.firstBaseUpdate,I=w.lastBaseUpdate,lt=w.shared.pending;if(lt!==null){w.shared.pending=null;var bt=lt,qt=bt.next;bt.next=null,I===null?A=qt:I.next=qt,I=bt;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,lt=ne.lastBaseUpdate,lt!==I&&(lt===null?ne.firstBaseUpdate=qt:lt.next=qt,ne.lastBaseUpdate=bt))}if(A!==null){var re=w.baseState;I=0,ne=qt=bt=null,lt=A;do{var Xt=lt.lane&-536870913,$t=Xt!==lt.lane;if($t?(gn&Xt)===Xt:(m&Xt)===Xt){Xt!==0&&Xt===Yo&&(Kd=!0),ne!==null&&(ne=ne.next={lane:0,tag:lt.tag,payload:lt.payload,callback:null,next:null});t:{var Ue=a,$e=lt;Xt=r;var fi=h;switch($e.tag){case 1:if(Ue=$e.payload,typeof Ue=="function"){re=Ue.call(fi,re,Xt);break t}re=Ue;break t;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=$e.payload,Xt=typeof Ue=="function"?Ue.call(fi,re,Xt):Ue,Xt==null)break t;re=v({},re,Xt);break t;case 2:ts=!0}}Xt=lt.callback,Xt!==null&&(a.flags|=64,$t&&(a.flags|=8192),$t=w.callbacks,$t===null?w.callbacks=[Xt]:$t.push(Xt))}else $t={lane:Xt,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},ne===null?(qt=ne=$t,bt=re):ne=ne.next=$t,I|=Xt;if(lt=lt.next,lt===null){if(lt=w.shared.pending,lt===null)break;$t=lt,lt=$t.next,$t.next=null,w.lastBaseUpdate=$t,w.shared.pending=null}}while(!0);ne===null&&(bt=re),w.baseState=bt,w.firstBaseUpdate=qt,w.lastBaseUpdate=ne,A===null&&(w.shared.lanes=0),go|=I,a.lanes=I,a.memoizedState=re}}function Rc(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function i0(a,r){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Rc(h[a],r)}var Oc=Y(null),Uh=Y(0);function a0(a,r){a=Is,ft(Uh,a),ft(Oc,r),Is=a|r.baseLanes}function Yd(){ft(Uh,Is),ft(Oc,Oc.current)}function Mf(){Is=Uh.current,$(Oc),$(Uh)}var vs=Y(null),es=null;function Qo(a){var r=a.alternate;ft(zn,zn.current&1),ft(vs,a),es===null&&(r===null||Oc.current!==null||r.memoizedState!==null)&&(es=a)}function Xd(a){ft(zn,zn.current),ft(vs,a),es===null&&(es=a)}function s0(a){a.tag===22?(ft(zn,zn.current),ft(vs,a),es===null&&(es=a)):xs()}function xs(){ft(zn,zn.current),ft(vs,vs.current)}function Qi(a){$(vs),es===a&&(es=null),$(zn)}var zn=Y(0);function Gs(a){for(var r=a;r!==null;){if(r.tag===13){var h=r.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||t1(h)||e1(h)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yi=0,hn=null,ii=null,An=null,er=!1,Mc=!1,Du=!1,Hh=0,Nf=0,Nc=null,Zd=0;function Ri(){throw Error(i(321))}function Qd(a,r){if(r===null)return!1;for(var h=0;h<r.length&&h<a.length;h++)if(!Sa(a[h],r[h]))return!1;return!0}function Gh(a,r,h,m,w,A){return yi=A,hn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=a===null||a.memoizedState===null?L0:gp,Du=!1,A=h(m,w),Du=!1,Mc&&(A=zu(r,h,m,w)),r0(a),A}function r0(a){K.H=Dc;var r=ii!==null&&ii.next!==null;if(yi=0,An=ii=hn=null,er=!1,Nf=0,Nc=null,r)throw Error(i(300));a===null||oa||(a=a.dependencies,a!==null&&Ef(a)&&(oa=!0))}function zu(a,r,h,m){hn=a;var w=0;do{if(Mc&&(Nc=null),Nf=0,Mc=!1,25<=w)throw Error(i(301));if(w+=1,An=ii=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}K.H=nr,A=r(h,m)}while(Mc);return A}function ju(){var a=K.H,r=a.useState()[0];return r=typeof r.then=="function"?Df(r):r,a=a.useState()[0],(ii!==null?ii.memoizedState:null)!==a&&(hn.flags|=1024),r}function Jd(){var a=Hh!==0;return Hh=0,a}function Wd(a,r,h){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~h}function $d(a){if(er){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}er=!1}yi=0,An=ii=hn=null,Mc=!1,Nf=Hh=0,Nc=null}function ma(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?hn.memoizedState=An=a:An=An.next=a,An}function Ji(){if(ii===null){var a=hn.alternate;a=a!==null?a.memoizedState:null}else a=ii.next;var r=An===null?hn.memoizedState:An.next;if(r!==null)An=r,ii=a;else{if(a===null)throw hn.alternate===null?Error(i(467)):Error(i(310));ii=a,a={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},An===null?hn.memoizedState=An=a:An=An.next=a}return An}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(a){var r=Nf;return Nf+=1,Nc===null&&(Nc=[]),a=kh(Nc,a,r),r=hn,(An===null?r.memoizedState:An.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?L0:gp),a}function Ll(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Df(a);if(a.$$typeof===B)return en(a)}throw Error(i(438,String(a)))}function tp(a){var r=null,h=hn.updateQueue;if(h!==null&&(r=h.memoCache),r==null){var m=hn.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(r={data:m.data.map(function(w){return w.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),h===null&&(h=Ph(),hn.updateQueue=h),h.memoCache=r,h=r.data[r.index],h===void 0)for(h=r.data[r.index]=Array(a),m=0;m<a;m++)h[m]=P;return r.index++,h}function Jo(a,r){return typeof r=="function"?r(a):r}function Vh(a){var r=Ji();return ep(r,ii,a)}function ep(a,r,h){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=h;var w=a.baseQueue,A=m.pending;if(A!==null){if(w!==null){var I=w.next;w.next=A.next,A.next=I}r.baseQueue=w=A,m.pending=null}if(A=a.baseState,w===null)a.memoizedState=A;else{r=w.next;var lt=I=null,bt=null,qt=r,ne=!1;do{var re=qt.lane&-536870913;if(re!==qt.lane?(gn&re)===re:(yi&re)===re){var Xt=qt.revertLane;if(Xt===0)bt!==null&&(bt=bt.next={lane:0,revertLane:0,gesture:null,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null}),re===Yo&&(ne=!0);else if((yi&Xt)===Xt){qt=qt.next,Xt===Yo&&(ne=!0);continue}else re={lane:0,revertLane:qt.revertLane,gesture:null,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(lt=bt=re,I=A):bt=bt.next=re,hn.lanes|=Xt,go|=Xt;re=qt.action,Du&&h(A,re),A=qt.hasEagerState?qt.eagerState:h(A,re)}else Xt={lane:re,revertLane:qt.revertLane,gesture:qt.gesture,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(lt=bt=Xt,I=A):bt=bt.next=Xt,hn.lanes|=re,go|=re;qt=qt.next}while(qt!==null&&qt!==r);if(bt===null?I=A:bt.next=lt,!Sa(A,a.memoizedState)&&(oa=!0,ne&&(h=$s,h!==null)))throw h;a.memoizedState=A,a.baseState=I,a.baseQueue=bt,m.lastRenderedState=A}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function np(a){var r=Ji(),h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var m=h.dispatch,w=h.pending,A=r.memoizedState;if(w!==null){h.pending=null;var I=w=w.next;do A=a(A,I.action),I=I.next;while(I!==w);Sa(A,r.memoizedState)||(oa=!0),r.memoizedState=A,r.baseQueue===null&&(r.baseState=A),h.lastRenderedState=A}return[A,m]}function o0(a,r,h){var m=hn,w=Ji(),A=Dn;if(A){if(h===void 0)throw Error(i(407));h=h()}else h=r();var I=!Sa((ii||w).memoizedState,h);if(I&&(w.memoizedState=h,oa=!0),w=w.queue,cp(c0.bind(null,m,w,a),[a]),w.getSnapshot!==r||I||An!==null&&An.memoizedState.tag&1){if(m.flags|=2048,Ul(9,{destroy:void 0},u0.bind(null,m,w,h,r),null),rn===null)throw Error(i(349));A||(yi&127)!==0||l0(m,r,h)}return h}function l0(a,r,h){a.flags|=16384,a={getSnapshot:r,value:h},r=hn.updateQueue,r===null?(r=Ph(),hn.updateQueue=r,r.stores=[a]):(h=r.stores,h===null?r.stores=[a]:h.push(a))}function u0(a,r,h,m){r.value=h,r.getSnapshot=m,f0(r)&&h0(a)}function c0(a,r,h){return h(function(){f0(r)&&h0(a)})}function f0(a){var r=a.getSnapshot;a=a.value;try{var h=r();return!Sa(a,h)}catch{return!0}}function h0(a){var r=Pn(a,2);r!==null&&bn(r,a,2)}function ip(a){var r=ma();if(typeof a=="function"){var h=a;if(a=h(),Du){tn(!0);try{h()}finally{tn(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:a},r}function ap(a,r,h,m){return a.baseState=h,ep(a,ii,typeof m=="function"?m:Jo)}function Uy(a,r,h,m,w){if(Kh(a))throw Error(i(485));if(a=r.action,a!==null){var A={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){A.listeners.push(I)}};K.T!==null?h(!0):A.isTransition=!1,m(A),h=r.pending,h===null?(A.next=r.pending=A,d0(r,A)):(A.next=h.next,r.pending=h.next=A)}}function d0(a,r){var h=r.action,m=r.payload,w=a.state;if(r.isTransition){var A=K.T,I={};K.T=I;try{var lt=h(w,m),bt=K.S;bt!==null&&bt(I,lt),p0(a,r,lt)}catch(qt){sp(a,r,qt)}finally{A!==null&&I.types!==null&&(A.types=I.types),K.T=A}}else try{A=h(w,m),p0(a,r,A)}catch(qt){sp(a,r,qt)}}function p0(a,r,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){m0(a,r,m)},function(m){return sp(a,r,m)}):m0(a,r,h)}function m0(a,r,h){r.status="fulfilled",r.value=h,g0(r),a.state=h,r=a.pending,r!==null&&(h=r.next,h===r?a.pending=null:(h=h.next,r.next=h,d0(a,h)))}function sp(a,r,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do r.status="rejected",r.reason=h,g0(r),r=r.next;while(r!==m)}a.action=null}function g0(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function rp(a,r){return r}function op(a,r){if(Dn){var h=rn.formState;if(h!==null){t:{var m=hn;if(Dn){if(li){e:{for(var w=li,A=Us;w.nodeType!==8;){if(!A){w=null;break e}if(w=xo(w.nextSibling),w===null){w=null;break e}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){li=xo(w.nextSibling),m=w.data==="F!";break t}}io(m)}m=!1}m&&(r=h[0])}}return h=ma(),h.memoizedState=h.baseState=r,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:r},h.queue=m,h=j0.bind(null,hn,m),m.dispatch=h,m=ip(!1),A=mp.bind(null,hn,!1,m.queue),m=ma(),w={state:r,dispatch:null,action:a,pending:null},m.queue=w,h=Uy.bind(null,hn,w,A,h),w.dispatch=h,m.memoizedState=a,[r,h,!1]}function y0(a){var r=Ji();return lp(r,ii,a)}function lp(a,r,h){if(r=ep(a,r,rp)[0],a=Vh(Jo)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var m=Df(r)}catch(I){throw I===Cu?vn:I}else m=r;r=Ji();var w=r.queue,A=w.dispatch;return h!==r.memoizedState&&(hn.flags|=2048,Ul(9,{destroy:void 0},v0.bind(null,w,h),null)),[m,A,a]}function v0(a,r){a.action=r}function up(a){var r=Ji(),h=ii;if(h!==null)return lp(r,h,a);Ji(),r=r.memoizedState,h=Ji();var m=h.queue.dispatch;return h.memoizedState=a,[r,m,!1]}function Ul(a,r,h,m){return a={tag:a,create:h,deps:m,inst:r,next:null},r=hn.updateQueue,r===null&&(r=Ph(),hn.updateQueue=r),h=r.lastEffect,h===null?r.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,r.lastEffect=a),a}function Ih(){return Ji().memoizedState}function qh(a,r,h,m){var w=ma();hn.flags|=a,w.memoizedState=Ul(1|r,{destroy:void 0},h,m===void 0?null:m)}function Fh(a,r,h,m){var w=Ji();m=m===void 0?null:m;var A=w.memoizedState.inst;ii!==null&&m!==null&&Qd(m,ii.memoizedState.deps)?w.memoizedState=Ul(r,A,h,m):(hn.flags|=a,w.memoizedState=Ul(1|r,A,h,m))}function x0(a,r){qh(8390656,8,a,r)}function cp(a,r){Fh(2048,8,a,r)}function b0(a){hn.flags|=4;var r=hn.updateQueue;if(r===null)r=Ph(),hn.updateQueue=r,r.events=[a];else{var h=r.events;h===null?r.events=[a]:h.push(a)}}function S0(a){var r=Ji().memoizedState;return b0({ref:r,nextImpl:a}),function(){if((Ve&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function _0(a,r){return Fh(4,2,a,r)}function w0(a,r){return Fh(4,4,a,r)}function E0(a,r){if(typeof r=="function"){a=a();var h=r(a);return function(){typeof h=="function"?h():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function T0(a,r,h){h=h!=null?h.concat([a]):null,Fh(4,4,E0.bind(null,r,a),h)}function fp(){}function C0(a,r){var h=Ji();r=r===void 0?null:r;var m=h.memoizedState;return r!==null&&Qd(r,m[1])?m[0]:(h.memoizedState=[a,r],a)}function A0(a,r){var h=Ji();r=r===void 0?null:r;var m=h.memoizedState;if(r!==null&&Qd(r,m[1]))return m[0];if(m=a(),Du){tn(!0);try{a()}finally{tn(!1)}}return h.memoizedState=[m,r],m}function hp(a,r,h){return h===void 0||(yi&1073741824)!==0&&(gn&261930)===0?a.memoizedState=r:(a.memoizedState=h,a=En(),hn.lanes|=a,go|=a,h)}function R0(a,r,h,m){return Sa(h,r)?h:Oc.current!==null?(a=hp(a,h,m),Sa(a,r)||(oa=!0),a):(yi&42)===0||(yi&1073741824)!==0&&(gn&261930)===0?(oa=!0,a.memoizedState=h):(a=En(),hn.lanes|=a,go|=a,r)}function O0(a,r,h,m,w){var A=Q.p;Q.p=A!==0&&8>A?A:8;var I=K.T,lt={};K.T=lt,mp(a,!1,r,h);try{var bt=w(),qt=K.S;if(qt!==null&&qt(lt,bt),bt!==null&&typeof bt=="object"&&typeof bt.then=="function"){var ne=Id(bt,m);zf(a,r,ne,Fs(a))}else zf(a,r,m,Fs(a))}catch(re){zf(a,r,{then:function(){},status:"rejected",reason:re},Fs())}finally{Q.p=A,I!==null&&lt.types!==null&&(I.types=lt.types),K.T=I}}function Hy(){}function dp(a,r,h,m){if(a.tag!==5)throw Error(i(476));var w=M0(a).queue;O0(a,w,r,tt,h===null?Hy:function(){return N0(a),h(m)})}function M0(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:tt},next:null};var h={};return r.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:h},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function N0(a){var r=M0(a);r.next===null&&(r=a.alternate.memoizedState),zf(a,r.next.queue,{},Fs())}function pp(){return en(Bp)}function D0(){return Ji().memoizedState}function z0(){return Ji().memoizedState}function Gy(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var h=Fs();a=Zo(h);var m=kl(r,a,h);m!==null&&(bn(m,r,h),Bl(m,r,h)),r={cache:Gd()},a.payload=r;return}r=r.return}}function Py(a,r,h){var m=Fs();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Kh(a)?k0(r,h):(h=Zi(a,r,h,m),h!==null&&(bn(h,a,m),B0(h,r,m)))}function j0(a,r,h){var m=Fs();zf(a,r,h,m)}function zf(a,r,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Kh(a))k0(r,w);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=r.lastRenderedReducer,A!==null))try{var I=r.lastRenderedState,lt=A(I,h);if(w.hasEagerState=!0,w.eagerState=lt,Sa(lt,I))return He(a,r,w,0),rn===null&&pa(),!1}catch{}if(h=Zi(a,r,w,m),h!==null)return bn(h,a,m),B0(h,r,m),!0}return!1}function mp(a,r,h,m){if(m={lane:2,revertLane:Jt(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Kh(a)){if(r)throw Error(i(479))}else r=Zi(a,h,m,2),r!==null&&bn(r,a,2)}function Kh(a){var r=a.alternate;return a===hn||r!==null&&r===hn}function k0(a,r){Mc=er=!0;var h=a.pending;h===null?r.next=r:(r.next=h.next,h.next=r),a.pending=r}function B0(a,r,h){if((h&4194048)!==0){var m=r.lanes;m&=a.pendingLanes,h|=m,r.lanes=h,In(a,h)}}var Dc={readContext:en,use:Ll,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useLayoutEffect:Ri,useInsertionEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useSyncExternalStore:Ri,useId:Ri,useHostTransitionStatus:Ri,useFormState:Ri,useActionState:Ri,useOptimistic:Ri,useMemoCache:Ri,useCacheRefresh:Ri};Dc.useEffectEvent=Ri;var L0={readContext:en,use:Ll,useCallback:function(a,r){return ma().memoizedState=[a,r===void 0?null:r],a},useContext:en,useEffect:x0,useImperativeHandle:function(a,r,h){h=h!=null?h.concat([a]):null,qh(4194308,4,E0.bind(null,r,a),h)},useLayoutEffect:function(a,r){return qh(4194308,4,a,r)},useInsertionEffect:function(a,r){qh(4,2,a,r)},useMemo:function(a,r){var h=ma();r=r===void 0?null:r;var m=a();if(Du){tn(!0);try{a()}finally{tn(!1)}}return h.memoizedState=[m,r],m},useReducer:function(a,r,h){var m=ma();if(h!==void 0){var w=h(r);if(Du){tn(!0);try{h(r)}finally{tn(!1)}}}else w=r;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=Py.bind(null,hn,a),[m.memoizedState,a]},useRef:function(a){var r=ma();return a={current:a},r.memoizedState=a},useState:function(a){a=ip(a);var r=a.queue,h=j0.bind(null,hn,r);return r.dispatch=h,[a.memoizedState,h]},useDebugValue:fp,useDeferredValue:function(a,r){var h=ma();return hp(h,a,r)},useTransition:function(){var a=ip(!1);return a=O0.bind(null,hn,a.queue,!0,!1),ma().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,h){var m=hn,w=ma();if(Dn){if(h===void 0)throw Error(i(407));h=h()}else{if(h=r(),rn===null)throw Error(i(349));(gn&127)!==0||l0(m,r,h)}w.memoizedState=h;var A={value:h,getSnapshot:r};return w.queue=A,x0(c0.bind(null,m,A,a),[a]),m.flags|=2048,Ul(9,{destroy:void 0},u0.bind(null,m,A,h,r),null),h},useId:function(){var a=ma(),r=rn.identifierPrefix;if(Dn){var h=Mr,m=Ai;h=(m&~(1<<32-pe(m)-1)).toString(32)+h,r="_"+r+"R_"+h,h=Hh++,0<h&&(r+="H"+h.toString(32)),r+="_"}else h=Zd++,r="_"+r+"r_"+h.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:pp,useFormState:op,useActionState:op,useOptimistic:function(a){var r=ma();r.memoizedState=r.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=h,r=mp.bind(null,hn,!0,h),h.dispatch=r,[a,r]},useMemoCache:tp,useCacheRefresh:function(){return ma().memoizedState=Gy.bind(null,hn)},useEffectEvent:function(a){var r=ma(),h={impl:a};return r.memoizedState=h,function(){if((Ve&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},gp={readContext:en,use:Ll,useCallback:C0,useContext:en,useEffect:cp,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:w0,useMemo:A0,useReducer:Vh,useRef:Ih,useState:function(){return Vh(Jo)},useDebugValue:fp,useDeferredValue:function(a,r){var h=Ji();return R0(h,ii.memoizedState,a,r)},useTransition:function(){var a=Vh(Jo)[0],r=Ji().memoizedState;return[typeof a=="boolean"?a:Df(a),r]},useSyncExternalStore:o0,useId:D0,useHostTransitionStatus:pp,useFormState:y0,useActionState:y0,useOptimistic:function(a,r){var h=Ji();return ap(h,ii,a,r)},useMemoCache:tp,useCacheRefresh:z0};gp.useEffectEvent=S0;var nr={readContext:en,use:Ll,useCallback:C0,useContext:en,useEffect:cp,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:w0,useMemo:A0,useReducer:np,useRef:Ih,useState:function(){return np(Jo)},useDebugValue:fp,useDeferredValue:function(a,r){var h=Ji();return ii===null?hp(h,a,r):R0(h,ii.memoizedState,a,r)},useTransition:function(){var a=np(Jo)[0],r=Ji().memoizedState;return[typeof a=="boolean"?a:Df(a),r]},useSyncExternalStore:o0,useId:D0,useHostTransitionStatus:pp,useFormState:up,useActionState:up,useOptimistic:function(a,r){var h=Ji();return ii!==null?ap(h,ii,a,r):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:tp,useCacheRefresh:z0};nr.useEffectEvent=S0;function Yh(a,r,h,m){r=a.memoizedState,h=h(m,r),h=h==null?r:v({},r,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var jf={enqueueSetState:function(a,r,h){a=a._reactInternals;var m=Fs(),w=Zo(m);w.payload=r,h!=null&&(w.callback=h),r=kl(a,w,m),r!==null&&(bn(r,a,m),Bl(r,a,m))},enqueueReplaceState:function(a,r,h){a=a._reactInternals;var m=Fs(),w=Zo(m);w.tag=1,w.payload=r,h!=null&&(w.callback=h),r=kl(a,w,m),r!==null&&(bn(r,a,m),Bl(r,a,m))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var h=Fs(),m=Zo(h);m.tag=2,r!=null&&(m.callback=r),r=kl(a,m,h),r!==null&&(bn(r,a,h),Bl(r,a,h))}};function yp(a,r,h,m,w,A,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,A,I):r.prototype&&r.prototype.isPureReactComponent?!b(h,m)||!b(w,A):!0}function vp(a,r,h,m){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(h,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(h,m),r.state!==a&&jf.enqueueReplaceState(r,r.state,null)}function Hl(a,r){var h=r;if("ref"in r){h={};for(var m in r)m!=="ref"&&(h[m]=r[m])}if(a=a.defaultProps){h===r&&(h=v({},h));for(var w in a)h[w]===void 0&&(h[w]=a[w])}return h}function U0(a){De(a)}function xp(a){console.error(a)}function bp(a){De(a)}function Xh(a,r){try{var h=a.onUncaughtError;h(r.value,{componentStack:r.stack})}catch(m){setTimeout(function(){throw m})}}function H0(a,r,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Sp(a,r,h){return h=Zo(h),h.tag=3,h.payload={element:null},h.callback=function(){Xh(a,r)},h}function _p(a){return a=Zo(a),a.tag=3,a}function G0(a,r,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var A=m.value;a.payload=function(){return w(A)},a.callback=function(){H0(r,h,m)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){H0(r,h,m),typeof w!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var lt=m.stack;this.componentDidCatch(m.value,{componentStack:lt!==null?lt:""})})}function ga(a,r,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(r=h.alternate,r!==null&&oo(r,h,w,!0),h=vs.current,h!==null){switch(h.tag){case 31:case 13:return es===null?Hc():h.alternate===null&&Oi===0&&(Oi=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===jh?h.flags|=16384:(r=h.updateQueue,r===null?h.updateQueue=new Set([m]):r.add(m),Kf(a,m,w)),!1;case 22:return h.flags|=65536,m===jh?h.flags|=16384:(r=h.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=r):(h=r.retryQueue,h===null?r.retryQueue=new Set([m]):h.add(m)),Kf(a,m,w)),!1}throw Error(i(435,h.tag))}return Kf(a,m,w),Hc(),!1}if(Dn)return r=vs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=w,m!==_c&&(a=Error(i(422),{cause:m}),ao(Ls(a,h)))):(m!==_c&&(r=Error(i(423),{cause:m}),ao(Ls(r,h))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=Ls(m,h),w=Sp(a.stateNode,m,w),Ye(a,w),Oi!==4&&(Oi=2)),!1;var A=Error(i(520),{cause:m});if(A=Ls(A,h),Vu===null?Vu=[A]:Vu.push(A),Oi!==4&&(Oi=2),r===null)return!0;m=Ls(m,h),h=r;do{switch(h.tag){case 3:return h.flags|=65536,a=w&-w,h.lanes|=a,a=Sp(h.stateNode,m,a),Ye(h,a),!1;case 1:if(r=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ta===null||!ta.has(A))))return h.flags|=65536,w&=-w,h.lanes|=w,w=_p(w),G0(w,a,h,m),Ye(h,w),!1}h=h.return}while(h!==null);return!1}var Zh=Error(i(461)),oa=!1;function _a(a,r,h,m){r.child=a===null?Lh(r,null,h,m):Xo(r,a.child,h,m)}function wp(a,r,h,m,w){h=h.render;var A=r.ref;if("ref"in m){var I={};for(var lt in m)lt!=="ref"&&(I[lt]=m[lt])}else I=m;return zl(r),m=Gh(a,r,h,I,A,w),lt=Jd(),a!==null&&!oa?(Wd(a,r,w),Wi(a,r,w)):(Dn&&lt&&no(r),r.flags|=1,_a(a,r,m,w),r.child)}function ku(a,r,h,m,w){if(a===null){var A=h.type;return typeof A=="function"&&!Eh(A)&&A.defaultProps===void 0&&h.compare===null?(r.tag=15,r.type=A,Qh(a,r,A,m,w)):(a=to(h.type,null,m,r,r.mode,w),a.ref=r.ref,a.return=r,r.child=a)}if(A=a.child,!nd(a,w)){var I=A.memoizedProps;if(h=h.compare,h=h!==null?h:b,h(I,m)&&a.ref===r.ref)return Wi(a,r,w)}return r.flags|=1,a=ms(A,m),a.ref=r.ref,a.return=r,r.child=a}function Qh(a,r,h,m,w){if(a!==null){var A=a.memoizedProps;if(b(A,m)&&a.ref===r.ref)if(oa=!1,r.pendingProps=m=A,nd(a,w))(a.flags&131072)!==0&&(oa=!0);else return r.lanes=a.lanes,Wi(a,r,w)}return zc(a,r,h,m,w)}function Bu(a,r,h,m){var w=m.children,A=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((r.flags&128)!==0){if(A=A!==null?A.baseLanes|h:h,a!==null){for(m=r.child=a.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~A}else m=0,r.child=null;return bs(a,r,A,h,m)}if((h&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tf(r,A!==null?A.cachePool:null),A!==null?a0(r,A):Yd(),s0(r);else return m=r.lanes=536870912,bs(a,r,A!==null?A.baseLanes|h:h,h,m)}else A!==null?(Tf(r,A.cachePool),a0(r,A),xs(),r.memoizedState=null):(a!==null&&Tf(r,null),Yd(),xs());return _a(a,r,w,h),r.child}function uo(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function bs(a,r,h,m,w){var A=zh();return A=A===null?null:{parent:ra._currentValue,pool:A},r.memoizedState={baseLanes:h,cachePool:A},a!==null&&Tf(r,null),Yd(),s0(r),a!==null&&oo(a,r,m,!0),r.childLanes=w,null}function Jh(a,r){return r=ed({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function P0(a,r,h){return Xo(r,a.child,null,h),a=Jh(r,r.pendingProps),a.flags|=2,Qi(r),r.memoizedState=null,a}function Wh(a,r,h){var m=r.pendingProps,w=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(Dn){if(m.mode==="hidden")return a=Jh(r,m),r.lanes=536870912,uo(null,a);if(Xd(r),(a=li)?(a=Fx(a,Us),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:qo!==null?{id:Ai,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},h=xc(a),h.return=r,r.child=h,Gi=r,li=null)):a=null,a===null)throw io(r);return r.lanes=536870912,null}return Jh(r,m)}var A=a.memoizedState;if(A!==null){var I=A.dehydrated;if(Xd(r),w)if(r.flags&256)r.flags&=-257,r=P0(a,r,h);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(i(558));else if(oa||oo(a,r,h,!1),w=(h&a.childLanes)!==0,oa||w){if(m=rn,m!==null&&(I=Ui(m,h),I!==0&&I!==A.retryLane))throw A.retryLane=I,Pn(a,I),bn(m,a,I),Zh;Hc(),r=P0(a,r,h)}else a=A.treeContext,li=xo(I.nextSibling),Gi=r,Dn=!0,Fo=null,Us=!1,a!==null&&Rh(r,a),r=Jh(r,m),r.flags|=4096;return r}return a=ms(a.child,{mode:m.mode,children:m.children}),a.ref=r.ref,r.child=a,a.return=r,a}function Lu(a,r){var h=r.ref;if(h===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(r.flags|=4194816)}}function zc(a,r,h,m,w){return zl(r),h=Gh(a,r,h,m,void 0,w),m=Jd(),a!==null&&!oa?(Wd(a,r,w),Wi(a,r,w)):(Dn&&m&&no(r),r.flags|=1,_a(a,r,h,w),r.child)}function kf(a,r,h,m,w,A){return zl(r),r.updateQueue=null,h=zu(r,m,h,w),r0(a),m=Jd(),a!==null&&!oa?(Wd(a,r,A),Wi(a,r,A)):(Dn&&m&&no(r),r.flags|=1,_a(a,r,h,A),r.child)}function $h(a,r,h,m,w){if(zl(r),r.stateNode===null){var A=Ya,I=h.contextType;typeof I=="object"&&I!==null&&(A=en(I)),A=new h(m,A),r.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=jf,r.stateNode=A,A._reactInternals=r,A=r.stateNode,A.props=m,A.state=r.memoizedState,A.refs={},Rf(r),I=h.contextType,A.context=typeof I=="object"&&I!==null?en(I):Ya,A.state=r.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(Yh(r,h,I,m),A.state=r.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(I=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),I!==A.state&&jf.enqueueReplaceState(A,A.state,null),Ac(r,m,A,w),Of(),A.state=r.memoizedState),typeof A.componentDidMount=="function"&&(r.flags|=4194308),m=!0}else if(a===null){A=r.stateNode;var lt=r.memoizedProps,bt=Hl(h,lt);A.props=bt;var qt=A.context,ne=h.contextType;I=Ya,typeof ne=="object"&&ne!==null&&(I=en(ne));var re=h.getDerivedStateFromProps;ne=typeof re=="function"||typeof A.getSnapshotBeforeUpdate=="function",lt=r.pendingProps!==lt,ne||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(lt||qt!==I)&&vp(r,A,m,I),ts=!1;var Xt=r.memoizedState;A.state=Xt,Ac(r,m,A,w),Of(),qt=r.memoizedState,lt||Xt!==qt||ts?(typeof re=="function"&&(Yh(r,h,re,m),qt=r.memoizedState),(bt=ts||yp(r,h,bt,m,Xt,qt,I))?(ne||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(r.flags|=4194308)):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=qt),A.props=m,A.state=qt,A.context=I,m=bt):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{A=r.stateNode,Fd(a,r),I=r.memoizedProps,ne=Hl(h,I),A.props=ne,re=r.pendingProps,Xt=A.context,qt=h.contextType,bt=Ya,typeof qt=="object"&&qt!==null&&(bt=en(qt)),lt=h.getDerivedStateFromProps,(qt=typeof lt=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==re||Xt!==bt)&&vp(r,A,m,bt),ts=!1,Xt=r.memoizedState,A.state=Xt,Ac(r,m,A,w),Of();var $t=r.memoizedState;I!==re||Xt!==$t||ts||a!==null&&a.dependencies!==null&&Ef(a.dependencies)?(typeof lt=="function"&&(Yh(r,h,lt,m),$t=r.memoizedState),(ne=ts||yp(r,h,ne,m,Xt,$t,bt)||a!==null&&a.dependencies!==null&&Ef(a.dependencies))?(qt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,$t,bt),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,$t,bt)),typeof A.componentDidUpdate=="function"&&(r.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&Xt===a.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&Xt===a.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=$t),A.props=m,A.state=$t,A.context=bt,m=ne):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&Xt===a.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&Xt===a.memoizedState||(r.flags|=1024),m=!1)}return A=m,Lu(a,r),m=(r.flags&128)!==0,A||m?(A=r.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:A.render(),r.flags|=1,a!==null&&m?(r.child=Xo(r,a.child,null,w),r.child=Xo(r,null,h,w)):_a(a,r,h,w),r.memoizedState=A.state,a=r.child):a=Wi(a,r,w),a}function V0(a,r,h,m){return Nl(),r.flags|=256,_a(a,r,h,m),r.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xa(a){return{baseLanes:a,cachePool:qd()}}function td(a,r,h){return a=a!==null?a.childLanes&~h:0,r&&(a|=ss),a}function I0(a,r,h){var m=r.pendingProps,w=!1,A=(r.flags&128)!==0,I;if((I=A)||(I=a!==null&&a.memoizedState===null?!1:(zn.current&2)!==0),I&&(w=!0,r.flags&=-129),I=(r.flags&32)!==0,r.flags&=-33,a===null){if(Dn){if(w?Qo(r):xs(),(a=li)?(a=Fx(a,Us),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:qo!==null?{id:Ai,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},h=xc(a),h.return=r,r.child=h,Gi=r,li=null)):a=null,a===null)throw io(r);return e1(a)?r.lanes=32:r.lanes=536870912,null}var lt=m.children;return m=m.fallback,w?(xs(),w=r.mode,lt=ed({mode:"hidden",children:lt},w),m=Rl(m,w,h,null),lt.return=r,m.return=r,lt.sibling=m,r.child=lt,m=r.child,m.memoizedState=Xa(h),m.childLanes=td(a,I,h),r.memoizedState=Ep,uo(null,m)):(Qo(r),Bf(r,lt))}var bt=a.memoizedState;if(bt!==null&&(lt=bt.dehydrated,lt!==null)){if(A)r.flags&256?(Qo(r),r.flags&=-257,r=Tp(a,r,h)):r.memoizedState!==null?(xs(),r.child=a.child,r.flags|=128,r=null):(xs(),lt=m.fallback,w=r.mode,m=ed({mode:"visible",children:m.children},w),lt=Rl(lt,w,h,null),lt.flags|=2,m.return=r,lt.return=r,m.sibling=lt,r.child=m,Xo(r,a.child,null,h),m=r.child,m.memoizedState=Xa(h),m.childLanes=td(a,I,h),r.memoizedState=Ep,r=uo(null,m));else if(Qo(r),e1(lt)){if(I=lt.nextSibling&&lt.nextSibling.dataset,I)var qt=I.dgst;I=qt,m=Error(i(419)),m.stack="",m.digest=I,ao({value:m,source:null,stack:null}),r=Tp(a,r,h)}else if(oa||oo(a,r,h,!1),I=(h&a.childLanes)!==0,oa||I){if(I=rn,I!==null&&(m=Ui(I,h),m!==0&&m!==bt.retryLane))throw bt.retryLane=m,Pn(a,m),bn(I,a,m),Zh;t1(lt)||Hc(),r=Tp(a,r,h)}else t1(lt)?(r.flags|=192,r.child=a.child,r=null):(a=bt.treeContext,li=xo(lt.nextSibling),Gi=r,Dn=!0,Fo=null,Us=!1,a!==null&&Rh(r,a),r=Bf(r,m.children),r.flags|=4096);return r}return w?(xs(),lt=m.fallback,w=r.mode,bt=a.child,qt=bt.sibling,m=ms(bt,{mode:"hidden",children:m.children}),m.subtreeFlags=bt.subtreeFlags&65011712,qt!==null?lt=ms(qt,lt):(lt=Rl(lt,w,h,null),lt.flags|=2),lt.return=r,m.return=r,m.sibling=lt,r.child=m,uo(null,m),m=r.child,lt=a.child.memoizedState,lt===null?lt=Xa(h):(w=lt.cachePool,w!==null?(bt=ra._currentValue,w=w.parent!==bt?{parent:bt,pool:bt}:w):w=qd(),lt={baseLanes:lt.baseLanes|h,cachePool:w}),m.memoizedState=lt,m.childLanes=td(a,I,h),r.memoizedState=Ep,uo(a.child,m)):(Qo(r),h=a.child,a=h.sibling,h=ms(h,{mode:"visible",children:m.children}),h.return=r,h.sibling=null,a!==null&&(I=r.deletions,I===null?(r.deletions=[a],r.flags|=16):I.push(a)),r.child=h,r.memoizedState=null,h)}function Bf(a,r){return r=ed({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function ed(a,r){return a=Ci(22,a,null,r),a.lanes=0,a}function Tp(a,r,h){return Xo(r,a.child,null,h),a=Bf(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function q0(a,r,h){a.lanes|=r;var m=a.alternate;m!==null&&(m.lanes|=r),Mh(a.return,r,h)}function Uu(a,r,h,m,w,A){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:A}:(I.isBackwards=r,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=h,I.tailMode=w,I.treeForkCount=A)}function Ss(a,r,h){var m=r.pendingProps,w=m.revealOrder,A=m.tail;m=m.children;var I=zn.current,lt=(I&2)!==0;if(lt?(I=I&1|2,r.flags|=128):I&=1,ft(zn,I),_a(a,r,m,h),m=Dn?Sc:0,!lt&&a!==null&&(a.flags&128)!==0)t:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&q0(a,h,r);else if(a.tag===19)q0(a,h,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(h=r.child,w=null;h!==null;)a=h.alternate,a!==null&&Gs(a)===null&&(w=h),h=h.sibling;h=w,h===null?(w=r.child,r.child=null):(w=h.sibling,h.sibling=null),Uu(r,!1,w,h,A,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=r.child,r.child=null;w!==null;){if(a=w.alternate,a!==null&&Gs(a)===null){r.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}Uu(r,!0,h,null,A,m);break;case"together":Uu(r,!1,null,null,void 0,m);break;default:r.memoizedState=null}return r.child}function Wi(a,r,h){if(a!==null&&(r.dependencies=a.dependencies),go|=r.lanes,(h&r.childLanes)===0)if(a!==null){if(oo(a,r,h,!1),(h&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,h=ms(a,a.pendingProps),r.child=h,h.return=r;a.sibling!==null;)a=a.sibling,h=h.sibling=ms(a,a.pendingProps),h.return=r;h.sibling=null}return r.child}function nd(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&Ef(a)))}function Vy(a,r,h){switch(r.tag){case 3:Ht(r,r.stateNode.containerInfo),Ko(r,ra,a.memoizedState.cache),Nl();break;case 27:case 5:Ee(r);break;case 4:Ht(r,r.stateNode.containerInfo);break;case 10:Ko(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xd(r),null;break;case 13:var m=r.memoizedState;if(m!==null)return m.dehydrated!==null?(Qo(r),r.flags|=128,null):(h&r.child.childLanes)!==0?I0(a,r,h):(Qo(r),a=Wi(a,r,h),a!==null?a.sibling:null);Qo(r);break;case 19:var w=(a.flags&128)!==0;if(m=(h&r.childLanes)!==0,m||(oo(a,r,h,!1),m=(h&r.childLanes)!==0),w){if(m)return Ss(a,r,h);r.flags|=128}if(w=r.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ft(zn,zn.current),m)break;return null;case 22:return r.lanes=0,Bu(a,r,h,r.pendingProps);case 24:Ko(r,ra,a.memoizedState.cache)}return Wi(a,r,h)}function id(a,r,h){if(a!==null)if(a.memoizedProps!==r.pendingProps)oa=!0;else{if(!nd(a,h)&&(r.flags&128)===0)return oa=!1,Vy(a,r,h);oa=(a.flags&131072)!==0}else oa=!1,Dn&&(r.flags&1048576)!==0&&Jm(r,Sc,r.index);switch(r.lanes=0,r.tag){case 16:t:{var m=r.pendingProps;if(a=Au(r.elementType),r.type=a,typeof a=="function")Eh(a)?(m=Hl(a,m),r.tag=1,r=$h(null,r,a,m,h)):(r.tag=0,r=zc(null,r,a,m,h));else{if(a!=null){var w=a.$$typeof;if(w===H){r.tag=11,r=wp(null,r,a,m,h);break t}else if(w===X){r.tag=14,r=ku(null,r,a,m,h);break t}}throw r=D(a)||a,Error(i(306,r,""))}}return r;case 0:return zc(a,r,r.type,r.pendingProps,h);case 1:return m=r.type,w=Hl(m,r.pendingProps),$h(a,r,m,w,h);case 3:t:{if(Ht(r,r.stateNode.containerInfo),a===null)throw Error(i(387));m=r.pendingProps;var A=r.memoizedState;w=A.element,Fd(a,r),Ac(r,m,null,h);var I=r.memoizedState;if(m=I.cache,Ko(r,ra,m),m!==A.cache&&Nh(r,[ra],h,!0),Of(),m=I.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:I.cache},r.updateQueue.baseState=A,r.memoizedState=A,r.flags&256){r=V0(a,r,m,h);break t}else if(m!==w){w=Ls(Error(i(424)),r),ao(w),r=V0(a,r,m,h);break t}else for(a=r.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,li=xo(a.firstChild),Gi=r,Dn=!0,Fo=null,Us=!0,h=Lh(r,null,m,h),r.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Nl(),m===w){r=Wi(a,r,h);break t}_a(a,r,m,h)}r=r.child}return r;case 26:return Lu(a,r),a===null?(h=Jx(r.type,null,r.pendingProps,null))?r.memoizedState=h:Dn||(h=r.type,a=r.pendingProps,m=X0(Yt.current).createElement(h),m[Xn]=r,m[Ei]=a,os(m,h,a),Ti(m),r.stateNode=m):r.memoizedState=Jx(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return Ee(r),a===null&&Dn&&(m=r.stateNode=Xx(r.type,r.pendingProps,Yt.current),Gi=r,Us=!0,w=li,Ic(r.type)?(n1=w,li=xo(m.firstChild)):li=w),_a(a,r,r.pendingProps.children,h),Lu(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&Dn&&((w=m=li)&&(m=mw(m,r.type,r.pendingProps,Us),m!==null?(r.stateNode=m,Gi=r,li=xo(m.firstChild),Us=!1,w=!0):w=!1),w||io(r)),Ee(r),w=r.type,A=r.pendingProps,I=a!==null?a.memoizedProps:null,m=A.children,Jy(w,A)?m=null:I!==null&&Jy(w,I)&&(r.flags|=32),r.memoizedState!==null&&(w=Gh(a,r,ju,null,null,h),Bp._currentValue=w),Lu(a,r),_a(a,r,m,h),r.child;case 6:return a===null&&Dn&&((a=h=li)&&(h=gw(h,r.pendingProps,Us),h!==null?(r.stateNode=h,Gi=r,li=null,a=!0):a=!1),a||io(r)),null;case 13:return I0(a,r,h);case 4:return Ht(r,r.stateNode.containerInfo),m=r.pendingProps,a===null?r.child=Xo(r,null,m,h):_a(a,r,m,h),r.child;case 11:return wp(a,r,r.type,r.pendingProps,h);case 7:return _a(a,r,r.pendingProps,h),r.child;case 8:return _a(a,r,r.pendingProps.children,h),r.child;case 12:return _a(a,r,r.pendingProps.children,h),r.child;case 10:return m=r.pendingProps,Ko(r,r.type,m.value),_a(a,r,m.children,h),r.child;case 9:return w=r.type._context,m=r.pendingProps.children,zl(r),w=en(w),m=m(w),r.flags|=1,_a(a,r,m,h),r.child;case 14:return ku(a,r,r.type,r.pendingProps,h);case 15:return Qh(a,r,r.type,r.pendingProps,h);case 19:return Ss(a,r,h);case 31:return Wh(a,r,h);case 22:return Bu(a,r,h,r.pendingProps);case 24:return zl(r),m=en(ra),a===null?(w=zh(),w===null&&(w=rn,A=Gd(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=h),w=A),r.memoizedState={parent:m,cache:w},Rf(r),Ko(r,ra,w)):((a.lanes&h)!==0&&(Fd(a,r),Ac(r,null,null,h),Of()),w=a.memoizedState,A=r.memoizedState,w.parent!==m?(w={parent:m,cache:m},r.memoizedState=w,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=w),Ko(r,ra,m)):(m=A.cache,Ko(r,ra,m),m!==w.cache&&Nh(r,[ra],h,!0))),_a(a,r,r.pendingProps.children,h),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function co(a){a.flags|=4}function Lf(a,r,h,m,w){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(Ni())a.flags|=8192;else throw lo=jh,Cf}else a.flags&=-16777217}function Cp(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!nb(r))if(Ni())a.flags|=8192;else throw lo=jh,Cf}function Wo(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?Pr():536870912,a.lanes|=r,di|=r)}function fo(a,r){if(!Dn)switch(a.tailMode){case"hidden":r=a.tail;for(var h=null;r!==null;)r.alternate!==null&&(h=r),r=r.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ai(a){var r=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(r)for(var w=a.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=h,r}function Uf(a,r,h){var m=r.pendingProps;switch(Ah(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(r),null;case 1:return ai(r),null;case 3:return h=r.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),r.memoizedState.cache!==m&&(r.flags|=2048),ro(ra),Ct(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(wc(r)?co(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Oh())),ai(r),null;case 26:var w=r.type,A=r.memoizedState;return a===null?(co(r),A!==null?(ai(r),Cp(r,A)):(ai(r),Lf(r,w,null,m,h))):A?A!==a.memoizedState?(co(r),ai(r),Cp(r,A)):(ai(r),r.flags&=-16777217):(a=a.memoizedProps,a!==m&&co(r),ai(r),Lf(r,w,a,m,h)),null;case 27:if(ve(r),h=Yt.current,w=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==m&&co(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return ai(r),null}a=pt.current,wc(r)?Wm(r):(a=Xx(w,m,h),r.stateNode=a,co(r))}return ai(r),null;case 5:if(ve(r),w=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==m&&co(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return ai(r),null}if(A=pt.current,wc(r))Wm(r);else{var I=X0(Yt.current);switch(A){case 1:A=I.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:A=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":A=I.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":A=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":A=I.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?A.multiple=!0:m.size&&(A.size=m.size);break;default:A=typeof m.is=="string"?I.createElement(w,{is:m.is}):I.createElement(w)}}A[Xn]=r,A[Ei]=m;t:for(I=r.child;I!==null;){if(I.tag===5||I.tag===6)A.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===r)break t;for(;I.sibling===null;){if(I.return===null||I.return===r)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}r.stateNode=A;t:switch(os(A,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&co(r)}}return ai(r),Lf(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,h),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==m&&co(r);else{if(typeof m!="string"&&r.stateNode===null)throw Error(i(166));if(a=Yt.current,wc(r)){if(a=r.stateNode,h=r.memoizedProps,m=null,w=Gi,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[Xn]=r,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||Lx(a.nodeValue,h)),a||io(r,!0)}else a=X0(a).createTextNode(m),a[Xn]=r,r.stateNode=a}return ai(r),null;case 31:if(h=r.memoizedState,a===null||a.memoizedState!==null){if(m=wc(r),h!==null){if(a===null){if(!m)throw Error(i(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Xn]=r}else Nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ai(r),a=!1}else h=Oh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return r.flags&256?(Qi(r),r):(Qi(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ai(r),null;case 13:if(m=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=wc(r),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(i(318));if(w=r.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Xn]=r}else Nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ai(r),w=!1}else w=Oh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return r.flags&256?(Qi(r),r):(Qi(r),null)}return Qi(r),(r.flags&128)!==0?(r.lanes=h,r):(h=m!==null,a=a!==null&&a.memoizedState!==null,h&&(m=r.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==w&&(m.flags|=2048)),h!==a&&h&&(r.child.flags|=8192),Wo(r,r.updateQueue),ai(r),null);case 4:return Ct(),a===null&&Ky(r.stateNode.containerInfo),ai(r),null;case 10:return ro(r.type),ai(r),null;case 19:if($(zn),m=r.memoizedState,m===null)return ai(r),null;if(w=(r.flags&128)!==0,A=m.rendering,A===null)if(w)fo(m,!1);else{if(Oi!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(A=Gs(a),A!==null){for(r.flags|=128,fo(m,!1),a=A.updateQueue,r.updateQueue=a,Wo(r,a),r.subtreeFlags=0,a=h,h=r.child;h!==null;)vc(h,a),h=h.sibling;return ft(zn,zn.current&1|2),Dn&&eo(r,m.treeForkCount),r.child}a=a.sibling}m.tail!==null&&Nt()>$i&&(r.flags|=128,w=!0,fo(m,!1),r.lanes=4194304)}else{if(!w)if(a=Gs(A),a!==null){if(r.flags|=128,w=!0,a=a.updateQueue,r.updateQueue=a,Wo(r,a),fo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!Dn)return ai(r),null}else 2*Nt()-m.renderingStartTime>$i&&h!==536870912&&(r.flags|=128,w=!0,fo(m,!1),r.lanes=4194304);m.isBackwards?(A.sibling=r.child,r.child=A):(a=m.last,a!==null?a.sibling=A:r.child=A,m.last=A)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Nt(),a.sibling=null,h=zn.current,ft(zn,w?h&1|2:h&1),Dn&&eo(r,m.treeForkCount),a):(ai(r),null);case 22:case 23:return Qi(r),Mf(),m=r.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(r.flags|=8192):m&&(r.flags|=8192),m?(h&536870912)!==0&&(r.flags&128)===0&&(ai(r),r.subtreeFlags&6&&(r.flags|=8192)):ai(r),h=r.updateQueue,h!==null&&Wo(r,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==h&&(r.flags|=2048),a!==null&&$(jl),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),ro(ra),ai(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function ir(a,r){switch(Ah(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return ro(ra),Ct(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return ve(r),null;case 31:if(r.memoizedState!==null){if(Qi(r),r.alternate===null)throw Error(i(340));Nl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(Qi(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Nl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return $(zn),null;case 4:return Ct(),null;case 10:return ro(r.type),null;case 22:case 23:return Qi(r),Mf(),a!==null&&$(jl),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return ro(ra),null;case 25:return null;default:return null}}function Ps(a,r){switch(Ah(r),r.tag){case 3:ro(ra),Ct();break;case 26:case 27:case 5:ve(r);break;case 4:Ct();break;case 31:r.memoizedState!==null&&Qi(r);break;case 13:Qi(r);break;case 19:$(zn);break;case 10:ro(r.type);break;case 22:case 23:Qi(r),Mf(),a!==null&&$(jl);break;case 24:ro(ra)}}function ar(a,r){try{var h=r.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&a)===a){m=void 0;var A=h.create,I=h.inst;m=A(),I.destroy=m}h=h.next}while(h!==w)}}catch(lt){Hn(r,r.return,lt)}}function La(a,r,h){try{var m=r.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var A=w.next;m=A;do{if((m.tag&a)===a){var I=m.inst,lt=I.destroy;if(lt!==void 0){I.destroy=void 0,w=r;var bt=h,qt=lt;try{qt()}catch(ne){Hn(w,bt,ne)}}}m=m.next}while(m!==A)}}catch(ne){Hn(r,r.return,ne)}}function Nr(a){var r=a.updateQueue;if(r!==null){var h=a.stateNode;try{i0(r,h)}catch(m){Hn(a,a.return,m)}}}function wa(a,r,h){h.props=Hl(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){Hn(a,r,m)}}function $o(a,r){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(w){Hn(a,r,w)}}function Ua(a,r){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Hn(a,r,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Hn(a,r,w)}else h.current=null}function Hf(a){var r=a.type,h=a.memoizedProps,m=a.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break t;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Hn(a,a.return,w)}}function ya(a,r,h){try{var m=a.stateNode;uw(m,a.type,h,r),m[Ei]=r}catch(w){Hn(a,a.return,w)}}function vi(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ic(a.type)||a.tag===4}function Rn(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||vi(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ic(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ho(a,r,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,r?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,r):(r=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,r.appendChild(a),h=h._reactRootContainer,h!=null||r.onclick!==null||(r.onclick=hs));else if(m!==4&&(m===27&&Ic(a.type)&&(h=a.stateNode,r=null),a=a.child,a!==null))for(ho(a,r,h),a=a.sibling;a!==null;)ho(a,r,h),a=a.sibling}function ns(a,r,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,r?h.insertBefore(a,r):h.appendChild(a);else if(m!==4&&(m===27&&Ic(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(ns(a,r,h),a=a.sibling;a!==null;)ns(a,r,h),a=a.sibling}function ad(a){var r=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,w=r.attributes;w.length;)r.removeAttributeNode(w[0]);os(r,m,h),r[Xn]=a,r[Ei]=h}catch(A){Hn(a,a.return,A)}}var sr=!1,ui=!1,Dr=!1,F0=typeof WeakSet=="function"?WeakSet:Set,Ea=null;function Iy(a,r){if(a=a.containerInfo,Zy=eg,a=J(a),it(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break t}var I=0,lt=-1,bt=-1,qt=0,ne=0,re=a,Xt=null;e:for(;;){for(var $t;re!==h||w!==0&&re.nodeType!==3||(lt=I+w),re!==A||m!==0&&re.nodeType!==3||(bt=I+m),re.nodeType===3&&(I+=re.nodeValue.length),($t=re.firstChild)!==null;)Xt=re,re=$t;for(;;){if(re===a)break e;if(Xt===h&&++qt===w&&(lt=I),Xt===A&&++ne===m&&(bt=I),($t=re.nextSibling)!==null)break;re=Xt,Xt=re.parentNode}re=$t}h=lt===-1||bt===-1?null:{start:lt,end:bt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Qy={focusedElem:a,selectionRange:h},eg=!1,Ea=r;Ea!==null;)if(r=Ea,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,Ea=a;else for(;Ea!==null;){switch(r=Ea,A=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)w=a[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,h=r,w=A.memoizedProps,A=A.memoizedState,m=h.stateNode;try{var Ue=Hl(h.type,w);a=m.getSnapshotBeforeUpdate(Ue,A),m.__reactInternalSnapshotBeforeUpdate=a}catch($e){Hn(h,h.return,$e)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,h=a.nodeType,h===9)$y(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":$y(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Ea=a;break}Ea=r.return}}function xi(a,r,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:lr(a,h),m&4&&ar(5,h);break;case 1:if(lr(a,h),m&4)if(a=h.stateNode,r===null)try{a.componentDidMount()}catch(I){Hn(h,h.return,I)}else{var w=Hl(h.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(w,r,a.__reactInternalSnapshotBeforeUpdate)}catch(I){Hn(h,h.return,I)}}m&64&&Nr(h),m&512&&$o(h,h.return);break;case 3:if(lr(a,h),m&64&&(a=h.updateQueue,a!==null)){if(r=null,h.child!==null)switch(h.child.tag){case 27:case 5:r=h.child.stateNode;break;case 1:r=h.child.stateNode}try{i0(a,r)}catch(I){Hn(h,h.return,I)}}break;case 27:r===null&&m&4&&ad(h);case 26:case 5:lr(a,h),r===null&&m&4&&Hf(h),m&512&&$o(h,h.return);break;case 12:lr(a,h);break;case 31:lr(a,h),m&4&&Gl(a,h);break;case 13:lr(a,h),m&4&&jc(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=g.bind(null,h),yw(a,h))));break;case 22:if(m=h.memoizedState!==null||sr,!m){r=r!==null&&r.memoizedState!==null||ui,w=sr;var A=ui;sr=m,(ui=r)&&!A?is(a,h,(h.subtreeFlags&8772)!==0):lr(a,h),sr=w,ui=A}break;case 30:break;default:lr(a,h)}}function Gf(a){var r=a.alternate;r!==null&&(a.alternate=null,Gf(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&Ir(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qn=null,Za=!1;function rr(a,r,h){for(h=h.child;h!==null;)sd(a,r,h),h=h.sibling}function sd(a,r,h){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Be,h)}catch{}switch(h.tag){case 26:ui||Ua(h,r),rr(a,r,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ui||Ua(h,r);var m=Qn,w=Za;Ic(h.type)&&(Qn=h.stateNode,Za=!1),rr(a,r,h),zp(h.stateNode),Qn=m,Za=w;break;case 5:ui||Ua(h,r);case 6:if(m=Qn,w=Za,Qn=null,rr(a,r,h),Qn=m,Za=w,Qn!==null)if(Za)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(h.stateNode)}catch(A){Hn(h,r,A)}else try{Qn.removeChild(h.stateNode)}catch(A){Hn(h,r,A)}break;case 18:Qn!==null&&(Za?(a=Qn,Ix(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),dd(a)):Ix(Qn,h.stateNode));break;case 4:m=Qn,w=Za,Qn=h.stateNode.containerInfo,Za=!0,rr(a,r,h),Qn=m,Za=w;break;case 0:case 11:case 14:case 15:La(2,h,r),ui||La(4,h,r),rr(a,r,h);break;case 1:ui||(Ua(h,r),m=h.stateNode,typeof m.componentWillUnmount=="function"&&wa(h,r,m)),rr(a,r,h);break;case 21:rr(a,r,h);break;case 22:ui=(m=ui)||h.memoizedState!==null,rr(a,r,h),ui=m;break;default:rr(a,r,h)}}function Gl(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{dd(a)}catch(h){Hn(r,r.return,h)}}}function jc(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{dd(a)}catch(h){Hn(r,r.return,h)}}function Ap(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new F0),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new F0),r;default:throw Error(i(435,a.tag))}}function tl(a,r){var h=Ap(a);r.forEach(function(m){if(!h.has(m)){h.add(m);var w=S.bind(null,a,m);m.then(w,w)}})}function va(a,r){var h=r.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],A=a,I=r,lt=I;t:for(;lt!==null;){switch(lt.tag){case 27:if(Ic(lt.type)){Qn=lt.stateNode,Za=!1;break t}break;case 5:Qn=lt.stateNode,Za=!1;break t;case 3:case 4:Qn=lt.stateNode.containerInfo,Za=!0;break t}lt=lt.return}if(Qn===null)throw Error(i(160));sd(A,I,w),Qn=null,Za=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Pl(r,a),r=r.sibling}var or=null;function Pl(a,r){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:va(r,a),xa(a),m&4&&(La(3,a,a.return),ar(3,a),La(5,a,a.return));break;case 1:va(r,a),xa(a),m&512&&(ui||h===null||Ua(h,h.return)),m&64&&sr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=or;if(va(r,a),xa(a),m&512&&(ui||h===null||Ua(h,h.return)),m&4){var A=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){t:{m=a.type,h=a.memoizedProps,w=w.ownerDocument||w;e:switch(m){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Na]||A[Xn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(m),w.head.insertBefore(A,w.querySelector("head > title"))),os(A,m,h),A[Xn]=a,Ti(A),m=A;break t;case"link":var I=tb("link","href",w).get(m+(h.href||""));if(I){for(var lt=0;lt<I.length;lt++)if(A=I[lt],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(lt,1);break e}}A=w.createElement(m),os(A,m,h),w.head.appendChild(A);break;case"meta":if(I=tb("meta","content",w).get(m+(h.content||""))){for(lt=0;lt<I.length;lt++)if(A=I[lt],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(lt,1);break e}}A=w.createElement(m),os(A,m,h),w.head.appendChild(A);break;default:throw Error(i(468,m))}A[Xn]=a,Ti(A),m=A}a.stateNode=m}else eb(w,a.type,a.stateNode);else a.stateNode=$x(w,m,a.memoizedProps);else A!==m?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,m===null?eb(w,a.type,a.stateNode):$x(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&ya(a,a.memoizedProps,h.memoizedProps)}break;case 27:va(r,a),xa(a),m&512&&(ui||h===null||Ua(h,h.return)),h!==null&&m&4&&ya(a,a.memoizedProps,h.memoizedProps);break;case 5:if(va(r,a),xa(a),m&512&&(ui||h===null||Ua(h,h.return)),a.flags&32){w=a.stateNode;try{Kr(w,"")}catch(Ue){Hn(a,a.return,Ue)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,ya(a,w,h!==null?h.memoizedProps:w)),m&1024&&(Dr=!0);break;case 6:if(va(r,a),xa(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Ue){Hn(a,a.return,Ue)}}break;case 3:if(J0=null,w=or,or=Z0(r.containerInfo),va(r,a),or=w,xa(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{dd(r.containerInfo)}catch(Ue){Hn(a,a.return,Ue)}Dr&&(Dr=!1,rd(a));break;case 4:m=or,or=Z0(a.stateNode.containerInfo),va(r,a),xa(a),or=m;break;case 12:va(r,a),xa(a);break;case 31:va(r,a),xa(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,tl(a,m)));break;case 13:va(r,a),xa(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(kc=Nt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,tl(a,m)));break;case 22:w=a.memoizedState!==null;var bt=h!==null&&h.memoizedState!==null,qt=sr,ne=ui;if(sr=qt||w,ui=ne||bt,va(r,a),ui=ne,sr=qt,xa(a),m&8192)t:for(r=a.stateNode,r._visibility=w?r._visibility&-2:r._visibility|1,w&&(h===null||bt||sr||ui||po(a)),h=null,r=a;;){if(r.tag===5||r.tag===26){if(h===null){bt=h=r;try{if(A=bt.stateNode,w)I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{lt=bt.stateNode;var re=bt.memoizedProps.style,Xt=re!=null&&re.hasOwnProperty("display")?re.display:null;lt.style.display=Xt==null||typeof Xt=="boolean"?"":(""+Xt).trim()}}catch(Ue){Hn(bt,bt.return,Ue)}}}else if(r.tag===6){if(h===null){bt=r;try{bt.stateNode.nodeValue=w?"":bt.memoizedProps}catch(Ue){Hn(bt,bt.return,Ue)}}}else if(r.tag===18){if(h===null){bt=r;try{var $t=bt.stateNode;w?qx($t,!0):qx(bt.stateNode,!1)}catch(Ue){Hn(bt,bt.return,Ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;h===r&&(h=null),r=r.return}h===r&&(h=null),r.sibling.return=r.return,r=r.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,tl(a,h))));break;case 19:va(r,a),xa(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,tl(a,m)));break;case 30:break;case 21:break;default:va(r,a),xa(a)}}function xa(a){var r=a.flags;if(r&2){try{for(var h,m=a.return;m!==null;){if(vi(m)){h=m;break}m=m.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var w=h.stateNode,A=Rn(a);ns(a,A,w);break;case 5:var I=h.stateNode;h.flags&32&&(Kr(I,""),h.flags&=-33);var lt=Rn(a);ns(a,lt,I);break;case 3:case 4:var bt=h.stateNode.containerInfo,qt=Rn(a);ho(a,qt,bt);break;default:throw Error(i(161))}}catch(ne){Hn(a,a.return,ne)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function rd(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;rd(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function lr(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xi(a,r.alternate,r),r=r.sibling}function po(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:La(4,r,r.return),po(r);break;case 1:Ua(r,r.return);var h=r.stateNode;typeof h.componentWillUnmount=="function"&&wa(r,r.return,h),po(r);break;case 27:zp(r.stateNode);case 26:case 5:Ua(r,r.return),po(r);break;case 22:r.memoizedState===null&&po(r);break;case 30:po(r);break;default:po(r)}a=a.sibling}}function is(a,r,h){for(h=h&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var m=r.alternate,w=a,A=r,I=A.flags;switch(A.tag){case 0:case 11:case 15:is(w,A,h),ar(4,A);break;case 1:if(is(w,A,h),m=A,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(qt){Hn(m,m.return,qt)}if(m=A,w=m.updateQueue,w!==null){var lt=m.stateNode;try{var bt=w.shared.hiddenCallbacks;if(bt!==null)for(w.shared.hiddenCallbacks=null,w=0;w<bt.length;w++)Rc(bt[w],lt)}catch(qt){Hn(m,m.return,qt)}}h&&I&64&&Nr(A),$o(A,A.return);break;case 27:ad(A);case 26:case 5:is(w,A,h),h&&m===null&&I&4&&Hf(A),$o(A,A.return);break;case 12:is(w,A,h);break;case 31:is(w,A,h),h&&I&4&&Gl(w,A);break;case 13:is(w,A,h),h&&I&4&&jc(w,A);break;case 22:A.memoizedState===null&&is(w,A,h),$o(A,A.return);break;case 30:break;default:is(w,A,h)}r=r.sibling}}function Vl(a,r){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Tu(h))}function Hu(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&Tu(a))}function Ha(a,r,h,m){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rp(a,r,h,m),r=r.sibling}function Rp(a,r,h,m){var w=r.flags;switch(r.tag){case 0:case 11:case 15:Ha(a,r,h,m),w&2048&&ar(9,r);break;case 1:Ha(a,r,h,m);break;case 3:Ha(a,r,h,m),w&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&Tu(a)));break;case 12:if(w&2048){Ha(a,r,h,m),a=r.stateNode;try{var A=r.memoizedProps,I=A.id,lt=A.onPostCommit;typeof lt=="function"&&lt(I,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(bt){Hn(r,r.return,bt)}}else Ha(a,r,h,m);break;case 31:Ha(a,r,h,m);break;case 13:Ha(a,r,h,m);break;case 23:break;case 22:A=r.stateNode,I=r.alternate,r.memoizedState!==null?A._visibility&2?Ha(a,r,h,m):mo(a,r):A._visibility&2?Ha(a,r,h,m):(A._visibility|=2,Ga(a,r,h,m,(r.subtreeFlags&10256)!==0||!1)),w&2048&&Vl(I,r);break;case 24:Ha(a,r,h,m),w&2048&&Hu(r.alternate,r);break;default:Ha(a,r,h,m)}}function Ga(a,r,h,m,w){for(w=w&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var A=a,I=r,lt=h,bt=m,qt=I.flags;switch(I.tag){case 0:case 11:case 15:Ga(A,I,lt,bt,w),ar(8,I);break;case 23:break;case 22:var ne=I.stateNode;I.memoizedState!==null?ne._visibility&2?Ga(A,I,lt,bt,w):mo(A,I):(ne._visibility|=2,Ga(A,I,lt,bt,w)),w&&qt&2048&&Vl(I.alternate,I);break;case 24:Ga(A,I,lt,bt,w),w&&qt&2048&&Hu(I.alternate,I);break;default:Ga(A,I,lt,bt,w)}r=r.sibling}}function mo(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var h=a,m=r,w=m.flags;switch(m.tag){case 22:mo(h,m),w&2048&&Vl(m.alternate,m);break;case 24:mo(h,m),w&2048&&Hu(m.alternate,m);break;default:mo(h,m)}r=r.sibling}}var Gu=8192;function Vs(a,r,h){if(a.subtreeFlags&Gu)for(a=a.child;a!==null;)od(a,r,h),a=a.sibling}function od(a,r,h){switch(a.tag){case 26:Vs(a,r,h),a.flags&Gu&&a.memoizedState!==null&&Ow(h,or,a.memoizedState,a.memoizedProps);break;case 5:Vs(a,r,h);break;case 3:case 4:var m=or;or=Z0(a.stateNode.containerInfo),Vs(a,r,h),or=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Gu,Gu=16777216,Vs(a,r,h),Gu=m):Vs(a,r,h));break;default:Vs(a,r,h)}}function Pu(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Il(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var h=0;h<r.length;h++){var m=r[h];Ea=m,Pi(m,a)}Pu(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_s(a),a=a.sibling}function _s(a){switch(a.tag){case 0:case 11:case 15:Il(a),a.flags&2048&&La(9,a,a.return);break;case 3:Il(a);break;case 12:Il(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,as(a)):Il(a);break;default:Il(a)}}function as(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var h=0;h<r.length;h++){var m=r[h];Ea=m,Pi(m,a)}Pu(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:La(8,r,r.return),as(r);break;case 22:h=r.stateNode,h._visibility&2&&(h._visibility&=-3,as(r));break;default:as(r)}a=a.sibling}}function Pi(a,r){for(;Ea!==null;){var h=Ea;switch(h.tag){case 0:case 11:case 15:La(8,h,r);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tu(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Ea=m;else t:for(h=a;Ea!==null;){m=Ea;var w=m.sibling,A=m.return;if(Gf(m),m===h){Ea=null;break t}if(w!==null){w.return=A,Ea=w;break t}Ea=A}}}var el={getCacheForType:function(a){var r=en(ra),h=r.data.get(a);return h===void 0&&(h=a(),r.data.set(a,h)),h},cacheSignal:function(){return en(ra).controller.signal}},dn=typeof WeakMap=="function"?WeakMap:Map,Ve=0,rn=null,xn=null,gn=0,jn=0,Qa=null,ur=!1,zr=!1,Op=!1,Is=0,Oi=0,go=0,ql=0,Pf=0,ss=0,di=0,Vu=null,Vi=null,Ii=!1,kc=0,Mp=0,$i=1/0,Mi=null,ta=null,Jn=0,qs=null,Bc=null,cr=0,Lc=0,Uc=null,Vf=null,Fl=0,Iu=null;function Fs(){return(Ve&2)!==0&&gn!==0?gn&-gn:K.T!==null?Jt():Mo()}function En(){if(ss===0)if((gn&536870912)===0||Dn){var a=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),ss=a}else ss=536870912;return a=vs.current,a!==null&&(a.flags|=32),ss}function bn(a,r,h){(a===rn&&(jn===2||jn===9)||a.cancelPendingCommit!==null)&&(Yl(a,0),la(a,gn,ss,!1)),Ns(a,h),((Ve&2)===0||a!==rn)&&(a===rn&&((Ve&2)===0&&(ql|=h),Oi===4&&la(a,gn,ss,!1)),fe(a))}function Tn(a,r,h){if((Ve&6)!==0)throw Error(i(327));var m=!h&&(r&127)===0&&(r&a.expiredLanes)===0||Gr(a,r),w=m?If(a,r):rs(a,r,!0),A=m;do{if(w===0){zr&&!m&&la(a,r,0,!1);break}else{if(h=a.current.alternate,A&&!Wn(h)){w=rs(a,r,!1),A=!1;continue}if(w===2){if(A=r,a.errorRecoveryDisabledLanes&A)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){r=I;t:{var lt=a;w=Vu;var bt=lt.current.memoizedState.isDehydrated;if(bt&&(Yl(lt,I).flags|=256),I=rs(lt,I,!1),I!==2){if(Op&&!bt){lt.errorRecoveryDisabledLanes|=A,ql|=A,w=4;break t}A=Vi,Vi=w,A!==null&&(Vi===null?Vi=A:Vi.push.apply(Vi,A))}w=I}if(A=!1,w!==2)continue}}if(w===1){Yl(a,0),la(a,r,0,!0);break}t:{switch(m=a,A=w,A){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:la(m,r,ss,!ur);break t;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(w=kc+300-Nt(),10<w)){if(la(m,r,ss,!ur),Hr(m,0,!0)!==0)break t;cr=r,m.timeoutHandle=Px(On.bind(null,m,h,Vi,Mi,Ii,r,ss,ql,di,ur,A,"Throttled",-0,0),w);break t}On(m,h,Vi,Mi,Ii,r,ss,ql,di,ur,A,null,-0,0)}}break}while(!0);fe(a)}function On(a,r,h,m,w,A,I,lt,bt,qt,ne,re,Xt,$t){if(a.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hs},od(r,A,re);var Ue=(A&62914560)===A?kc-Nt():(A&4194048)===A?Mp-Nt():0;if(Ue=Mw(re,Ue),Ue!==null){cr=A,a.cancelPendingCommit=Ue(il.bind(null,a,r,A,h,m,w,I,lt,bt,ne,re,null,Xt,$t)),la(a,A,I,!qt);return}}il(a,r,A,h,m,w,I,lt,bt)}function Wn(a){for(var r=a;;){var h=r.tag;if((h===0||h===11||h===15)&&r.flags&16384&&(h=r.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],A=w.getSnapshot;w=w.value;try{if(!Sa(A(),w))return!1}catch{return!1}}if(h=r.child,r.subtreeFlags&16384&&h!==null)h.return=r,r=h;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function la(a,r,h,m){r&=~Pf,r&=~ql,a.suspendedLanes|=r,a.pingedLanes&=~r,m&&(a.warmLanes|=r),m=a.expirationTimes;for(var w=r;0<w;){var A=31-pe(w),I=1<<A;m[A]=-1,w&=~I}h!==0&&xr(a,h,r)}function jr(){return(Ve&6)===0?(ze(0),!1):!0}function Kl(){if(xn!==null){if(jn===0)var a=xn.return;else a=xn,so=Dl=null,$d(a),Mu=null,Nu=0,a=xn;for(;a!==null;)Ps(a.alternate,a),a=a.return;xn=null}}function Yl(a,r){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,hw(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),cr=0,Kl(),rn=a,xn=h=ms(a.current,null),gn=r,jn=0,Qa=null,ur=!1,zr=Gr(a,r),Op=!1,di=ss=Pf=ql=go=Oi=0,Vi=Vu=null,Ii=!1,(r&8)!==0&&(r|=r&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=r;0<m;){var w=31-pe(m),A=1<<w;r|=a[w],m&=~A}return Is=r,pa(),h}function yo(a,r){hn=null,K.H=Dc,r===Cu||r===vn?(r=Ru(),jn=3):r===Cf?(r=Ru(),jn=4):jn=r===Zh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qa=r,xn===null&&(Oi=1,Xh(a,Ls(r,a.current)))}function Ni(){var a=vs.current;return a===null?!0:(gn&4194048)===gn?es===null:(gn&62914560)===gn||(gn&536870912)!==0?a===es:!1}function nl(){var a=K.H;return K.H=Dc,a===null?Dc:a}function Xl(){var a=K.A;return K.A=el,a}function Hc(){Oi=4,ur||(gn&4194048)!==gn&&vs.current!==null||(zr=!0),(go&134217727)===0&&(ql&134217727)===0||rn===null||la(rn,gn,ss,!1)}function rs(a,r,h){var m=Ve;Ve|=2;var w=nl(),A=Xl();(rn!==a||gn!==r)&&(Mi=null,Yl(a,r)),r=!1;var I=Oi;t:do try{if(jn!==0&&xn!==null){var lt=xn,bt=Qa;switch(jn){case 8:Kl(),I=6;break t;case 3:case 2:case 9:case 6:vs.current===null&&(r=!0);var qt=jn;if(jn=0,Qa=null,qu(a,lt,bt,qt),h&&zr){I=0;break t}break;default:qt=jn,jn=0,Qa=null,qu(a,lt,bt,qt)}}Gc(),I=Oi;break}catch(ne){yo(a,ne)}while(!0);return r&&a.shellSuspendCounter++,so=Dl=null,Ve=m,K.H=w,K.A=A,xn===null&&(rn=null,gn=0,pa()),I}function Gc(){for(;xn!==null;)ld(xn)}function If(a,r){var h=Ve;Ve|=2;var m=nl(),w=Xl();rn!==a||gn!==r?(Mi=null,$i=Nt()+500,Yl(a,r)):zr=Gr(a,r);t:do try{if(jn!==0&&xn!==null){r=xn;var A=Qa;e:switch(jn){case 1:jn=0,Qa=null,qu(a,r,A,1);break;case 2:case 9:if(ys(A)){jn=0,Qa=null,qf(r);break}r=function(){jn!==2&&jn!==9||rn!==a||(jn=7),fe(a)},A.then(r,r);break t;case 3:jn=7;break t;case 4:jn=5;break t;case 7:ys(A)?(jn=0,Qa=null,qf(r)):(jn=0,Qa=null,qu(a,r,A,7));break;case 5:var I=null;switch(xn.tag){case 26:I=xn.memoizedState;case 5:case 27:var lt=xn;if(I?nb(I):lt.stateNode.complete){jn=0,Qa=null;var bt=lt.sibling;if(bt!==null)xn=bt;else{var qt=lt.return;qt!==null?(xn=qt,Zl(qt)):xn=null}break e}}jn=0,Qa=null,qu(a,r,A,5);break;case 6:jn=0,Qa=null,qu(a,r,A,6);break;case 8:Kl(),Oi=6;break t;default:throw Error(i(462))}}ws();break}catch(ne){yo(a,ne)}while(!0);return so=Dl=null,K.H=m,K.A=w,Ve=h,xn!==null?0:(rn=null,gn=0,pa(),Oi)}function ws(){for(;xn!==null&&!xt();)ld(xn)}function ld(a){var r=id(a.alternate,a,Is);a.memoizedProps=a.pendingProps,r===null?Zl(a):xn=r}function qf(a){var r=a,h=r.alternate;switch(r.tag){case 15:case 0:r=kf(h,r,r.pendingProps,r.type,void 0,gn);break;case 11:r=kf(h,r,r.pendingProps,r.type.render,r.ref,gn);break;case 5:$d(r);default:Ps(h,r),r=xn=vc(r,Is),r=id(h,r,Is)}a.memoizedProps=a.pendingProps,r===null?Zl(a):xn=r}function qu(a,r,h,m){so=Dl=null,$d(r),Mu=null,Nu=0;var w=r.return;try{if(ga(a,w,r,h,gn)){Oi=1,Xh(a,Ls(h,a.current)),xn=null;return}}catch(A){if(w!==null)throw xn=w,A;Oi=1,Xh(a,Ls(h,a.current)),xn=null;return}r.flags&32768?(Dn||m===1?a=!0:zr||(gn&536870912)!==0?a=!1:(ur=a=!0,(m===2||m===9||m===3||m===6)&&(m=vs.current,m!==null&&m.tag===13&&(m.flags|=16384))),Ff(r,a)):Zl(r)}function Zl(a){var r=a;do{if((r.flags&32768)!==0){Ff(r,ur);return}a=r.return;var h=Uf(r.alternate,r,Is);if(h!==null){xn=h;return}if(r=r.sibling,r!==null){xn=r;return}xn=r=a}while(r!==null);Oi===0&&(Oi=5)}function Ff(a,r){do{var h=ir(a.alternate,a);if(h!==null){h.flags&=32767,xn=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!r&&(a=a.sibling,a!==null)){xn=a;return}xn=a=h}while(a!==null);Oi=6,xn=null}function il(a,r,h,m,w,A,I,lt,bt){a.cancelPendingCommit=null;do Pc();while(Jn!==0);if((Ve&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(A=r.lanes|r.childLanes,A|=Ie,dl(a,h,A,I,lt,bt),a===rn&&(xn=rn=null,gn=0),Bc=r,qs=a,cr=h,Lc=A,Uc=w,Vf=m,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,N(ie,function(){return ud(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||m){m=K.T,K.T=null,w=Q.p,Q.p=2,I=Ve,Ve|=4;try{Iy(a,r,h)}finally{Ve=I,Q.p=w,K.T=m}}Jn=1,ua(),al(),Fu()}}function ua(){if(Jn===1){Jn=0;var a=qs,r=Bc,h=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var m=Q.p;Q.p=2;var w=Ve;Ve|=4;try{Pl(r,a);var A=Qy,I=J(a.containerInfo),lt=A.focusedElem,bt=A.selectionRange;if(I!==lt&&lt&&lt.ownerDocument&&G(lt.ownerDocument.documentElement,lt)){if(bt!==null&&it(lt)){var qt=bt.start,ne=bt.end;if(ne===void 0&&(ne=qt),"selectionStart"in lt)lt.selectionStart=qt,lt.selectionEnd=Math.min(ne,lt.value.length);else{var re=lt.ownerDocument||document,Xt=re&&re.defaultView||window;if(Xt.getSelection){var $t=Xt.getSelection(),Ue=lt.textContent.length,$e=Math.min(bt.start,Ue),fi=bt.end===void 0?$e:Math.min(bt.end,Ue);!$t.extend&&$e>fi&&(I=fi,fi=$e,$e=I);var Bt=k(lt,$e),Tt=k(lt,fi);if(Bt&&Tt&&($t.rangeCount!==1||$t.anchorNode!==Bt.node||$t.anchorOffset!==Bt.offset||$t.focusNode!==Tt.node||$t.focusOffset!==Tt.offset)){var Vt=re.createRange();Vt.setStart(Bt.node,Bt.offset),$t.removeAllRanges(),$e>fi?($t.addRange(Vt),$t.extend(Tt.node,Tt.offset)):(Vt.setEnd(Tt.node,Tt.offset),$t.addRange(Vt))}}}}for(re=[],$t=lt;$t=$t.parentNode;)$t.nodeType===1&&re.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof lt.focus=="function"&&lt.focus(),lt=0;lt<re.length;lt++){var ae=re[lt];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}eg=!!Zy,Qy=Zy=null}finally{Ve=w,Q.p=m,K.T=h}}a.current=r,Jn=2}}function al(){if(Jn===2){Jn=0;var a=qs,r=Bc,h=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var m=Q.p;Q.p=2;var w=Ve;Ve|=4;try{xi(a,r.alternate,r)}finally{Ve=w,Q.p=m,K.T=h}}Jn=3}}function Fu(){if(Jn===4||Jn===3){Jn=0,Zt();var a=qs,r=Bc,h=cr,m=Vf;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jn=5:(Jn=0,Bc=qs=null,vo(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(ta=null),br(h),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Be,r,void 0,(r.current.flags&128)===128)}catch{}if(m!==null){r=K.T,w=Q.p,Q.p=2,K.T=null;try{for(var A=a.onRecoverableError,I=0;I<m.length;I++){var lt=m[I];A(lt.value,{componentStack:lt.stack})}}finally{K.T=r,Q.p=w}}(cr&3)!==0&&Pc(),fe(a),w=a.pendingLanes,(h&261930)!==0&&(w&42)!==0?a===Iu?Fl++:(Fl=0,Iu=a):Fl=0,ze(0)}}function vo(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,Tu(r)))}function Pc(){return ua(),al(),Fu(),ud()}function ud(){if(Jn!==5)return!1;var a=qs,r=Lc;Lc=0;var h=br(cr),m=K.T,w=Q.p;try{Q.p=32>h?32:h,K.T=null,h=Uc,Uc=null;var A=qs,I=cr;if(Jn=0,Bc=qs=null,cr=0,(Ve&6)!==0)throw Error(i(331));var lt=Ve;if(Ve|=4,_s(A.current),Rp(A,A.current,I,h),Ve=lt,ze(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Be,A)}catch{}return!0}finally{Q.p=w,K.T=m,vo(a,r)}}function Np(a,r,h){r=Ls(h,r),r=Sp(a.stateNode,r,2),a=kl(a,r,2),a!==null&&(Ns(a,2),fe(a))}function Hn(a,r,h){if(a.tag===3)Np(a,a,h);else for(;r!==null;){if(r.tag===3){Np(r,a,h);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ta===null||!ta.has(m))){a=Ls(h,a),h=_p(2),m=kl(r,h,2),m!==null&&(G0(h,m,r,a),Ns(m,2),fe(m));break}}r=r.return}}function Kf(a,r,h){var m=a.pingCache;if(m===null){m=a.pingCache=new dn;var w=new Set;m.set(r,w)}else w=m.get(r),w===void 0&&(w=new Set,m.set(r,w));w.has(h)||(Op=!0,w.add(h),a=l.bind(null,a,r,h),r.then(a,a))}function l(a,r,h){var m=a.pingCache;m!==null&&m.delete(r),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,rn===a&&(gn&h)===h&&(Oi===4||Oi===3&&(gn&62914560)===gn&&300>Nt()-kc?(Ve&2)===0&&Yl(a,0):Pf|=h,di===gn&&(di=0)),fe(a)}function c(a,r){r===0&&(r=Pr()),a=Pn(a,r),a!==null&&(Ns(a,r),fe(a))}function g(a){var r=a.memoizedState,h=0;r!==null&&(h=r.retryLane),c(a,h)}function S(a,r){var h=0;switch(a.tag){case 31:case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(r),c(a,h)}function N(a,r){return zt(a,r)}var L=null,rt=null,St=!1,Wt=!1,le=!1,Te=0;function fe(a){a!==rt&&a.next===null&&(rt===null?L=rt=a:rt=rt.next=a),Wt=!0,St||(St=!0,Ut())}function ze(a,r){if(!le&&Wt){le=!0;do for(var h=!1,m=L;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var A=0;else{var I=m.suspendedLanes,lt=m.pingedLanes;A=(1<<31-pe(42|a)+1)-1,A&=w&~(I&~lt),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,Kt(m,A))}else A=gn,A=Hr(m,m===rn?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Gr(m,A)||(h=!0,Kt(m,A));m=m.next}while(h);le=!1}}function cn(){Ta()}function Ta(){Wt=St=!1;var a=0;Te!==0&&fw()&&(a=Te);for(var r=Nt(),h=null,m=L;m!==null;){var w=m.next,A=Vc(m,r);A===0?(m.next=null,h===null?L=w:h.next=w,w===null&&(rt=h)):(h=m,(a!==0||(A&3)!==0)&&(Wt=!0)),m=w}Jn!==0&&Jn!==5||ze(a),Te!==0&&(Te=0)}function Vc(a,r){for(var h=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var I=31-pe(A),lt=1<<I,bt=w[I];bt===-1?((lt&h)===0||(lt&m)!==0)&&(w[I]=yh(lt,r)):bt<=r&&(a.expiredLanes|=lt),A&=~lt}if(r=rn,h=gn,h=Hr(a,a===r?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===r&&(jn===2||jn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ft(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Gr(a,h)){if(r=h&-h,r===a.callbackPriority)return r;switch(m!==null&&Ft(m),br(h)){case 2:case 8:h=je;break;case 32:h=ie;break;case 268435456:h=Le;break;default:h=ie}return m=Ql.bind(null,a),h=zt(h,m),a.callbackPriority=r,a.callbackNode=h,r}return m!==null&&m!==null&&Ft(m),a.callbackPriority=2,a.callbackNode=null,2}function Ql(a,r){if(Jn!==0&&Jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Pc()&&a.callbackNode!==h)return null;var m=gn;return m=Hr(a,a===rn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Tn(a,m,r),Vc(a,Nt()),a.callbackNode!=null&&a.callbackNode===h?Ql.bind(null,a):null)}function Kt(a,r){if(Pc())return null;Tn(a,r,!0)}function Ut(){dw(function(){(Ve&6)!==0?zt(oe,cn):Ta()})}function Jt(){if(Te===0){var a=Yo;a===0&&(a=Ne,Ne<<=1,(Ne&261888)===0&&(Ne=256)),Te=a}return Te}function xe(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Qs(""+a)}function Ze(a,r){var h=r.ownerDocument.createElement("input");return h.name=r.name,h.value=r.value,a.id&&h.setAttribute("form",a.id),r.parentNode.insertBefore(h,r),a=new FormData(a),h.parentNode.removeChild(h),a}function Di(a,r,h,m,w){if(r==="submit"&&h&&h.stateNode===w){var A=xe((w[Ei]||null).action),I=m.submitter;I&&(r=(r=I[Ei]||null)?xe(r.formAction):I.getAttribute("formAction"),r!==null&&(A=r,I=null));var lt=new du("action","action",null,m,w);a.push({event:lt,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Te!==0){var bt=I?Ze(w,I):new FormData(w);dp(h,{pending:!0,data:bt,method:w.method,action:A},null,bt)}}else typeof A=="function"&&(lt.preventDefault(),bt=I?Ze(w,I):new FormData(w),dp(h,{pending:!0,data:bt,method:w.method,action:A},A,bt))},currentTarget:w}]})}}for(var We=0;We<Re.length;We++){var Bn=Re[We],Ca=Bn.toLowerCase(),Vn=Bn[0].toUpperCase()+Bn.slice(1);ye(Ca,"on"+Vn)}ye(Pt,"onAnimationEnd"),ye(It,"onAnimationIteration"),ye(ee,"onAnimationStart"),ye("dblclick","onDoubleClick"),ye("focusin","onFocus"),ye("focusout","onBlur"),ye(se,"onTransitionRun"),ye(be,"onTransitionStart"),ye(Oe,"onTransitionCancel"),ye(ge,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fr));function zx(a,r){r=(r&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],w=m.event;m=m.listeners;t:{var A=void 0;if(r)for(var I=m.length-1;0<=I;I--){var lt=m[I],bt=lt.instance,qt=lt.currentTarget;if(lt=lt.listener,bt!==A&&w.isPropagationStopped())break t;A=lt,w.currentTarget=qt;try{A(w)}catch(ne){De(ne)}w.currentTarget=null,A=bt}else for(I=0;I<m.length;I++){if(lt=m[I],bt=lt.instance,qt=lt.currentTarget,lt=lt.listener,bt!==A&&w.isPropagationStopped())break t;A=lt,w.currentTarget=qt;try{A(w)}catch(ne){De(ne)}w.currentTarget=null,A=bt}}}}function kn(a,r){var h=r[Wa];h===void 0&&(h=r[Wa]=new Set);var m=a+"__bubble";h.has(m)||(jx(r,a,2,!1),h.add(m))}function Fy(a,r,h){var m=0;r&&(m|=4),jx(h,a,m,r)}var K0="_reactListening"+Math.random().toString(36).slice(2);function Ky(a){if(!a[K0]){a[K0]=!0,Fa.forEach(function(h){h!=="selectionchange"&&(qy.has(h)||Fy(h,!1,a),Fy(h,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[K0]||(r[K0]=!0,Fy("selectionchange",!1,r))}}function jx(a,r,h,m){switch(ub(r)){case 2:var w=zw;break;case 8:w=jw;break;default:w=o1}h=w.bind(null,r,h,a),w=void 0,!pf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(r,h,{capture:!0,passive:w}):a.addEventListener(r,h,!0):w!==void 0?a.addEventListener(r,h,{passive:w}):a.addEventListener(r,h,!1)}function Yy(a,r,h,m,w){var A=m;if((r&1)===0&&(r&2)===0&&m!==null)t:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var lt=m.stateNode.containerInfo;if(lt===w)break;if(I===4)for(I=m.return;I!==null;){var bt=I.tag;if((bt===3||bt===4)&&I.stateNode.containerInfo===w)return;I=I.return}for(;lt!==null;){if(I=_r(lt),I===null)return;if(bt=I.tag,bt===5||bt===6||bt===26||bt===27){m=A=I;continue t}lt=lt.parentNode}}m=m.return}zo(function(){var qt=A,ne=fu(h),re=[];t:{var Xt=he.get(a);if(Xt!==void 0){var $t=du,Ue=a;switch(a){case"keypress":if(jo(h)===0)break t;case"keydown":case"keyup":$t=Js;break;case"focusin":Ue="focus",$t=Lo;break;case"focusout":Ue="blur",$t=Lo;break;case"beforeblur":case"afterblur":$t=Lo;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=hc;break;case Pt:case It:case ee:$t=Sh;break;case ge:$t=yf;break;case"scroll":case"scrollend":$t=pu;break;case"wheel":$t=vu;break;case"copy":case"cut":case"paste":$t=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=fc;break;case"toggle":case"beforetoggle":$t=vf}var $e=(r&4)!==0,fi=!$e&&(a==="scroll"||a==="scrollend"),Bt=$e?Xt!==null?Xt+"Capture":null:Xt;$e=[];for(var Tt=qt,Vt;Tt!==null;){var ae=Tt;if(Vt=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Vt===null||Bt===null||(ae=Zr(Tt,Bt),ae!=null&&$e.push(Dp(Tt,ae,Vt))),fi)break;Tt=Tt.return}0<$e.length&&(Xt=new $t(Xt,Ue,null,h,ne),re.push({event:Xt,listeners:$e}))}}if((r&7)===0){t:{if(Xt=a==="mouseover"||a==="pointerover",$t=a==="mouseout"||a==="pointerout",Xt&&h!==ks&&(Ue=h.relatedTarget||h.fromElement)&&(_r(Ue)||Ue[Ma]))break t;if(($t||Xt)&&(Xt=ne.window===ne?ne:(Xt=ne.ownerDocument)?Xt.defaultView||Xt.parentWindow:window,$t?(Ue=h.relatedTarget||h.toElement,$t=qt,Ue=Ue?_r(Ue):null,Ue!==null&&(fi=o(Ue),$e=Ue.tag,Ue!==fi||$e!==5&&$e!==27&&$e!==6)&&(Ue=null)):($t=null,Ue=qt),$t!==Ue)){if($e=mu,ae="onMouseLeave",Bt="onMouseEnter",Tt="mouse",(a==="pointerout"||a==="pointerover")&&($e=fc,ae="onPointerLeave",Bt="onPointerEnter",Tt="pointer"),fi=$t==null?Xt:cs($t),Vt=Ue==null?Xt:cs(Ue),Xt=new $e(ae,Tt+"leave",$t,h,ne),Xt.target=fi,Xt.relatedTarget=Vt,ae=null,_r(ne)===qt&&($e=new $e(Bt,Tt+"enter",Ue,h,ne),$e.target=Vt,$e.relatedTarget=fi,ae=$e),fi=ae,$t&&Ue)e:{for($e=rw,Bt=$t,Tt=Ue,Vt=0,ae=Bt;ae;ae=$e(ae))Vt++;ae=0;for(var Xe=Tt;Xe;Xe=$e(Xe))ae++;for(;0<Vt-ae;)Bt=$e(Bt),Vt--;for(;0<ae-Vt;)Tt=$e(Tt),ae--;for(;Vt--;){if(Bt===Tt||Tt!==null&&Bt===Tt.alternate){$e=Bt;break e}Bt=$e(Bt),Tt=$e(Tt)}$e=null}else $e=null;$t!==null&&kx(re,Xt,$t,$e,!1),Ue!==null&&fi!==null&&kx(re,fi,Ue,$e,!0)}}t:{if(Xt=qt?cs(qt):window,$t=Xt.nodeName&&Xt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Xt.type==="file")var qn=Cl;else if(_u(Xt))if(sa)qn=Io;else{qn=Or;var Pe=_f}else $t=Xt.nodeName,!$t||$t.toLowerCase()!=="input"||Xt.type!=="checkbox"&&Xt.type!=="radio"?qt&&oc(qt.elementType)&&(qn=Cl):qn=yc;if(qn&&(qn=qn(a,qt))){wu(re,qn,h,ne);break t}Pe&&Pe(a,Xt,qt),a==="focusout"&&qt&&Xt.type==="number"&&qt.memoizedProps.value!=null&&$a(Xt,"number",Xt.value)}switch(Pe=qt?cs(qt):window,a){case"focusin":(_u(Pe)||Pe.contentEditable==="true")&&(dt=Pe,_t=qt,wt=null);break;case"focusout":wt=_t=dt=null;break;case"mousedown":jt=!0;break;case"contextmenu":case"mouseup":case"dragend":jt=!1,vt(re,h,ne);break;case"selectionchange":if(ct)break;case"keydown":case"keyup":vt(re,h,ne)}var _n;if(Cr)t:{switch(a){case"compositionstart":var Ln="onCompositionStart";break t;case"compositionend":Ln="onCompositionEnd";break t;case"compositionupdate":Ln="onCompositionUpdate";break t}Ln=void 0}else $r?Su(a,h)&&(Ln="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ln="onCompositionStart");Ln&&(xu&&h.locale!=="ko"&&($r||Ln!=="onCompositionStart"?Ln==="onCompositionEnd"&&$r&&(_n=Er()):(Ba=ne,hu="value"in Ba?Ba.value:Ba.textContent,$r=!0)),Pe=Y0(qt,Ln),0<Pe.length&&(Ln=new _l(Ln,a,null,h,ne),re.push({event:Ln,listeners:Pe}),_n?Ln.data=_n:(_n=xf(h),_n!==null&&(Ln.data=_n)))),(_n=pc?bf(a,h):Sf(a,h))&&(Ln=Y0(qt,"onBeforeInput"),0<Ln.length&&(Pe=new _l("onBeforeInput","beforeinput",null,h,ne),re.push({event:Pe,listeners:Ln}),Pe.data=_n)),Di(re,a,qt,h,ne)}zx(re,r)})}function Dp(a,r,h){return{instance:a,listener:r,currentTarget:h}}function Y0(a,r){for(var h=r+"Capture",m=[];a!==null;){var w=a,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=Zr(a,h),w!=null&&m.unshift(Dp(a,w,A)),w=Zr(a,r),w!=null&&m.push(Dp(a,w,A))),a.tag===3)return m;a=a.return}return[]}function rw(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kx(a,r,h,m,w){for(var A=r._reactName,I=[];h!==null&&h!==m;){var lt=h,bt=lt.alternate,qt=lt.stateNode;if(lt=lt.tag,bt!==null&&bt===m)break;lt!==5&&lt!==26&&lt!==27||qt===null||(bt=qt,w?(qt=Zr(h,A),qt!=null&&I.unshift(Dp(h,qt,bt))):w||(qt=Zr(h,A),qt!=null&&I.push(Dp(h,qt,bt)))),h=h.return}I.length!==0&&a.push({event:r,listeners:I})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function Bx(a){return(typeof a=="string"?a:""+a).replace(ow,`
`).replace(lw,"")}function Lx(a,r){return r=Bx(r),Bx(a)===r}function ci(a,r,h,m,w,A){switch(h){case"children":typeof m=="string"?r==="body"||r==="textarea"&&m===""||Kr(a,m):(typeof m=="number"||typeof m=="bigint")&&r!=="body"&&Kr(a,""+m);break;case"className":gl(a,"class",m);break;case"tabIndex":gl(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":gl(a,h,m);break;case"style":rc(a,m,A);break;case"data":if(r!=="object"){gl(a,"data",m);break}case"src":case"href":if(m===""&&(r!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Qs(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(r!=="input"&&ci(a,r,"name",w.name,w,null),ci(a,r,"formEncType",w.formEncType,w,null),ci(a,r,"formMethod",w.formMethod,w,null),ci(a,r,"formTarget",w.formTarget,w,null)):(ci(a,r,"encType",w.encType,w,null),ci(a,r,"method",w.method,w,null),ci(a,r,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Qs(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=hs);break;case"onScroll":m!=null&&kn("scroll",a);break;case"onScrollEnd":m!=null&&kn("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=Qs(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":kn("beforetoggle",a),kn("toggle",a),fn(a,"popover",m);break;case"xlinkActuate":zs(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":zs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":zs(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":zs(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":zs(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":zs(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":zs(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":zs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":zs(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fn(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xh.get(h)||h,fn(a,h,m))}}function Xy(a,r,h,m,w,A){switch(h){case"style":rc(a,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof m=="string"?Kr(a,m):(typeof m=="number"||typeof m=="bigint")&&Kr(a,""+m);break;case"onScroll":m!=null&&kn("scroll",a);break;case"onScrollEnd":m!=null&&kn("scrollend",a);break;case"onClick":m!=null&&(a.onclick=hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),r=h.slice(2,w?h.length-7:void 0),A=a[Ei]||null,A=A!=null?A[h]:null,typeof A=="function"&&a.removeEventListener(r,A,w),typeof m=="function")){typeof A!="function"&&A!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(r,m,w);break t}h in a?a[h]=m:m===!0?a.setAttribute(h,""):fn(a,h,m)}}}function os(a,r,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",a),kn("load",a);var m=!1,w=!1,A;for(A in h)if(h.hasOwnProperty(A)){var I=h[A];if(I!=null)switch(A){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ci(a,r,A,I,h,null)}}w&&ci(a,r,"srcSet",h.srcSet,h,null),m&&ci(a,r,"src",h.src,h,null);return;case"input":kn("invalid",a);var lt=A=I=w=null,bt=null,qt=null;for(m in h)if(h.hasOwnProperty(m)){var ne=h[m];if(ne!=null)switch(m){case"name":w=ne;break;case"type":I=ne;break;case"checked":bt=ne;break;case"defaultChecked":qt=ne;break;case"value":A=ne;break;case"defaultValue":lt=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:ci(a,r,m,ne,h,null)}}vl(a,A,lt,bt,qt,I,w,!1);return;case"select":kn("invalid",a),m=I=A=null;for(w in h)if(h.hasOwnProperty(w)&&(lt=h[w],lt!=null))switch(w){case"value":A=lt;break;case"defaultValue":I=lt;break;case"multiple":m=lt;default:ci(a,r,w,lt,h,null)}r=A,h=I,a.multiple=!!m,r!=null?fs(a,!!m,r,!1):h!=null&&fs(a,!!m,h,!0);return;case"textarea":kn("invalid",a),A=w=m=null;for(I in h)if(h.hasOwnProperty(I)&&(lt=h[I],lt!=null))switch(I){case"value":m=lt;break;case"defaultValue":w=lt;break;case"children":A=lt;break;case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(91));break;default:ci(a,r,I,lt,h,null)}Do(a,m,w,A);return;case"option":for(bt in h)h.hasOwnProperty(bt)&&(m=h[bt],m!=null)&&(bt==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":ci(a,r,bt,m,h,null));return;case"dialog":kn("beforetoggle",a),kn("toggle",a),kn("cancel",a),kn("close",a);break;case"iframe":case"object":kn("load",a);break;case"video":case"audio":for(m=0;m<fr.length;m++)kn(fr[m],a);break;case"image":kn("error",a),kn("load",a);break;case"details":kn("toggle",a);break;case"embed":case"source":case"link":kn("error",a),kn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qt in h)if(h.hasOwnProperty(qt)&&(m=h[qt],m!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ci(a,r,qt,m,h,null)}return;default:if(oc(r)){for(ne in h)h.hasOwnProperty(ne)&&(m=h[ne],m!==void 0&&Xy(a,r,ne,m,h,void 0));return}}for(lt in h)h.hasOwnProperty(lt)&&(m=h[lt],m!=null&&ci(a,r,lt,m,h,null))}function uw(a,r,h,m){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,I=null,lt=null,bt=null,qt=null,ne=null;for($t in h){var re=h[$t];if(h.hasOwnProperty($t)&&re!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":bt=re;default:m.hasOwnProperty($t)||ci(a,r,$t,null,m,re)}}for(var Xt in m){var $t=m[Xt];if(re=h[Xt],m.hasOwnProperty(Xt)&&($t!=null||re!=null))switch(Xt){case"type":A=$t;break;case"name":w=$t;break;case"checked":qt=$t;break;case"defaultChecked":ne=$t;break;case"value":I=$t;break;case"defaultValue":lt=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(i(137,r));break;default:$t!==re&&ci(a,r,Xt,$t,m,re)}}js(a,I,lt,bt,qt,ne,A,w);return;case"select":$t=I=lt=Xt=null;for(A in h)if(bt=h[A],h.hasOwnProperty(A)&&bt!=null)switch(A){case"value":break;case"multiple":$t=bt;default:m.hasOwnProperty(A)||ci(a,r,A,null,m,bt)}for(w in m)if(A=m[w],bt=h[w],m.hasOwnProperty(w)&&(A!=null||bt!=null))switch(w){case"value":Xt=A;break;case"defaultValue":lt=A;break;case"multiple":I=A;default:A!==bt&&ci(a,r,w,A,m,bt)}r=lt,h=I,m=$t,Xt!=null?fs(a,!!h,Xt,!1):!!m!=!!h&&(r!=null?fs(a,!!h,r,!0):fs(a,!!h,h?[]:"",!1));return;case"textarea":$t=Xt=null;for(lt in h)if(w=h[lt],h.hasOwnProperty(lt)&&w!=null&&!m.hasOwnProperty(lt))switch(lt){case"value":break;case"children":break;default:ci(a,r,lt,null,m,w)}for(I in m)if(w=m[I],A=h[I],m.hasOwnProperty(I)&&(w!=null||A!=null))switch(I){case"value":Xt=w;break;case"defaultValue":$t=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==A&&ci(a,r,I,w,m,A)}cu(a,Xt,$t);return;case"option":for(var Ue in h)Xt=h[Ue],h.hasOwnProperty(Ue)&&Xt!=null&&!m.hasOwnProperty(Ue)&&(Ue==="selected"?a.selected=!1:ci(a,r,Ue,null,m,Xt));for(bt in m)Xt=m[bt],$t=h[bt],m.hasOwnProperty(bt)&&Xt!==$t&&(Xt!=null||$t!=null)&&(bt==="selected"?a.selected=Xt&&typeof Xt!="function"&&typeof Xt!="symbol":ci(a,r,bt,Xt,m,$t));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in h)Xt=h[$e],h.hasOwnProperty($e)&&Xt!=null&&!m.hasOwnProperty($e)&&ci(a,r,$e,null,m,Xt);for(qt in m)if(Xt=m[qt],$t=h[qt],m.hasOwnProperty(qt)&&Xt!==$t&&(Xt!=null||$t!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":if(Xt!=null)throw Error(i(137,r));break;default:ci(a,r,qt,Xt,m,$t)}return;default:if(oc(r)){for(var fi in h)Xt=h[fi],h.hasOwnProperty(fi)&&Xt!==void 0&&!m.hasOwnProperty(fi)&&Xy(a,r,fi,void 0,m,Xt);for(ne in m)Xt=m[ne],$t=h[ne],!m.hasOwnProperty(ne)||Xt===$t||Xt===void 0&&$t===void 0||Xy(a,r,ne,Xt,m,$t);return}}for(var Bt in h)Xt=h[Bt],h.hasOwnProperty(Bt)&&Xt!=null&&!m.hasOwnProperty(Bt)&&ci(a,r,Bt,null,m,Xt);for(re in m)Xt=m[re],$t=h[re],!m.hasOwnProperty(re)||Xt===$t||Xt==null&&$t==null||ci(a,r,re,Xt,m,$t)}function Ux(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cw(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],A=w.transferSize,I=w.initiatorType,lt=w.duration;if(A&&lt&&Ux(I)){for(I=0,lt=w.responseEnd,m+=1;m<h.length;m++){var bt=h[m],qt=bt.startTime;if(qt>lt)break;var ne=bt.transferSize,re=bt.initiatorType;ne&&Ux(re)&&(bt=bt.responseEnd,I+=ne*(bt<lt?1:(lt-qt)/(bt-qt)))}if(--m,r+=8*(A+I)/(w.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Zy=null,Qy=null;function X0(a){return a.nodeType===9?a:a.ownerDocument}function Hx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gx(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function Jy(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wy=null;function fw(){var a=window.event;return a&&a.type==="popstate"?a===Wy?!1:(Wy=a,!0):(Wy=null,!1)}var Px=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(a){return Vx.resolve(null).then(a).catch(pw)}:Px;function pw(a){setTimeout(function(){throw a})}function Ic(a){return a==="head"}function Ix(a,r){var h=r,m=0;do{var w=h.nextSibling;if(a.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){a.removeChild(w),dd(r);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")zp(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,zp(h);for(var A=h.firstChild;A;){var I=A.nextSibling,lt=A.nodeName;A[Na]||lt==="SCRIPT"||lt==="STYLE"||lt==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=I}}else h==="body"&&zp(a.ownerDocument.body);h=w}while(h);dd(r)}function qx(a,r){var h=a;a=0;do{var m=h.nextSibling;if(h.nodeType===1?r?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(r?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=m}while(h)}function $y(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var h=r;switch(r=r.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$y(h),Ir(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function mw(a,r,h,m){for(;a.nodeType===1;){var w=h;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Na])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=xo(a.nextSibling),a===null)break}return null}function gw(a,r,h){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=xo(a.nextSibling),a===null))return null;return a}function Fx(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=xo(a.nextSibling),a===null))return null;return a}function t1(a){return a.data==="$?"||a.data==="$~"}function e1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function yw(a,r){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||h.readyState!=="loading")r();else{var m=function(){r(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function xo(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var n1=null;function Kx(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(r===0)return xo(a.nextSibling);r--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||r++}a=a.nextSibling}return null}function Yx(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(r===0)return a;r--}else h!=="/$"&&h!=="/&"||r++}a=a.previousSibling}return null}function Xx(a,r,h){switch(r=X0(h),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function zp(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ir(a)}var bo=new Map,Zx=new Set;function Z0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ku=Q.d;Q.d={f:vw,r:xw,D:bw,C:Sw,L:_w,m:ww,X:Tw,S:Ew,M:Cw};function vw(){var a=Ku.f(),r=jr();return a||r}function xw(a){var r=Zn(a);r!==null&&r.tag===5&&r.type==="form"?N0(r):Ku.r(a)}var cd=typeof document>"u"?null:document;function Qx(a,r,h){var m=cd;if(m&&typeof r=="string"&&r){var w=Hi(r);w='link[rel="'+a+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),Zx.has(w)||(Zx.add(w),a={rel:a,crossOrigin:h,href:r},m.querySelector(w)===null&&(r=m.createElement("link"),os(r,"link",a),Ti(r),m.head.appendChild(r)))}}function bw(a){Ku.D(a),Qx("dns-prefetch",a,null)}function Sw(a,r){Ku.C(a,r),Qx("preconnect",a,r)}function _w(a,r,h){Ku.L(a,r,h);var m=cd;if(m&&a&&r){var w='link[rel="preload"][as="'+Hi(r)+'"]';r==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Hi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Hi(h.imageSizes)+'"]')):w+='[href="'+Hi(a)+'"]';var A=w;switch(r){case"style":A=fd(a);break;case"script":A=hd(a)}bo.has(A)||(a=v({rel:"preload",href:r==="image"&&h&&h.imageSrcSet?void 0:a,as:r},h),bo.set(A,a),m.querySelector(w)!==null||r==="style"&&m.querySelector(jp(A))||r==="script"&&m.querySelector(kp(A))||(r=m.createElement("link"),os(r,"link",a),Ti(r),m.head.appendChild(r)))}}function ww(a,r){Ku.m(a,r);var h=cd;if(h&&a){var m=r&&typeof r.as=="string"?r.as:"script",w='link[rel="modulepreload"][as="'+Hi(m)+'"][href="'+Hi(a)+'"]',A=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=hd(a)}if(!bo.has(A)&&(a=v({rel:"modulepreload",href:a},r),bo.set(A,a),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(kp(A)))return}m=h.createElement("link"),os(m,"link",a),Ti(m),h.head.appendChild(m)}}}function Ew(a,r,h){Ku.S(a,r,h);var m=cd;if(m&&a){var w=ba(m).hoistableStyles,A=fd(a);r=r||"default";var I=w.get(A);if(!I){var lt={loading:0,preload:null};if(I=m.querySelector(jp(A)))lt.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":r},h),(h=bo.get(A))&&i1(a,h);var bt=I=m.createElement("link");Ti(bt),os(bt,"link",a),bt._p=new Promise(function(qt,ne){bt.onload=qt,bt.onerror=ne}),bt.addEventListener("load",function(){lt.loading|=1}),bt.addEventListener("error",function(){lt.loading|=2}),lt.loading|=4,Q0(I,r,m)}I={type:"stylesheet",instance:I,count:1,state:lt},w.set(A,I)}}}function Tw(a,r){Ku.X(a,r);var h=cd;if(h&&a){var m=ba(h).hoistableScripts,w=hd(a),A=m.get(w);A||(A=h.querySelector(kp(w)),A||(a=v({src:a,async:!0},r),(r=bo.get(w))&&a1(a,r),A=h.createElement("script"),Ti(A),os(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function Cw(a,r){Ku.M(a,r);var h=cd;if(h&&a){var m=ba(h).hoistableScripts,w=hd(a),A=m.get(w);A||(A=h.querySelector(kp(w)),A||(a=v({src:a,async:!0,type:"module"},r),(r=bo.get(w))&&a1(a,r),A=h.createElement("script"),Ti(A),os(A,"link",a),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function Jx(a,r,h,m){var w=(w=Yt.current)?Z0(w):null;if(!w)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(r=fd(h.href),h=ba(w).hoistableStyles,m=h.get(r),m||(m={type:"style",instance:null,count:0,state:null},h.set(r,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=fd(h.href);var A=ba(w).hoistableStyles,I=A.get(a);if(I||(w=w.ownerDocument||w,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,I),(A=w.querySelector(jp(a)))&&!A._p&&(I.instance=A,I.state.loading=5),bo.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},bo.set(a,h),A||Aw(w,a,h,I.state))),r&&m===null)throw Error(i(528,""));return I}if(r&&m!==null)throw Error(i(529,""));return null;case"script":return r=h.async,h=h.src,typeof h=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hd(h),h=ba(w).hoistableScripts,m=h.get(r),m||(m={type:"script",instance:null,count:0,state:null},h.set(r,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function fd(a){return'href="'+Hi(a)+'"'}function jp(a){return'link[rel="stylesheet"]['+a+"]"}function Wx(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function Aw(a,r,h,m){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?m.loading=1:(r=a.createElement("link"),m.preload=r,r.addEventListener("load",function(){return m.loading|=1}),r.addEventListener("error",function(){return m.loading|=2}),os(r,"link",h),Ti(r),a.head.appendChild(r))}function hd(a){return'[src="'+Hi(a)+'"]'}function kp(a){return"script[async]"+a}function $x(a,r,h){if(r.count++,r.instance===null)switch(r.type){case"style":var m=a.querySelector('style[data-href~="'+Hi(h.href)+'"]');if(m)return r.instance=m,Ti(m),m;var w=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ti(m),os(m,"style",w),Q0(m,h.precedence,a),r.instance=m;case"stylesheet":w=fd(h.href);var A=a.querySelector(jp(w));if(A)return r.state.loading|=4,r.instance=A,Ti(A),A;m=Wx(h),(w=bo.get(w))&&i1(m,w),A=(a.ownerDocument||a).createElement("link"),Ti(A);var I=A;return I._p=new Promise(function(lt,bt){I.onload=lt,I.onerror=bt}),os(A,"link",m),r.state.loading|=4,Q0(A,h.precedence,a),r.instance=A;case"script":return A=hd(h.src),(w=a.querySelector(kp(A)))?(r.instance=w,Ti(w),w):(m=h,(w=bo.get(A))&&(m=v({},h),a1(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),Ti(w),os(w,"link",m),a.head.appendChild(w),r.instance=w);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(m=r.instance,r.state.loading|=4,Q0(m,h.precedence,a));return r.instance}function Q0(a,r,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,A=w,I=0;I<m.length;I++){var lt=m[I];if(lt.dataset.precedence===r)A=lt;else if(A!==w)break}A?A.parentNode.insertBefore(a,A.nextSibling):(r=h.nodeType===9?h.head:h,r.insertBefore(a,r.firstChild))}function i1(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function a1(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var J0=null;function tb(a,r,h){if(J0===null){var m=new Map,w=J0=new Map;w.set(h,m)}else w=J0,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),w=0;w<h.length;w++){var A=h[w];if(!(A[Na]||A[Xn]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var I=A.getAttribute(r)||"";I=a+I;var lt=m.get(I);lt?lt.push(A):m.set(I,[A])}}return m}function eb(a,r,h){a=a.ownerDocument||a,a.head.insertBefore(h,r==="title"?a.querySelector("head > title"):null)}function Rw(a,r,h){if(h===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(a=r.disabled,typeof r.precedence=="string"&&a==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Ow(a,r,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=fd(m.href),A=r.querySelector(jp(w));if(A){r=A._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=W0.bind(a),r.then(a,a)),h.state.loading|=4,h.instance=A,Ti(A);return}A=r.ownerDocument||r,m=Wx(m),(w=bo.get(w))&&i1(m,w),A=A.createElement("link"),Ti(A);var I=A;I._p=new Promise(function(lt,bt){I.onload=lt,I.onerror=bt}),os(A,"link",m),h.instance=A}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,r),(r=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=W0.bind(a),r.addEventListener("load",h),r.addEventListener("error",h))}}var s1=0;function Mw(a,r){return a.stylesheets&&a.count===0&&tg(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var m=setTimeout(function(){if(a.stylesheets&&tg(a,a.stylesheets),a.unsuspend){var A=a.unsuspend;a.unsuspend=null,A()}},6e4+r);0<a.imgBytes&&s1===0&&(s1=62500*cw());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&tg(a,a.stylesheets),a.unsuspend)){var A=a.unsuspend;a.unsuspend=null,A()}},(a.imgBytes>s1?50:800)+r);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function W0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $0=null;function tg(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$0=new Map,r.forEach(Nw,a),$0=null,W0.call(a))}function Nw(a,r){if(!(r.state.loading&4)){var h=$0.get(a);if(h)var m=h.get(null);else{h=new Map,$0.set(a,h);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var I=w[A];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),m=I)}m&&h.set(null,m)}w=r.instance,I=w.getAttribute("data-precedence"),A=h.get(I)||m,A===m&&h.set(null,w),h.set(I,w),this.count++,m=W0.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),A?A.parentNode.insertBefore(w,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),r.state.loading|=4}}var Bp={$$typeof:B,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function Dw(a,r,h,m,w,A,I,lt,bt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=bt,this.incompleteTransitions=new Map}function ib(a,r,h,m,w,A,I,lt,bt,qt,ne,re){return a=new Dw(a,r,h,I,bt,qt,ne,re,lt),r=1,A===!0&&(r|=24),A=Ci(3,null,null,r),a.current=A,A.stateNode=a,r=Gd(),r.refCount++,a.pooledCache=r,r.refCount++,A.memoizedState={element:m,isDehydrated:h,cache:r},Rf(A),a}function ab(a){return a?(a=Ya,a):Ya}function sb(a,r,h,m,w,A){w=ab(w),m.context===null?m.context=w:m.pendingContext=w,m=Zo(r),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),h=kl(a,m,r),h!==null&&(bn(h,a,r),Bl(h,a,r))}function rb(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<r?h:r}}function r1(a,r){rb(a,r),(a=a.alternate)&&rb(a,r)}function ob(a){if(a.tag===13||a.tag===31){var r=Pn(a,67108864);r!==null&&bn(r,a,67108864),r1(a,67108864)}}function lb(a){if(a.tag===13||a.tag===31){var r=Fs();r=pl(r);var h=Pn(a,r);h!==null&&bn(h,a,r),r1(a,r)}}var eg=!0;function zw(a,r,h,m){var w=K.T;K.T=null;var A=Q.p;try{Q.p=2,o1(a,r,h,m)}finally{Q.p=A,K.T=w}}function jw(a,r,h,m){var w=K.T;K.T=null;var A=Q.p;try{Q.p=8,o1(a,r,h,m)}finally{Q.p=A,K.T=w}}function o1(a,r,h,m){if(eg){var w=l1(m);if(w===null)Yy(a,r,m,ng,h),cb(a,m);else if(Bw(w,a,r,h,m))m.stopPropagation();else if(cb(a,m),r&4&&-1<kw.indexOf(a)){for(;w!==null;){var A=Zn(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var I=Oa(A.pendingLanes);if(I!==0){var lt=A;for(lt.pendingLanes|=2,lt.entangledLanes|=2;I;){var bt=1<<31-pe(I);lt.entanglements[1]|=bt,I&=~bt}fe(A),(Ve&6)===0&&($i=Nt()+500,ze(0))}}break;case 31:case 13:lt=Pn(A,2),lt!==null&&bn(lt,A,2),jr(),r1(A,2)}if(A=l1(m),A===null&&Yy(a,r,m,ng,h),A===w)break;w=A}w!==null&&m.stopPropagation()}else Yy(a,r,m,null,h)}}function l1(a){return a=fu(a),u1(a)}var ng=null;function u1(a){if(ng=null,a=_r(a),a!==null){var r=o(a);if(r===null)a=null;else{var h=r.tag;if(h===13){if(a=u(r),a!==null)return a;a=null}else if(h===31){if(a=f(r),a!==null)return a;a=null}else if(h===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return ng=a,null}function ub(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case oe:return 2;case je:return 8;case ie:case ue:return 32;case Le:return 268435456;default:return 32}default:return 32}}var c1=!1,qc=null,Fc=null,Kc=null,Lp=new Map,Up=new Map,Yc=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cb(a,r){switch(a){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Fc=null;break;case"mouseover":case"mouseout":Kc=null;break;case"pointerover":case"pointerout":Lp.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(r.pointerId)}}function Hp(a,r,h,m,w,A){return a===null||a.nativeEvent!==A?(a={blockedOn:r,domEventName:h,eventSystemFlags:m,nativeEvent:A,targetContainers:[w]},r!==null&&(r=Zn(r),r!==null&&ob(r)),a):(a.eventSystemFlags|=m,r=a.targetContainers,w!==null&&r.indexOf(w)===-1&&r.push(w),a)}function Bw(a,r,h,m,w){switch(r){case"focusin":return qc=Hp(qc,a,r,h,m,w),!0;case"dragenter":return Fc=Hp(Fc,a,r,h,m,w),!0;case"mouseover":return Kc=Hp(Kc,a,r,h,m,w),!0;case"pointerover":var A=w.pointerId;return Lp.set(A,Hp(Lp.get(A)||null,a,r,h,m,w)),!0;case"gotpointercapture":return A=w.pointerId,Up.set(A,Hp(Up.get(A)||null,a,r,h,m,w)),!0}return!1}function fb(a){var r=_r(a.target);if(r!==null){var h=o(r);if(h!==null){if(r=h.tag,r===13){if(r=u(h),r!==null){a.blockedOn=r,Ds(a.priority,function(){lb(h)});return}}else if(r===31){if(r=f(h),r!==null){a.blockedOn=r,Ds(a.priority,function(){lb(h)});return}}else if(r===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ig(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var h=l1(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);ks=m,h.target.dispatchEvent(m),ks=null}else return r=Zn(h),r!==null&&ob(r),a.blockedOn=h,!1;r.shift()}return!0}function hb(a,r,h){ig(a)&&h.delete(r)}function Lw(){c1=!1,qc!==null&&ig(qc)&&(qc=null),Fc!==null&&ig(Fc)&&(Fc=null),Kc!==null&&ig(Kc)&&(Kc=null),Lp.forEach(hb),Up.forEach(hb)}function ag(a,r){a.blockedOn===r&&(a.blockedOn=null,c1||(c1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lw)))}var sg=null;function db(a){sg!==a&&(sg=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sg===a&&(sg=null);for(var r=0;r<a.length;r+=3){var h=a[r],m=a[r+1],w=a[r+2];if(typeof m!="function"){if(u1(m||h)===null)continue;break}var A=Zn(h);A!==null&&(a.splice(r,3),r-=3,dp(A,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function dd(a){function r(bt){return ag(bt,a)}qc!==null&&ag(qc,a),Fc!==null&&ag(Fc,a),Kc!==null&&ag(Kc,a),Lp.forEach(r),Up.forEach(r);for(var h=0;h<Yc.length;h++){var m=Yc[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Yc.length&&(h=Yc[0],h.blockedOn===null);)fb(h),h.blockedOn===null&&Yc.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],A=h[m+1],I=w[Ei]||null;if(typeof A=="function")I||db(h);else if(I){var lt=null;if(A&&A.hasAttribute("formAction")){if(w=A,I=A[Ei]||null)lt=I.formAction;else if(u1(w)!==null)continue}else lt=I.action;typeof lt=="function"?h[m+1]=lt:(h.splice(m,3),m-=3),db(h)}}}function pb(){function a(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(I){return w=I})},focusReset:"manual",scroll:"manual"})}function r(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),w!==null&&(w(),w=null)}}}function f1(a){this._internalRoot=a}rg.prototype.render=f1.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var h=r.current,m=Fs();sb(h,m,a,r,null,null)},rg.prototype.unmount=f1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;sb(a.current,2,null,a,null,null),jr(),r[Ma]=null}};function rg(a){this._internalRoot=a}rg.prototype.unstable_scheduleHydration=function(a){if(a){var r=Mo();a={blockedOn:null,target:a,priority:r};for(var h=0;h<Yc.length&&r!==0&&r<Yc[h].priority;h++);Yc.splice(h,0,a),h===0&&fb(a)}};var mb=t.version;if(mb!=="19.2.3")throw Error(i(527,mb,"19.2.3"));Q.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=p(r),a=a!==null?y(a):null,a=a===null?null:a.stateNode,a};var Uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{Be=og.inject(Uw),nn=og}catch{}}return Pp.createRoot=function(a,r){if(!s(a))throw Error(i(299));var h=!1,m="",w=U0,A=xp,I=bp;return r!=null&&(r.unstable_strictMode===!0&&(h=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(w=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError)),r=ib(a,1,!1,null,null,h,m,null,w,A,I,pb),a[Ma]=r.current,Ky(a),new f1(r)},Pp.hydrateRoot=function(a,r,h){if(!s(a))throw Error(i(299));var m=!1,w="",A=U0,I=xp,lt=bp,bt=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(lt=h.onRecoverableError),h.formState!==void 0&&(bt=h.formState)),r=ib(a,1,!0,r,h??null,m,w,bt,A,I,lt,pb),r.context=ab(null),h=r.current,m=Fs(),m=pl(m),w=Zo(m),w.callback=null,kl(h,w,m),h=m,r.current.lanes=h,Ns(r,h),fe(r),a[Ma]=r.current,Ky(a),new rg(r)},Pp.version="19.2.3",Pp}var Tb;function Kw(){if(Tb)return p1.exports;Tb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),p1.exports=Fw(),p1.exports}var Yw=Kw();const un=e=>typeof e=="string",Vp=()=>{let e,t;const n=new Promise((i,s)=>{e=i,t=s});return n.resolve=e,n.reject=t,n},Cb=e=>e==null?"":""+e,Xw=(e,t,n)=>{e.forEach(i=>{t[i]&&(n[i]=t[i])})},Zw=/###/g,Ab=e=>e&&e.indexOf("###")>-1?e.replace(Zw,"."):e,Rb=e=>!e||un(e),cm=(e,t,n)=>{const i=un(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(Rb(e))return{};const o=Ab(i[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return Rb(e)?{}:{obj:e,k:Ab(i[s])}},Ob=(e,t,n)=>{const{obj:i,k:s}=cm(e,t,Object);if(i!==void 0||t.length===1){i[s]=n;return}let o=t[t.length-1],u=t.slice(0,t.length-1),f=cm(e,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=cm(e,u,Object),f?.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},Qw=(e,t,n,i)=>{const{obj:s,k:o}=cm(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Zg=(e,t)=>{const{obj:n,k:i}=cm(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Jw=(e,t,n)=>{const i=Zg(e,n);return i!==void 0?i:Zg(t,n)},a4=(e,t,n)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in e?un(e[i])||e[i]instanceof String||un(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):a4(e[i],t[i],n):e[i]=t[i]);return e},pd=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ww={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $w=e=>un(e)?e.replace(/[&<>"'\/]/g,t=>Ww[t]):e;class tE{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const eE=[" ",",","?","!",";"],nE=new tE(20),iE=(e,t,n)=>{t=t||"",n=n||"";const i=eE.filter(u=>t.indexOf(u)<0&&n.indexOf(u)<0);if(i.length===0)return!0;const s=nE.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(e);if(!o){const u=e.indexOf(n);u>0&&!s.test(e.substring(0,u))&&(o=!0)}return o},yv=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const i=t.split(n);let s=e;for(let o=0;o<i.length;){if(!s||typeof s!="object")return;let u,f="";for(let d=o;d<i.length;++d)if(d!==o&&(f+=n),f+=i[d],u=s[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<i.length-1)continue;o+=d-o+1;break}s=u}return s},_m=e=>e?.replace("_","-"),aE={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Qg{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||aE,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,i,s){return s&&!this.debug?null:(un(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Qg(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Qg(this.logger,t)}}var nu=new Qg;class yy{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[t,...n])})}}class Mb extends yy{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,i,s={}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;t.indexOf(".")>-1?f=t.split("."):(f=[t,n],i&&(Array.isArray(i)?f.push(...i):un(i)&&o?f.push(...i.split(o)):f.push(i)));const d=Zg(this.data,f);return!d&&!n&&!i&&t.indexOf(".")>-1&&(t=f[0],n=f[1],i=f.slice(2).join(".")),d||!u||!un(i)?d:yv(this.data?.[t]?.[n],i,o)}addResource(t,n,i,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[t,n];i&&(f=f.concat(u?i.split(u):i)),t.indexOf(".")>-1&&(f=t.split("."),s=n,n=f[1]),this.addNamespaces(n),Ob(this.data,f,s),o.silent||this.emit("added",t,n,i,s)}addResources(t,n,i,s={silent:!1}){for(const o in i)(un(i[o])||Array.isArray(i[o]))&&this.addResource(t,n,o,i[o],{silent:!0});s.silent||this.emit("added",t,n,i)}addResourceBundle(t,n,i,s,o,u={silent:!1,skipCopy:!1}){let f=[t,n];t.indexOf(".")>-1&&(f=t.split("."),s=i,i=n,n=f[1]),this.addNamespaces(n);let d=Zg(this.data,f)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?a4(d,i,o):d={...d,...i},Ob(this.data,f,d),u.silent||this.emit("added",t,n,i)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var s4={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,i,s)??t}),t}};const r4=Symbol("i18next/PATH_KEY");function sE(){const e=[],t=Object.create(null);let n;return t.get=(i,s)=>(n?.revoke?.(),s===r4?e:(e.push(s),n=Proxy.revocable(i,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function vv(e,t){const{[r4]:n}=e(sE());return n.join(t?.keySeparator??".")}const Nb={},v1=e=>!un(e)&&typeof e!="boolean"&&typeof e!="number";class Jg extends yy{constructor(t,n={}){super(),Xw(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=nu.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const i={...n};if(t==null)return!1;const s=this.resolve(t,i);if(s?.res===void 0)return!1;const o=v1(s.res);return!(i.returnObjects===!1&&o)}extractFromKey(t,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=i&&t.indexOf(i)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!iE(t,i,s);if(u&&!f){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:un(o)?[o]:o};const p=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(p[0])>-1)&&(o=p.shift()),t=p.join(s)}return{key:t,namespaces:un(o)?[o]:o}}translate(t,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=vv(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(t[t.length-1],s),p=d[d.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=s.lng||this.language,x=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return x?o?{res:`${p}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:`${p}${y}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:f;const _=this.resolve(t,s);let E=_?.res;const T=_?.usedKey||f,M=_?.exactUsedKey||f,O=["[object Number]","[object Function]","[object RegExp]"],R=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,B=!this.i18nFormat||this.i18nFormat.handleAsObject,H=s.count!==void 0&&!un(s.count),F=Jg.hasDefaultValue(s),nt=H?this.pluralResolver.getSuffix(v,s.count,s):"",X=s.ordinal&&H?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",z=H&&!s.ordinal&&s.count===0,j=z&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${nt}`]||s[`defaultValue${X}`]||s.defaultValue;let P=E;B&&!E&&F&&(P=j);const at=v1(P),U=Object.prototype.toString.apply(P);if(B&&P&&at&&O.indexOf(U)<0&&!(un(R)&&Array.isArray(P))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,P,{...s,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(_.res=q,_.usedParams=this.getUsedParamsDetails(s),_):q}if(u){const q=Array.isArray(P),D=q?[]:{},Z=q?M:T;for(const K in P)if(Object.prototype.hasOwnProperty.call(P,K)){const Q=`${Z}${u}${K}`;F&&!E?D[K]=this.translate(Q,{...s,defaultValue:v1(j)?j[K]:void 0,joinArrays:!1,ns:d}):D[K]=this.translate(Q,{...s,joinArrays:!1,ns:d}),D[K]===Q&&(D[K]=P[K])}E=D}}else if(B&&un(R)&&Array.isArray(E))E=E.join(R),E&&(E=this.extendTranslation(E,t,s,i));else{let q=!1,D=!1;!this.isValidLookup(E)&&F&&(q=!0,E=j),this.isValidLookup(E)||(D=!0,E=f);const K=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:E,Q=F&&j!==E&&this.options.updateMissing;if(D||q||Q){if(this.logger.log(Q?"updateKey":"missingKey",v,p,f,Q?j:E),u){const Y=this.resolve(f,{...s,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let tt=[];const st=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&st&&st[0])for(let Y=0;Y<st.length;Y++)tt.push(st[Y]);else this.options.saveMissingTo==="all"?tt=this.languageUtils.toResolveHierarchy(s.lng||this.language):tt.push(s.lng||this.language);const gt=(Y,$,ft)=>{const pt=F&&ft!==E?ft:K;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,p,$,pt,Q,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Y,p,$,pt,Q,s),this.emit("missingKey",Y,p,$,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&H?tt.forEach(Y=>{const $=this.pluralResolver.getSuffixes(Y,s);z&&s[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(ft=>{gt([Y],f+ft,s[`defaultValue${ft}`]||j)})}):gt(tt,f,j))}E=this.extendTranslation(E,t,s,_,i),D&&E===f&&this.options.appendNamespaceToMissingKey&&(E=`${p}${y}${f}`),(D||q)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${y}${f}`:f,q?E:void 0,s))}return o?(_.res=E,_.usedParams=this.getUsedParamsDetails(s),_):E}extendTranslation(t,n,i,s,o){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=un(t)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const v=t.match(this.interpolator.nestingRegexp);p=v&&v.length}let y=i.replace&&!un(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),t=this.interpolator.interpolate(t,y,i.lng||this.language||s.usedLng,i),d){const v=t.match(this.interpolator.nestingRegexp),x=v&&v.length;p<x&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>o?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,f=un(u)?[u]:u;return t!=null&&f?.length&&i.applyPostProcessor!==!1&&(t=s4.handle(f,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t,n={}){let i,s,o,u,f;return un(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(d,n),y=p.key;s=y;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=n.count!==void 0&&!un(n.count),_=x&&!n.ordinal&&n.count===0,E=n.context!==void 0&&(un(n.context)||typeof n.context=="number")&&n.context!=="",T=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(M=>{this.isValidLookup(i)||(f=M,!Nb[`${T[0]}-${M}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(f)&&(Nb[`${T[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${T.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(O=>{if(this.isValidLookup(i))return;u=O;const R=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(R,y,O,M,n);else{let H;x&&(H=this.pluralResolver.getSuffix(O,n.count,n));const F=`${this.options.pluralSeparator}zero`,nt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(n.ordinal&&H.indexOf(nt)===0&&R.push(y+H.replace(nt,this.options.pluralSeparator)),R.push(y+H),_&&R.push(y+F)),E){const X=`${y}${this.options.contextSeparator||"_"}${n.context}`;R.push(X),x&&(n.ordinal&&H.indexOf(nt)===0&&R.push(X+H.replace(nt,this.options.pluralSeparator)),R.push(X+H),_&&R.push(X+F))}}let B;for(;B=R.pop();)this.isValidLookup(i)||(o=B,i=this.getResource(O,M,B,n))}))})}),{res:i,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,i,s):this.resourceStore.getResource(t,n,i,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!un(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n===i.substring(0,n.length)&&t[i]!==void 0)return!0;return!1}}class Db{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=nu.create("languageUtils")}getScriptPartFromCode(t){if(t=_m(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=_m(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(un(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(i=>{if(n)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(i=>{if(n)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),un(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let i=t[n];return i||(i=t[this.getScriptPartFromCode(n)]),i||(i=t[this.formatLanguageCode(n)]),i||(i=t[this.getLanguagePartFromCode(n)]),i||(i=t.default),i||[]}toResolveHierarchy(t,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return un(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):un(t)&&o(this.formatLanguageCode(t)),i.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const zb={zero:0,one:1,two:2,few:3,many:4,other:5},jb={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rE{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=nu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const i=_m(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jb;if(!t.match(/-|_/))return jb;const d=this.languageUtils.getLanguagePartFromCode(t);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,i={}){return this.getSuffixes(t,i).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let i=this.getRule(t,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,o)=>zb[s]-zb[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,i={}){const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,i))}}const kb=(e,t,n,i=".",s=!0)=>{let o=Jw(e,t,n);return!o&&s&&un(n)&&(o=yv(e,n,i),o===void 0&&(o=yv(t,n,i))),o},x1=e=>e.replace(/\$/g,"$$$$");class Bb{constructor(t={}){this.logger=nu.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:p,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:_,nestingSuffix:E,nestingSuffixEscaped:T,nestingOptionsSeparator:M,maxReplaces:O,alwaysFormat:R}=t.interpolation;this.escape=n!==void 0?n:$w,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?pd(o):u||"{{",this.suffix=f?pd(f):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?pd(x):_||pd("$t("),this.nestingSuffix=E?pd(E):T||pd(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=O||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,i,s){let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=_=>{if(_.indexOf(this.formatSeparator)<0){const O=kb(n,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,i,{...s,...n,interpolationkey:_}):O}const E=_.split(this.formatSeparator),T=E.shift().trim(),M=E.join(this.formatSeparator).trim();return this.format(kb(n,d,T,this.options.keySeparator,this.options.ignoreJSONStructure),M,i,{...s,...n,interpolationkey:T})};this.resetRegExp();const y=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>x1(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?x1(this.escape(_)):x1(_)}].forEach(_=>{for(f=0;o=_.regex.exec(t);){const E=o[1].trim();if(u=p(E),u===void 0)if(typeof y=="function"){const M=y(t,o,s);u=un(M)?M:""}else if(s&&Object.prototype.hasOwnProperty.call(s,E))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${t}`),u="";else!un(u)&&!this.useRawValueToEscape&&(u=Cb(u));const T=_.safeValue(u);if(t=t.replace(o[0],T),v?(_.regex.lastIndex+=u.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),t}nest(t,n,i={}){let s,o,u;const f=(d,p)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const v=d.split(new RegExp(`${y}[ ]*{`));let x=`{${v[1]}`;d=v[0],x=this.interpolate(x,u);const _=x.match(/'/g),E=x.match(/"/g);((_?.length??0)%2===0&&!E||E.length%2!==0)&&(x=x.replace(/'/g,'"'));try{u=JSON.parse(x),p&&(u={...p,...u})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,T),`${d}${y}${x}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];u={...i},u=u.replace&&!un(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const p=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(p!==-1&&(d=s[1].slice(p).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),s[1]=s[1].slice(0,p)),o=n(f.call(this,s[1].trim(),u),u),o&&s[0]===t&&!un(o))return o;un(o)||(o=Cb(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),d.length&&(o=d.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const oE=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();n[y]||(n[y]=p),p==="false"&&(n[y]=!1),p==="true"&&(n[y]=!0),isNaN(p)||(n[y]=parseInt(p,10))}})}return{formatName:t,formatOptions:n}},Lb=e=>{const t={};return(n,i,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=i+JSON.stringify(o);let f=t[u];return f||(f=e(_m(i),s),t[u]=f),f(n)}},lE=e=>(t,n,i)=>e(_m(n),i)(t);class uE{constructor(t={}){this.logger=nu.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?Lb:lE;this.formats={number:i((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return f=>u.format(f)}),currency:i((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return f=>u.format(f)}),datetime:i((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return f=>u.format(f)}),relativetime:i((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return f=>u.format(f,o.range||"day")}),list:i((s,o)=>{const u=new Intl.ListFormat(s,{...o});return f=>u.format(f)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Lb(n)}format(t,n,i,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{const{formatName:p,formatOptions:y}=oE(d);if(this.formats[p]){let v=f;try{const x=s?.formatParams?.[s.interpolationkey]||{},_=x.locale||x.lng||s.locale||s.lng||i;v=this.formats[p](f,_,{...y,...s,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${p}`);return f},t)}}const cE=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class fE extends yy{constructor(t,n,i,s={}){super(),this.backend=t,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=nu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,n,i,s){const o={},u={},f={},d={};return t.forEach(p=>{let y=!0;n.forEach(v=>{const x=`${p}|${v}`;!i.reload&&this.store.hasResourceBundle(p,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?u[x]===void 0&&(u[x]=!0):(this.state[x]=1,y=!1,u[x]===void 0&&(u[x]=!0),o[x]===void 0&&(o[x]=!0),d[v]===void 0&&(d[v]=!0)))}),y||(f[p]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(t,n,i){const s=t.split("|"),o=s[0],u=s[1];n&&this.emit("failedLoading",o,u,n),!n&&i&&this.store.addResourceBundle(o,u,i,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&i&&(this.state[t]=0);const f={};this.queue.forEach(d=>{Qw(d.loaded,[o],u),cE(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{f[p]||(f[p]={});const y=d.loaded[p];y.length&&y.forEach(v=>{f[p][v]===void 0&&(f[p][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(t,n,i,s=0,o=this.retryTimeout,u){if(!t.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:i,tried:s,wait:o,callback:u});return}this.readingCalls++;const f=(p,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,i,s+1,o*2,u)},o);return}u(p,y)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const p=d(t,n);p&&typeof p.then=="function"?p.then(y=>f(null,y)).catch(f):f(null,p)}catch(p){f(p)}return}return d(t,n,f)}prepareLoading(t,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();un(t)&&(t=this.languageUtils.toResolveHierarchy(t)),un(n)&&(n=[n]);const o=this.queueLoad(t,n,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(t,n,i){this.prepareLoading(t,n,{},i)}reload(t,n,i){this.prepareLoading(t,n,{reload:!0},i)}loadOne(t,n=""){const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,u),!u&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,f),this.loaded(t,u,f)})}saveMissing(t,n,i,s,o,u={},f=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...u,isUpdate:o},p=this.backend.create.bind(this.backend);if(p.length<6)try{let y;p.length===5?y=p(t,n,i,s,d):y=p(t,n,i,s),y&&typeof y.then=="function"?y.then(v=>f(null,v)).catch(f):f(null,y)}catch(y){f(y)}else p(t,n,i,s,f,d)}!t||!t[0]||this.store.addResource(t[0],n,i,s)}}}const b1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),un(e[1])&&(t.defaultValue=e[1]),un(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{t[i]=n[i]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ub=e=>(un(e.ns)&&(e.ns=[e.ns]),un(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),un(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),lg=()=>{},hE=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class fm extends yy{constructor(t={},n){if(super(),this.options=Ub(t),this.services={},this.logger=nu,this.modules={external:[]},hE(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(un(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=b1();this.options={...i,...this.options,...Ub(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?nu.init(s(this.modules.logger),this.options):nu.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=uE;const y=new Db(this.options);this.store=new Mb(this.options.resources,this.options);const v=this.services;v.logger=nu,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new rE(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(p),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Bb(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new fE(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...E)=>{this.emit(_,...E)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Jg(this.services,this.options),this.translator.on("*",(_,...E)=>{this.emit(_,...E)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=lg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...y)=>this.store[p](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...y)=>(this.store[p](...y),this)});const f=Vp(),d=()=>{const p=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(v),n(y,v)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(t,n=lg){let i=n;const s=un(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],u=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(p=>{p!=="cimode"&&o.indexOf(p)<0&&o.push(p)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),this.options.preload?.forEach?.(f=>u(f)),this.services.backendConnector.load(o,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(f)})}else i(null)}reloadResources(t,n,i){const s=Vp();return typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),i||(i=lg),this.services.backendConnector.reload(t,n,o=>{s.resolve(),i(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&s4.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const i=Vp();this.emit("languageChanging",t);const s=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===t&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...p)=>this.t(...p)),n&&n(f,(...p)=>this.t(...p))},u=f=>{!t&&!f&&this.services.languageDetector&&(f=[]);const d=un(f)?f:f&&f[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(un(f)?[f]:f);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,y=>{o(y,p)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(t),i}getFixedT(t,n,i){const s=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||s.keyPrefix);const p=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(v=>(typeof v=="function"&&(v=vv(v,{...this.options,...u})),`${d.keyPrefix}${p}${v}`)):(typeof o=="function"&&(o=vv(o,{...this.options,...u})),y=d.keyPrefix?`${d.keyPrefix}${p}${o}`:o),this.t(y,d)};return un(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=i,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const p=this.services.backendConnector.state[`${f}|${d}`];return p===-1||p===0||p===2};if(n.precheck){const f=n.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,t)&&(!s||u(o,t)))}loadNamespaces(t,n){const i=Vp();return this.options.ns?(un(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(t,n){const i=Vp();un(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{i.resolve(),n&&n(u)}),i):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Db(b1());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const i=new fm(t,n);return i.createInstance=fm.createInstance,i}cloneInstance(t={},n=lg){const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new fm(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const f=Object.keys(this.store.data).reduce((d,p)=>(d[p]={...this.store.data[p]},d[p]=Object.keys(d[p]).reduce((y,v)=>(y[v]={...d[p][v]},y),d[p]),d),{});o.store=new Mb(f,s),o.services.resourceStore=o.store}if(t.interpolation){const d={...b1().interpolation,...this.options.interpolation,...t.interpolation},p={...s,interpolation:d};o.services.interpolator=new Bb(p)}return o.translator=new Jg(o.services,s),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Os=fm.createInstance();Os.createInstance;Os.dir;Os.init;Os.loadResources;Os.reloadResources;Os.use;Os.changeLanguage;Os.getFixedT;Os.t;Os.exists;Os.setDefaultNamespace;Os.hasLoadedNamespace;Os.loadNamespaces;Os.loadLanguages;const dE=(e,t,n,i)=>{const s=[n,{code:t,...i||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);sh(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},Hb={},o4=(e,t,n,i)=>{sh(n)&&Hb[n]||(sh(n)&&(Hb[n]=new Date),dE(e,t,n,i))},l4=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},xv=(e,t,n)=>{e.loadNamespaces(t,l4(e,n))},Gb=(e,t,n,i)=>{if(sh(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return xv(e,n,i);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,l4(e,i))},pE=(e,t,n={})=>!t.languages||!t.languages.length?(o4(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,e))return!1}}),sh=e=>typeof e=="string",mE=e=>typeof e=="object"&&e!==null,gE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vE=e=>yE[e],xE=e=>e.replace(gE,vE);let bv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:xE,transDefaultProps:void 0};const bE=(e={})=>{bv={...bv,...e}},SE=()=>bv;let u4;const _E=e=>{u4=e},wE=()=>u4,EE={type:"3rdParty",init(e){bE(e.options.react),_E(e)}},TE=ut.createContext();class CE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var S1={exports:{}},_1={};var Pb;function AE(){if(Pb)return _1;Pb=1;var e=Lm();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(v,x){var _=x(),E=i({inst:{value:_,getSnapshot:x}}),T=E[0].inst,M=E[1];return o(function(){T.value=_,T.getSnapshot=x,d(T)&&M({inst:T})},[v,_,x]),s(function(){return d(T)&&M({inst:T}),v(function(){d(T)&&M({inst:T})})},[v]),u(_),_}function d(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!n(v,_)}catch{return!0}}function p(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return _1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,_1}var Vb;function RE(){return Vb||(Vb=1,S1.exports=AE()),S1.exports}var OE=RE();const ME=(e,t)=>sh(t)?t:mE(t)&&sh(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,NE={t:ME,ready:!1},DE=()=>()=>{},zE=(e,t={})=>{const{i18n:n}=t,{i18n:i,defaultNS:s}=ut.useContext(TE)||{},o=n||i||wE();o&&!o.reportNamespaces&&(o.reportNamespaces=new CE),o||o4(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=ut.useMemo(()=>({...SE(),...o?.options?.react,...t}),[o,t]),{useSuspense:f,keyPrefix:d}=u,p=s||o?.options?.defaultNS,y=sh(p)?[p]:p||["translation"],v=ut.useMemo(()=>y,y);o?.reportNamespaces?.addUsedNamespaces?.(v);const x=ut.useRef(0),_=ut.useCallback(j=>{if(!o)return DE;const{bindI18n:P,bindI18nStore:at}=u,U=()=>{x.current+=1,j()};return P&&o.on(P,U),at&&o.store.on(at,U),()=>{P&&P.split(" ").forEach(q=>o.off(q,U)),at&&at.split(" ").forEach(q=>o.store.off(q,U))}},[o,u]),E=ut.useRef(),T=ut.useCallback(()=>{if(!o)return NE;const j=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(Z=>pE(Z,o,u)),P=t.lng||o.language,at=x.current,U=E.current;if(U&&U.ready===j&&U.lng===P&&U.keyPrefix===d&&U.revision===at)return U;const D={t:o.getFixedT(P,u.nsMode==="fallback"?v:v[0],d),ready:j,lng:P,keyPrefix:d,revision:at};return E.current=D,D},[o,v,d,u,t.lng]),[M,O]=ut.useState(0),{t:R,ready:B}=OE.useSyncExternalStore(_,T,T);ut.useEffect(()=>{if(o&&!B&&!f){const j=()=>O(P=>P+1);t.lng?Gb(o,t.lng,v,j):xv(o,v,j)}},[o,t.lng,v,B,f,M]);const H=o||{},F=ut.useRef(null),nt=ut.useRef(),X=j=>{const P=Object.getOwnPropertyDescriptors(j);P.__original&&delete P.__original;const at=Object.create(Object.getPrototypeOf(j),P);if(!Object.prototype.hasOwnProperty.call(at,"__original"))try{Object.defineProperty(at,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return at},z=ut.useMemo(()=>{const j=H,P=j?.language;let at=j;j&&(F.current&&F.current.__original===j?nt.current!==P?(at=X(j),F.current=at,nt.current=P):at=F.current:(at=X(j),F.current=at,nt.current=P));const U=[R,at,B];return U.t=R,U.i18n=at,U.ready=B,U},[R,H,B,H.resolvedLanguage,H.language,H.languages]);if(o&&f&&!B)throw new Promise(j=>{const P=()=>j();t.lng?Gb(o,t.lng,v,P):xv(o,v,P)});return z},jE={cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",export:"Export",import:"Import",loading:"Loading...",error:"Error",success:"Success"},kE={title:"Explorer",addImages:"Add Images",importLabels:"Import Labels",dropFiles:"Drop files or folders to start",dropImages:"Drop images",dropLabels:"Drop labels file",clearProject:"Clear Project",clearLabels:"Clear All Labels",images:"images",labels:"labels"},BE={import:"Import",export:"Export",select:"Select",pan:"Pan",box:"Box",polygon:"Polygon",pen:"Pen",aiBox:"AI Box",knife:"Knife",eraser:"Eraser",detect:"Detect",segment:"Segment",train:"Train",undo:"Undo",redo:"Redo",clearAll:"Clear All",classPrompt:"Class prompt (e.g., 'car')"},LE={properties:"Properties",model:"Model",labels:"Labels",settings:"Settings",selectAnnotation:"Select an annotation to edit properties",selectModel:"Select a model to configure parameters"},UE={title:"Properties",label:"Label",enterLabel:"Enter label...",suggestions:"Suggestions",shapeInfo:"Shape Info",type:"Type",points:"Points",modifyShape:"Modify Shape",simplify:"Simplify",densify:"Densify",reset:"Reset",beautify:"Beautify",deleteShape:"Delete Shape"},HE={title:"Project Labels",searchLabels:"Search labels...",noLabels:"No labels detected",totalInstances:"Total: {{count}} instances"},GE={title:"Settings",language:"Language",theme:"Theme",darkTheme:"Dark",lightTheme:"Light",midnightTheme:"Midnight"},PE={exportProject:"Export Project",manageModels:"Manage Models",trainModel:"Train Model"},VE={common:jE,explorer:kE,toolbar:BE,sidebar:LE,properties:UE,labels:HE,settings:GE,modals:PE},IE={cancel:"ptal",confirm:"Onayla",save:"Kaydet",delete:"Sil",export:"Da Aktar",import:"e Aktar",loading:"Ykleniyor...",error:"Hata",success:"Baarl"},qE={title:"Dosya Gezgini",addImages:"Grsel Ekle",importLabels:"Etiket e Aktar",dropFiles:"Dosya veya klasr srkleyin",dropImages:"Grselleri brakn",dropLabels:"Etiket dosyasn brakn",clearProject:"Projeyi Temizle",clearLabels:"Tm Etiketleri Temizle",images:"grsel",labels:"etiket"},FE={import:"e Aktar",export:"Da Aktar",select:"Se",pan:"Kaydr",box:"Kutu",polygon:"okgen",pen:"Kalem",aiBox:"AI Kutu",knife:"Bak",eraser:"Silgi",detect:"Algla",segment:"Segmentasyon",train:"Eit",undo:"Geri Al",redo:"Yinele",clearAll:"Tmn Temizle",classPrompt:"Snf ismi (rn: 'araba')"},KE={properties:"zellikler",model:"Model",labels:"Etiketler",settings:"Ayarlar",selectAnnotation:"Dzenlemek iin bir anotasyon sein",selectModel:"Parametre ayarlamak iin model sein"},YE={title:"zellikler",label:"Etiket",enterLabel:"Etiket girin...",suggestions:"neriler",shapeInfo:"ekil Bilgisi",type:"Tip",points:"Nokta",modifyShape:"ekli Dzenle",simplify:"Basitletir",densify:"Younlatr",reset:"Sfrla",beautify:"Gzelletir",deleteShape:"ekli Sil"},XE={title:"Proje Etiketleri",searchLabels:"Etiket ara...",noLabels:"Etiket bulunamad",totalInstances:"Toplam: {{count}} rnek"},ZE={title:"Ayarlar",language:"Dil",theme:"Tema",darkTheme:"Koyu",lightTheme:"Ak",midnightTheme:"Gece Mavisi"},QE={exportProject:"Projeyi Da Aktar",manageModels:"Modelleri Ynet",trainModel:"Model Eit"},JE={common:IE,explorer:qE,toolbar:FE,sidebar:KE,properties:YE,labels:XE,settings:ZE,modals:QE},WE=localStorage.getItem("language"),$E=navigator.language.split("-")[0],tT=WE||($E==="tr"?"tr":"en");Os.use(EE).init({resources:{en:{translation:VE},tr:{translation:JE}},lng:tT,fallbackLng:"en",interpolation:{escapeValue:!1}});Os.on("languageChanged",e=>{localStorage.setItem("language",e)});function c4(e,t){return function(){return e.apply(t,arguments)}}const{toString:eT}=Object.prototype,{getPrototypeOf:A2}=Object,{iterator:vy,toStringTag:f4}=Symbol,xy=(e=>t=>{const n=eT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cl=e=>(e=e.toLowerCase(),t=>xy(t)===e),by=e=>t=>typeof t===e,{isArray:Dd}=Array,Cd=by("undefined");function Um(e){return e!==null&&!Cd(e)&&e.constructor!==null&&!Cd(e.constructor)&&pr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h4=cl("ArrayBuffer");function nT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h4(e.buffer),t}const iT=by("string"),pr=by("function"),d4=by("number"),Hm=e=>e!==null&&typeof e=="object",aT=e=>e===!0||e===!1,jg=e=>{if(xy(e)!=="object")return!1;const t=A2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(f4 in e)&&!(vy in e)},sT=e=>{if(!Hm(e)||Um(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rT=cl("Date"),oT=cl("File"),lT=cl("Blob"),uT=cl("FileList"),cT=e=>Hm(e)&&pr(e.pipe),fT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pr(e.append)&&((t=xy(e))==="formdata"||t==="object"&&pr(e.toString)&&e.toString()==="[object FormData]"))},hT=cl("URLSearchParams"),[dT,pT,mT,gT]=["ReadableStream","Request","Response","Headers"].map(cl),yT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),Dd(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{if(Um(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let f;for(i=0;i<u;i++)f=o[i],t.call(null,e[f],f,e)}}function p4(e,t){if(Um(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const Wf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m4=e=>!Cd(e)&&e!==Wf;function Sv(){const{caseless:e,skipUndefined:t}=m4(this)&&this||{},n={},i=(s,o)=>{const u=e&&p4(n,o)||o;jg(n[u])&&jg(s)?n[u]=Sv(n[u],s):jg(s)?n[u]=Sv({},s):Dd(s)?n[u]=s.slice():(!t||!Cd(s))&&(n[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Gm(arguments[s],i);return n}const vT=(e,t,n,{allOwnKeys:i}={})=>(Gm(t,(s,o)=>{n&&pr(s)?Object.defineProperty(e,o,{value:c4(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),e),xT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bT=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ST=(e,t,n,i)=>{let s,o,u;const f={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)u=s[o],(!i||i(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=n!==!1&&A2(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_T=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},wT=e=>{if(!e)return null;if(Dd(e))return e;let t=e.length;if(!d4(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ET=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&A2(Uint8Array)),TT=(e,t)=>{const i=(e&&e[vy]).call(e);let s;for(;(s=i.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},CT=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},AT=cl("HTMLFormElement"),RT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),Ib=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),OT=cl("RegExp"),g4=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Gm(n,(s,o)=>{let u;(u=t(s,o,e))!==!1&&(i[o]=u||s)}),Object.defineProperties(e,i)},MT=e=>{g4(e,(t,n)=>{if(pr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(pr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NT=(e,t)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return Dd(e)?i(e):i(String(e).split(t)),n},DT=()=>{},zT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jT(e){return!!(e&&pr(e.append)&&e[f4]==="FormData"&&e[vy])}const kT=e=>{const t=new Array(10),n=(i,s)=>{if(Hm(i)){if(t.indexOf(i)>=0)return;if(Um(i))return i;if(!("toJSON"in i)){t[s]=i;const o=Dd(i)?[]:{};return Gm(i,(u,f)=>{const d=n(u,s+1);!Cd(d)&&(o[f]=d)}),t[s]=void 0,o}}return i};return n(e,0)},BT=cl("AsyncFunction"),LT=e=>e&&(Hm(e)||pr(e))&&pr(e.then)&&pr(e.catch),y4=((e,t)=>e?setImmediate:t?((n,i)=>(Wf.addEventListener("message",({source:s,data:o})=>{s===Wf&&o===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Wf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pr(Wf.postMessage)),UT=typeof queueMicrotask<"u"?queueMicrotask.bind(Wf):typeof process<"u"&&process.nextTick||y4,HT=e=>e!=null&&pr(e[vy]),te={isArray:Dd,isArrayBuffer:h4,isBuffer:Um,isFormData:fT,isArrayBufferView:nT,isString:iT,isNumber:d4,isBoolean:aT,isObject:Hm,isPlainObject:jg,isEmptyObject:sT,isReadableStream:dT,isRequest:pT,isResponse:mT,isHeaders:gT,isUndefined:Cd,isDate:rT,isFile:oT,isBlob:lT,isRegExp:OT,isFunction:pr,isStream:cT,isURLSearchParams:hT,isTypedArray:ET,isFileList:uT,forEach:Gm,merge:Sv,extend:vT,trim:yT,stripBOM:xT,inherits:bT,toFlatObject:ST,kindOf:xy,kindOfTest:cl,endsWith:_T,toArray:wT,forEachEntry:TT,matchAll:CT,isHTMLForm:AT,hasOwnProperty:Ib,hasOwnProp:Ib,reduceDescriptors:g4,freezeMethods:MT,toObjectSet:NT,toCamelCase:RT,noop:DT,toFiniteNumber:zT,findKey:p4,global:Wf,isContextDefined:m4,isSpecCompliantForm:jT,toJSONObject:kT,isAsyncFn:BT,isThenable:LT,setImmediate:y4,asap:UT,isIterable:HT};let on=class v4 extends Error{static from(t,n,i,s,o,u){const f=new v4(t.message,n||t.code,i,s,o);return f.cause=t,f.name=t.name,u&&Object.assign(f,u),f}constructor(t,n,i,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}};on.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";on.ERR_BAD_OPTION="ERR_BAD_OPTION";on.ECONNABORTED="ECONNABORTED";on.ETIMEDOUT="ETIMEDOUT";on.ERR_NETWORK="ERR_NETWORK";on.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";on.ERR_DEPRECATED="ERR_DEPRECATED";on.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";on.ERR_BAD_REQUEST="ERR_BAD_REQUEST";on.ERR_CANCELED="ERR_CANCELED";on.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";on.ERR_INVALID_URL="ERR_INVALID_URL";const GT=null;function _v(e){return te.isPlainObject(e)||te.isArray(e)}function x4(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function qb(e,t,n){return e?e.concat(t).map(function(s,o){return s=x4(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function PT(e){return te.isArray(e)&&!e.some(_v)}const VT=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function Sy(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,M){return!te.isUndefined(M[T])});const i=n.metaTokens,s=n.visitor||y,o=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(s))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(te.isDate(E))return E.toISOString();if(te.isBoolean(E))return E.toString();if(!d&&te.isBlob(E))throw new on("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(E)||te.isTypedArray(E)?d&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,T,M){let O=E;if(E&&!M&&typeof E=="object"){if(te.endsWith(T,"{}"))T=i?T:T.slice(0,-2),E=JSON.stringify(E);else if(te.isArray(E)&&PT(E)||(te.isFileList(E)||te.endsWith(T,"[]"))&&(O=te.toArray(E)))return T=x4(T),O.forEach(function(B,H){!(te.isUndefined(B)||B===null)&&t.append(u===!0?qb([T],H,o):u===null?T:T+"[]",p(B))}),!1}return _v(E)?!0:(t.append(qb(M,T,o),p(E)),!1)}const v=[],x=Object.assign(VT,{defaultVisitor:y,convertValue:p,isVisitable:_v});function _(E,T){if(!te.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));v.push(E),te.forEach(E,function(O,R){(!(te.isUndefined(O)||O===null)&&s.call(t,O,te.isString(R)?R.trim():R,T,x))===!0&&_(O,T?T.concat(R):[R])}),v.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Fb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function R2(e,t){this._pairs=[],e&&Sy(e,this,t)}const b4=R2.prototype;b4.append=function(t,n){this._pairs.push([t,n])};b4.toString=function(t){const n=t?function(i){return t.call(this,i,Fb)}:Fb;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function IT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S4(e,t,n){if(!t)return e;const i=n&&n.encode||IT,s=te.isFunction(n)?{serialize:n}:n,o=s&&s.serialize;let u;if(o?u=o(t,s):u=te.isURLSearchParams(t)?t.toString():new R2(t,s).toString(i),u){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class Kb{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(i){i!==null&&t(i)})}}const _4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qT=typeof URLSearchParams<"u"?URLSearchParams:R2,FT=typeof FormData<"u"?FormData:null,KT=typeof Blob<"u"?Blob:null,YT={isBrowser:!0,classes:{URLSearchParams:qT,FormData:FT,Blob:KT},protocols:["http","https","file","blob","url","data"]},O2=typeof window<"u"&&typeof document<"u",wv=typeof navigator=="object"&&navigator||void 0,XT=O2&&(!wv||["ReactNative","NativeScript","NS"].indexOf(wv.product)<0),ZT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QT=O2&&window.location.href||"http://localhost",JT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:O2,hasStandardBrowserEnv:XT,hasStandardBrowserWebWorkerEnv:ZT,navigator:wv,origin:QT},Symbol.toStringTag,{value:"Module"})),Ts={...JT,...YT};function WT(e,t){return Sy(e,new Ts.classes.URLSearchParams,{visitor:function(n,i,s,o){return Ts.isNode&&te.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function $T(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t9(e){const t={},n=Object.keys(e);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],t[o]=e[o];return t}function w4(e){function t(n,i,s,o){let u=n[o++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=o>=n.length;return u=!u&&te.isArray(s)?s.length:u,d?(te.hasOwnProp(s,u)?s[u]=[s[u],i]:s[u]=i,!f):((!s[u]||!te.isObject(s[u]))&&(s[u]=[]),t(n,i,s[u],o)&&te.isArray(s[u])&&(s[u]=t9(s[u])),!f)}if(te.isFormData(e)&&te.isFunction(e.entries)){const n={};return te.forEachEntry(e,(i,s)=>{t($T(i),s,n,0)}),n}return null}function e9(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Pm={transitional:_4,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=te.isObject(t);if(o&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return s?JSON.stringify(w4(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return WT(t,this.formSerializer).toString();if((f=te.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Sy(f?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),e9(t)):t}],transformResponse:[function(t){const n=this.transitional||Pm.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(i&&!this.responseType||s)){const u=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?on.from(f,on.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ts.classes.FormData,Blob:Ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{Pm.headers[e]={}});const n9=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i9=e=>{const t={};let n,i,s;return e&&e.split(`
`).forEach(function(u){s=u.indexOf(":"),n=u.substring(0,s).trim().toLowerCase(),i=u.substring(s+1).trim(),!(!n||t[n]&&n9[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Yb=Symbol("internals");function Ip(e){return e&&String(e).trim().toLowerCase()}function kg(e){return e===!1||e==null?e:te.isArray(e)?e.map(kg):String(e)}function a9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const s9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function w1(e,t,n,i,s){if(te.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!te.isString(t)){if(te.isString(i))return t.indexOf(i)!==-1;if(te.isRegExp(i))return i.test(t)}}function r9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function o9(e,t){const n=te.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,o,u){return this[i].call(this,t,s,o,u)},configurable:!0})})}let mr=class{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function o(f,d,p){const y=Ip(d);if(!y)throw new Error("header name must be a non-empty string");const v=te.findKey(s,y);(!v||s[v]===void 0||p===!0||p===void 0&&s[v]!==!1)&&(s[v||d]=kg(f))}const u=(f,d)=>te.forEach(f,(p,y)=>o(p,y,d));if(te.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(te.isString(t)&&(t=t.trim())&&!s9(t))u(i9(t),n);else if(te.isObject(t)&&te.isIterable(t)){let f={},d,p;for(const y of t){if(!te.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[p=y[0]]=(d=f[p])?te.isArray(d)?[...d,y[1]]:[d,y[1]]:y[1]}u(f,n)}else t!=null&&o(n,t,i);return this}get(t,n){if(t=Ip(t),t){const i=te.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return a9(s);if(te.isFunction(n))return n.call(this,s,i);if(te.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ip(t),t){const i=te.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||w1(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function o(u){if(u=Ip(u),u){const f=te.findKey(i,u);f&&(!n||w1(i,i[f],f,n))&&(delete i[f],s=!0)}}return te.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const o=n[i];(!t||w1(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,i={};return te.forEach(this,(s,o)=>{const u=te.findKey(i,o);if(u){n[u]=kg(s),delete n[o];return}const f=t?r9(o):String(o).trim();f!==o&&delete n[o],n[f]=kg(s),i[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return te.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&te.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[Yb]=this[Yb]={accessors:{}}).accessors,s=this.prototype;function o(u){const f=Ip(u);i[f]||(o9(s,u),i[f]=!0)}return te.isArray(t)?t.forEach(o):o(t),this}};mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(mr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});te.freezeMethods(mr);function E1(e,t){const n=this||Pm,i=t||n,s=mr.from(i.headers);let o=i.data;return te.forEach(e,function(f){o=f.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function E4(e){return!!(e&&e.__CANCEL__)}let Vm=class extends on{constructor(t,n,i){super(t??"canceled",on.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function T4(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function l9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function u9(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,o=0,u;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),y=i[o];u||(u=p),n[s]=d,i[s]=p;let v=o,x=0;for(;v!==s;)x+=n[v++],v=v%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),p-u<t)return;const _=y&&p-y;return _?Math.round(x*1e3/_):void 0}}function c9(e,t){let n=0,i=1e3/t,s,o;const u=(p,y=Date.now())=>{n=y,s=null,o&&(clearTimeout(o),o=null),e(...p)};return[(...p)=>{const y=Date.now(),v=y-n;v>=i?u(p,y):(s=p,o||(o=setTimeout(()=>{o=null,u(s)},i-v)))},()=>s&&u(s)]}const Wg=(e,t,n=3)=>{let i=0;const s=u9(50,250);return c9(o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,d=u-i,p=s(d),y=u<=f;i=u;const v={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:p||void 0,estimated:p&&f&&y?(f-u)/p:void 0,event:o,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(v)},n)},Xb=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Zb=e=>(...t)=>te.asap(()=>e(...t)),f9=Ts.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ts.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ts.origin),Ts.navigator&&/(msie|trident)/i.test(Ts.navigator.userAgent)):()=>!0,h9=Ts.hasStandardBrowserEnv?{write(e,t,n,i,s,o,u){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];te.isNumber(n)&&f.push(`expires=${new Date(n).toUTCString()}`),te.isString(i)&&f.push(`path=${i}`),te.isString(s)&&f.push(`domain=${s}`),o===!0&&f.push("secure"),te.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function d9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function p9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function C4(e,t,n){let i=!d9(t);return e&&(i||n==!1)?p9(e,t):t}const Qb=e=>e instanceof mr?{...e}:e;function rh(e,t){t=t||{};const n={};function i(p,y,v,x){return te.isPlainObject(p)&&te.isPlainObject(y)?te.merge.call({caseless:x},p,y):te.isPlainObject(y)?te.merge({},y):te.isArray(y)?y.slice():y}function s(p,y,v,x){if(te.isUndefined(y)){if(!te.isUndefined(p))return i(void 0,p,v,x)}else return i(p,y,v,x)}function o(p,y){if(!te.isUndefined(y))return i(void 0,y)}function u(p,y){if(te.isUndefined(y)){if(!te.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function f(p,y,v){if(v in t)return i(p,y);if(v in e)return i(void 0,p)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(p,y,v)=>s(Qb(p),Qb(y),v,!0)};return te.forEach(Object.keys({...e,...t}),function(y){const v=d[y]||s,x=v(e[y],t[y],y);te.isUndefined(x)&&v!==f||(n[y]=x)}),n}const A4=e=>{const t=rh({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:f}=t;if(t.headers=u=mr.from(u),t.url=S4(C4(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),te.isFormData(n)){if(Ts.hasStandardBrowserEnv||Ts.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(te.isFunction(n.getHeaders)){const d=n.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([y,v])=>{p.includes(y.toLowerCase())&&u.set(y,v)})}}if(Ts.hasStandardBrowserEnv&&(i&&te.isFunction(i)&&(i=i(t)),i||i!==!1&&f9(t.url))){const d=s&&o&&h9.read(o);d&&u.set(s,d)}return t},m9=typeof XMLHttpRequest<"u",g9=m9&&function(e){return new Promise(function(n,i){const s=A4(e);let o=s.data;const u=mr.from(s.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:p}=s,y,v,x,_,E;function T(){_&&_(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let M=new XMLHttpRequest;M.open(s.method.toUpperCase(),s.url,!0),M.timeout=s.timeout;function O(){if(!M)return;const B=mr.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),F={data:!f||f==="text"||f==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:B,config:e,request:M};T4(function(X){n(X),T()},function(X){i(X),T()},F),M=null}"onloadend"in M?M.onloadend=O:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(O)},M.onabort=function(){M&&(i(new on("Request aborted",on.ECONNABORTED,e,M)),M=null)},M.onerror=function(H){const F=H&&H.message?H.message:"Network Error",nt=new on(F,on.ERR_NETWORK,e,M);nt.event=H||null,i(nt),M=null},M.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||_4;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),i(new on(H,F.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,e,M)),M=null},o===void 0&&u.setContentType(null),"setRequestHeader"in M&&te.forEach(u.toJSON(),function(H,F){M.setRequestHeader(F,H)}),te.isUndefined(s.withCredentials)||(M.withCredentials=!!s.withCredentials),f&&f!=="json"&&(M.responseType=s.responseType),p&&([x,E]=Wg(p,!0),M.addEventListener("progress",x)),d&&M.upload&&([v,_]=Wg(d),M.upload.addEventListener("progress",v),M.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(y=B=>{M&&(i(!B||B.type?new Vm(null,e,M):B),M.abort(),M=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const R=l9(s.url);if(R&&Ts.protocols.indexOf(R)===-1){i(new on("Unsupported protocol "+R+":",on.ERR_BAD_REQUEST,e));return}M.send(o||null)})},y9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,s;const o=function(p){if(!s){s=!0,f();const y=p instanceof Error?p:this.reason;i.abort(y instanceof on?y:new Vm(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{u=null,o(new on(`timeout of ${t}ms exceeded`,on.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:d}=i;return d.unsubscribe=()=>te.asap(f),d}},v9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,s;for(;i<n;)s=i+t,yield e.slice(i,s),i=s},x9=async function*(e,t){for await(const n of b9(e))yield*v9(n,t)},b9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Jb=(e,t,n,i)=>{const s=x9(e,t);let o=0,u,f=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:p,value:y}=await s.next();if(p){f(),d.close();return}let v=y.byteLength;if(n){let x=o+=v;n(x)}d.enqueue(new Uint8Array(y))}catch(p){throw f(p),p}},cancel(d){return f(d),s.return()}},{highWaterMark:2})},Wb=64*1024,{isFunction:ug}=te,S9=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:$b,TextEncoder:t3}=te.global,e3=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_9=e=>{e=te.merge.call({skipUndefined:!0},S9,e);const{fetch:t,Request:n,Response:i}=e,s=t?ug(t):typeof fetch=="function",o=ug(n),u=ug(i);if(!s)return!1;const f=s&&ug($b),d=s&&(typeof t3=="function"?(E=>T=>E.encode(T))(new t3):async E=>new Uint8Array(await new n(E).arrayBuffer())),p=o&&f&&e3(()=>{let E=!1;const T=new n(Ts.origin,{body:new $b,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!T}),y=u&&f&&e3(()=>te.isReadableStream(new i("").body)),v={stream:y&&(E=>E.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!v[E]&&(v[E]=(T,M)=>{let O=T&&T[E];if(O)return O.call(T);throw new on(`Response type '${E}' is not supported`,on.ERR_NOT_SUPPORT,M)})});const x=async E=>{if(E==null)return 0;if(te.isBlob(E))return E.size;if(te.isSpecCompliantForm(E))return(await new n(Ts.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(te.isArrayBufferView(E)||te.isArrayBuffer(E))return E.byteLength;if(te.isURLSearchParams(E)&&(E=E+""),te.isString(E))return(await d(E)).byteLength},_=async(E,T)=>{const M=te.toFiniteNumber(E.getContentLength());return M??x(T)};return async E=>{let{url:T,method:M,data:O,signal:R,cancelToken:B,timeout:H,onDownloadProgress:F,onUploadProgress:nt,responseType:X,headers:z,withCredentials:j="same-origin",fetchOptions:P}=A4(E),at=t||fetch;X=X?(X+"").toLowerCase():"text";let U=y9([R,B&&B.toAbortSignal()],H),q=null;const D=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let Z;try{if(nt&&p&&M!=="get"&&M!=="head"&&(Z=await _(z,O))!==0){let Y=new n(T,{method:"POST",body:O,duplex:"half"}),$;if(te.isFormData(O)&&($=Y.headers.get("content-type"))&&z.setContentType($),Y.body){const[ft,pt]=Xb(Z,Wg(Zb(nt)));O=Jb(Y.body,Wb,ft,pt)}}te.isString(j)||(j=j?"include":"omit");const K=o&&"credentials"in n.prototype,Q={...P,signal:U,method:M.toUpperCase(),headers:z.normalize().toJSON(),body:O,duplex:"half",credentials:K?j:void 0};q=o&&new n(T,Q);let tt=await(o?at(q,P):at(T,Q));const st=y&&(X==="stream"||X==="response");if(y&&(F||st&&D)){const Y={};["status","statusText","headers"].forEach(yt=>{Y[yt]=tt[yt]});const $=te.toFiniteNumber(tt.headers.get("content-length")),[ft,pt]=F&&Xb($,Wg(Zb(F),!0))||[];tt=new i(Jb(tt.body,Wb,ft,()=>{pt&&pt(),D&&D()}),Y)}X=X||"text";let gt=await v[te.findKey(v,X)||"text"](tt,E);return!st&&D&&D(),await new Promise((Y,$)=>{T4(Y,$,{data:gt,headers:mr.from(tt.headers),status:tt.status,statusText:tt.statusText,config:E,request:q})})}catch(K){throw D&&D(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new on("Network Error",on.ERR_NETWORK,E,q),{cause:K.cause||K}):on.from(K,K&&K.code,E,q)}}},w9=new Map,R4=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:s}=t,o=[i,s,n];let u=o.length,f=u,d,p,y=w9;for(;f--;)d=o[f],p=y.get(d),p===void 0&&y.set(d,p=f?new Map:_9(t)),y=p;return p};R4();const M2={http:GT,xhr:g9,fetch:{get:R4}};te.forEach(M2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const n3=e=>`- ${e}`,E9=e=>te.isFunction(e)||e===null||e===!1;function T9(e,t){e=te.isArray(e)?e:[e];const{length:n}=e;let i,s;const o={};for(let u=0;u<n;u++){i=e[u];let f;if(s=i,!E9(i)&&(s=M2[(f=String(i)).toLowerCase()],s===void 0))throw new on(`Unknown adapter '${f}'`);if(s&&(te.isFunction(s)||(s=s.get(t))))break;o[f||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=n?u.length>1?`since :
`+u.map(n3).join(`
`):" "+n3(u[0]):"as no adapter specified";throw new on("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return s}const O4={getAdapter:T9,adapters:M2};function T1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vm(null,e)}function i3(e){return T1(e),e.headers=mr.from(e.headers),e.data=E1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),O4.getAdapter(e.adapter||Pm.adapter,e)(e).then(function(i){return T1(e),i.data=E1.call(e,e.transformResponse,i),i.headers=mr.from(i.headers),i},function(i){return E4(i)||(T1(e),i&&i.response&&(i.response.data=E1.call(e,e.transformResponse,i.response),i.response.headers=mr.from(i.response.headers))),Promise.reject(i)})}const M4="1.13.3",_y={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_y[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const a3={};_y.transitional=function(t,n,i){function s(o,u){return"[Axios v"+M4+"] Transitional option '"+o+"'"+u+(i?". "+i:"")}return(o,u,f)=>{if(t===!1)throw new on(s(u," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!a3[u]&&(a3[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,u,f):!0}};_y.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function C9(e,t,n){if(typeof e!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const o=i[s],u=t[o];if(u){const f=e[o],d=f===void 0||u(f,o,e);if(d!==!0)throw new on("option "+o+" must be "+d,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+o,on.ERR_BAD_OPTION)}}const Bg={assertOptions:C9,validators:_y},Jl=Bg.validators;let ih=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Kb,response:new Kb}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=rh(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:o}=n;i!==void 0&&Bg.assertOptions(i,{silentJSONParsing:Jl.transitional(Jl.boolean),forcedJSONParsing:Jl.transitional(Jl.boolean),clarifyTimeoutError:Jl.transitional(Jl.boolean)},!1),s!=null&&(te.isFunction(s)?n.paramsSerializer={serialize:s}:Bg.assertOptions(s,{encode:Jl.function,serialize:Jl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Bg.assertOptions(n,{baseUrl:Jl.spelling("baseURL"),withXsrfToken:Jl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),n.headers=mr.concat(u,o);const f=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(d=d&&T.synchronous,f.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let y,v=0,x;if(!d){const E=[i3.bind(this),void 0];E.unshift(...f),E.push(...p),x=E.length,y=Promise.resolve(n);let T=n;for(;v<x;)y=y.then(E[v++]).then(M=>{T=M!==void 0?M:T}).catch(E[v++]).then(()=>T);return y}x=f.length;let _=n;for(;v<x;){const E=f[v++],T=f[v++];try{_=E(_)}catch(M){T.call(this,M);break}}try{y=i3.call(this,_)}catch(E){return Promise.reject(E)}for(v=0,x=p.length;v<x;)y=y.then(p[v++]).catch(p[v++]);return y}getUri(t){t=rh(this.defaults,t);const n=C4(t.baseURL,t.url,t.allowAbsoluteUrls);return S4(n,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){ih.prototype[t]=function(n,i){return this.request(rh(i||{},{method:t,url:n,data:(i||{}).data}))}});te.forEach(["post","put","patch"],function(t){function n(i){return function(o,u,f){return this.request(rh(f||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ih.prototype[t]=n(),ih.prototype[t+"Form"]=n(!0)});let A9=class N4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(f=>{i.subscribe(f),o=f}).then(s);return u.cancel=function(){i.unsubscribe(o)},u},t(function(o,u,f){i.reason||(i.reason=new Vm(o,u,f),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new N4(function(s){t=s}),cancel:t}}};function R9(e){return function(n){return e.apply(null,n)}}function O9(e){return te.isObject(e)&&e.isAxiosError===!0}const Ev={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ev).forEach(([e,t])=>{Ev[t]=e});function D4(e){const t=new ih(e),n=c4(ih.prototype.request,t);return te.extend(n,ih.prototype,t,{allOwnKeys:!0}),te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return D4(rh(e,s))},n}const ti=D4(Pm);ti.Axios=ih;ti.CanceledError=Vm;ti.CancelToken=A9;ti.isCancel=E4;ti.VERSION=M4;ti.toFormData=Sy;ti.AxiosError=on;ti.Cancel=ti.CanceledError;ti.all=function(t){return Promise.all(t)};ti.spread=R9;ti.isAxiosError=O9;ti.mergeConfig=rh;ti.AxiosHeaders=mr;ti.formToJSON=e=>w4(te.isHTMLForm(e)?new FormData(e):e);ti.getAdapter=O4.getAdapter;ti.HttpStatusCode=Ev;ti.default=ti;const{Axios:M9,AxiosError:N9,CanceledError:D9,isCancel:z9,CancelToken:j9,VERSION:k9,all:B9,Cancel:L9,isAxiosError:U9,spread:H9,toFormData:G9,AxiosHeaders:P9,HttpStatusCode:V9,formToJSON:I9,getAdapter:q9,mergeConfig:F9}=ti,K9=Object.freeze(Object.defineProperty({__proto__:null,Axios:M9,AxiosError:N9,AxiosHeaders:P9,Cancel:L9,CancelToken:j9,CanceledError:D9,HttpStatusCode:V9,VERSION:k9,all:B9,default:ti,formToJSON:I9,getAdapter:q9,isAxiosError:U9,isCancel:z9,mergeConfig:F9,spread:H9,toFormData:G9},Symbol.toStringTag,{value:"Module"}));function z4(e,t,n={}){const i={type:"Feature"};return(n.id===0||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=t||{},i.geometry=e,i}function j4(e,t,n={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<s[s.length-1].length;o++)if(s[s.length-1][o]!==s[0][o])throw new Error("First and last Position are not equivalent.")}return z4({type:"Polygon",coordinates:e},t,n)}function Y9(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function X9(e,t,n={}){return z4({type:"MultiPolygon",coordinates:e},t,n)}function Z9(e,t){var n,i,s,o,u,f,d,p,y,v,x=0,_=e.type==="FeatureCollection",E=e.type==="Feature",T=_?e.features.length:1;for(n=0;n<T;n++){for(f=_?e.features[n].geometry:E?e.geometry:e,p=_?e.features[n].properties:E?e.properties:{},y=_?e.features[n].bbox:E?e.bbox:void 0,v=_?e.features[n].id:E?e.id:void 0,d=f?f.type==="GeometryCollection":!1,u=d?f.geometries.length:1,s=0;s<u;s++){if(o=d?f.geometries[s]:f,o===null){if(t(null,x,p,y,v)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,x,p,y,v)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<o.geometries.length;i++)if(t(o.geometries[i],x,p,y,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}x++}}var Q9=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,C1=Math.ceil,_o=Math.floor,hr="[BigNumber Error] ",s3=hr+"Number primitive has more than 15 significant digits: ",sl=1e14,yn=14,A1=9007199254740991,R1=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Zc=1e7,Ja=1e9;function k4(e){var t,n,i,s=R.prototype={constructor:R,toString:null,valueOf:null},o=new R(1),u=20,f=4,d=-7,p=21,y=-1e7,v=1e7,x=!1,_=1,E=0,T={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz",O=!0;function R(z,j){var P,at,U,q,D,Z,K,Q,tt=this;if(!(tt instanceof R))return new R(z,j);if(j==null){if(z&&z._isBigNumber===!0){tt.s=z.s,!z.c||z.e>v?tt.c=tt.e=null:z.e<y?tt.c=[tt.e=0]:(tt.e=z.e,tt.c=z.c.slice());return}if((Z=typeof z=="number")&&z*0==0){if(tt.s=1/z<0?(z=-z,-1):1,z===~~z){for(q=0,D=z;D>=10;D/=10,q++);q>v?tt.c=tt.e=null:(tt.e=q,tt.c=[z]);return}Q=String(z)}else{if(!Q9.test(Q=String(z)))return i(tt,Q,Z);tt.s=Q.charCodeAt(0)==45?(Q=Q.slice(1),-1):1}(q=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(D=Q.search(/e/i))>0?(q<0&&(q=D),q+=+Q.slice(D+1),Q=Q.substring(0,D)):q<0&&(q=Q.length)}else{if(ea(j,2,M.length,"Base"),j==10&&O)return tt=new R(z),nt(tt,u+tt.e+1,f);if(Q=String(z),Z=typeof z=="number"){if(z*0!=0)return i(tt,Q,Z,j);if(tt.s=1/z<0?(Q=Q.slice(1),-1):1,R.DEBUG&&Q.replace(/^0\.0*|\./,"").length>15)throw Error(s3+z)}else tt.s=Q.charCodeAt(0)===45?(Q=Q.slice(1),-1):1;for(P=M.slice(0,j),q=D=0,K=Q.length;D<K;D++)if(P.indexOf(at=Q.charAt(D))<0){if(at=="."){if(D>q){q=K;continue}}else if(!U&&(Q==Q.toUpperCase()&&(Q=Q.toLowerCase())||Q==Q.toLowerCase()&&(Q=Q.toUpperCase()))){U=!0,D=-1,q=0;continue}return i(tt,String(z),Z,j)}Z=!1,Q=n(Q,j,10,tt.s),(q=Q.indexOf("."))>-1?Q=Q.replace(".",""):q=Q.length}for(D=0;Q.charCodeAt(D)===48;D++);for(K=Q.length;Q.charCodeAt(--K)===48;);if(Q=Q.slice(D,++K)){if(K-=D,Z&&R.DEBUG&&K>15&&(z>A1||z!==_o(z)))throw Error(s3+tt.s*z);if((q=q-D-1)>v)tt.c=tt.e=null;else if(q<y)tt.c=[tt.e=0];else{if(tt.e=q,tt.c=[],D=(q+1)%yn,q<0&&(D+=yn),D<K){for(D&&tt.c.push(+Q.slice(0,D)),K-=yn;D<K;)tt.c.push(+Q.slice(D,D+=yn));D=yn-(Q=Q.slice(D)).length}else D-=K;for(;D--;Q+="0");tt.c.push(+Q)}}else tt.c=[tt.e=0]}R.clone=k4,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(z){var j,P;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(j="DECIMAL_PLACES")&&(P=z[j],ea(P,0,Ja,j),u=P),z.hasOwnProperty(j="ROUNDING_MODE")&&(P=z[j],ea(P,0,8,j),f=P),z.hasOwnProperty(j="EXPONENTIAL_AT")&&(P=z[j],P&&P.pop?(ea(P[0],-Ja,0,j),ea(P[1],0,Ja,j),d=P[0],p=P[1]):(ea(P,-Ja,Ja,j),d=-(p=P<0?-P:P))),z.hasOwnProperty(j="RANGE"))if(P=z[j],P&&P.pop)ea(P[0],-Ja,-1,j),ea(P[1],1,Ja,j),y=P[0],v=P[1];else if(ea(P,-Ja,Ja,j),P)y=-(v=P<0?-P:P);else throw Error(hr+j+" cannot be zero: "+P);if(z.hasOwnProperty(j="CRYPTO"))if(P=z[j],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))x=P;else throw x=!P,Error(hr+"crypto unavailable");else x=P;else throw Error(hr+j+" not true or false: "+P);if(z.hasOwnProperty(j="MODULO_MODE")&&(P=z[j],ea(P,0,9,j),_=P),z.hasOwnProperty(j="POW_PRECISION")&&(P=z[j],ea(P,0,Ja,j),E=P),z.hasOwnProperty(j="FORMAT"))if(P=z[j],typeof P=="object")T=P;else throw Error(hr+j+" not an object: "+P);if(z.hasOwnProperty(j="ALPHABET"))if(P=z[j],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))O=P.slice(0,10)=="0123456789",M=P;else throw Error(hr+j+" invalid: "+P)}else throw Error(hr+"Object expected: "+z);return{DECIMAL_PLACES:u,ROUNDING_MODE:f,EXPONENTIAL_AT:[d,p],RANGE:[y,v],CRYPTO:x,MODULO_MODE:_,POW_PRECISION:E,FORMAT:T,ALPHABET:M}},R.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!R.DEBUG)return!0;var j,P,at=z.c,U=z.e,q=z.s;t:if({}.toString.call(at)=="[object Array]"){if((q===1||q===-1)&&U>=-Ja&&U<=Ja&&U===_o(U)){if(at[0]===0){if(U===0&&at.length===1)return!0;break t}if(j=(U+1)%yn,j<1&&(j+=yn),String(at[0]).length==j){for(j=0;j<at.length;j++)if(P=at[j],P<0||P>=sl||P!==_o(P))break t;if(P!==0)return!0}}}else if(at===null&&U===null&&(q===null||q===1||q===-1))return!0;throw Error(hr+"Invalid BigNumber: "+z)},R.maximum=R.max=function(){return H(arguments,-1)},R.minimum=R.min=function(){return H(arguments,1)},R.random=(function(){var z=9007199254740992,j=Math.random()*z&2097151?function(){return _o(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var at,U,q,D,Z,K=0,Q=[],tt=new R(o);if(P==null?P=u:ea(P,0,Ja),D=C1(P/yn),x)if(crypto.getRandomValues){for(at=crypto.getRandomValues(new Uint32Array(D*=2));K<D;)Z=at[K]*131072+(at[K+1]>>>11),Z>=9e15?(U=crypto.getRandomValues(new Uint32Array(2)),at[K]=U[0],at[K+1]=U[1]):(Q.push(Z%1e14),K+=2);K=D/2}else if(crypto.randomBytes){for(at=crypto.randomBytes(D*=7);K<D;)Z=(at[K]&31)*281474976710656+at[K+1]*1099511627776+at[K+2]*4294967296+at[K+3]*16777216+(at[K+4]<<16)+(at[K+5]<<8)+at[K+6],Z>=9e15?crypto.randomBytes(7).copy(at,K):(Q.push(Z%1e14),K+=7);K=D/7}else throw x=!1,Error(hr+"crypto unavailable");if(!x)for(;K<D;)Z=j(),Z<9e15&&(Q[K++]=Z%1e14);for(D=Q[--K],P%=yn,D&&P&&(Z=R1[yn-P],Q[K]=_o(D/Z)*Z);Q[K]===0;Q.pop(),K--);if(K<0)Q=[q=0];else{for(q=-1;Q[0]===0;Q.splice(0,1),q-=yn);for(K=1,Z=Q[0];Z>=10;Z/=10,K++);K<yn&&(q-=yn-K)}return tt.e=q,tt.c=Q,tt}})(),R.sum=function(){for(var z=1,j=arguments,P=new R(j[0]);z<j.length;)P=P.plus(j[z++]);return P},n=(function(){var z="0123456789";function j(P,at,U,q){for(var D,Z=[0],K,Q=0,tt=P.length;Q<tt;){for(K=Z.length;K--;Z[K]*=at);for(Z[0]+=q.indexOf(P.charAt(Q++)),D=0;D<Z.length;D++)Z[D]>U-1&&(Z[D+1]==null&&(Z[D+1]=0),Z[D+1]+=Z[D]/U|0,Z[D]%=U)}return Z.reverse()}return function(P,at,U,q,D){var Z,K,Q,tt,st,gt,Y,$,ft=P.indexOf("."),pt=u,yt=f;for(ft>=0&&(tt=E,E=0,P=P.replace(".",""),$=new R(at),gt=$.pow(P.length-ft),E=tt,$.c=j(Yu(So(gt.c),gt.e,"0"),10,U,z),$.e=$.c.length),Y=j(P,at,U,D?(Z=M,z):(Z=z,M)),Q=tt=Y.length;Y[--tt]==0;Y.pop());if(!Y[0])return Z.charAt(0);if(ft<0?--Q:(gt.c=Y,gt.e=Q,gt.s=q,gt=t(gt,$,pt,yt,U),Y=gt.c,st=gt.r,Q=gt.e),K=Q+pt+1,ft=Y[K],tt=U/2,st=st||K<0||Y[K+1]!=null,st=yt<4?(ft!=null||st)&&(yt==0||yt==(gt.s<0?3:2)):ft>tt||ft==tt&&(yt==4||st||yt==6&&Y[K-1]&1||yt==(gt.s<0?8:7)),K<1||!Y[0])P=st?Yu(Z.charAt(1),-pt,Z.charAt(0)):Z.charAt(0);else{if(Y.length=K,st)for(--U;++Y[--K]>U;)Y[K]=0,K||(++Q,Y=[1].concat(Y));for(tt=Y.length;!Y[--tt];);for(ft=0,P="";ft<=tt;P+=Z.charAt(Y[ft++]));P=Yu(P,Q,Z.charAt(0))}return P}})(),t=(function(){function z(at,U,q){var D,Z,K,Q,tt=0,st=at.length,gt=U%Zc,Y=U/Zc|0;for(at=at.slice();st--;)K=at[st]%Zc,Q=at[st]/Zc|0,D=Y*K+Q*gt,Z=gt*K+D%Zc*Zc+tt,tt=(Z/q|0)+(D/Zc|0)+Y*Q,at[st]=Z%q;return tt&&(at=[tt].concat(at)),at}function j(at,U,q,D){var Z,K;if(q!=D)K=q>D?1:-1;else for(Z=K=0;Z<q;Z++)if(at[Z]!=U[Z]){K=at[Z]>U[Z]?1:-1;break}return K}function P(at,U,q,D){for(var Z=0;q--;)at[q]-=Z,Z=at[q]<U[q]?1:0,at[q]=Z*D+at[q]-U[q];for(;!at[0]&&at.length>1;at.splice(0,1));}return function(at,U,q,D,Z){var K,Q,tt,st,gt,Y,$,ft,pt,yt,Yt,Qt,Ht,Ct,Ee,ve,de,Ae=at.s==U.s?1:-1,V=at.c,Rt=U.c;if(!V||!V[0]||!Rt||!Rt[0])return new R(!at.s||!U.s||(V?Rt&&V[0]==Rt[0]:!Rt)?NaN:V&&V[0]==0||!Rt?Ae*0:Ae/0);for(ft=new R(Ae),pt=ft.c=[],Q=at.e-U.e,Ae=q+Q+1,Z||(Z=sl,Q=wo(at.e/yn)-wo(U.e/yn),Ae=Ae/yn|0),tt=0;Rt[tt]==(V[tt]||0);tt++);if(Rt[tt]>(V[tt]||0)&&Q--,Ae<0)pt.push(1),st=!0;else{for(Ct=V.length,ve=Rt.length,tt=0,Ae+=2,gt=_o(Z/(Rt[0]+1)),gt>1&&(Rt=z(Rt,gt,Z),V=z(V,gt,Z),ve=Rt.length,Ct=V.length),Ht=ve,yt=V.slice(0,ve),Yt=yt.length;Yt<ve;yt[Yt++]=0);de=Rt.slice(),de=[0].concat(de),Ee=Rt[0],Rt[1]>=Z/2&&Ee++;do{if(gt=0,K=j(Rt,yt,ve,Yt),K<0){if(Qt=yt[0],ve!=Yt&&(Qt=Qt*Z+(yt[1]||0)),gt=_o(Qt/Ee),gt>1)for(gt>=Z&&(gt=Z-1),Y=z(Rt,gt,Z),$=Y.length,Yt=yt.length;j(Y,yt,$,Yt)==1;)gt--,P(Y,ve<$?de:Rt,$,Z),$=Y.length,K=1;else gt==0&&(K=gt=1),Y=Rt.slice(),$=Y.length;if($<Yt&&(Y=[0].concat(Y)),P(yt,Y,Yt,Z),Yt=yt.length,K==-1)for(;j(Rt,yt,ve,Yt)<1;)gt++,P(yt,ve<Yt?de:Rt,Yt,Z),Yt=yt.length}else K===0&&(gt++,yt=[0]);pt[tt++]=gt,yt[0]?yt[Yt++]=V[Ht]||0:(yt=[V[Ht]],Yt=1)}while((Ht++<Ct||yt[0]!=null)&&Ae--);st=yt[0]!=null,pt[0]||pt.splice(0,1)}if(Z==sl){for(tt=1,Ae=pt[0];Ae>=10;Ae/=10,tt++);nt(ft,q+(ft.e=tt+Q*yn-1)+1,D,st)}else ft.e=Q,ft.r=+st;return ft}})();function B(z,j,P,at){var U,q,D,Z,K;if(P==null?P=f:ea(P,0,8),!z.c)return z.toString();if(U=z.c[0],D=z.e,j==null)K=So(z.c),K=at==1||at==2&&(D<=d||D>=p)?fg(K,D):Yu(K,D,"0");else if(z=nt(new R(z),j,P),q=z.e,K=So(z.c),Z=K.length,at==1||at==2&&(j<=q||q<=d)){for(;Z<j;K+="0",Z++);K=fg(K,q)}else if(j-=D+(at===2&&q>D),K=Yu(K,q,"0"),q+1>Z){if(--j>0)for(K+=".";j--;K+="0");}else if(j+=q-Z,j>0)for(q+1==Z&&(K+=".");j--;K+="0");return z.s<0&&U?"-"+K:K}function H(z,j){for(var P,at,U=1,q=new R(z[0]);U<z.length;U++)at=new R(z[U]),(!at.s||(P=Yf(q,at))===j||P===0&&q.s===j)&&(q=at);return q}function F(z,j,P){for(var at=1,U=j.length;!j[--U];j.pop());for(U=j[0];U>=10;U/=10,at++);return(P=at+P*yn-1)>v?z.c=z.e=null:P<y?z.c=[z.e=0]:(z.e=P,z.c=j),z}i=(function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,P=/^\.([^.]+)$/,at=/^-?(Infinity|NaN)$/,U=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(q,D,Z,K){var Q,tt=Z?D:D.replace(U,"");if(at.test(tt))q.s=isNaN(tt)?null:tt<0?-1:1;else{if(!Z&&(tt=tt.replace(z,function(st,gt,Y){return Q=(Y=Y.toLowerCase())=="x"?16:Y=="b"?2:8,!K||K==Q?gt:st}),K&&(Q=K,tt=tt.replace(j,"$1").replace(P,"0.$1")),D!=tt))return new R(tt,Q);if(R.DEBUG)throw Error(hr+"Not a"+(K?" base "+K:"")+" number: "+D);q.s=null}q.c=q.e=null}})();function nt(z,j,P,at){var U,q,D,Z,K,Q,tt,st=z.c,gt=R1;if(st){t:{for(U=1,Z=st[0];Z>=10;Z/=10,U++);if(q=j-U,q<0)q+=yn,D=j,K=st[Q=0],tt=_o(K/gt[U-D-1]%10);else if(Q=C1((q+1)/yn),Q>=st.length)if(at){for(;st.length<=Q;st.push(0));K=tt=0,U=1,q%=yn,D=q-yn+1}else break t;else{for(K=Z=st[Q],U=1;Z>=10;Z/=10,U++);q%=yn,D=q-yn+U,tt=D<0?0:_o(K/gt[U-D-1]%10)}if(at=at||j<0||st[Q+1]!=null||(D<0?K:K%gt[U-D-1]),at=P<4?(tt||at)&&(P==0||P==(z.s<0?3:2)):tt>5||tt==5&&(P==4||at||P==6&&(q>0?D>0?K/gt[U-D]:0:st[Q-1])%10&1||P==(z.s<0?8:7)),j<1||!st[0])return st.length=0,at?(j-=z.e+1,st[0]=gt[(yn-j%yn)%yn],z.e=-j||0):st[0]=z.e=0,z;if(q==0?(st.length=Q,Z=1,Q--):(st.length=Q+1,Z=gt[yn-q],st[Q]=D>0?_o(K/gt[U-D]%gt[D])*Z:0),at)for(;;)if(Q==0){for(q=1,D=st[0];D>=10;D/=10,q++);for(D=st[0]+=Z,Z=1;D>=10;D/=10,Z++);q!=Z&&(z.e++,st[0]==sl&&(st[0]=1));break}else{if(st[Q]+=Z,st[Q]!=sl)break;st[Q--]=0,Z=1}for(q=st.length;st[--q]===0;st.pop());}z.e>v?z.c=z.e=null:z.e<y&&(z.c=[z.e=0])}return z}function X(z){var j,P=z.e;return P===null?z.toString():(j=So(z.c),j=P<=d||P>=p?fg(j,P):Yu(j,P,"0"),z.s<0?"-"+j:j)}return s.absoluteValue=s.abs=function(){var z=new R(this);return z.s<0&&(z.s=1),z},s.comparedTo=function(z,j){return Yf(this,new R(z,j))},s.decimalPlaces=s.dp=function(z,j){var P,at,U,q=this;if(z!=null)return ea(z,0,Ja),j==null?j=f:ea(j,0,8),nt(new R(q),z+q.e+1,j);if(!(P=q.c))return null;if(at=((U=P.length-1)-wo(this.e/yn))*yn,U=P[U])for(;U%10==0;U/=10,at--);return at<0&&(at=0),at},s.dividedBy=s.div=function(z,j){return t(this,new R(z,j),u,f)},s.dividedToIntegerBy=s.idiv=function(z,j){return t(this,new R(z,j),0,1)},s.exponentiatedBy=s.pow=function(z,j){var P,at,U,q,D,Z,K,Q,tt,st=this;if(z=new R(z),z.c&&!z.isInteger())throw Error(hr+"Exponent not an integer: "+X(z));if(j!=null&&(j=new R(j)),Z=z.e>14,!st.c||!st.c[0]||st.c[0]==1&&!st.e&&st.c.length==1||!z.c||!z.c[0])return tt=new R(Math.pow(+X(st),Z?z.s*(2-cg(z)):+X(z))),j?tt.mod(j):tt;if(K=z.s<0,j){if(j.c?!j.c[0]:!j.s)return new R(NaN);at=!K&&st.isInteger()&&j.isInteger(),at&&(st=st.mod(j))}else{if(z.e>9&&(st.e>0||st.e<-1||(st.e==0?st.c[0]>1||Z&&st.c[1]>=24e7:st.c[0]<8e13||Z&&st.c[0]<=9999975e7)))return q=st.s<0&&cg(z)?-0:0,st.e>-1&&(q=1/q),new R(K?1/q:q);E&&(q=C1(E/yn+2))}for(Z?(P=new R(.5),K&&(z.s=1),Q=cg(z)):(U=Math.abs(+X(z)),Q=U%2),tt=new R(o);;){if(Q){if(tt=tt.times(st),!tt.c)break;q?tt.c.length>q&&(tt.c.length=q):at&&(tt=tt.mod(j))}if(U){if(U=_o(U/2),U===0)break;Q=U%2}else if(z=z.times(P),nt(z,z.e+1,1),z.e>14)Q=cg(z);else{if(U=+X(z),U===0)break;Q=U%2}st=st.times(st),q?st.c&&st.c.length>q&&(st.c.length=q):at&&(st=st.mod(j))}return at?tt:(K&&(tt=o.div(tt)),j?tt.mod(j):q?nt(tt,E,f,D):tt)},s.integerValue=function(z){var j=new R(this);return z==null?z=f:ea(z,0,8),nt(j,j.e+1,z)},s.isEqualTo=s.eq=function(z,j){return Yf(this,new R(z,j))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(z,j){return Yf(this,new R(z,j))>0},s.isGreaterThanOrEqualTo=s.gte=function(z,j){return(j=Yf(this,new R(z,j)))===1||j===0},s.isInteger=function(){return!!this.c&&wo(this.e/yn)>this.c.length-2},s.isLessThan=s.lt=function(z,j){return Yf(this,new R(z,j))<0},s.isLessThanOrEqualTo=s.lte=function(z,j){return(j=Yf(this,new R(z,j)))===-1||j===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(z,j){var P,at,U,q,D=this,Z=D.s;if(z=new R(z,j),j=z.s,!Z||!j)return new R(NaN);if(Z!=j)return z.s=-j,D.plus(z);var K=D.e/yn,Q=z.e/yn,tt=D.c,st=z.c;if(!K||!Q){if(!tt||!st)return tt?(z.s=-j,z):new R(st?D:NaN);if(!tt[0]||!st[0])return st[0]?(z.s=-j,z):new R(tt[0]?D:f==3?-0:0)}if(K=wo(K),Q=wo(Q),tt=tt.slice(),Z=K-Q){for((q=Z<0)?(Z=-Z,U=tt):(Q=K,U=st),U.reverse(),j=Z;j--;U.push(0));U.reverse()}else for(at=(q=(Z=tt.length)<(j=st.length))?Z:j,Z=j=0;j<at;j++)if(tt[j]!=st[j]){q=tt[j]<st[j];break}if(q&&(U=tt,tt=st,st=U,z.s=-z.s),j=(at=st.length)-(P=tt.length),j>0)for(;j--;tt[P++]=0);for(j=sl-1;at>Z;){if(tt[--at]<st[at]){for(P=at;P&&!tt[--P];tt[P]=j);--tt[P],tt[at]+=sl}tt[at]-=st[at]}for(;tt[0]==0;tt.splice(0,1),--Q);return tt[0]?F(z,tt,Q):(z.s=f==3?-1:1,z.c=[z.e=0],z)},s.modulo=s.mod=function(z,j){var P,at,U=this;return z=new R(z,j),!U.c||!z.s||z.c&&!z.c[0]?new R(NaN):!z.c||U.c&&!U.c[0]?new R(U):(_==9?(at=z.s,z.s=1,P=t(U,z,0,3),z.s=at,P.s*=at):P=t(U,z,0,_),z=U.minus(P.times(z)),!z.c[0]&&_==1&&(z.s=U.s),z)},s.multipliedBy=s.times=function(z,j){var P,at,U,q,D,Z,K,Q,tt,st,gt,Y,$,ft,pt,yt=this,Yt=yt.c,Qt=(z=new R(z,j)).c;if(!Yt||!Qt||!Yt[0]||!Qt[0])return!yt.s||!z.s||Yt&&!Yt[0]&&!Qt||Qt&&!Qt[0]&&!Yt?z.c=z.e=z.s=null:(z.s*=yt.s,!Yt||!Qt?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(at=wo(yt.e/yn)+wo(z.e/yn),z.s*=yt.s,K=Yt.length,st=Qt.length,K<st&&($=Yt,Yt=Qt,Qt=$,U=K,K=st,st=U),U=K+st,$=[];U--;$.push(0));for(ft=sl,pt=Zc,U=st;--U>=0;){for(P=0,gt=Qt[U]%pt,Y=Qt[U]/pt|0,D=K,q=U+D;q>U;)Q=Yt[--D]%pt,tt=Yt[D]/pt|0,Z=Y*Q+tt*gt,Q=gt*Q+Z%pt*pt+$[q]+P,P=(Q/ft|0)+(Z/pt|0)+Y*tt,$[q--]=Q%ft;$[q]=P}return P?++at:$.splice(0,1),F(z,$,at)},s.negated=function(){var z=new R(this);return z.s=-z.s||null,z},s.plus=function(z,j){var P,at=this,U=at.s;if(z=new R(z,j),j=z.s,!U||!j)return new R(NaN);if(U!=j)return z.s=-j,at.minus(z);var q=at.e/yn,D=z.e/yn,Z=at.c,K=z.c;if(!q||!D){if(!Z||!K)return new R(U/0);if(!Z[0]||!K[0])return K[0]?z:new R(Z[0]?at:U*0)}if(q=wo(q),D=wo(D),Z=Z.slice(),U=q-D){for(U>0?(D=q,P=K):(U=-U,P=Z),P.reverse();U--;P.push(0));P.reverse()}for(U=Z.length,j=K.length,U-j<0&&(P=K,K=Z,Z=P,j=U),U=0;j;)U=(Z[--j]=Z[j]+K[j]+U)/sl|0,Z[j]=sl===Z[j]?0:Z[j]%sl;return U&&(Z=[U].concat(Z),++D),F(z,Z,D)},s.precision=s.sd=function(z,j){var P,at,U,q=this;if(z!=null&&z!==!!z)return ea(z,1,Ja),j==null?j=f:ea(j,0,8),nt(new R(q),z,j);if(!(P=q.c))return null;if(U=P.length-1,at=U*yn+1,U=P[U]){for(;U%10==0;U/=10,at--);for(U=P[0];U>=10;U/=10,at++);}return z&&q.e+1>at&&(at=q.e+1),at},s.shiftedBy=function(z){return ea(z,-A1,A1),this.times("1e"+z)},s.squareRoot=s.sqrt=function(){var z,j,P,at,U,q=this,D=q.c,Z=q.s,K=q.e,Q=u+4,tt=new R("0.5");if(Z!==1||!D||!D[0])return new R(!Z||Z<0&&(!D||D[0])?NaN:D?q:1/0);if(Z=Math.sqrt(+X(q)),Z==0||Z==1/0?(j=So(D),(j.length+K)%2==0&&(j+="0"),Z=Math.sqrt(+j),K=wo((K+1)/2)-(K<0||K%2),Z==1/0?j="5e"+K:(j=Z.toExponential(),j=j.slice(0,j.indexOf("e")+1)+K),P=new R(j)):P=new R(Z+""),P.c[0]){for(K=P.e,Z=K+Q,Z<3&&(Z=0);;)if(U=P,P=tt.times(U.plus(t(q,U,Q,1))),So(U.c).slice(0,Z)===(j=So(P.c)).slice(0,Z))if(P.e<K&&--Z,j=j.slice(Z-3,Z+1),j=="9999"||!at&&j=="4999"){if(!at&&(nt(U,U.e+u+2,0),U.times(U).eq(q))){P=U;break}Q+=4,Z+=4,at=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&(nt(P,P.e+u+2,1),z=!P.times(P).eq(q));break}}return nt(P,P.e+u+1,f,z)},s.toExponential=function(z,j){return z!=null&&(ea(z,0,Ja),z++),B(this,z,j,1)},s.toFixed=function(z,j){return z!=null&&(ea(z,0,Ja),z=z+this.e+1),B(this,z,j)},s.toFormat=function(z,j,P){var at,U=this;if(P==null)z!=null&&j&&typeof j=="object"?(P=j,j=null):z&&typeof z=="object"?(P=z,z=j=null):P=T;else if(typeof P!="object")throw Error(hr+"Argument not an object: "+P);if(at=U.toFixed(z,j),U.c){var q,D=at.split("."),Z=+P.groupSize,K=+P.secondaryGroupSize,Q=P.groupSeparator||"",tt=D[0],st=D[1],gt=U.s<0,Y=gt?tt.slice(1):tt,$=Y.length;if(K&&(q=Z,Z=K,K=q,$-=q),Z>0&&$>0){for(q=$%Z||Z,tt=Y.substr(0,q);q<$;q+=Z)tt+=Q+Y.substr(q,Z);K>0&&(tt+=Q+Y.slice(q)),gt&&(tt="-"+tt)}at=st?tt+(P.decimalSeparator||"")+((K=+P.fractionGroupSize)?st.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):st):tt}return(P.prefix||"")+at+(P.suffix||"")},s.toFraction=function(z){var j,P,at,U,q,D,Z,K,Q,tt,st,gt,Y=this,$=Y.c;if(z!=null&&(Z=new R(z),!Z.isInteger()&&(Z.c||Z.s!==1)||Z.lt(o)))throw Error(hr+"Argument "+(Z.isInteger()?"out of range: ":"not an integer: ")+X(Z));if(!$)return new R(Y);for(j=new R(o),Q=P=new R(o),at=K=new R(o),gt=So($),q=j.e=gt.length-Y.e-1,j.c[0]=R1[(D=q%yn)<0?yn+D:D],z=!z||Z.comparedTo(j)>0?q>0?j:Q:Z,D=v,v=1/0,Z=new R(gt),K.c[0]=0;tt=t(Z,j,0,1),U=P.plus(tt.times(at)),U.comparedTo(z)!=1;)P=at,at=U,Q=K.plus(tt.times(U=Q)),K=U,j=Z.minus(tt.times(U=j)),Z=U;return U=t(z.minus(P),at,0,1),K=K.plus(U.times(Q)),P=P.plus(U.times(at)),K.s=Q.s=Y.s,q=q*2,st=t(Q,at,q,f).minus(Y).abs().comparedTo(t(K,P,q,f).minus(Y).abs())<1?[Q,at]:[K,P],v=D,st},s.toNumber=function(){return+X(this)},s.toPrecision=function(z,j){return z!=null&&ea(z,1,Ja),B(this,z,j,2)},s.toString=function(z){var j,P=this,at=P.s,U=P.e;return U===null?at?(j="Infinity",at<0&&(j="-"+j)):j="NaN":(z==null?j=U<=d||U>=p?fg(So(P.c),U):Yu(So(P.c),U,"0"):z===10&&O?(P=nt(new R(P),u+U+1,f),j=Yu(So(P.c),P.e,"0")):(ea(z,2,M.length,"Base"),j=n(Yu(So(P.c),U,"0"),10,z,at,!0)),at<0&&P.c[0]&&(j="-"+j)),j},s.valueOf=s.toJSON=function(){return X(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,e!=null&&R.set(e),R}function wo(e){var t=e|0;return e>0||e===t?t:t-1}function So(e){for(var t,n,i=1,s=e.length,o=e[0]+"";i<s;){for(t=e[i++]+"",n=yn-t.length;n--;t="0"+t);o+=t}for(s=o.length;o.charCodeAt(--s)===48;);return o.slice(0,s+1||1)}function Yf(e,t){var n,i,s=e.c,o=t.c,u=e.s,f=t.s,d=e.e,p=t.e;if(!u||!f)return null;if(n=s&&!s[0],i=o&&!o[0],n||i)return n?i?0:-f:u;if(u!=f)return u;if(n=u<0,i=d==p,!s||!o)return i?0:!s^n?1:-1;if(!i)return d>p^n?1:-1;for(f=(d=s.length)<(p=o.length)?d:p,u=0;u<f;u++)if(s[u]!=o[u])return s[u]>o[u]^n?1:-1;return d==p?0:d>p^n?1:-1}function ea(e,t,n,i){if(e<t||e>n||e!==_o(e))throw Error(hr+(i||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function cg(e){var t=e.c.length-1;return wo(e.e/yn)==t&&e.c[t]%2!=0}function fg(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Yu(e,t,n){var i,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(i=e.length,++t>i){for(s=n,t-=i;--t;s+=n);e+=s}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}var iu=k4(),J9=class{key;left=null;right=null;constructor(e){this.key=e}},qp=class extends J9{constructor(e){super(e)}},W9=class{size=0;modificationCount=0;splayCount=0;splay(e){const t=this.root;if(t==null)return this.compare(e,e),-1;let n=null,i=null,s=null,o=null,u=t;const f=this.compare;let d;for(;;)if(d=f(u.key,e),d>0){let p=u.left;if(p==null||(d=f(p.key,e),d>0&&(u.left=p.right,p.right=u,u=p,p=u.left,p==null)))break;n==null?i=u:n.left=u,n=u,u=p}else if(d<0){let p=u.right;if(p==null||(d=f(p.key,e),d<0&&(u.right=p.left,p.left=u,u=p,p=u.right,p==null)))break;s==null?o=u:s.right=u,s=u,u=p}else break;return s!=null&&(s.right=u.left,u.left=o),n!=null&&(n.left=u.right,u.right=i),this.root!==u&&(this.root=u,this.splayCount++),d}splayMin(e){let t=e,n=t.left;for(;n!=null;){const i=n;t.left=i.right,i.right=t,t=i,n=t.left}return t}splayMax(e){let t=e,n=t.right;for(;n!=null;){const i=n;t.right=i.left,i.left=t,t=i,n=t.right}return t}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let n=this.root;const i=n,s=n.left;if(this.size--,s==null)this.root=n.right;else{const o=n.right;n=this.splayMax(s),n.right=o,this.root=n}return this.modificationCount++,i}addNewRoot(e,t){this.size++,this.modificationCount++;const n=this.root;if(n==null){this.root=e;return}t<0?(e.left=n,e.right=n.right,n.right=null):(e.right=n,e.left=n.left,n.left=null),this.root=e}_first(){const e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},$g=class em extends W9{root=null;compare;validKey;constructor(t,n){super(),this.compare=t??this.defaultCompare(),this.validKey=n??(i=>i!=null&&i!=null)}delete(t){return this.validKey(t)?this._delete(t)!=null:!1}deleteAll(t){for(const n of t)this.delete(n)}forEach(t){const n=this[Symbol.iterator]();let i;for(;i=n.next(),!i.done;)t(i.value,i.value,this)}add(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new qp(t),n),this}addAndReturn(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new qp(t),n),this.root.key}addAll(t){for(const n of t)this.add(n)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)<0)return this.root.key;let i=this.root.left;if(i==null)return null;let s=i.right;for(;s!=null;)i=s,s=i.right;return i.key}firstAfter(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)>0)return this.root.key;let i=this.root.right;if(i==null)return null;let s=i.left;for(;s!=null;)i=s,s=i.left;return i.key}retainAll(t){const n=new em(this.compare,this.validKey),i=this.modificationCount;for(const s of t){if(i!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(s)&&this.splay(s)==0&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(t){return!this.validKey(t)||this.splay(t)!=0?null:this.root.key}intersection(t){const n=new em(this.compare,this.validKey);for(const i of this)t.has(i)&&n.add(i);return n}difference(t){const n=new em(this.compare,this.validKey);for(const i of this)t.has(i)||n.add(i);return n}union(t){const n=this.clone();return n.addAll(t),n}clone(){const t=new em(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(t==null)return null;function n(s,o){let u,f;do{if(u=s.left,f=s.right,u!=null){const d=new qp(u.key);o.left=d,n(u,d)}if(f!=null){const d=new qp(f.key);o.right=d,s=f,o=d}}while(f!=null)}const i=new qp(t.key);return n(t,i),i}toSet(){return this.clone()}entries(){return new tC(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new $9(this.wrap())}[Symbol.toStringTag]="[object Set]"},B4=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let n=this.tree.getRoot();for(;n!=null;)this.path.push(n),n=n.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(t!=null){for(;t!=null;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},$9=class extends B4{getValue(e){return e.key}},tC=class extends B4{getValue(e){return[e.key,e.key]}},L4=e=>()=>e,Tv=e=>{const t=e?(n,i)=>i.minus(n).abs().isLessThanOrEqualTo(e):L4(!1);return(n,i)=>t(n,i)?0:n.comparedTo(i)};function eC(e){const t=e?(n,i,s,o,u)=>n.exponentiatedBy(2).isLessThanOrEqualTo(o.minus(i).exponentiatedBy(2).plus(u.minus(s).exponentiatedBy(2)).times(e)):L4(!1);return(n,i,s)=>{const o=n.x,u=n.y,f=s.x,d=s.y,p=u.minus(d).times(i.x.minus(f)).minus(o.minus(f).times(i.y.minus(d)));return t(p,o,u,f,d)?0:p.comparedTo(0)}}var nC=e=>e,iC=e=>{if(e){const t=new $g(Tv(e)),n=new $g(Tv(e)),i=(o,u)=>u.addAndReturn(o),s=o=>({x:i(o.x,t),y:i(o.y,n)});return s({x:new iu(0),y:new iu(0)}),s}return nC},Cv=e=>({set:t=>{$u=Cv(t)},reset:()=>Cv(e),compare:Tv(e),snap:iC(e),orient:eC(e)}),$u=Cv(),Fp=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),Av=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const n=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,i=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x,s=e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y,o=e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y;return{ll:{x:n,y:s},ur:{x:i,y:o}}},Lg=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),U4=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),ty=e=>U4(e,e).sqrt(),aC=(e,t,n)=>{const i={x:t.x.minus(e.x),y:t.y.minus(e.y)},s={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Lg(s,i).div(ty(s)).div(ty(i))},sC=(e,t,n)=>{const i={x:t.x.minus(e.x),y:t.y.minus(e.y)},s={x:n.x.minus(e.x),y:n.y.minus(e.y)};return U4(s,i).div(ty(s)).div(ty(i))},r3=(e,t,n)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(n.minus(e.y))),y:n},o3=(e,t,n)=>t.x.isZero()?null:{x:n,y:e.y.plus(t.y.div(t.x).times(n.minus(e.x)))},rC=(e,t,n,i)=>{if(t.x.isZero())return o3(n,i,e.x);if(i.x.isZero())return o3(e,t,n.x);if(t.y.isZero())return r3(n,i,e.y);if(i.y.isZero())return r3(e,t,n.y);const s=Lg(t,i);if(s.isZero())return null;const o={x:n.x.minus(e.x),y:n.y.minus(e.y)},u=Lg(o,t).div(s),f=Lg(o,i).div(s),d=e.x.plus(f.times(t.x)),p=n.x.plus(u.times(i.x)),y=e.y.plus(f.times(t.y)),v=n.y.plus(u.times(i.y)),x=d.plus(p).div(2),_=y.plus(v).div(2);return{x,y:_}},$l=class H4{point;isLeft;segment;otherSE;consumedBy;static compare(t,n){const i=H4.comparePoints(t.point,n.point);return i!==0?i:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:ey.compare(t.segment,n.segment))}static comparePoints(t,n){return t.x.isLessThan(n.x)?-1:t.x.isGreaterThan(n.x)?1:t.y.isLessThan(n.y)?-1:t.y.isGreaterThan(n.y)?1:0}constructor(t,n){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const n=t.point.events;for(let i=0,s=n.length;i<s;i++){const o=n[i];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let n=0;n<t;n++){const i=this.point.events[n];if(i.segment.consumedBy===void 0)for(let s=n+1;s<t;s++){const o=this.point.events[s];o.consumedBy===void 0&&i.otherSE.point.events===o.otherSE.point.events&&i.segment.consume(o.segment)}}}getAvailableLinkedEvents(){const t=[];for(let n=0,i=this.point.events.length;n<i;n++){const s=this.point.events[n];s!==this&&!s.segment.ringOut&&s.segment.isInResult()&&t.push(s)}return t}getLeftmostComparator(t){const n=new Map,i=s=>{const o=s.otherSE;n.set(s,{sine:aC(this.point,t.point,o.point),cosine:sC(this.point,t.point,o.point)})};return(s,o)=>{n.has(s)||i(s),n.has(o)||i(o);const{sine:u,cosine:f}=n.get(s),{sine:d,cosine:p}=n.get(o);return u.isGreaterThanOrEqualTo(0)&&d.isGreaterThanOrEqualTo(0)?f.isLessThan(p)?1:f.isGreaterThan(p)?-1:0:u.isLessThan(0)&&d.isLessThan(0)?f.isLessThan(p)?-1:f.isGreaterThan(p)?1:0:d.isLessThan(u)?-1:d.isGreaterThan(u)?1:0}}},oC=class Rv{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const n=[];for(let i=0,s=t.length;i<s;i++){const o=t[i];if(!o.isInResult()||o.ringOut)continue;let u=null,f=o.leftSE,d=o.rightSE;const p=[f],y=f.point,v=[];for(;u=f,f=d,p.push(f),f.point!==y;)for(;;){const x=f.getAvailableLinkedEvents();if(x.length===0){const T=p[0].point,M=p[p.length-1].point;throw new Error(`Unable to complete output ring starting at [${T.x}, ${T.y}]. Last matching segment found ends at [${M.x}, ${M.y}].`)}if(x.length===1){d=x[0].otherSE;break}let _=null;for(let T=0,M=v.length;T<M;T++)if(v[T].point===f.point){_=T;break}if(_!==null){const T=v.splice(_)[0],M=p.splice(T.index);M.unshift(M[0].otherSE),n.push(new Rv(M.reverse()));continue}v.push({index:p.length,point:f.point});const E=f.getLeftmostComparator(u);d=x.sort(E)[0].otherSE;break}n.push(new Rv(p))}return n}constructor(t){this.events=t;for(let n=0,i=t.length;n<i;n++)t[n].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const n=[t];for(let p=1,y=this.events.length-1;p<y;p++){const v=this.events[p].point,x=this.events[p+1].point;$u.orient(v,t,x)!==0&&(n.push(v),t=v)}if(n.length===1)return null;const i=n[0],s=n[1];$u.orient(i,t,s)===0&&n.shift(),n.push(n[0]);const o=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:n.length-1,f=this.isExteriorRing()?n.length:-1,d=[];for(let p=u;p!=f;p+=o)d.push([n[p].x.toNumber(),n[p].y.toNumber()]);return d}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let s=1,o=this.events.length;s<o;s++){const u=this.events[s];$l.compare(t,u)>0&&(t=u)}let n=t.segment.prevInResult(),i=n?n.prevInResult():null;for(;;){if(!n)return null;if(!i)return n.ringOut;if(i.ringOut!==n.ringOut)return i.ringOut?.enclosingRing()!==n.ringOut?n.ringOut:n.ringOut?.enclosingRing();n=i.prevInResult(),i=n?n.prevInResult():null}}},l3=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(e===null)return null;const t=[e];for(let n=0,i=this.interiorRings.length;n<i;n++){const s=this.interiorRings[n].getGeom();s!==null&&t.push(s)}return t}},lC=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const i=this.polys[t].getGeom();i!==null&&e.push(i)}return e}_composePolys(e){const t=[];for(let n=0,i=e.length;n<i;n++){const s=e[n];if(!s.poly)if(s.isExteriorRing())t.push(new l3(s));else{const o=s.enclosingRing();o?.poly||t.push(new l3(o)),o?.poly?.addInterior(s)}}return t}},uC=class{queue;tree;segments;constructor(e,t=ey.compare){this.queue=e,this.tree=new $g(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),n;e.isLeft&&this.tree.add(t);let i=t,s=t;do i=this.tree.lastBefore(i);while(i!=null&&i.consumedBy!=null);do s=this.tree.firstAfter(s);while(s!=null&&s.consumedBy!=null);if(e.isLeft){let o=null;if(i){const f=i.getIntersection(t);if(f!==null&&(t.isAnEndpoint(f)||(o=f),!i.isAnEndpoint(f))){const d=this._splitSafely(i,f);for(let p=0,y=d.length;p<y;p++)n.push(d[p])}}let u=null;if(s){const f=s.getIntersection(t);if(f!==null&&(t.isAnEndpoint(f)||(u=f),!s.isAnEndpoint(f))){const d=this._splitSafely(s,f);for(let p=0,y=d.length;p<y;p++)n.push(d[p])}}if(o!==null||u!==null){let f=null;o===null?f=u:u===null?f=o:f=$l.comparePoints(o,u)<=0?o:u,this.queue.delete(t.rightSE),n.push(t.rightSE);const d=t.split(f);for(let p=0,y=d.length;p<y;p++)n.push(d[p])}n.length>0?(this.tree.delete(t),n.push(e)):(this.segments.push(t),t.prev=i)}else{if(i&&s){const o=i.getIntersection(s);if(o!==null){if(!i.isAnEndpoint(o)){const u=this._splitSafely(i,o);for(let f=0,d=u.length;f<d;f++)n.push(u[f])}if(!s.isAnEndpoint(o)){const u=this._splitSafely(s,o);for(let f=0,d=u.length;f<d;f++)n.push(u[f])}}}this.tree.delete(t)}return n}_splitSafely(e,t){this.tree.delete(e);const n=e.rightSE;this.queue.delete(n);const i=e.split(t);return i.push(n),e.consumedBy===void 0&&this.tree.add(e),i}},cC=class{type;numMultiPolys;run(e,t,n){nm.type=e;const i=[new c3(t,!0)];for(let p=0,y=n.length;p<y;p++)i.push(new c3(n[p],!1));if(nm.numMultiPolys=i.length,nm.type==="difference"){const p=i[0];let y=1;for(;y<i.length;)Av(i[y].bbox,p.bbox)!==null?y++:i.splice(y,1)}if(nm.type==="intersection")for(let p=0,y=i.length;p<y;p++){const v=i[p];for(let x=p+1,_=i.length;x<_;x++)if(Av(v.bbox,i[x].bbox)===null)return[]}const s=new $g($l.compare);for(let p=0,y=i.length;p<y;p++){const v=i[p].getSweepEvents();for(let x=0,_=v.length;x<_;x++)s.add(v[x])}const o=new uC(s);let u=null;for(s.size!=0&&(u=s.first(),s.delete(u));u;){const p=o.process(u);for(let y=0,v=p.length;y<v;y++){const x=p[y];x.consumedBy===void 0&&s.add(x)}s.size!=0?(u=s.first(),s.delete(u)):u=null}$u.reset();const f=oC.factory(o.segments);return new lC(f).getGeom()}},nm=new cC,Ov=nm,fC=0,ey=class Ug{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(t,n){const i=t.leftSE.point.x,s=n.leftSE.point.x,o=t.rightSE.point.x,u=n.rightSE.point.x;if(u.isLessThan(i))return 1;if(o.isLessThan(s))return-1;const f=t.leftSE.point.y,d=n.leftSE.point.y,p=t.rightSE.point.y,y=n.rightSE.point.y;if(i.isLessThan(s)){if(d.isLessThan(f)&&d.isLessThan(p))return 1;if(d.isGreaterThan(f)&&d.isGreaterThan(p))return-1;const v=t.comparePoint(n.leftSE.point);if(v<0)return 1;if(v>0)return-1;const x=n.comparePoint(t.rightSE.point);return x!==0?x:-1}if(i.isGreaterThan(s)){if(f.isLessThan(d)&&f.isLessThan(y))return-1;if(f.isGreaterThan(d)&&f.isGreaterThan(y))return 1;const v=n.comparePoint(t.leftSE.point);if(v!==0)return v;const x=t.comparePoint(n.rightSE.point);return x<0?1:x>0?-1:1}if(f.isLessThan(d))return-1;if(f.isGreaterThan(d))return 1;if(o.isLessThan(u)){const v=n.comparePoint(t.rightSE.point);if(v!==0)return v}if(o.isGreaterThan(u)){const v=t.comparePoint(n.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(!o.eq(u)){const v=p.minus(f),x=o.minus(i),_=y.minus(d),E=u.minus(s);if(v.isGreaterThan(x)&&_.isLessThan(E))return 1;if(v.isLessThan(x)&&_.isGreaterThan(E))return-1}return o.isGreaterThan(u)?1:o.isLessThan(u)||p.isLessThan(y)?-1:p.isGreaterThan(y)?1:t.id<n.id?-1:t.id>n.id?1:0}constructor(t,n,i,s){this.id=++fC,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=i,this.windings=s}static fromRing(t,n,i){let s,o,u;const f=$l.comparePoints(t,n);if(f<0)s=t,o=n,u=1;else if(f>0)s=n,o=t,u=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const d=new $l(s,!0),p=new $l(o,!1);return new Ug(d,p,[i],[u])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(n)?t:n},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(n)?t:n}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return $u.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const n=this.bbox(),i=t.bbox(),s=Av(n,i);if(s===null)return null;const o=this.leftSE.point,u=this.rightSE.point,f=t.leftSE.point,d=t.rightSE.point,p=Fp(n,f)&&this.comparePoint(f)===0,y=Fp(i,o)&&t.comparePoint(o)===0,v=Fp(n,d)&&this.comparePoint(d)===0,x=Fp(i,u)&&t.comparePoint(u)===0;if(y&&p)return x&&!v?u:!x&&v?d:null;if(y)return v&&o.x.eq(d.x)&&o.y.eq(d.y)?null:o;if(p)return x&&u.x.eq(f.x)&&u.y.eq(f.y)?null:f;if(x&&v)return null;if(x)return u;if(v)return d;const _=rC(o,this.vector(),f,t.vector());return _===null||!Fp(s,_)?null:$u.snap(_)}split(t){const n=[],i=t.events!==void 0,s=new $l(t,!0),o=new $l(t,!1),u=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(s);const f=new Ug(s,u,this.rings.slice(),this.windings.slice());return $l.comparePoints(f.leftSE.point,f.rightSE.point)>0&&f.swapEvents(),$l.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(s.checkForConsuming(),o.checkForConsuming()),n}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let n=0,i=this.windings.length;n<i;n++)this.windings[n]*=-1}consume(t){let n=this,i=t;for(;n.consumedBy;)n=n.consumedBy;for(;i.consumedBy;)i=i.consumedBy;const s=Ug.compare(n,i);if(s!==0){if(s>0){const o=n;n=i,i=o}if(n.prev===i){const o=n;n=i,i=o}for(let o=0,u=i.rings.length;o<u;o++){const f=i.rings[o],d=i.windings[o],p=n.rings.indexOf(f);p===-1?(n.rings.push(f),n.windings.push(d)):n.windings[p]+=d}i.rings=null,i.windings=null,i.consumedBy=n,i.leftSE.consumedBy=n.leftSE,i.rightSE.consumedBy=n.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const n=this._afterState.rings,i=this._afterState.windings,s=this._afterState.multiPolys;for(let f=0,d=this.rings.length;f<d;f++){const p=this.rings[f],y=this.windings[f],v=n.indexOf(p);v===-1?(n.push(p),i.push(y)):i[v]+=y}const o=[],u=[];for(let f=0,d=n.length;f<d;f++){if(i[f]===0)continue;const p=n[f],y=p.poly;if(u.indexOf(y)===-1)if(p.isExterior)o.push(y);else{u.indexOf(y)===-1&&u.push(y);const v=o.indexOf(p.poly);v!==-1&&o.splice(v,1)}}for(let f=0,d=o.length;f<d;f++){const p=o[f].multiPoly;s.indexOf(p)===-1&&s.push(p)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(Ov.type){case"union":{const i=t.length===0,s=n.length===0;this._isInResult=i!==s;break}case"intersection":{let i,s;t.length<n.length?(i=t.length,s=n.length):(i=n.length,s=t.length),this._isInResult=s===Ov.numMultiPolys&&i<s;break}case"xor":{const i=Math.abs(t.length-n.length);this._isInResult=i%2===1;break}case"difference":{const i=s=>s.length===1&&s[0].isSubject;this._isInResult=i(t)!==i(n);break}}return this._isInResult}},u3=class{poly;isExterior;segments;bbox;constructor(e,t,n){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=$u.snap({x:new iu(e[0][0]),y:new iu(e[0][1])});this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};let s=i;for(let o=1,u=e.length;o<u;o++){if(typeof e[o][0]!="number"||typeof e[o][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const f=$u.snap({x:new iu(e[o][0]),y:new iu(e[o][1])});f.x.eq(s.x)&&f.y.eq(s.y)||(this.segments.push(ey.fromRing(s,f,this)),f.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=f.x),f.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=f.y),f.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=f.x),f.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=f.y),s=f)}(!i.x.eq(s.x)||!i.y.eq(s.y))&&this.segments.push(ey.fromRing(s,i,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const i=this.segments[t];e.push(i.leftSE),e.push(i.rightSE)}return e}},hC=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new u3(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,i=e.length;n<i;n++){const s=new u3(e[n],this,!1);s.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const i=this.interiorRings[t].getSweepEvents();for(let s=0,o=i.length;s<o;s++)e.push(i[s])}return e}},c3=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new iu(Number.POSITIVE_INFINITY),y:new iu(Number.POSITIVE_INFINITY)},ur:{x:new iu(Number.NEGATIVE_INFINITY),y:new iu(Number.NEGATIVE_INFINITY)}};for(let n=0,i=e.length;n<i;n++){const s=new hC(e[n],this);s.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const i=this.polys[t].getSweepEvents();for(let s=0,o=i.length;s<o;s++)e.push(i[s])}return e}},dC=(e,...t)=>Ov.run("union",e,t);$u.set;function pC(e,t={}){const n=[];if(Z9(e,s=>{n.push(s.coordinates)}),n.length<2)throw new Error("Must have at least 2 geometries");const i=dC(n[0],...n.slice(1));return i.length===0?null:i.length===1?j4(i[0],t.properties):X9(i,t.properties)}const mC=()=>{const[e,t]=ut.useState(null),[n,i]=ut.useState(null),[s,o]=ut.useState(null),[u,f]=ut.useState({width:window.innerWidth,height:window.innerHeight-100}),[d,p]=ut.useState({x:0,y:0,scale:1}),y=ut.useRef(null),v=ut.useRef(null);ut.useEffect(()=>{const R=()=>{f({width:window.innerWidth,height:window.innerHeight-56})};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const x=ut.useRef(null);ut.useEffect(()=>{if(s&&x.current!==s.src){x.current=s.src;const R=u.width,B=u.height,H=s.naturalWidth,F=s.naturalHeight,nt=Math.min(R/H,B/F),X=(R-H*nt)/2,z=(B-F*nt)/2;p({x:X,y:z,scale:nt})}},[s,u]),ut.useEffect(()=>{if(n){const R=new window.Image;R.src=n,R.onload=()=>o(R)}},[n]);const _=ut.useCallback(R=>{R.evt.preventDefault();const B=y.current;if(!B)return;const H=d.scale,F=B.getPointerPosition();if(!F)return;const nt=1.15,X=R.evt.deltaY<0?H*nt:H/nt,z=Math.min(Math.max(X,.05),50),j={x:(F.x-d.x)/H,y:(F.y-d.y)/H},P={x:F.x-j.x*z,y:F.y-j.y*z};p({scale:z,x:P.x,y:P.y})},[d]),E=ut.useCallback(R=>{const B=R.target.files[0];if(B){t(B);const H=new FileReader;return H.onload=F=>i(F.target.result),H.readAsDataURL(B),R.target.value="",B}return null},[]),T=ut.useCallback(()=>{if(!v.current||!y.current)return{x:0,y:0};const R=v.current.getAbsoluteTransform().copy();R.invert();const B=y.current.getPointerPosition();return R.point(B)},[]),M=ut.useCallback(()=>{t(null),i(null),o(null),p({x:0,y:0,scale:1})},[]),O=ut.useCallback((R,B)=>{p(H=>({...H,x:H.x+R,y:H.y+B}))},[]);return{imageFile:e,imageUrl:n,imageObj:s,stageSize:u,imageLayout:d,stageRef:y,groupRef:v,setStageSize:f,setImageLayout:p,handleWheel:_,handleImageUpload:E,getRelativePointerPosition:T,closeImage:M,panImage:O,setImageFile:t,setImageUrl:i,setImageObj:o}},G4=e=>{if(!e)return"#888888";let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);let n="#";for(let i=0;i<3;i++){const s=t>>i*8&255;n+=("00"+s.toString(16)).substr(-2)}return n},Qu=()=>crypto.randomUUID(),O1=e=>JSON.parse(JSON.stringify(e)),gC=()=>{const[e,t]=ut.useState([]),[n,i]=ut.useState([]),[s,o]=ut.useState(""),[u,f]=ut.useState([]),[d,p]=ut.useState([]),y=ut.useMemo(()=>n.length===1&&e.find(U=>U.id===n[0])||null,[e,n]),v=ut.useMemo(()=>e.filter(U=>n.includes(U.id)),[e,n]),x=ut.useCallback(U=>{const q=O1(U);f(D=>[...D,q]),p([])},[]),_=ut.useCallback(()=>{if(u.length>0){const U=u[u.length-1];p(q=>[...q,O1(e)]),t(U),f(q=>q.slice(0,-1)),i([]),o("")}},[u,e]),E=ut.useCallback(()=>{if(d.length>0){const U=d[d.length-1];f(q=>[...q,O1(e)]),t(U),p(q=>q.slice(0,-1)),i([]),o("")}},[d,e]),T=ut.useCallback(()=>{confirm("Delete all annotations?")&&(x(e),t([]),i([]),o(""))},[e,x]),M=ut.useCallback(U=>{n.length>0&&(x(e),t(q=>q.map(D=>n.includes(D.id)?{...D,label:U}:D)),o(U))},[n,e,x]),O=ut.useCallback(()=>{n.length>0&&(x(e),t(U=>U.filter(q=>!n.includes(q.id))),i([]),o(""))},[n,e,x]),R=ut.useCallback(U=>(x(e),t(q=>[...q,U]),U.id),[e,x]),B=ut.useCallback(U=>(x(e),t(q=>[...q,...U]),U.map(q=>q.id)),[e,x]),H=ut.useCallback((U,q)=>{t(D=>{const Z=[...D];let K=-1;return typeof U=="number"?K=U:K=Z.findIndex(Q=>Q.id===U),K!==-1?(Z[K]={...Z[K],...q},Z):D})},[]),F=ut.useCallback((U,q)=>{x(e),H(U,q)},[e,x,H]),nt=ut.useCallback((U,q)=>{x(e),t(D=>{const Z=[...D];return U>=0&&U<Z.length&&(Z[U]=q),Z})},[e,x]),X=ut.useCallback(U=>{x(e),t(q=>{const D=q[U];if(!D)return q;const Z=q.filter((K,Q)=>Q!==U);return n.includes(D.id)&&i(K=>K.filter(Q=>Q!==D.id)),Z})},[e,x,n]),z=ut.useCallback((U,q)=>{x(e);const D=[...e];D.splice(U,1,...q),t(D),i([])},[e,x]),j=ut.useCallback((U,q=!1)=>{if(!U){q||i([]);return}if(q)i(D=>D.includes(U)?D.filter(K=>K!==U):[...D,U]);else{i([U]);const D=e.find(Z=>Z.id===U);D&&o(D.label||"")}},[e]),P=ut.useCallback(()=>{i([]),o("")},[]),at=ut.useCallback(()=>{t([]),i([]),o(""),f([]),p([])},[]);return{annotations:e,selectedIds:n,selectedLabel:s,selectedAnn:y,selectedAnns:v,history:u,future:d,canUndo:u.length>0,canRedo:d.length>0,addToHistory:x,handleUndo:_,handleRedo:E,handleClearAll:T,updateLabel:M,deleteSelected:O,addAnnotation:R,addAnnotations:B,updateAnnotation:H,updateAnnotationWithHistory:F,replaceAnnotation:nt,removeAnnotation:X,spliceAndInsert:z,selectAnnotation:j,clearSelection:P,reset:at,setAnnotations:t,setSelectedIds:i,setSelectedLabel:o}},tu="http://localhost:8000/api",yC=20,vC=(e,t,n)=>{const i=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2);if(i===0)return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));let s=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;s=Math.max(0,Math.min(1,s));const o={x:t.x+s*(n.x-t.x),y:t.y+s*(n.y-t.y)};return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))},xC=(e,t)=>e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y,P4=e=>{let t=1/0,n=1/0,i=-1/0,s=-1/0;for(let o=0;o<e.length;o+=2){const u=e[o],f=e[o+1];t=Math.min(t,u),n=Math.min(n,f),i=Math.max(i,u),s=Math.max(s,f)}return{x:t,y:n,width:i-t,height:s-n}},bC=e=>P4(e),SC=(e,t)=>{const n=e.x,i=e.y;let s=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const f=t[o].x,d=t[o].y,p=t[u].x,y=t[u].y;d>i!=y>i&&n<(p-f)*(i-d)/(y-d)+f&&(s=!s)}return s},_C=(e,t,n)=>{let i=t.x,s=t.y,o=n.x-i,u=n.y-s;if(o!==0||u!==0){const f=((e.x-i)*o+(e.y-s)*u)/(o*o+u*u);f>1?(i=n.x,s=n.y):f>0&&(i+=o*f,s+=u*f)}return o=e.x-i,u=e.y-s,o*o+u*u},wC=(e,t=2)=>{if(e.length<=4)return e;const n=t*t,i=[];for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});const s=u=>{const f=u.length;if(f<=2)return u;let d=0,p=0;for(let y=1;y<f-1;y++){const v=_C(u[y],u[0],u[f-1]);v>d&&(p=y,d=v)}if(d>n){const y=s(u.slice(0,p+1)),v=s(u.slice(p));return[...y.slice(0,y.length-1),...v]}else return[u[0],u[f-1]]};return s(i).flatMap(u=>[u.x,u.y])},EC=e=>{if(e.length<4)return e;const t=[],n=e.length/2;for(let i=0;i<n;i++){const s=e[i*2],o=e[i*2+1];t.push(s,o);const u=(i+1)%n,f=e[u*2],d=e[u*2+1],p=(s+f)/2,y=(o+d)/2;t.push(p,y)}return t},TC=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({x:e[n],y:e[n+1]});return t},CC=(e,t,n,i,s)=>{const{stageRef:o,groupRef:u,getRelativePointerPosition:f,imageLayout:d,panImage:p,imageFile:y}=e,{annotations:v,addToHistory:x,setAnnotations:_,addAnnotation:E,addAnnotations:T,spliceAndInsert:M,selectAnnotation:O,clearSelection:R}=t,[B,H]=ut.useState("select"),[F,nt]=ut.useState("#205a09ff"),[X,z]=ut.useState(yC),[j,P]=ut.useState(""),[at,U]=ut.useState(!1),[q,D]=ut.useState([]),[Z,K]=ut.useState([]),[Q,tt]=ut.useState(null),[st,gt]=ut.useState({x:0,y:0}),[Y,$]=ut.useState(!1),ft=ut.useRef({x:0,y:0}),pt=ut.useRef(!1),yt=ut.useRef(!1),Yt=ut.useCallback(ot=>{for(let et=v.length-1;et>=0;et--){const ht=v[et];if(ht.type==="poly"&&ht.points){const zt=TC(ht.points);if(SC(ot,zt))return et}}return null},[v]),Qt=ut.useCallback(()=>{D([]),K([]),tt(null),U(!1)},[]),Ht=ut.useCallback(()=>{q.length>0&&D(ot=>ot.slice(0,-1))},[q.length]),Ct=ut.useCallback(()=>{if(q.length>=3){const ot={id:Qu(),type:"poly",points:q.flatMap(ht=>[ht.x,ht.y]),label:"unknown",originalRawPoints:q.flatMap(ht=>[ht.x,ht.y])},et=E(ot);D([]),O(et),yt.current=!0,H("select")}},[q,E,O]),Ee=ut.useCallback(ot=>{Qt(),H(ot)},[Qt]),ve=ut.useCallback(ot=>{if(ot.evt.button===2){pt.current=!0,ft.current=o.current.getPointerPosition(),o.current.container().style.cursor="grabbing";return}const et=f();if(B==="eraser"){x(v),U(!0);return}if(B==="select"||B==="pan"){ft.current=o.current.getPointerPosition(),U(!0),o.current.container().style.cursor="grabbing";return}B!=="poly"&&(U(!0),B==="pen"||B==="knife"?K([et.x,et.y]):(ft.current=et,tt({x:et.x,y:et.y,width:0,height:0,type:"poly"})))},[B,o,f,v,x,Yt,O,R]),de=ut.useCallback(ot=>{if(at&&(B==="pan"||B==="select")||pt.current){const zt=o.current.getPointerPosition(),Ft=ft.current,xt=zt.x-Ft.x,Zt=zt.y-Ft.y;p(xt,Zt),ft.current=zt;return}const et=f();if(gt(et),at&&B==="eraser"){const ht=X/d.scale;let zt=!1;const Ft=v.map(xt=>{if(xt.type!=="poly"||!xt.points)return xt;const Zt=new Set,Nt=xt.points.length/2;for(let Gt=0;Gt<Nt;Gt++){const oe=Gt*2,je=Gt*2+1,ie={x:xt.points[oe],y:xt.points[je]},ue=(Gt+1)%Nt,Le=ue*2,Ke=ue*2+1,ln={x:xt.points[Le],y:xt.points[Ke]};vC(et,ie,ln)<ht&&(Zt.add(Gt),Zt.add(ue))}if(Zt.size>0){const Gt=[];for(let oe=0;oe<Nt;oe++)Zt.has(oe)||Gt.push(xt.points[oe*2],xt.points[oe*2+1]);return zt=!0,{...xt,points:Gt}}return xt}).filter(xt=>xt.type==="poly"&&xt.points&&xt.points.length<6?(zt=!0,!1):!0);zt&&_(Ft);return}if(at){if(B==="pen"||B==="knife"){const ht=Z[Z.length-2],zt=Z[Z.length-1];Math.sqrt(Math.pow(et.x-ht,2)+Math.pow(et.y-zt,2))>5&&K(xt=>[...xt,et.x,et.y]);return}if((B==="box"||B==="ai-box")&&Q){const ht=ft.current.x,zt=ft.current.y;tt({x:Math.min(ht,et.x),y:Math.min(zt,et.y),width:Math.abs(et.x-ht),height:Math.abs(et.y-zt),type:"poly"})}}},[at,B,o,p,f,X,d.scale,v,_,Z,Q]),Ae=ut.useCallback(async()=>{if(pt.current){pt.current=!1;const ot=B==="pan"?"grab":B==="eraser"?"crosshair":"default";o.current.container().style.cursor=ot;return}if(at&&(U(!1),!(B==="pan"||B==="eraser"))){if(B==="select"){o.current.container().style.cursor="default";return}if(B==="pen"){if(Z.length>4){const ot={id:Qu(),type:"poly",points:Z,label:j||"unknown",color:F,originalRawPoints:[...Z],isPenDrawn:!0},et=E(ot);O(et),yt.current=!0}K([]);return}if(B==="knife"){if(Z.length>4){const ot=bC(Z);let et=null;for(let ht=v.length-1;ht>=0;ht--){const zt=v[ht];if(zt.type!=="poly")continue;const Ft=P4(zt.points);if(xC(ot,Ft)){et=ht;break}}if(et!==null){const ht=v[et];$(!0);try{const zt=new FormData;zt.append("target_points",JSON.stringify(ht.points)),zt.append("cutter_points",JSON.stringify(Z)),zt.append("operation","subtract");const Ft=await ti.post(`${tu}/edit-polygon-boolean`,zt);if(Ft.data.polygons?.length>0){const xt=Ft.data.polygons.map(Zt=>({id:Qu(),type:"poly",points:Zt,label:ht.label,originalRawPoints:Zt}));M(et,xt)}}catch(zt){console.error("Knife error",zt)}finally{$(!1)}}}K([]);return}if(B==="box"){if(Q&&Q.width>5&&Q.height>5){const ot={id:Qu(),type:"poly",points:[Q.x,Q.y,Q.x+Q.width,Q.y,Q.x+Q.width,Q.y+Q.height,Q.x,Q.y+Q.height],label:"unknown",originalRawPoints:[Q.x,Q.y,Q.x+Q.width,Q.y,Q.x+Q.width,Q.y+Q.height,Q.x,Q.y+Q.height]},et=E(ot);O(et),yt.current=!0}tt(null);return}if(B==="ai-box"){if(!Q||Q.width<5||Q.height<5){tt(null);return}if(!y){alert("No image file!"),tt(null);return}if(!i){alert("Please select an AI model to use the AI Box tool."),tt(null);return}$(!0);try{const ot=new FormData;ot.append("file",y),ot.append("box_json",JSON.stringify([Q.x,Q.y,Q.width,Q.height])),ot.append("model_name",i);const et=s?.conf??.25;ot.append("confidence",et),s?.box_padding!==void 0&&ot.append("box_padding",s.box_padding),s?.use_sam_hq!==void 0&&ot.append("use_hq",s.use_sam_hq),n&&ot.append("text_prompt",n),s?.enable_yolo_verification!==void 0&&ot.append("enable_yolo_verification",s.enable_yolo_verification);const ht=await ti.post(`${tu}/segment-box`,ot);if(ht.data.detections?.length>0){const zt=ht.data.detections.map(xt=>({id:xt.id||Qu(),type:xt.type||"poly",points:xt.points,label:xt.label||"object",suggestions:xt.suggestions||[],originalRawPoints:xt.points})),Ft=T(zt);Ft.length>0&&O(Ft[Ft.length-1]),yt.current=!0}else alert("No objects found in box.")}catch(ot){console.error("AI Box Failed",ot)}finally{$(!1),tt(null)}}}},[at,B,o,Z,Q,j,F,y,n,v,E,T,O,M,i,s]),V=ut.useCallback(ot=>{if(ot.evt&&ot.evt.button===2)return;if(yt.current){yt.current=!1;return}const et=f();if(B==="poly"){if(q.length>2){const ht=q[0];if(Math.sqrt(Math.pow(et.x-ht.x,2)+Math.pow(et.y-ht.y,2))<10){const Ft={id:Qu(),type:"poly",points:q.flatMap(Zt=>[Zt.x,Zt.y]),label:"unknown",originalRawPoints:q.flatMap(Zt=>[Zt.x,Zt.y])},xt=E(Ft);D([]),O(xt),yt.current=!0;return}}D(ht=>[...ht,{x:et.x,y:et.y}])}else if(B==="eraser")R();else{const ht=Yt(et),zt=ot.evt.ctrlKey||ot.evt.metaKey;if(ht!==null){const Ft=v[ht].id;O(Ft,zt)}else zt||R()}},[B,q,f,E,O,R,Yt,v]),Rt=ut.useCallback((ot,et,ht)=>{const zt=ot.target.position();_(Ft=>{const xt=[...Ft],Zt=xt.findIndex(oe=>oe.id===et);if(Zt===-1)return Ft;const Nt={...xt[Zt]},Gt=[...Nt.points];return Gt[ht]=zt.x,Gt[ht+1]=zt.y,Nt.points=Gt,xt[Zt]=Nt,xt})},[_]),kt=ut.useCallback(async()=>{if(!y){alert("Please upload an image first");return}if(!i){alert("Please select an AI model first.");return}const ot=n?n.trim():"",et=ot.length>0,ht=i&&(i.toLowerCase().includes("world")||i.toLowerCase().includes("objv1")),zt=i&&i.toLowerCase().includes("sam"),Ft=ht||zt;if(!(et&&!Ft&&!window.confirm(` Model Mismatch:

You entered a text prompt ("${ot}"), but the selected model (${i}) does not support text-based detection.

Do you want to ignore the text and continue with standard detection (Detect All)?`))){if(zt&&!et){alert("SAM requires a text prompt for generic detection. Please enter a class name (e.g. 'car', 'person').");return}if(ht&&!et){alert("Yolo World requires a text prompt for generic detection. Please enter a class name (e.g. 'car', 'person').");return}$(!0),x(v);try{const xt=new FormData;xt.append("file",y);let Zt="/detect-all";et&&Ft?(Zt="/segment-by-text",xt.append("text_prompt",ot),xt.append("sam_model_name",zt?i:"sam2.1_l.pt"),xt.append("box_confidence",s?.conf??.25),xt.append("iou_threshold",s?.iou??.45)):(Zt="/detect-all",xt.append("model_name",i),xt.append("confidence",s?.conf??.25),xt.append("iou",s?.iou??.45),s?.retina_masks&&xt.append("retina_masks",!0),s?.max_det!==void 0&&xt.append("max_det",s.max_det),s?.enable_tiling!==void 0&&xt.append("enable_tiling",s.enable_tiling)),console.log(`Sending request to ${Zt} with model ${i}`);const Nt=await ti.post(`${tu}${Zt}`,xt);if(Nt.data.detections?.length>0){const Gt=Nt.data.detections.map(oe=>({id:oe.id||crypto.randomUUID(),type:"poly",points:oe.points,label:oe.label||(et&&Ft?ot:"object"),confidence:oe.confidence,originalRawPoints:oe.points}));_(oe=>[...oe,...Gt]),P("")}else Nt.data.detections?.length===0&&alert("No objects found.")}catch(xt){console.error("Detection failed",xt);const Zt=xt.response?.data?.detail||xt.response?.data?.error||xt.message;alert(`Detection failed: ${Zt}`)}finally{$(!1)}}},[y,n,v,x,_,i,s]);return{tool:B,color:F,eraserSize:X,filterText:j,isDrawing:at,currentPolyPoints:q,currentPenPoints:Z,tempAnnotation:Q,mousePos:st,isProcessing:Y,justFinishedDrawingRef:yt,setTool:Ee,setColor:nt,setEraserSize:z,setFilterText:P,setCurrentPolyPoints:D,setCurrentPenPoints:K,setTempAnnotation:tt,setIsProcessing:$,handleMouseDown:ve,handleMouseMove:de,handleMouseUp:Ae,handleStageClick:V,handleVertexDrag:Rt,handleDetectAll:kt,resetToolState:Qt,undoLastPolyPoint:Ht,closePolygon:Ct,getClickedShape:Yt}},f3={yolo:{type:"YOLO",label:"YOLO Model",parameters:[{key:"conf",label:"Confidence",type:"slider",min:0,max:1,step:.01,default:.25,help:"Minimum confidence score."},{key:"iou",label:"IOU Threshold",type:"slider",min:0,max:1,step:.01,default:.45,help:"Intersection over Union threshold."},{key:"max_det",label:"Max Detections",type:"slider",min:1,max:1e3,step:1,default:300,help:"Maximum number of objects to detect."},{key:"retina_masks",label:"Retina Masks",type:"switch",default:!0,help:"Generate high-resolution masks."},{key:"enable_tiling",label:"Enable Tiling",type:"switch",default:!1,help:"Use SAHI slicing. Disable for faster, full-image inference."},{key:"tile_size",label:"Tile Size",type:"number",min:320,max:1500,step:32,default:640,help:"Tile size for SAHI inference."},{key:"tile_overlap",label:"Tile Overlap",type:"slider",min:0,max:.5,step:.05,default:.25,help:"Overlap between tiles."}]},sam:{type:"SAM",label:"Segment Anything",parameters:[{key:"box_padding",label:"Box Padding",type:"slider",min:0,max:100,step:1,default:0,help:"Expands the input box by pixels."},{key:"use_hq",label:"Use HQ Model",type:"switch",default:!1,help:"Use High-Quality model (slower)."},{key:"enable_yolo_verification",label:"Verify with Yolo",type:"switch",default:!1,help:"Use YOLO to verify text prompt grounding."}]}},Mv=e=>{if(!e)return null;const t=e.toLowerCase();return t.includes("yolo")?{...f3.yolo,label:e}:t.includes("sam")?{...f3.sam,label:e}:{type:"Unknown",label:e,parameters:[]}},AC=(e=null,t)=>{const[n,i]=ut.useState(e||null),[s,o]=ut.useState({}),[u,f]=ut.useState([]),[d,p]=ut.useState([]),y=u.filter(H=>H.is_downloaded),v=ut.useCallback(async()=>{try{const F=(await ti.get(`${tu}/models`)).data;F.models&&Array.isArray(F.models)?f(F.models):Array.isArray(F)&&f(F)}catch(H){console.error("Failed to fetch models:",H)}},[]);ut.useEffect(()=>{v()},[v]);const[x,_]=ut.useState({isTraining:!1,progress:0,epoch:0,totalEpochs:0,map50:0,loss:0,message:"Idle"});ut.useEffect(()=>{let H;const F=async()=>{try{const X=(await ti.get(`${tu}/training-status`)).data;_(z=>({isTraining:X.is_training,progress:X.progress,epoch:X.epoch,totalEpochs:X.total_epochs,message:X.message,loss:0}))}catch(nt){console.error("Failed to poll status:",nt)}};return F(),H=setInterval(F,2e3),()=>clearInterval(H)},[]),ut.useEffect(()=>{if(!n){o({});return}const H=Mv(n);if(H&&H.parameters){const F=H.parameters.reduce((nt,X)=>(nt[X.key]=X.default,nt),{});o(F)}else o({})},[n]);const E=ut.useCallback((H,F)=>{o(nt=>({...nt,[H]:F}))},[]),[T,M]=ut.useState({showModelManager:!1,showSettings:!1,showTrainModal:!1,showPreprocessingModal:!1});return{selectedModel:n,setSelectedModel:i,currentParams:s,updateParam:E,actions:{openModelManager:()=>M(H=>({...H,showModelManager:!0})),closeModelManager:()=>M(H=>({...H,showModelManager:!1})),openSettings:()=>M(H=>({...H,showSettings:!0})),closeSettings:()=>M(H=>({...H,showSettings:!1})),openTrainModal:()=>M(H=>({...H,showTrainModal:!0})),closeTrainModal:()=>M(H=>({...H,showTrainModal:!1})),openPreprocessingModal:()=>M(H=>({...H,showPreprocessingModal:!0})),closePreprocessingModal:()=>M(H=>({...H,showPreprocessingModal:!1})),setModel:i,downloadModel:async H=>{if(!d.includes(H)){p(F=>[...F,H]);try{await ti.post(`${tu}/download-model`,{model_id:H}),await v()}catch(F){console.error(`Failed to download ${H}:`,F),alert(`Download failed: ${F.response?.data?.detail||F.message}`)}finally{p(F=>F.filter(nt=>nt!==H))}}},deleteModel:async H=>{if(!d.includes(H)&&window.confirm(`Are you sure you want to delete ${H}?`)){p(F=>[...F,H]);try{n===H&&i(null),await ti.delete(`${tu}/delete-model`,{data:{model_id:H}}),await v()}catch(F){console.error(`Failed to delete ${H}:`,F),alert(`Delete failed: ${F.response?.data?.detail||F.message}`)}finally{p(F=>F.filter(nt=>nt!==H))}}},startTraining:async H=>{try{const F=new FormData;return H.base_model&&F.append("base_model",H.base_model),H.epochs&&F.append("epochs",H.epochs),H.batch_size&&F.append("batch_size",H.batch_size),await ti.post(`${tu}/train-model`,F,{headers:{"Content-Type":"multipart/form-data"}}),_(nt=>({...nt,isTraining:!0})),{success:!0}}catch(F){return console.error("Training failed:",F),{success:!1,error:F.response?.data?.detail||F.message}}},cancelTraining:async()=>{try{return await ti.post(`${tu}/cancel-training`),{success:!0}}catch(H){return console.error("Cancel failed:",H),{success:!1,error:H.message}}}},modelConfig:Mv(n),trainingStatus:x,modals:T,models:u,downloadedModels:y,loadingModelIds:d,isTraining:x.isTraining,trainingProgress:x.progress,trainingMessage:x.isTraining?`Epoch ${x.epoch}/${x.totalEpochs} | Loss: ${x.loss?.toFixed(4)||"..."}`:"Idle"}},RC=(e,t)=>{const{annotations:n,selectedIds:i,addToHistory:s,setAnnotations:o}=e,{imageFile:u}=t||{},f=ut.useCallback(x=>{if(!i||i.length===0)return!1;s(n);const _=n.map(E=>i.includes(E.id)?x(E):E);return o(_),!0},[n,i,s,o]),d=ut.useCallback((x=2)=>!i||i.length===0?!1:f(_=>{if(_.type!=="poly"||!_.points||_.points.length<=6)return _;const E=_.originalRawPoints||_.points,T=wC(_.points,x);return T.length>=6?{..._,points:T,originalRawPoints:E}:_}),[i,f]),p=ut.useCallback(()=>!i||i.length===0?!1:f(x=>{if(x.type!=="poly"||!x.points||x.points.length<4)return x;const _=x.originalRawPoints||x.points,E=EC(x.points);return{...x,points:E,originalRawPoints:_}}),[i,f]),y=ut.useCallback(()=>!i||i.length===0?!1:f(x=>x.originalRawPoints?{...x,points:[...x.originalRawPoints]}:x),[i,f]),v=ut.useCallback(async(x,_)=>{if(!i||i.length===0||!u)return{success:!1,error:"No selection or image"};if(!x)return{success:!1,error:"Please select an AI model first"};_&&_(!0);const E=n.filter(T=>i.includes(T.id)&&T.type==="poly"&&T.points.length>=6);if(E.length===0)return _&&_(!1),{success:!1,error:"No valid polygons selected"};s(n);try{const T={},M=E.slice(0,5);for(const O of M){const R=new FormData;R.append("file",u),R.append("points_json",JSON.stringify(O.points)),R.append("model_name",x);try{const B=await ti.post(`${tu}/refine-polygon`,R);B.data.points&&(T[O.id]=B.data.points)}catch(B){console.error(`Beautify failed for ${O.id}`,B)}}return Object.keys(T).length>0?(o(O=>O.map(R=>{if(T[R.id]){const B=R.originalRawPoints||R.points;return{...R,points:T[R.id],originalRawPoints:B}}return R})),{success:!0}):{success:!1,error:"Could not refine any shapes"}}catch(T){return console.error("Beautify failed",T),{success:!1,error:T.response?.data?.error||T.message}}finally{_&&_(!1)}},[n,i,u,s,o]);return{handleSimplify:d,handleDensify:p,handleReset:y,handleBeautify:v,canModify:i&&i.length>0,canReset:i&&i.length>0}},OC="modulepreload",MC=function(e){return"/"+e},h3={},Kp=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");s=d(n.map(p=>{if(p=MC(p),p in h3)return;h3[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":OC,y||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),y)return new Promise((_,E)=>{x.addEventListener("load",_),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})};var Hg={exports:{}},NC=Hg.exports,d3;function DC(){return d3||(d3=1,(function(e,t){(function(n,i){e.exports=i()})(NC,function(){var n=function(b,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,G){k.__proto__=G}||function(k,G){for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(k[J]=G[J])})(b,C)},i=function(){return(i=Object.assign||function(b){for(var C,k=1,G=arguments.length;k<G;k++)for(var J in C=arguments[k])Object.prototype.hasOwnProperty.call(C,J)&&(b[J]=C[J]);return b}).apply(this,arguments)};function s(b,C,k){for(var G,J=0,it=C.length;J<it;J++)!G&&J in C||((G=G||Array.prototype.slice.call(C,0,J))[J]=C[J]);return b.concat(G||Array.prototype.slice.call(C))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tm,u=Object.keys,f=Array.isArray;function d(b,C){return typeof C!="object"||u(C).forEach(function(k){b[k]=C[k]}),b}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var p=Object.getPrototypeOf,y={}.hasOwnProperty;function v(b,C){return y.call(b,C)}function x(b,C){typeof C=="function"&&(C=C(p(b))),(typeof Reflect>"u"?u:Reflect.ownKeys)(C).forEach(function(k){E(b,k,C[k])})}var _=Object.defineProperty;function E(b,C,k,G){_(b,C,d(k&&v(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},G))}function T(b){return{from:function(C){return b.prototype=Object.create(C.prototype),E(b.prototype,"constructor",b),{extend:x.bind(null,b.prototype)}}}}var M=Object.getOwnPropertyDescriptor,O=[].slice;function R(b,C,k){return O.call(b,C,k)}function B(b,C){return C(b)}function H(b){if(!b)throw new Error("Assertion Failed")}function F(b){o.setImmediate?setImmediate(b):setTimeout(b,0)}function nt(b,C){if(typeof C=="string"&&v(b,C))return b[C];if(!C)return b;if(typeof C!="string"){for(var k=[],G=0,J=C.length;G<J;++G){var it=nt(b,C[G]);k.push(it)}return k}var ct=C.indexOf(".");if(ct!==-1){var dt=b[C.substr(0,ct)];return dt==null?void 0:nt(dt,C.substr(ct+1))}}function X(b,C,k){if(b&&C!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof C!="string"&&"length"in C){H(typeof k!="string"&&"length"in k);for(var G=0,J=C.length;G<J;++G)X(b,C[G],k[G])}else{var it,ct,dt=C.indexOf(".");dt!==-1?(it=C.substr(0,dt),(ct=C.substr(dt+1))===""?k===void 0?f(b)&&!isNaN(parseInt(it))?b.splice(it,1):delete b[it]:b[it]=k:X(dt=!(dt=b[it])||!v(b,it)?b[it]={}:dt,ct,k)):k===void 0?f(b)&&!isNaN(parseInt(C))?b.splice(C,1):delete b[C]:b[C]=k}}function z(b){var C,k={};for(C in b)v(b,C)&&(k[C]=b[C]);return k}var j=[].concat;function P(b){return j.apply([],b)}var oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(C){return C+b+"Array"})}))).filter(function(b){return o[b]}),at=new Set(oe.map(function(b){return o[b]})),U=null;function q(b){return U=new WeakMap,b=(function C(k){if(!k||typeof k!="object")return k;var G=U.get(k);if(G)return G;if(f(k)){G=[],U.set(k,G);for(var J=0,it=k.length;J<it;++J)G.push(C(k[J]))}else if(at.has(k.constructor))G=k;else{var ct,dt=p(k);for(ct in G=dt===Object.prototype?{}:Object.create(dt),U.set(k,G),k)v(k,ct)&&(G[ct]=C(k[ct]))}return G})(b),U=null,b}var D={}.toString;function Z(b){return D.call(b).slice(8,-1)}var K=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q=typeof K=="symbol"?function(b){var C;return b!=null&&(C=b[K])&&C.apply(b)}:function(){return null};function tt(b,C){return C=b.indexOf(C),0<=C&&b.splice(C,1),0<=C}var st={};function gt(b){var C,k,G,J;if(arguments.length===1){if(f(b))return b.slice();if(this===st&&typeof b=="string")return[b];if(J=Q(b)){for(k=[];!(G=J.next()).done;)k.push(G.value);return k}if(b==null)return[b];if(typeof(C=b.length)!="number")return[b];for(k=new Array(C);C--;)k[C]=b[C];return k}for(C=arguments.length,k=new Array(C);C--;)k[C]=arguments[C];return k}var Y=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Gt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ka=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gt),$={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ft(b,C){this.name=b,this.message=C}function pt(b,C){return b+". Errors: "+Object.keys(C).map(function(k){return C[k].toString()}).filter(function(k,G,J){return J.indexOf(k)===G}).join(`
`)}function yt(b,C,k,G){this.failures=C,this.failedKeys=G,this.successCount=k,this.message=pt(b,C)}function Yt(b,C){this.name="BulkError",this.failures=Object.keys(C).map(function(k){return C[k]}),this.failuresByPos=C,this.message=pt(b,this.failures)}T(ft).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(yt).from(ft),T(Yt).from(ft);var Qt=Ka.reduce(function(b,C){return b[C]=C+"Error",b},{}),Ht=ft,Ct=Ka.reduce(function(b,C){var k=C+"Error";function G(J,it){this.name=k,J?typeof J=="string"?(this.message="".concat(J).concat(it?`
 `+it:""),this.inner=it||null):typeof J=="object"&&(this.message="".concat(J.name," ").concat(J.message),this.inner=J):(this.message=$[C]||k,this.inner=null)}return T(G).from(Ht),b[C]=G,b},{});Ct.Syntax=SyntaxError,Ct.Type=TypeError,Ct.Range=RangeError;var Ee=Gt.reduce(function(b,C){return b[C+"Error"]=Ct[C],b},{}),ve=Ka.reduce(function(b,C){return["Syntax","Type","Range"].indexOf(C)===-1&&(b[C+"Error"]=Ct[C]),b},{});function de(){}function Ae(b){return b}function V(b,C){return b==null||b===Ae?C:function(k){return C(b(k))}}function Rt(b,C){return function(){b.apply(this,arguments),C.apply(this,arguments)}}function kt(b,C){return b===de?C:function(){var k=b.apply(this,arguments);k!==void 0&&(arguments[0]=k);var G=this.onsuccess,J=this.onerror;this.onsuccess=null,this.onerror=null;var it=C.apply(this,arguments);return G&&(this.onsuccess=this.onsuccess?Rt(G,this.onsuccess):G),J&&(this.onerror=this.onerror?Rt(J,this.onerror):J),it!==void 0?it:k}}function ot(b,C){return b===de?C:function(){b.apply(this,arguments);var k=this.onsuccess,G=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?Rt(k,this.onsuccess):k),G&&(this.onerror=this.onerror?Rt(G,this.onerror):G)}}function et(b,C){return b===de?C:function(k){var G=b.apply(this,arguments);d(k,G);var J=this.onsuccess,it=this.onerror;return this.onsuccess=null,this.onerror=null,k=C.apply(this,arguments),J&&(this.onsuccess=this.onsuccess?Rt(J,this.onsuccess):J),it&&(this.onerror=this.onerror?Rt(it,this.onerror):it),G===void 0?k===void 0?void 0:k:d(G,k)}}function ht(b,C){return b===de?C:function(){return C.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function zt(b,C){return b===de?C:function(){var k=b.apply(this,arguments);if(k&&typeof k.then=="function"){for(var G=this,J=arguments.length,it=new Array(J);J--;)it[J]=arguments[J];return k.then(function(){return C.apply(G,it)})}return C.apply(this,arguments)}}ve.ModifyError=yt,ve.DexieError=ft,ve.BulkError=Yt;var Ft=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xt(b){Ft=b}var Zt={},Nt=100,oe=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,p(b),b];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,p(C),b]})(),Gt=oe[0],Ka=oe[1],oe=oe[2],Ka=Ka&&Ka.then,je=Gt&&Gt.constructor,ie=!!oe,ue=function(b,C){wi.push([b,C]),Ke&&(queueMicrotask(Pr),Ke=!1)},Le=!0,Ke=!0,ln=[],Be=[],nn=Ae,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:de,pgp:!1,env:{},finalize:de},pe=tn,wi=[],Li=0,yr=[];function Ne(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=pe;if(typeof b!="function"){if(b!==Zt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Oa(this,this._value))}this._state=null,this._value=null,++C.ref,(function k(G,J){try{J(function(it){if(G._state===null){if(it===G)throw new TypeError("A promise cannot be resolved with itself.");var ct=G._lib&&vr();it&&typeof it.then=="function"?k(G,function(dt,_t){it instanceof Ne?it._then(dt,_t):it.then(dt,_t)}):(G._state=!0,G._value=it,Hr(G)),ct&&Ns()}},Oa.bind(null,G))}catch(it){Oa(G,it)}})(this,b)}var Ms={get:function(){var b=pe,C=Ds;function k(G,J){var it=this,ct=!b.global&&(b!==pe||C!==Ds),dt=ct&&!Ma(),_t=new Ne(function(wt,jt){Gr(it,new qa(Ir(G,b,ct,dt),Ir(J,b,ct,dt),wt,jt,b))});return this._consoleTask&&(_t._consoleTask=this._consoleTask),_t}return k.prototype=Zt,k},set:function(b){E(this,"then",b&&b.prototype===Zt?Ms:{get:function(){return b},set:Ms.set})}};function qa(b,C,k,G,J){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof C=="function"?C:null,this.resolve=k,this.reject=G,this.psd=J}function Oa(b,C){var k,G;Be.push(C),b._state===null&&(k=b._lib&&vr(),C=nn(C),b._state=!1,b._value=C,G=b,ln.some(function(J){return J._value===G._value})||ln.push(G),Hr(b),k&&Ns())}function Hr(b){var C=b._listeners;b._listeners=[];for(var k=0,G=C.length;k<G;++k)Gr(b,C[k]);var J=b._PSD;--J.ref||J.finalize(),Li===0&&(++Li,ue(function(){--Li==0&&dl()},[]))}function Gr(b,C){if(b._state!==null){var k=b._state?C.onFulfilled:C.onRejected;if(k===null)return(b._state?C.resolve:C.reject)(b._value);++C.psd.ref,++Li,ue(yh,[k,b,C])}else b._listeners.push(C)}function yh(b,C,k){try{var G,J=C._value;!C._state&&Be.length&&(Be=[]),G=Ft&&C._consoleTask?C._consoleTask.run(function(){return b(J)}):b(J),C._state||Be.indexOf(J)!==-1||(function(it){for(var ct=ln.length;ct;)if(ln[--ct]._value===it._value)return ln.splice(ct,1)})(C),k.resolve(G)}catch(it){k.reject(it)}finally{--Li==0&&dl(),--k.psd.ref||k.psd.finalize()}}function Pr(){Na(tn,function(){vr()&&Ns()})}function vr(){var b=Le;return Ke=Le=!1,b}function Ns(){var b,C,k;do for(;0<wi.length;)for(b=wi,wi=[],k=b.length,C=0;C<k;++C){var G=b[C];G[0].apply(null,G[1])}while(0<wi.length);Ke=Le=!0}function dl(){var b=ln;ln=[],b.forEach(function(G){G._PSD.onunhandled.call(null,G._value,G)});for(var C=yr.slice(0),k=C.length;k;)C[--k]()}function xr(b){return new Ne(Zt,!1,b)}function In(b,C){var k=pe;return function(){var G=vr(),J=pe;try{return us(k,!0),b.apply(this,arguments)}catch(it){C&&C(it)}finally{us(J,!1),G&&Ns()}}}x(Ne.prototype,{then:Ms,_then:function(b,C){Gr(this,new qa(null,null,b,C,pe))},catch:function(b){if(arguments.length===1)return this.then(null,b);var C=b,k=arguments[1];return typeof C=="function"?this.then(null,function(G){return(G instanceof C?k:xr)(G)}):this.then(null,function(G){return(G&&G.name===C?k:xr)(G)})},finally:function(b){return this.then(function(C){return Ne.resolve(b()).then(function(){return C})},function(C){return Ne.resolve(b()).then(function(){return xr(C)})})},timeout:function(b,C){var k=this;return b<1/0?new Ne(function(G,J){var it=setTimeout(function(){return J(new Ct.Timeout(C))},b);k.then(G,J).finally(clearTimeout.bind(null,it))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(Ne.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=uu(),x(Ne,{all:function(){var b=gt.apply(null,arguments).map(Wa);return new Ne(function(C,k){b.length===0&&C([]);var G=b.length;b.forEach(function(J,it){return Ne.resolve(J).then(function(ct){b[it]=ct,--G||C(b)},k)})})},resolve:function(b){return b instanceof Ne?b:b&&typeof b.then=="function"?new Ne(function(C,k){b.then(C,k)}):new Ne(Zt,!0,b)},reject:xr,race:function(){var b=gt.apply(null,arguments).map(Wa);return new Ne(function(C,k){b.map(function(G){return Ne.resolve(G).then(C,k)})})},PSD:{get:function(){return pe},set:function(b){return pe=b}},totalEchoes:{get:function(){return Ds}},newPSD:Xn,usePSD:Na,scheduler:{get:function(){return ue},set:function(b){ue=b}},rejectionMapper:{get:function(){return nn},set:function(b){nn=b}},follow:function(b,C){return new Ne(function(k,G){return Xn(function(J,it){var ct=pe;ct.unhandleds=[],ct.onunhandled=it,ct.finalize=Rt(function(){var dt,_t=this;dt=function(){_t.unhandleds.length===0?J():it(_t.unhandleds[0])},yr.push(function wt(){dt(),yr.splice(yr.indexOf(wt),1)}),++Li,ue(function(){--Li==0&&dl()},[])},ct.finalize),b()},C,k,G)})}}),je&&(je.allSettled&&E(Ne,"allSettled",function(){var b=gt.apply(null,arguments).map(Wa);return new Ne(function(C){b.length===0&&C([]);var k=b.length,G=new Array(k);b.forEach(function(J,it){return Ne.resolve(J).then(function(ct){return G[it]={status:"fulfilled",value:ct}},function(ct){return G[it]={status:"rejected",reason:ct}}).then(function(){return--k||C(G)})})})}),je.any&&typeof AggregateError<"u"&&E(Ne,"any",function(){var b=gt.apply(null,arguments).map(Wa);return new Ne(function(C,k){b.length===0&&k(new AggregateError([]));var G=b.length,J=new Array(G);b.forEach(function(it,ct){return Ne.resolve(it).then(function(dt){return C(dt)},function(dt){J[ct]=dt,--G||k(new AggregateError(J))})})})}),je.withResolvers&&(Ne.withResolvers=je.withResolvers));var Ui={awaits:0,echoes:0,id:0},pl=0,br=[],Mo=0,Ds=0,Sr=0;function Xn(b,C,k,G){var J=pe,it=Object.create(J);return it.parent=J,it.ref=0,it.global=!1,it.id=++Sr,tn.env,it.env=ie?{Promise:Ne,PromiseProp:{value:Ne,configurable:!0,writable:!0},all:Ne.all,race:Ne.race,allSettled:Ne.allSettled,any:Ne.any,resolve:Ne.resolve,reject:Ne.reject}:{},C&&d(it,C),++J.ref,it.finalize=function(){--this.parent.ref||this.parent.finalize()},G=Na(it,b,k,G),it.ref===0&&it.finalize(),G}function Ei(){return Ui.id||(Ui.id=++pl),++Ui.awaits,Ui.echoes+=Nt,Ui.id}function Ma(){return!!Ui.awaits&&(--Ui.awaits==0&&(Ui.id=0),Ui.echoes=Ui.awaits*Nt,!0)}function Wa(b){return Ui.echoes&&b&&b.constructor===je?(Ei(),b.then(function(C){return Ma(),C},function(C){return Ma(),Zn(C)})):b}function Vr(){var b=br[br.length-1];br.pop(),us(b,!1)}function us(b,C){var k,G=pe;(C?!Ui.echoes||Mo++&&b===pe:!Mo||--Mo&&b===pe)||queueMicrotask(C?(function(J){++Ds,Ui.echoes&&--Ui.echoes!=0||(Ui.echoes=Ui.awaits=Ui.id=0),br.push(pe),us(J,!0)}).bind(null,b):Vr),b!==pe&&(pe=b,G===tn&&(tn.env=uu()),ie&&(k=tn.env.Promise,C=b.env,(G.global||b.global)&&(Object.defineProperty(o,"Promise",C.PromiseProp),k.all=C.all,k.race=C.race,k.resolve=C.resolve,k.reject=C.reject,C.allSettled&&(k.allSettled=C.allSettled),C.any&&(k.any=C.any))))}function uu(){var b=o.Promise;return ie?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function Na(b,C,k,G,J){var it=pe;try{return us(b,!0),C(k,G,J)}finally{us(it,!1)}}function Ir(b,C,k,G){return typeof b!="function"?b:function(){var J=pe;k&&Ei(),us(C,!0);try{return b.apply(this,arguments)}finally{us(J,!1),G&&queueMicrotask(Ma)}}}function _r(b){Promise===je&&Ui.echoes===0?Mo===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Ka).indexOf("[native code]")===-1&&(Ei=Ma=de);var Zn=Ne.reject,cs="",ba="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ti="String expected.",Fa=[],No="__dbnames",Zs="readonly",Da="readwrite";function Ki(b,C){return b?C?function(){return b.apply(this,arguments)&&C.apply(this,arguments)}:b:C}var ml={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ei(b){return typeof b!="string"||/\./.test(b)?function(C){return C}:function(C){return C[b]===void 0&&b in C&&delete(C=q(C))[b],C}}function ac(){throw Ct.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function fn(b,C){try{var k=gl(b),G=gl(C);if(k!==G)return k==="Array"?1:G==="Array"?-1:k==="binary"?1:G==="binary"?-1:k==="string"?1:G==="string"?-1:k==="Date"?1:G!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return C<b?1:b<C?-1:0;case"binary":return(function(J,it){for(var ct=J.length,dt=it.length,_t=ct<dt?ct:dt,wt=0;wt<_t;++wt)if(J[wt]!==it[wt])return J[wt]<it[wt]?-1:1;return ct===dt?0:ct<dt?-1:1})(zs(b),zs(C));case"Array":return(function(J,it){for(var ct=J.length,dt=it.length,_t=ct<dt?ct:dt,wt=0;wt<_t;++wt){var jt=fn(J[wt],it[wt]);if(jt!==0)return jt}return ct===dt?0:ct<dt?-1:1})(b,C)}}catch{}return NaN}function gl(b){var C=typeof b;return C!="object"?C:ArrayBuffer.isView(b)?"binary":(b=Z(b),b==="ArrayBuffer"?"binary":b)}function zs(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}function za(b,C,k){var G=b.schema.yProps;return G?(C&&0<k.numFailures&&(C=C.filter(function(J,it){return!k.failures[it]})),Promise.all(G.map(function(J){return J=J.updatesTable,C?b.db.table(J).where("k").anyOf(C).delete():b.db.table(J).clear()})).then(function(){return k})):k}var qr=(sc.prototype.execute=function(b){var C=this["@@propmod"];if(C.add!==void 0){var k=C.add;if(f(k))return s(s([],f(b)?b:[],!0),k).sort();if(typeof k=="number")return(Number(b)||0)+k;if(typeof k=="bigint")try{return BigInt(b)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(C.remove!==void 0){var G=C.remove;if(f(G))return f(b)?b.filter(function(J){return!G.includes(J)}).sort():[];if(typeof G=="number")return Number(b)-G;if(typeof G=="bigint")try{return BigInt(b)-G}catch{return BigInt(0)-G}throw new TypeError("Invalid subtrahend ".concat(G))}return k=(k=C.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof b=="string"&&b.startsWith(k)?C.replacePrefix[1]+b.substring(k.length):b},sc);function sc(b){this["@@propmod"]=b}function yl(b,C){for(var k=u(C),G=k.length,J=!1,it=0;it<G;++it){var ct=k[it],dt=C[ct],_t=nt(b,ct);dt instanceof qr?(X(b,ct,dt.execute(_t)),J=!0):_t!==dt&&(X(b,ct,dt),J=!0)}return J}var fa=(Qe.prototype._trans=function(b,C,k){var G=this._tx||pe.trans,J=this.name,it=Ft&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function ct(wt,jt,vt){if(!vt.schema[J])throw new Ct.NotFound("Table "+J+" not part of transaction");return C(vt.idbtrans,vt)}var dt=vr();try{var _t=G&&G.db._novip===this.db._novip?G===pe.trans?G._promise(b,ct,k):Xn(function(){return G._promise(b,ct,k)},{trans:G,transless:pe.transless||pe}):(function wt(jt,vt,Mt,Et){if(jt.idbdb&&(jt._state.openComplete||pe.letThrough||jt._vip)){var At=jt._createTransaction(vt,Mt,jt._dbSchema);try{At.create(),jt._state.PR1398_maxLoop=3}catch(Ot){return Ot.name===Qt.InvalidState&&jt.isOpen()&&0<--jt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),jt.close({disableAutoOpen:!1}),jt.open().then(function(){return wt(jt,vt,Mt,Et)})):Zn(Ot)}return At._promise(vt,function(Ot,Dt){return Xn(function(){return pe.trans=At,Et(Ot,Dt,At)})}).then(function(Ot){if(vt==="readwrite")try{At.idbtrans.commit()}catch{}return vt==="readonly"?Ot:At._completion.then(function(){return Ot})})}if(jt._state.openComplete)return Zn(new Ct.DatabaseClosed(jt._state.dbOpenError));if(!jt._state.isBeingOpened){if(!jt._state.autoOpen)return Zn(new Ct.DatabaseClosed);jt.open().catch(de)}return jt._state.dbReadyPromise.then(function(){return wt(jt,vt,Mt,Et)})})(this.db,b,[this.name],ct);return it&&(_t._consoleTask=it,_t=_t.catch(function(wt){return console.trace(wt),Zn(wt)})),_t}finally{dt&&Ns()}},Qe.prototype.get=function(b,C){var k=this;return b&&b.constructor===Object?this.where(b).first(C):b==null?Zn(new Ct.Type("Invalid argument to Table.get()")):this._trans("readonly",function(G){return k.core.get({trans:G,key:b}).then(function(J){return k.hook.reading.fire(J)})}).then(C)},Qe.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(f(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var C=u(b);if(C.length===1)return this.where(C[0]).equals(b[C[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(dt){if(dt.compound&&C.every(function(wt){return 0<=dt.keyPath.indexOf(wt)})){for(var _t=0;_t<C.length;++_t)if(C.indexOf(dt.keyPath[_t])===-1)return!1;return!0}return!1}).sort(function(dt,_t){return dt.keyPath.length-_t.keyPath.length})[0];if(k&&this.db._maxKey!==cs){var it=k.keyPath.slice(0,C.length);return this.where(it).equals(it.map(function(_t){return b[_t]}))}!k&&Ft&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var G=this.schema.idxByName;function J(dt,_t){return fn(dt,_t)===0}var ct=C.reduce(function(vt,_t){var wt=vt[0],jt=vt[1],vt=G[_t],Mt=b[_t];return[wt||vt,wt||!vt?Ki(jt,vt&&vt.multi?function(Et){return Et=nt(Et,_t),f(Et)&&Et.some(function(At){return J(Mt,At)})}:function(Et){return J(Mt,nt(Et,_t))}):jt]},[null,null]),it=ct[0],ct=ct[1];return it?this.where(it.name).equals(b[it.keyPath]).filter(ct):k?this.filter(ct):this.where(C).equals("")},Qe.prototype.filter=function(b){return this.toCollection().and(b)},Qe.prototype.count=function(b){return this.toCollection().count(b)},Qe.prototype.offset=function(b){return this.toCollection().offset(b)},Qe.prototype.limit=function(b){return this.toCollection().limit(b)},Qe.prototype.each=function(b){return this.toCollection().each(b)},Qe.prototype.toArray=function(b){return this.toCollection().toArray(b)},Qe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Qe.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,f(b)?"[".concat(b.join("+"),"]"):b))},Qe.prototype.reverse=function(){return this.toCollection().reverse()},Qe.prototype.mapToClass=function(b){var C,k=this.db,G=this.name;function J(){return C!==null&&C.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof ac&&((function(_t,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Class extends value "+String(wt)+" is not a constructor or null");function jt(){this.constructor=_t}n(_t,wt),_t.prototype=wt===null?Object.create(wt):(jt.prototype=wt.prototype,new jt)})(J,C=b),Object.defineProperty(J.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),J.prototype.table=function(){return G},b=J);for(var it=new Set,ct=b.prototype;ct;ct=p(ct))Object.getOwnPropertyNames(ct).forEach(function(_t){return it.add(_t)});function dt(_t){if(!_t)return _t;var wt,jt=Object.create(b.prototype);for(wt in _t)if(!it.has(wt))try{jt[wt]=_t[wt]}catch{}return jt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=dt,this.hook("reading",dt),b},Qe.prototype.defineClass=function(){return this.mapToClass(function(b){d(this,b)})},Qe.prototype.add=function(b,C){var k=this,G=this.schema.primKey,J=G.auto,it=G.keyPath,ct=b;return it&&J&&(ct=ei(it)(b)),this._trans("readwrite",function(dt){return k.core.mutate({trans:dt,type:"add",keys:C!=null?[C]:null,values:[ct]})}).then(function(dt){return dt.numFailures?Ne.reject(dt.failures[0]):dt.lastResult}).then(function(dt){if(it)try{X(b,it,dt)}catch{}return dt})},Qe.prototype.upsert=function(b,C){var k=this,G=this.schema.primKey.keyPath;return this._trans("readwrite",function(J){return k.core.get({trans:J,key:b}).then(function(it){var ct=it??{};return yl(ct,C),G&&X(ct,G,b),k.core.mutate({trans:J,type:"put",values:[ct],keys:[b],upsert:!0,updates:{keys:[b],changeSpecs:[C]}}).then(function(dt){return dt.numFailures?Ne.reject(dt.failures[0]):!!it})})})},Qe.prototype.update=function(b,C){return typeof b!="object"||f(b)?this.where(":id").equals(b).modify(C):(b=nt(b,this.schema.primKey.keyPath),b===void 0?Zn(new Ct.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(C))},Qe.prototype.put=function(b,C){var k=this,G=this.schema.primKey,J=G.auto,it=G.keyPath,ct=b;return it&&J&&(ct=ei(it)(b)),this._trans("readwrite",function(dt){return k.core.mutate({trans:dt,type:"put",values:[ct],keys:C!=null?[C]:null})}).then(function(dt){return dt.numFailures?Ne.reject(dt.failures[0]):dt.lastResult}).then(function(dt){if(it)try{X(b,it,dt)}catch{}return dt})},Qe.prototype.delete=function(b){var C=this;return this._trans("readwrite",function(k){return C.core.mutate({trans:k,type:"delete",keys:[b]}).then(function(G){return za(C,[b],G)}).then(function(G){return G.numFailures?Ne.reject(G.failures[0]):void 0})})},Qe.prototype.clear=function(){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"deleteRange",range:ml}).then(function(k){return za(b,null,k)})}).then(function(C){return C.numFailures?Ne.reject(C.failures[0]):void 0})},Qe.prototype.bulkGet=function(b){var C=this;return this._trans("readonly",function(k){return C.core.getMany({keys:b,trans:k}).then(function(G){return G.map(function(J){return C.hook.reading.fire(J)})})})},Qe.prototype.bulkAdd=function(b,C,k){var G=this,J=Array.isArray(C)?C:void 0,it=(k=k||(J?void 0:C))?k.allKeys:void 0;return this._trans("readwrite",function(ct){var wt=G.schema.primKey,dt=wt.auto,wt=wt.keyPath;if(wt&&J)throw new Ct.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(J&&J.length!==b.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");var _t=b.length,wt=wt&&dt?b.map(ei(wt)):b;return G.core.mutate({trans:ct,type:"add",keys:J,values:wt,wantResults:it}).then(function(At){var vt=At.numFailures,Mt=At.results,Et=At.lastResult,At=At.failures;if(vt===0)return it?Mt:Et;throw new Yt("".concat(G.name,".bulkAdd(): ").concat(vt," of ").concat(_t," operations failed"),At)})})},Qe.prototype.bulkPut=function(b,C,k){var G=this,J=Array.isArray(C)?C:void 0,it=(k=k||(J?void 0:C))?k.allKeys:void 0;return this._trans("readwrite",function(ct){var wt=G.schema.primKey,dt=wt.auto,wt=wt.keyPath;if(wt&&J)throw new Ct.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(J&&J.length!==b.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");var _t=b.length,wt=wt&&dt?b.map(ei(wt)):b;return G.core.mutate({trans:ct,type:"put",keys:J,values:wt,wantResults:it}).then(function(At){var vt=At.numFailures,Mt=At.results,Et=At.lastResult,At=At.failures;if(vt===0)return it?Mt:Et;throw new Yt("".concat(G.name,".bulkPut(): ").concat(vt," of ").concat(_t," operations failed"),At)})})},Qe.prototype.bulkUpdate=function(b){var C=this,k=this.core,G=b.map(function(ct){return ct.key}),J=b.map(function(ct){return ct.changes}),it=[];return this._trans("readwrite",function(ct){return k.getMany({trans:ct,keys:G,cache:"clone"}).then(function(dt){var _t=[],wt=[];b.forEach(function(vt,Mt){var Et=vt.key,At=vt.changes,Ot=dt[Mt];if(Ot){for(var Dt=0,Pt=Object.keys(At);Dt<Pt.length;Dt++){var It=Pt[Dt],ee=At[It];if(It===C.schema.primKey.keyPath){if(fn(ee,Et)!==0)throw new Ct.Constraint("Cannot update primary key in bulkUpdate()")}else X(Ot,It,ee)}it.push(Mt),_t.push(Et),wt.push(Ot)}});var jt=_t.length;return k.mutate({trans:ct,type:"put",keys:_t,values:wt,updates:{keys:G,changeSpecs:J}}).then(function(vt){var Mt=vt.numFailures,Et=vt.failures;if(Mt===0)return jt;for(var At=0,Ot=Object.keys(Et);At<Ot.length;At++){var Dt,Pt=Ot[At],It=it[Number(Pt)];It!=null&&(Dt=Et[Pt],delete Et[Pt],Et[It]=Dt)}throw new Yt("".concat(C.name,".bulkUpdate(): ").concat(Mt," of ").concat(jt," operations failed"),Et)})})})},Qe.prototype.bulkDelete=function(b){var C=this,k=b.length;return this._trans("readwrite",function(G){return C.core.mutate({trans:G,type:"delete",keys:b}).then(function(J){return za(C,b,J)})}).then(function(ct){var J=ct.numFailures,it=ct.lastResult,ct=ct.failures;if(J===0)return it;throw new Yt("".concat(C.name,".bulkDelete(): ").concat(J," of ").concat(k," operations failed"),ct)})},Qe);function Qe(){}function Fr(b){function C(ct,dt){if(dt){for(var _t=arguments.length,wt=new Array(_t-1);--_t;)wt[_t-1]=arguments[_t];return k[ct].subscribe.apply(null,wt),b}if(typeof ct=="string")return k[ct]}var k={};C.addEventType=it;for(var G=1,J=arguments.length;G<J;++G)it(arguments[G]);return C;function it(ct,dt,_t){if(typeof ct!="object"){var wt;dt=dt||ht;var jt={subscribers:[],fire:_t=_t||de,subscribe:function(vt){jt.subscribers.indexOf(vt)===-1&&(jt.subscribers.push(vt),jt.fire=dt(jt.fire,vt))},unsubscribe:function(vt){jt.subscribers=jt.subscribers.filter(function(Mt){return Mt!==vt}),jt.fire=jt.subscribers.reduce(dt,_t)}};return k[ct]=C[ct]=jt}u(wt=ct).forEach(function(vt){var Mt=wt[vt];if(f(Mt))it(vt,wt[vt][0],wt[vt][1]);else{if(Mt!=="asap")throw new Ct.InvalidArgument("Invalid event config");var Et=it(vt,Ae,function(){for(var At=arguments.length,Ot=new Array(At);At--;)Ot[At]=arguments[At];Et.subscribers.forEach(function(Dt){F(function(){Dt.apply(null,Ot)})})})}})}}function Hi(b,C){return T(C).from({prototype:b}),C}function js(b,C){return!(b.filter||b.algorithm||b.or)&&(C?b.justLimit:!b.replayFilter)}function vl(b,C){b.filter=Ki(b.filter,C)}function $a(b,C,k){var G=b.replayFilter;b.replayFilter=G?function(){return Ki(G(),C())}:C,b.justLimit=k&&!G}function fs(b,C){if(b.isPrimKey)return C.primaryKey;var k=C.getIndexByKeyPath(b.index);if(!k)throw new Ct.Schema("KeyPath "+b.index+" on object store "+C.name+" is not indexed");return k}function cu(b,C,k){var G=fs(b,C.schema);return C.openCursor({trans:k,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:G,range:b.range}})}function Do(b,C,k,G){var J=b.replayFilter?Ki(b.filter,b.replayFilter()):b.filter;if(b.or){var it={},ct=function(dt,_t,wt){var jt,vt;J&&!J(_t,wt,function(Mt){return _t.stop(Mt)},function(Mt){return _t.fail(Mt)})||((vt=""+(jt=_t.primaryKey))=="[object ArrayBuffer]"&&(vt=""+new Uint8Array(jt)),v(it,vt)||(it[vt]=!0,C(dt,_t,wt)))};return Promise.all([b.or._iterate(ct,k),Kr(cu(b,G,k),b.algorithm,ct,!b.keysOnly&&b.valueMapper)])}return Kr(cu(b,G,k),Ki(b.algorithm,J),C,!b.keysOnly&&b.valueMapper)}function Kr(b,C,k,G){var J=In(G?function(it,ct,dt){return k(G(it),ct,dt)}:k);return b.then(function(it){if(it)return it.start(function(){var ct=function(){return it.continue()};C&&!C(it,function(dt){return ct=dt},function(dt){it.stop(dt),ct=de},function(dt){it.fail(dt),ct=de})||J(it.value,it,function(dt){return ct=dt}),ct()})})}var vh=(Nn.prototype._read=function(b,C){var k=this._ctx;return k.error?k.table._trans(null,Zn.bind(null,k.error)):k.table._trans("readonly",b).then(C)},Nn.prototype._write=function(b){var C=this._ctx;return C.error?C.table._trans(null,Zn.bind(null,C.error)):C.table._trans("readwrite",b,"locked")},Nn.prototype._addAlgorithm=function(b){var C=this._ctx;C.algorithm=Ki(C.algorithm,b)},Nn.prototype._iterate=function(b,C){return Do(this._ctx,b,C,this._ctx.table.core)},Nn.prototype.clone=function(b){var C=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return b&&d(k,b),C._ctx=k,C},Nn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nn.prototype.each=function(b){var C=this._ctx;return this._read(function(k){return Do(C,b,k,C.table.core)})},Nn.prototype.count=function(b){var C=this;return this._read(function(k){var G=C._ctx,J=G.table.core;if(js(G,!0))return J.count({trans:k,query:{index:fs(G,J.schema),range:G.range}}).then(function(ct){return Math.min(ct,G.limit)});var it=0;return Do(G,function(){return++it,!1},k,J).then(function(){return it})}).then(b)},Nn.prototype.sortBy=function(b,C){var k=b.split(".").reverse(),G=k[0],J=k.length-1;function it(_t,wt){return wt?it(_t[k[wt]],wt-1):_t[G]}var ct=this._ctx.dir==="next"?1:-1;function dt(_t,wt){return fn(it(_t,J),it(wt,J))*ct}return this.toArray(function(_t){return _t.sort(dt)}).then(C)},Nn.prototype.toArray=function(b){var C=this;return this._read(function(k){var G=C._ctx;if(G.dir==="next"&&js(G,!0)&&0<G.limit){var J=G.valueMapper,it=fs(G,G.table.core.schema);return G.table.core.query({trans:k,limit:G.limit,values:!0,query:{index:it,range:G.range}}).then(function(dt){return dt=dt.result,J?dt.map(J):dt})}var ct=[];return Do(G,function(dt){return ct.push(dt)},k,G.table.core).then(function(){return ct})},b)},Nn.prototype.offset=function(b){var C=this._ctx;return b<=0||(C.offset+=b,js(C)?$a(C,function(){var k=b;return function(G,J){return k===0||(k===1?--k:J(function(){G.advance(k),k=0}),!1)}}):$a(C,function(){var k=b;return function(){return--k<0}})),this},Nn.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),$a(this._ctx,function(){var C=b;return function(k,G,J){return--C<=0&&G(J),0<=C}},!0),this},Nn.prototype.until=function(b,C){return vl(this._ctx,function(k,G,J){return!b(k.value)||(G(J),C)}),this},Nn.prototype.first=function(b){return this.limit(1).toArray(function(C){return C[0]}).then(b)},Nn.prototype.last=function(b){return this.reverse().first(b)},Nn.prototype.filter=function(b){var C;return vl(this._ctx,function(k){return b(k.value)}),(C=this._ctx).isMatch=Ki(C.isMatch,b),this},Nn.prototype.and=function(b){return this.filter(b)},Nn.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},Nn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nn.prototype.desc=function(){return this.reverse()},Nn.prototype.eachKey=function(b){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(k,G){b(G.key,G)})},Nn.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},Nn.prototype.eachPrimaryKey=function(b){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(k,G){b(G.primaryKey,G)})},Nn.prototype.keys=function(b){var C=this._ctx;C.keysOnly=!C.isMatch;var k=[];return this.each(function(G,J){k.push(J.key)}).then(function(){return k}).then(b)},Nn.prototype.primaryKeys=function(b){var C=this._ctx;if(C.dir==="next"&&js(C,!0)&&0<C.limit)return this._read(function(G){var J=fs(C,C.table.core.schema);return C.table.core.query({trans:G,values:!1,limit:C.limit,query:{index:J,range:C.range}})}).then(function(G){return G.result}).then(b);C.keysOnly=!C.isMatch;var k=[];return this.each(function(G,J){k.push(J.primaryKey)}).then(function(){return k}).then(b)},Nn.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},Nn.prototype.firstKey=function(b){return this.limit(1).keys(function(C){return C[0]}).then(b)},Nn.prototype.lastKey=function(b){return this.reverse().firstKey(b)},Nn.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var C={};return vl(this._ctx,function(J){var G=J.primaryKey.toString(),J=v(C,G);return C[G]=!0,!J}),this},Nn.prototype.modify=function(b){var C=this,k=this._ctx;return this._write(function(G){var J=typeof b=="function"?b:function(Ot){return yl(Ot,b)},it=k.table.core,wt=it.schema.primaryKey,ct=wt.outbound,dt=wt.extractKey,_t=200,wt=C.db._options.modifyChunkSize;wt&&(_t=typeof wt=="object"?wt[it.name]||wt["*"]||200:wt);function jt(Ot,It){var Pt=It.failures,It=It.numFailures;Mt+=Ot-It;for(var ee=0,se=u(Pt);ee<se.length;ee++){var be=se[ee];vt.push(Pt[be])}}var vt=[],Mt=0,Et=[],At=b===rc;return C.clone().primaryKeys().then(function(Ot){function Dt(It){var ee=Math.min(_t,Ot.length-It),se=Ot.slice(It,It+ee);return(At?Promise.resolve([]):it.getMany({trans:G,keys:se,cache:"immutable"})).then(function(be){var Oe=[],ge=[],he=ct?[]:null,Re=At?se:[];if(!At)for(var ye=0;ye<ee;++ye){var De=be[ye],Fe={value:q(De),primKey:Ot[It+ye]};J.call(Fe,Fe.value,Fe)!==!1&&(Fe.value==null?Re.push(Ot[It+ye]):ct||fn(dt(De),dt(Fe.value))===0?(ge.push(Fe.value),ct&&he.push(Ot[It+ye])):(Re.push(Ot[It+ye]),Oe.push(Fe.value)))}return Promise.resolve(0<Oe.length&&it.mutate({trans:G,type:"add",values:Oe}).then(function(Je){for(var Ie in Je.failures)Re.splice(parseInt(Ie),1);jt(Oe.length,Je)})).then(function(){return(0<ge.length||Pt&&typeof b=="object")&&it.mutate({trans:G,type:"put",keys:he,values:ge,criteria:Pt,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<It}).then(function(Je){return jt(ge.length,Je)})}).then(function(){return(0<Re.length||Pt&&At)&&it.mutate({trans:G,type:"delete",keys:Re,criteria:Pt,isAdditionalChunk:0<It}).then(function(Je){return za(k.table,Re,Je)}).then(function(Je){return jt(Re.length,Je)})}).then(function(){return Ot.length>It+ee&&Dt(It+_t)})})}var Pt=js(k)&&k.limit===1/0&&(typeof b!="function"||At)&&{index:k.index,range:k.range};return Dt(0).then(function(){if(0<vt.length)throw new yt("Error modifying one or more objects",vt,Mt,Et);return Ot.length})})})},Nn.prototype.delete=function(){var b=this._ctx,C=b.range;return!js(b)||b.table.schema.yProps||!b.isPrimKey&&C.type!==3?this.modify(rc):this._write(function(k){var G=b.table.core.schema.primaryKey,J=C;return b.table.core.count({trans:k,query:{index:G,range:J}}).then(function(it){return b.table.core.mutate({trans:k,type:"deleteRange",range:J}).then(function(_t){var dt=_t.failures,_t=_t.numFailures;if(_t)throw new yt("Could not delete some values",Object.keys(dt).map(function(wt){return dt[wt]}),it-_t);return it-_t})})})},Nn);function Nn(){}var rc=function(b,C){return C.value=null};function oc(b,C){return b<C?-1:b===C?0:1}function xh(b,C){return C<b?-1:b===C?0:1}function ja(b,C,k){return b=b instanceof Yr?new b.Collection(b):b,b._ctx.error=new(k||TypeError)(C),b}function Qs(b){return new b.Collection(b,function(){return fu("")}).limit(0)}function hs(b,C,k,G){var J,it,ct,dt,_t,wt,jt,vt=k.length;if(!k.every(function(At){return typeof At=="string"}))return ja(b,Ti);function Mt(At){J=At==="next"?function(Dt){return Dt.toUpperCase()}:function(Dt){return Dt.toLowerCase()},it=At==="next"?function(Dt){return Dt.toLowerCase()}:function(Dt){return Dt.toUpperCase()},ct=At==="next"?oc:xh;var Ot=k.map(function(Dt){return{lower:it(Dt),upper:J(Dt)}}).sort(function(Dt,Pt){return ct(Dt.lower,Pt.lower)});dt=Ot.map(function(Dt){return Dt.upper}),_t=Ot.map(function(Dt){return Dt.lower}),jt=(wt=At)==="next"?"":G}Mt("next"),b=new b.Collection(b,function(){return ks(dt[0],_t[vt-1]+G)}),b._ondirectionchange=function(At){Mt(At)};var Et=0;return b._addAlgorithm(function(At,Ot,Dt){var Pt=At.key;if(typeof Pt!="string")return!1;var It=it(Pt);if(C(It,_t,Et))return!0;for(var ee=null,se=Et;se<vt;++se){var be=(function(Oe,ge,he,Re,ye,De){for(var Fe=Math.min(Oe.length,Re.length),Je=-1,Ie=0;Ie<Fe;++Ie){var pa=ge[Ie];if(pa!==Re[Ie])return ye(Oe[Ie],he[Ie])<0?Oe.substr(0,Ie)+he[Ie]+he.substr(Ie+1):ye(Oe[Ie],Re[Ie])<0?Oe.substr(0,Ie)+Re[Ie]+he.substr(Ie+1):0<=Je?Oe.substr(0,Je)+ge[Je]+he.substr(Je+1):null;ye(Oe[Ie],pa)<0&&(Je=Ie)}return Fe<Re.length&&De==="next"?Oe+he.substr(Oe.length):Fe<Oe.length&&De==="prev"?Oe.substr(0,he.length):Je<0?null:Oe.substr(0,Je)+Re[Je]+he.substr(Je+1)})(Pt,It,dt[se],_t[se],ct,wt);be===null&&ee===null?Et=se+1:(ee===null||0<ct(ee,be))&&(ee=be)}return Ot(ee!==null?function(){At.continue(ee+jt)}:Dt),!1}),b}function ks(b,C,k,G){return{type:2,lower:b,upper:C,lowerOpen:k,upperOpen:G}}function fu(b){return{type:1,lower:b,upper:b}}var Yr=(Object.defineProperty(ri.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ri.prototype.between=function(b,C,k,G){k=k!==!1,G=G===!0;try{return 0<this._cmp(b,C)||this._cmp(b,C)===0&&(k||G)&&(!k||!G)?Qs(this):new this.Collection(this,function(){return ks(b,C,!k,!G)})}catch{return ja(this,ba)}},ri.prototype.equals=function(b){return b==null?ja(this,ba):new this.Collection(this,function(){return fu(b)})},ri.prototype.above=function(b){return b==null?ja(this,ba):new this.Collection(this,function(){return ks(b,void 0,!0)})},ri.prototype.aboveOrEqual=function(b){return b==null?ja(this,ba):new this.Collection(this,function(){return ks(b,void 0,!1)})},ri.prototype.below=function(b){return b==null?ja(this,ba):new this.Collection(this,function(){return ks(void 0,b,!1,!0)})},ri.prototype.belowOrEqual=function(b){return b==null?ja(this,ba):new this.Collection(this,function(){return ks(void 0,b)})},ri.prototype.startsWith=function(b){return typeof b!="string"?ja(this,Ti):this.between(b,b+cs,!0,!0)},ri.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):hs(this,function(C,k){return C.indexOf(k[0])===0},[b],cs)},ri.prototype.equalsIgnoreCase=function(b){return hs(this,function(C,k){return C===k[0]},[b],"")},ri.prototype.anyOfIgnoreCase=function(){var b=gt.apply(st,arguments);return b.length===0?Qs(this):hs(this,function(C,k){return k.indexOf(C)!==-1},b,"")},ri.prototype.startsWithAnyOfIgnoreCase=function(){var b=gt.apply(st,arguments);return b.length===0?Qs(this):hs(this,function(C,k){return k.some(function(G){return C.indexOf(G)===0})},b,cs)},ri.prototype.anyOf=function(){var b=this,C=gt.apply(st,arguments),k=this._cmp;try{C.sort(k)}catch{return ja(this,ba)}if(C.length===0)return Qs(this);var G=new this.Collection(this,function(){return ks(C[0],C[C.length-1])});G._ondirectionchange=function(it){k=it==="next"?b._ascending:b._descending,C.sort(k)};var J=0;return G._addAlgorithm(function(it,ct,dt){for(var _t=it.key;0<k(_t,C[J]);)if(++J===C.length)return ct(dt),!1;return k(_t,C[J])===0||(ct(function(){it.continue(C[J])}),!1)}),G},ri.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ri.prototype.noneOf=function(){var b=gt.apply(st,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return ja(this,ba)}var C=b.reduce(function(k,G){return k?k.concat([[k[k.length-1][1],G]]):[[-1/0,G]]},null);return C.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},ri.prototype.inAnyRange=function(Pt,C){var k=this,G=this._cmp,J=this._ascending,it=this._descending,ct=this._min,dt=this._max;if(Pt.length===0)return Qs(this);if(!Pt.every(function(It){return It[0]!==void 0&&It[1]!==void 0&&J(It[0],It[1])<=0}))return ja(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ct.InvalidArgument);var _t=!C||C.includeLowers!==!1,wt=C&&C.includeUppers===!0,jt,vt=J;function Mt(It,ee){return vt(It[0],ee[0])}try{(jt=Pt.reduce(function(It,ee){for(var se=0,be=It.length;se<be;++se){var Oe=It[se];if(G(ee[0],Oe[1])<0&&0<G(ee[1],Oe[0])){Oe[0]=ct(Oe[0],ee[0]),Oe[1]=dt(Oe[1],ee[1]);break}}return se===be&&It.push(ee),It},[])).sort(Mt)}catch{return ja(this,ba)}var Et=0,At=wt?function(It){return 0<J(It,jt[Et][1])}:function(It){return 0<=J(It,jt[Et][1])},Ot=_t?function(It){return 0<it(It,jt[Et][0])}:function(It){return 0<=it(It,jt[Et][0])},Dt=At,Pt=new this.Collection(this,function(){return ks(jt[0][0],jt[jt.length-1][1],!_t,!wt)});return Pt._ondirectionchange=function(It){vt=It==="next"?(Dt=At,J):(Dt=Ot,it),jt.sort(Mt)},Pt._addAlgorithm(function(It,ee,se){for(var be,Oe=It.key;Dt(Oe);)if(++Et===jt.length)return ee(se),!1;return!At(be=Oe)&&!Ot(be)||(k._cmp(Oe,jt[Et][1])===0||k._cmp(Oe,jt[Et][0])===0||ee(function(){vt===J?It.continue(jt[Et][0]):It.continue(jt[Et][1])}),!1)}),Pt},ri.prototype.startsWithAnyOf=function(){var b=gt.apply(st,arguments);return b.every(function(C){return typeof C=="string"})?b.length===0?Qs(this):this.inAnyRange(b.map(function(C){return[C,C+cs]})):ja(this,"startsWithAnyOf() only works with strings")},ri);function ri(){}function ds(b){return In(function(C){return Xr(C),b(C.target.error),!1})}function Xr(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var zo="storagemutated",Zr="x-storagemutated-1",ha=Fr(null,zo),pf=(ka.prototype._lock=function(){return H(!pe.global),++this._reculock,this._reculock!==1||pe.global||(pe.lockOwnerFor=this),this},ka.prototype._unlock=function(){if(H(!pe.global),--this._reculock==0)for(pe.global||(pe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{Na(b[1],b[0])}catch{}}return this},ka.prototype._locked=function(){return this._reculock&&pe.lockOwnerFor!==this},ka.prototype.create=function(b){var C=this;if(!this.mode)return this;var k=this.db.idbdb,G=this.db._state.dbOpenError;if(H(!this.idbtrans),!b&&!k)switch(G&&G.name){case"DatabaseClosedError":throw new Ct.DatabaseClosed(G);case"MissingAPIError":throw new Ct.MissingAPI(G.message,G);default:throw new Ct.OpenFailed(G)}if(!this.active)throw new Ct.TransactionInactive;return H(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=In(function(J){Xr(J),C._reject(b.error)}),b.onabort=In(function(J){Xr(J),C.active&&C._reject(new Ct.Abort(b.error)),C.active=!1,C.on("abort").fire(J)}),b.oncomplete=In(function(){C.active=!1,C._resolve(),"mutatedParts"in b&&ha.storagemutated.fire(b.mutatedParts)}),this},ka.prototype._promise=function(b,C,k){var G=this;if(b==="readwrite"&&this.mode!=="readwrite")return Zn(new Ct.ReadOnly("Transaction is readonly"));if(!this.active)return Zn(new Ct.TransactionInactive);if(this._locked())return new Ne(function(it,ct){G._blockedFuncs.push([function(){G._promise(b,C,k).then(it,ct)},pe])});if(k)return Xn(function(){var it=new Ne(function(ct,dt){G._lock();var _t=C(ct,dt,G);_t&&_t.then&&_t.then(ct,dt)});return it.finally(function(){return G._unlock()}),it._lib=!0,it});var J=new Ne(function(it,ct){var dt=C(it,ct,G);dt&&dt.then&&dt.then(it,ct)});return J._lib=!0,J},ka.prototype._root=function(){return this.parent?this.parent._root():this},ka.prototype.waitFor=function(b){var C,k=this._root(),G=Ne.resolve(b);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return G}):(k._waitingFor=G,k._waitingQueue=[],C=k.idbtrans.objectStore(k.storeNames[0]),(function it(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(C.get(-1/0).onsuccess=it)})());var J=k._waitingFor;return new Ne(function(it,ct){G.then(function(dt){return k._waitingQueue.push(In(it.bind(null,dt)))},function(dt){return k._waitingQueue.push(In(ct.bind(null,dt)))}).finally(function(){k._waitingFor===J&&(k._waitingFor=null)})})},ka.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ct.Abort))},ka.prototype.table=function(b){var C=this._memoizedTables||(this._memoizedTables={});if(v(C,b))return C[b];var k=this.schema[b];if(!k)throw new Ct.NotFound("Table "+b+" not part of transaction");return k=new this.db.Table(b,k,this),k.core=this.db.core.table(b),C[b]=k},ka);function ka(){}function Ba(b,C,k,G,J,it,ct,dt){return{name:b,keyPath:C,unique:k,multi:G,auto:J,compound:it,src:(k&&!ct?"&":"")+(G?"*":"")+(J?"++":"")+hu(C),type:dt}}function hu(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function wr(b,C,k){return{name:b,primKey:C,indexes:k,mappedClass:null,idxByName:(G=function(J){return[J.name,J]},k.reduce(function(J,it,ct){return ct=G(it,ct),ct&&(J[ct[0]]=ct[1]),J},{}))};var G}var Er=function(b){try{return b.only([[]]),Er=function(){return[[]]},[[]]}catch{return Er=function(){return cs},cs}};function jo(b){return b==null?function(){}:typeof b=="string"?(C=b).split(".").length===1?function(k){return k[C]}:function(k){return nt(k,C)}:function(k){return nt(k,b)};var C}function ko(b){return[].slice.call(b)}var bh=0;function Yi(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function Qr(b,C,_t){function G(Dt){if(Dt.type===3)return null;if(Dt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Et=Dt.lower,At=Dt.upper,Ot=Dt.lowerOpen,Dt=Dt.upperOpen;return Et===void 0?At===void 0?null:C.upperBound(At,!!Dt):At===void 0?C.lowerBound(Et,!!Ot):C.bound(Et,At,!!Ot,!!Dt)}function J(Mt){var Et,At=Mt.name;return{name:At,schema:Mt,mutate:function(Ot){var Dt=Ot.trans,Pt=Ot.type,It=Ot.keys,ee=Ot.values,se=Ot.range;return new Promise(function(be,Oe){be=In(be);var ge=Dt.objectStore(At),he=ge.keyPath==null,Re=Pt==="put"||Pt==="add";if(!Re&&Pt!=="delete"&&Pt!=="deleteRange")throw new Error("Invalid operation type: "+Pt);var ye,De=(It||ee||{length:1}).length;if(It&&ee&&It.length!==ee.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return be({numFailures:0,failures:{},results:[],lastResult:void 0});function Fe(ni){++pa,Xr(ni)}var Je=[],Ie=[],pa=0;if(Pt==="deleteRange"){if(se.type===4)return be({numFailures:pa,failures:Ie,results:[],lastResult:void 0});se.type===3?Je.push(ye=ge.clear()):Je.push(ye=ge.delete(G(se)))}else{var he=Re?he?[ee,It]:[ee,null]:[It,null],He=he[0],Zi=he[1];if(Re)for(var Pn=0;Pn<De;++Pn)Je.push(ye=Zi&&Zi[Pn]!==void 0?ge[Pt](He[Pn],Zi[Pn]):ge[Pt](He[Pn])),ye.onerror=Fe;else for(Pn=0;Pn<De;++Pn)Je.push(ye=ge[Pt](He[Pn])),ye.onerror=Fe}function Bs(ni){ni=ni.target.result,Je.forEach(function(Ya,Eu){return Ya.error!=null&&(Ie[Eu]=Ya.error)}),be({numFailures:pa,failures:Ie,results:Pt==="delete"?It:Je.map(function(Ya){return Ya.result}),lastResult:ni})}ye.onerror=function(ni){Fe(ni),Bs(ni)},ye.onsuccess=Bs})},getMany:function(Ot){var Dt=Ot.trans,Pt=Ot.keys;return new Promise(function(It,ee){It=In(It);for(var se,be=Dt.objectStore(At),Oe=Pt.length,ge=new Array(Oe),he=0,Re=0,ye=function(Je){Je=Je.target,ge[Je._pos]=Je.result,++Re===he&&It(ge)},De=ds(ee),Fe=0;Fe<Oe;++Fe)Pt[Fe]!=null&&((se=be.get(Pt[Fe]))._pos=Fe,se.onsuccess=ye,se.onerror=De,++he);he===0&&It(ge)})},get:function(Ot){var Dt=Ot.trans,Pt=Ot.key;return new Promise(function(It,ee){It=In(It);var se=Dt.objectStore(At).get(Pt);se.onsuccess=function(be){return It(be.target.result)},se.onerror=ds(ee)})},query:(Et=wt,function(Ot){return new Promise(function(Dt,Pt){Dt=In(Dt);var It,ee,se,he=Ot.trans,be=Ot.values,Oe=Ot.limit,ye=Ot.query,ge=Oe===1/0?void 0:Oe,Re=ye.index,ye=ye.range,he=he.objectStore(At),Re=Re.isPrimaryKey?he:he.index(Re.name),ye=G(ye);if(Oe===0)return Dt({result:[]});Et?((ge=be?Re.getAll(ye,ge):Re.getAllKeys(ye,ge)).onsuccess=function(De){return Dt({result:De.target.result})},ge.onerror=ds(Pt)):(It=0,ee=!be&&"openKeyCursor"in Re?Re.openKeyCursor(ye):Re.openCursor(ye),se=[],ee.onsuccess=function(De){var Fe=ee.result;return Fe?(se.push(be?Fe.value:Fe.primaryKey),++It===Oe?Dt({result:se}):void Fe.continue()):Dt({result:se})},ee.onerror=ds(Pt))})}),openCursor:function(Ot){var Dt=Ot.trans,Pt=Ot.values,It=Ot.query,ee=Ot.reverse,se=Ot.unique;return new Promise(function(be,Oe){be=In(be);var Re=It.index,ge=It.range,he=Dt.objectStore(At),he=Re.isPrimaryKey?he:he.index(Re.name),Re=ee?se?"prevunique":"prev":se?"nextunique":"next",ye=!Pt&&"openKeyCursor"in he?he.openKeyCursor(G(ge),Re):he.openCursor(G(ge),Re);ye.onerror=ds(Oe),ye.onsuccess=In(function(De){var Fe,Je,Ie,pa,He=ye.result;He?(He.___id=++bh,He.done=!1,Fe=He.continue.bind(He),Je=(Je=He.continuePrimaryKey)&&Je.bind(He),Ie=He.advance.bind(He),pa=function(){throw new Error("Cursor not stopped")},He.trans=Dt,He.stop=He.continue=He.continuePrimaryKey=He.advance=function(){throw new Error("Cursor not started")},He.fail=In(Oe),He.next=function(){var Zi=this,Pn=1;return this.start(function(){return Pn--?Zi.continue():Zi.stop()}).then(function(){return Zi})},He.start=function(Zi){function Pn(){if(ye.result)try{Zi()}catch(ni){He.fail(ni)}else He.done=!0,He.start=function(){throw new Error("Cursor behind last entry")},He.stop()}var Bs=new Promise(function(ni,Ya){ni=In(ni),ye.onerror=ds(Ya),He.fail=Ya,He.stop=function(Eu){He.stop=He.continue=He.continuePrimaryKey=He.advance=pa,ni(Eu)}});return ye.onsuccess=In(function(ni){ye.onsuccess=Pn,Pn()}),He.continue=Fe,He.continuePrimaryKey=Je,He.advance=Ie,Pn(),Bs},be(He)):be(null)},Oe)})},count:function(Ot){var Dt=Ot.query,Pt=Ot.trans,It=Dt.index,ee=Dt.range;return new Promise(function(se,be){var Oe=Pt.objectStore(At),ge=It.isPrimaryKey?Oe:Oe.index(It.name),Oe=G(ee),ge=Oe?ge.count(Oe):ge.count();ge.onsuccess=In(function(he){return se(he.target.result)}),ge.onerror=ds(be)})}}}var it,ct,dt,jt=(ct=_t,dt=ko((it=b).objectStoreNames),{schema:{name:it.name,tables:dt.map(function(Mt){return ct.objectStore(Mt)}).map(function(Mt){var Et=Mt.keyPath,Dt=Mt.autoIncrement,At=f(Et),Ot={},Dt={name:Mt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Et==null,compound:At,keyPath:Et,autoIncrement:Dt,unique:!0,extractKey:jo(Et)},indexes:ko(Mt.indexNames).map(function(Pt){return Mt.index(Pt)}).map(function(se){var It=se.name,ee=se.unique,be=se.multiEntry,se=se.keyPath,be={name:It,compound:f(se),keyPath:se,unique:ee,multiEntry:be,extractKey:jo(se)};return Ot[Yi(se)]=be}),getIndexByKeyPath:function(Pt){return Ot[Yi(Pt)]}};return Ot[":id"]=Dt.primaryKey,Et!=null&&(Ot[Yi(Et)]=Dt.primaryKey),Dt})},hasGetAll:0<dt.length&&"getAll"in ct.objectStore(dt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_t=jt.schema,wt=jt.hasGetAll,jt=_t.tables.map(J),vt={};return jt.forEach(function(Mt){return vt[Mt.name]=Mt}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(Mt){if(!vt[Mt])throw new Error("Table '".concat(Mt,"' not found"));return vt[Mt]},MIN_KEY:-1/0,MAX_KEY:Er(C),schema:_t}}function du(b,C,k,G){var J=k.IDBKeyRange;return k.indexedDB,{dbcore:(G=Qr(C,J,G),b.dbcore.reduce(function(it,ct){return ct=ct.create,i(i({},it),ct(it))},G))}}function Tr(b,G){var k=G.db,G=du(b._middlewares,k,b._deps,G);b.core=G.dbcore,b.tables.forEach(function(J){var it=J.name;b.core.schema.tables.some(function(ct){return ct.name===it})&&(J.core=b.core.table(it),b[it]instanceof b.Table&&(b[it].core=J.core))})}function pu(b,C,k,G){k.forEach(function(J){var it=G[J];C.forEach(function(ct){var dt=(function _t(wt,jt){return M(wt,jt)||(wt=p(wt))&&_t(wt,jt)})(ct,J);(!dt||"value"in dt&&dt.value===void 0)&&(ct===b.Transaction.prototype||ct instanceof b.Transaction?E(ct,J,{get:function(){return this.table(J)},set:function(_t){_(this,J,{value:_t,writable:!0,configurable:!0,enumerable:!0})}}):ct[J]=new b.Table(J,it))})})}function Bo(b,C){C.forEach(function(k){for(var G in k)k[G]instanceof b.Table&&delete k[G]})}function lc(b,C){return b._cfg.version-C._cfg.version}function xl(b,C,k,G){var J=b._dbSchema;k.objectStoreNames.contains("$meta")&&!J.$meta&&(J.$meta=wr("$meta",Sh("")[0],[]),b._storeNames.push("$meta"));var it=b._createTransaction("readwrite",b._storeNames,J);it.create(k),it._completion.catch(G);var ct=it._reject.bind(it),dt=pe.transless||pe;Xn(function(){return pe.trans=it,pe.transless=dt,C!==0?(Tr(b,k),wt=C,((_t=it).storeNames.includes("$meta")?_t.table("$meta").get("version").then(function(jt){return jt??wt}):Ne.resolve(wt)).then(function(jt){return Mt=jt,Et=it,At=k,Ot=[],jt=(vt=b)._versions,Dt=vt._dbSchema=Lo(0,vt.idbdb,At),(jt=jt.filter(function(Pt){return Pt._cfg.version>=Mt})).length!==0?(jt.forEach(function(Pt){Ot.push(function(){var It=Dt,ee=Pt._cfg.dbschema;gu(vt,It,At),gu(vt,ee,At),Dt=vt._dbSchema=ee;var se=mu(It,ee);se.add.forEach(function(Re){uc(At,Re[0],Re[1].primKey,Re[1].indexes)}),se.change.forEach(function(Re){if(Re.recreate)throw new Ct.Upgrade("Not yet support for changing primary key");var ye=At.objectStore(Re.name);Re.add.forEach(function(De){return Sl(ye,De)}),Re.change.forEach(function(De){ye.deleteIndex(De.name),Sl(ye,De)}),Re.del.forEach(function(De){return ye.deleteIndex(De)})});var be=Pt._cfg.contentUpgrade;if(be&&Pt._cfg.version>Mt){Tr(vt,At),Et._memoizedTables={};var Oe=z(ee);se.del.forEach(function(Re){Oe[Re]=It[Re]}),Bo(vt,[vt.Transaction.prototype]),pu(vt,[vt.Transaction.prototype],u(Oe),Oe),Et.schema=Oe;var ge,he=Y(be);return he&&Ei(),se=Ne.follow(function(){var Re;(ge=be(Et))&&he&&(Re=Ma.bind(null,null),ge.then(Re,Re))}),ge&&typeof ge.then=="function"?Ne.resolve(ge):se.then(function(){return ge})}}),Ot.push(function(It){var ee,se,be=Pt._cfg.dbschema;ee=be,se=It,[].slice.call(se.db.objectStoreNames).forEach(function(Oe){return ee[Oe]==null&&se.db.deleteObjectStore(Oe)}),Bo(vt,[vt.Transaction.prototype]),pu(vt,[vt.Transaction.prototype],vt._storeNames,vt._dbSchema),Et.schema=vt._dbSchema}),Ot.push(function(It){vt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(vt.idbdb.version/10)===Pt._cfg.version?(vt.idbdb.deleteObjectStore("$meta"),delete vt._dbSchema.$meta,vt._storeNames=vt._storeNames.filter(function(ee){return ee!=="$meta"})):It.objectStore("$meta").put(Pt._cfg.version,"version"))})}),(function Pt(){return Ot.length?Ne.resolve(Ot.shift()(Et.idbtrans)).then(Pt):Ne.resolve()})().then(function(){mf(Dt,At)})):Ne.resolve();var vt,Mt,Et,At,Ot,Dt}).catch(ct)):(u(J).forEach(function(jt){uc(k,jt,J[jt].primKey,J[jt].indexes)}),Tr(b,k),void Ne.follow(function(){return b.on.populate.fire(it)}).catch(ct));var _t,wt})}function bl(b,C){mf(b._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var k=Lo(0,b.idbdb,C);gu(b,b._dbSchema,C);for(var G=0,J=mu(k,b._dbSchema).change;G<J.length;G++){var it=(function(ct){if(ct.change.length||ct.recreate)return console.warn("Unable to patch indexes of table ".concat(ct.name," because it has changes on the type of index or primary key.")),{value:void 0};var dt=C.objectStore(ct.name);ct.add.forEach(function(_t){Ft&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ct.name,".").concat(_t.src)),Sl(dt,_t)})})(J[G]);if(typeof it=="object")return it.value}}function mu(b,C){var k,G={del:[],add:[],change:[]};for(k in b)C[k]||G.del.push(k);for(k in C){var J=b[k],it=C[k];if(J){var ct={name:k,def:it,recreate:!1,del:[],add:[],change:[]};if(""+(J.primKey.keyPath||"")!=""+(it.primKey.keyPath||"")||J.primKey.auto!==it.primKey.auto)ct.recreate=!0,G.change.push(ct);else{var dt=J.idxByName,_t=it.idxByName,wt=void 0;for(wt in dt)_t[wt]||ct.del.push(wt);for(wt in _t){var jt=dt[wt],vt=_t[wt];jt?jt.src!==vt.src&&ct.change.push(vt):ct.add.push(vt)}(0<ct.del.length||0<ct.add.length||0<ct.change.length)&&G.change.push(ct)}}else G.add.push([k,it])}return G}function uc(b,C,k,G){var J=b.db.createObjectStore(C,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return G.forEach(function(it){return Sl(J,it)}),J}function mf(b,C){u(b).forEach(function(k){C.db.objectStoreNames.contains(k)||(Ft&&console.debug("Dexie: Creating missing table",k),uc(C,k,b[k].primKey,b[k].indexes))})}function Sl(b,C){b.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Lo(b,C,k){var G={};return R(C.objectStoreNames,0).forEach(function(J){for(var it=k.objectStore(J),ct=Ba(hu(wt=it.keyPath),wt||"",!0,!1,!!it.autoIncrement,wt&&typeof wt!="string",!0),dt=[],_t=0;_t<it.indexNames.length;++_t){var jt=it.index(it.indexNames[_t]),wt=jt.keyPath,jt=Ba(jt.name,wt,!!jt.unique,!!jt.multiEntry,!1,wt&&typeof wt!="string",!1);dt.push(jt)}G[J]=wr(J,ct,dt)}),G}function gu(b,C,k){for(var G=k.db.objectStoreNames,J=0;J<G.length;++J){var it=G[J],ct=k.objectStore(it);b._hasGetAll="getAll"in ct;for(var dt=0;dt<ct.indexNames.length;++dt){var _t=ct.indexNames[dt],wt=ct.index(_t).keyPath,jt=typeof wt=="string"?wt:"["+R(wt).join("+")+"]";!C[it]||(wt=C[it].idxByName[jt])&&(wt.name=_t,delete C[it].idxByName[jt],C[it].idxByName[_t]=wt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function Sh(b){return b.split(",").map(function(C,k){var it=C.split(":"),G=(J=it[1])===null||J===void 0?void 0:J.trim(),J=(C=it[0].trim()).replace(/([&*]|\+\+)/g,""),it=/^\[/.test(J)?J.match(/^\[(.*)\]$/)[1].split("+"):J;return Ba(J,it||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),f(it),k===0,G)})}var Hd=(Uo.prototype._createTableSchema=wr,Uo.prototype._parseIndexSyntax=Sh,Uo.prototype._parseStoresSpec=function(b,C){var k=this;u(b).forEach(function(G){if(b[G]!==null){var J=k._parseIndexSyntax(b[G]),it=J.shift();if(!it)throw new Ct.Schema("Invalid schema for table "+G+": "+b[G]);if(it.unique=!0,it.multi)throw new Ct.Schema("Primary key cannot be multiEntry*");J.forEach(function(ct){if(ct.auto)throw new Ct.Schema("Only primary key can be marked as autoIncrement (++)");if(!ct.keyPath)throw new Ct.Schema("Index must have a name and cannot be an empty string")}),J=k._createTableSchema(G,it,J),C[G]=J}})},Uo.prototype.stores=function(k){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,k):k;var k=C._versions,G={},J={};return k.forEach(function(it){d(G,it._cfg.storesSource),J=it._cfg.dbschema={},it._parseStoresSpec(G,J)}),C._dbSchema=J,Bo(C,[C._allTables,C,C.Transaction.prototype]),pu(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],u(J),J),C._storeNames=u(J),this},Uo.prototype.upgrade=function(b){return this._cfg.contentUpgrade=zt(this._cfg.contentUpgrade||de,b),this},Uo);function Uo(){}function Ho(b,C){var k=b._dbNamesDB;return k||(k=b._dbNamesDB=new sa(No,{addons:[],indexedDB:b,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function _l(b){return b&&typeof b.databases=="function"}function wl(b){return Xn(function(){return pe.letThrough=!0,b()})}function cc(b){return!("from"in b)}var da=function(b,C){if(!this){var k=new da;return b&&"d"in b&&d(k,b),k}d(this,arguments.length?{d:1,from:b,to:1<arguments.length?C:b}:{d:0})};function Go(b,C,k){var G=fn(C,k);if(!isNaN(G)){if(0<G)throw RangeError();if(cc(b))return d(b,{from:C,to:k,d:1});var J=b.l,G=b.r;if(fn(k,b.from)<0)return J?Go(J,C,k):b.l={from:C,to:k,d:1,l:null,r:null},yu(b);if(0<fn(C,b.to))return G?Go(G,C,k):b.r={from:C,to:k,d:1,l:null,r:null},yu(b);fn(C,b.from)<0&&(b.from=C,b.l=null,b.d=G?G.d+1:1),0<fn(k,b.to)&&(b.to=k,b.r=null,b.d=b.l?b.l.d+1:1),k=!b.r,J&&!b.l&&Jr(b,J),G&&k&&Jr(b,G)}}function Jr(b,C){cc(C)||(function k(G,_t){var it=_t.from,ct=_t.to,dt=_t.l,_t=_t.r;Go(G,it,ct),dt&&k(G,dt),_t&&k(G,_t)})(b,C)}function gf(b,C){var k=Js(C),G=k.next();if(G.done)return!1;for(var J=G.value,it=Js(b),ct=it.next(J.from),dt=ct.value;!G.done&&!ct.done;){if(fn(dt.from,J.to)<=0&&0<=fn(dt.to,J.from))return!0;fn(J.from,dt.from)<0?J=(G=k.next(dt.from)).value:dt=(ct=it.next(J.from)).value}return!1}function Js(b){var C=cc(b)?null:{s:0,n:b};return{next:function(k){for(var G=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,G)for(;C.n.l&&fn(k,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!G||fn(k,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function yu(b){var C,k,G=(((C=b.r)===null||C===void 0?void 0:C.d)||0)-(((k=b.l)===null||k===void 0?void 0:k.d)||0),J=1<G?"r":G<-1?"l":"";J&&(C=J=="r"?"l":"r",k=i({},b),G=b[J],b.from=G.from,b.to=G.to,b[J]=G[J],k[J]=G[C],(b[C]=k).d=fc(k)),b.d=fc(b)}function fc(k){var C=k.r,k=k.l;return(C?k?Math.max(C.d,k.d):C.d:k?k.d:0)+1}function El(b,C){return u(C).forEach(function(k){b[k]?Jr(b[k],C[k]):b[k]=(function G(J){var it,ct,dt={};for(it in J)v(J,it)&&(ct=J[it],dt[it]=!ct||typeof ct!="object"||at.has(ct.constructor)?ct:G(ct));return dt})(C[k])}),b}function hc(b,C){return b.all||C.all||Object.keys(b).some(function(k){return C[k]&&gf(C[k],b[k])})}x(da.prototype,((Ka={add:function(b){return Jr(this,b),this},addKey:function(b){return Go(this,b,b),this},addKeys:function(b){var C=this;return b.forEach(function(k){return Go(C,k,k)}),this},hasKey:function(b){var C=Js(this).next(b).value;return C&&fn(C.from,b)<=0&&0<=fn(C.to,b)}})[K]=function(){return Js(this)},Ka));var Wr={},yf={},Xi=!1;function vu(b){El(yf,b),Xi||(Xi=!0,setTimeout(function(){Xi=!1,dc(yf,!(yf={}))},0))}function dc(b,C){C===void 0&&(C=!1);var k=new Set;if(b.all)for(var G=0,J=Object.values(Wr);G<J.length;G++)vf(ct=J[G],b,k,C);else for(var it in b){var ct,dt=/^idb\:\/\/(.*)\/(.*)\//.exec(it);dt&&(it=dt[1],dt=dt[2],(ct=Wr["idb://".concat(it,"/").concat(dt)])&&vf(ct,b,k,C))}k.forEach(function(_t){return _t()})}function vf(b,C,k,G){for(var J=[],it=0,ct=Object.entries(b.queries.query);it<ct.length;it++){for(var dt=ct[it],_t=dt[0],wt=[],jt=0,vt=dt[1];jt<vt.length;jt++){var Mt=vt[jt];hc(C,Mt.obsSet)?Mt.subscribers.forEach(function(Dt){return k.add(Dt)}):G&&wt.push(Mt)}G&&J.push([_t,wt])}if(G)for(var Et=0,At=J;Et<At.length;Et++){var Ot=At[Et],_t=Ot[0],wt=Ot[1];b.queries.query[_t]=wt}}function _h(b){var C=b._state,k=b._deps.indexedDB;if(C.isBeingOpened||b.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?Zn(C.dbOpenError):b});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var G=C.openCanceller,J=Math.round(10*b.verno),it=!1;function ct(){if(C.openCanceller!==G)throw new Ct.DatabaseClosed("db.open() was cancelled")}function dt(){return new Ne(function(Mt,Et){if(ct(),!k)throw new Ct.MissingAPI;var At=b.name,Ot=C.autoSchema||!J?k.open(At):k.open(At,J);if(!Ot)throw new Ct.MissingAPI;Ot.onerror=ds(Et),Ot.onblocked=In(b._fireOnBlocked),Ot.onupgradeneeded=In(function(Dt){var Pt;jt=Ot.transaction,C.autoSchema&&!b._options.allowEmptyDB?(Ot.onerror=Xr,jt.abort(),Ot.result.close(),(Pt=k.deleteDatabase(At)).onsuccess=Pt.onerror=In(function(){Et(new Ct.NoSuchDatabase("Database ".concat(At," doesnt exist")))})):(jt.onerror=ds(Et),Dt=Dt.oldVersion>Math.pow(2,62)?0:Dt.oldVersion,vt=Dt<1,b.idbdb=Ot.result,it&&bl(b,jt),xl(b,Dt/10,jt,Et))},Et),Ot.onsuccess=In(function(){jt=null;var Dt,Pt,It,ee,se,be=b.idbdb=Ot.result,Oe=R(be.objectStoreNames);if(0<Oe.length)try{var ge=be.transaction((ee=Oe).length===1?ee[0]:ee,"readonly");if(C.autoSchema)Pt=be,It=ge,(Dt=b).verno=Pt.version/10,It=Dt._dbSchema=Lo(0,Pt,It),Dt._storeNames=R(Pt.objectStoreNames,0),pu(Dt,[Dt._allTables],u(It),It);else if(gu(b,b._dbSchema,ge),((se=mu(Lo(0,(se=b).idbdb,ge),se._dbSchema)).add.length||se.change.some(function(he){return he.add.length||he.change.length}))&&!it)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),be.close(),J=be.version+1,it=!0,Mt(dt());Tr(b,ge)}catch{}Fa.push(b),be.onversionchange=In(function(he){C.vcFired=!0,b.on("versionchange").fire(he)}),be.onclose=In(function(){b.close({disableAutoOpen:!1})}),vt&&(se=b._deps,ge=At,be=se.indexedDB,se=se.IDBKeyRange,_l(be)||ge===No||Ho(be,se).put({name:ge}).catch(de)),Mt()},Et)}).catch(function(Mt){switch(Mt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),dt();break;case"VersionError":if(0<J)return J=0,dt()}return Ne.reject(Mt)})}var _t,wt=C.dbReadyResolve,jt=null,vt=!1;return Ne.race([G,(typeof navigator>"u"?Ne.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Mt){function Et(){return indexedDB.databases().finally(Mt)}_t=setInterval(Et,100),Et()}).finally(function(){return clearInterval(_t)}):Promise.resolve()).then(dt)]).then(function(){return ct(),C.onReadyBeingFired=[],Ne.resolve(wl(function(){return b.on.ready.fire(b.vip)})).then(function Mt(){if(0<C.onReadyBeingFired.length){var Et=C.onReadyBeingFired.reduce(zt,de);return C.onReadyBeingFired=[],Ne.resolve(wl(function(){return Et(b.vip)})).then(Mt)}})}).finally(function(){C.openCanceller===G&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Mt){C.dbOpenError=Mt;try{jt&&jt.abort()}catch{}return G===C.openCanceller&&b._close(),Zn(Mt)}).finally(function(){C.openComplete=!0,wt()}).then(function(){var Mt;return vt&&(Mt={},b.tables.forEach(function(Et){Et.schema.indexes.forEach(function(At){At.name&&(Mt["idb://".concat(b.name,"/").concat(Et.name,"/").concat(At.name)]=new da(-1/0,[[[]]]))}),Mt["idb://".concat(b.name,"/").concat(Et.name,"/")]=Mt["idb://".concat(b.name,"/").concat(Et.name,"/:dels")]=new da(-1/0,[[[]]])}),ha(zo).fire(Mt),dc(Mt,!0)),b})}function Cr(b){function C(it){return b.next(it)}var k=J(C),G=J(function(it){return b.throw(it)});function J(it){return function(_t){var dt=it(_t),_t=dt.value;return dt.done?_t:_t&&typeof _t.then=="function"?_t.then(k,G):f(_t)?Promise.all(_t).then(k,G):k(_t)}}return J(C)()}function Ar(b,C,k){for(var G=f(b)?b.slice():[b],J=0;J<k;++J)G.push(C);return G}var pc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return i(i({},b),{table:function(C){var k=b.table(C),G=k.schema,J={},it=[];function ct(vt,Mt,Et){var At=Yi(vt),Ot=J[At]=J[At]||[],Dt=vt==null?0:typeof vt=="string"?1:vt.length,Pt=0<Mt,Pt=i(i({},Et),{name:Pt?"".concat(At,"(virtual-from:").concat(Et.name,")"):Et.name,lowLevelIndex:Et,isVirtual:Pt,keyTail:Mt,keyLength:Dt,extractKey:jo(vt),unique:!Pt&&Et.unique});return Ot.push(Pt),Pt.isPrimaryKey||it.push(Pt),1<Dt&&ct(Dt===2?vt[0]:vt.slice(0,Dt-1),Mt+1,Et),Ot.sort(function(It,ee){return It.keyTail-ee.keyTail}),Pt}C=ct(G.primaryKey.keyPath,0,G.primaryKey),J[":id"]=[C];for(var dt=0,_t=G.indexes;dt<_t.length;dt++){var wt=_t[dt];ct(wt.keyPath,0,wt)}function jt(vt){var Mt,Et=vt.query.index;return Et.isVirtual?i(i({},vt),{query:{index:Et.lowLevelIndex,range:(Mt=vt.query.range,Et=Et.keyTail,{type:Mt.type===1?2:Mt.type,lower:Ar(Mt.lower,Mt.lowerOpen?b.MAX_KEY:b.MIN_KEY,Et),lowerOpen:!0,upper:Ar(Mt.upper,Mt.upperOpen?b.MIN_KEY:b.MAX_KEY,Et),upperOpen:!0})}}):vt}return i(i({},k),{schema:i(i({},G),{primaryKey:C,indexes:it,getIndexByKeyPath:function(vt){return(vt=J[Yi(vt)])&&vt[0]}}),count:function(vt){return k.count(jt(vt))},query:function(vt){return k.query(jt(vt))},openCursor:function(vt){var Mt=vt.query.index,Et=Mt.keyTail,At=Mt.isVirtual,Ot=Mt.keyLength;return At?k.openCursor(jt(vt)).then(function(Pt){return Pt&&Dt(Pt)}):k.openCursor(vt);function Dt(Pt){return Object.create(Pt,{continue:{value:function(It){It!=null?Pt.continue(Ar(It,vt.reverse?b.MAX_KEY:b.MIN_KEY,Et)):vt.unique?Pt.continue(Pt.key.slice(0,Ot).concat(vt.reverse?b.MIN_KEY:b.MAX_KEY,Et)):Pt.continue()}},continuePrimaryKey:{value:function(It,ee){Pt.continuePrimaryKey(Ar(It,b.MAX_KEY,Et),ee)}},primaryKey:{get:function(){return Pt.primaryKey}},key:{get:function(){var It=Pt.key;return Ot===1?It[0]:It.slice(0,Ot)}},value:{get:function(){return Pt.value}}})}}})}})}};function xu(b,C,k,G){return k=k||{},G=G||"",u(b).forEach(function(J){var it,ct,dt;v(C,J)?(it=b[J],ct=C[J],typeof it=="object"&&typeof ct=="object"&&it&&ct?(dt=Z(it))!==Z(ct)?k[G+J]=C[J]:dt==="Object"?xu(it,ct,k,G+J+"."):it!==ct&&(k[G+J]=C[J]):it!==ct&&(k[G+J]=C[J])):k[G+J]=void 0}),u(C).forEach(function(J){v(b,J)||(k[G+J]=C[J])}),k}function mc(b,C){return C.type==="delete"?C.keys:C.keys||C.values.map(b.extractKey)}var bu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return i(i({},b),{table:function(C){var k=b.table(C),G=k.schema.primaryKey;return i(i({},k),{mutate:function(J){var it=pe.trans,ct=it.table(C).hook,dt=ct.deleting,_t=ct.creating,wt=ct.updating;switch(J.type){case"add":if(_t.fire===de)break;return it._promise("readwrite",function(){return jt(J)},!0);case"put":if(_t.fire===de&&wt.fire===de)break;return it._promise("readwrite",function(){return jt(J)},!0);case"delete":if(dt.fire===de)break;return it._promise("readwrite",function(){return jt(J)},!0);case"deleteRange":if(dt.fire===de)break;return it._promise("readwrite",function(){return(function vt(Mt,Et,At){return k.query({trans:Mt,values:!1,query:{index:G,range:Et},limit:At}).then(function(Ot){var Dt=Ot.result;return jt({type:"delete",keys:Dt,trans:Mt}).then(function(Pt){return 0<Pt.numFailures?Promise.reject(Pt.failures[0]):Dt.length<At?{failures:[],numFailures:0,lastResult:void 0}:vt(Mt,i(i({},Et),{lower:Dt[Dt.length-1],lowerOpen:!0}),At)})})})(J.trans,J.range,1e4)},!0)}return k.mutate(J);function jt(vt){var Mt,Et,At,Ot=pe.trans,Dt=vt.keys||mc(G,vt);if(!Dt)throw new Error("Keys missing");return(vt=vt.type==="add"||vt.type==="put"?i(i({},vt),{keys:Dt}):i({},vt)).type!=="delete"&&(vt.values=s([],vt.values)),vt.keys&&(vt.keys=s([],vt.keys)),Mt=k,At=Dt,((Et=vt).type==="add"?Promise.resolve([]):Mt.getMany({trans:Et.trans,keys:At,cache:"immutable"})).then(function(Pt){var It=Dt.map(function(ee,se){var be,Oe,ge,he=Pt[se],Re={onerror:null,onsuccess:null};return vt.type==="delete"?dt.fire.call(Re,ee,he,Ot):vt.type==="add"||he===void 0?(be=_t.fire.call(Re,ee,vt.values[se],Ot),ee==null&&be!=null&&(vt.keys[se]=ee=be,G.outbound||X(vt.values[se],G.keyPath,ee))):(be=xu(he,vt.values[se]),(Oe=wt.fire.call(Re,be,ee,he,Ot))&&(ge=vt.values[se],Object.keys(Oe).forEach(function(ye){v(ge,ye)?ge[ye]=Oe[ye]:X(ge,ye,Oe[ye])}))),Re});return k.mutate(vt).then(function(ee){for(var se=ee.failures,be=ee.results,Oe=ee.numFailures,ee=ee.lastResult,ge=0;ge<Dt.length;++ge){var he=(be||Dt)[ge],Re=It[ge];he==null?Re.onerror&&Re.onerror(se[ge]):Re.onsuccess&&Re.onsuccess(vt.type==="put"&&Pt[ge]?vt.values[ge]:he)}return{failures:se,results:be,numFailures:Oe,lastResult:ee}}).catch(function(ee){return It.forEach(function(se){return se.onerror&&se.onerror(ee)}),Promise.reject(ee)})})}}})}})}};function Su(b,C,k){try{if(!C||C.keys.length<b.length)return null;for(var G=[],J=0,it=0;J<C.keys.length&&it<b.length;++J)fn(C.keys[J],b[it])===0&&(G.push(k?q(C.values[J]):C.values[J]),++it);return G.length===b.length?G:null}catch{return null}}var xf={stack:"dbcore",level:-1,create:function(b){return{table:function(C){var k=b.table(C);return i(i({},k),{getMany:function(G){if(!G.cache)return k.getMany(G);var J=Su(G.keys,G.trans._cache,G.cache==="clone");return J?Ne.resolve(J):k.getMany(G).then(function(it){return G.trans._cache={keys:G.keys,values:G.cache==="clone"?q(it):it},it})},mutate:function(G){return G.type!=="add"&&(G.trans._cache=null),k.mutate(G)}})}}}};function $r(b,C){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!C.schema.primaryKey.outbound}function bf(b,C){switch(b){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sf={stack:"dbcore",level:0,name:"Observability",create:function(b){var C=b.schema.name,k=new da(b.MIN_KEY,b.MAX_KEY);return i(i({},b),{transaction:function(G,J,it){if(pe.subscr&&J!=="readonly")throw new Ct.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(pe.querier));return b.transaction(G,J,it)},table:function(G){var J=b.table(G),it=J.schema,ct=it.primaryKey,vt=it.indexes,dt=ct.extractKey,_t=ct.outbound,wt=ct.autoIncrement&&vt.filter(function(Et){return Et.compound&&Et.keyPath.includes(ct.keyPath)}),jt=i(i({},J),{mutate:function(Et){function At(ye){return ye="idb://".concat(C,"/").concat(G,"/").concat(ye),ee[ye]||(ee[ye]=new da)}var Ot,Dt,Pt,It=Et.trans,ee=Et.mutatedParts||(Et.mutatedParts={}),se=At(""),be=At(":dels"),Oe=Et.type,Re=Et.type==="deleteRange"?[Et.range]:Et.type==="delete"?[Et.keys]:Et.values.length<50?[mc(ct,Et).filter(function(ye){return ye}),Et.values]:[],ge=Re[0],he=Re[1],Re=Et.trans._cache;return f(ge)?(se.addKeys(ge),(Re=Oe==="delete"||ge.length===he.length?Su(ge,Re):null)||be.addKeys(ge),(Re||he)&&(Ot=At,Dt=Re,Pt=he,it.indexes.forEach(function(ye){var De=Ot(ye.name||"");function Fe(Ie){return Ie!=null?ye.extractKey(Ie):null}function Je(Ie){return ye.multiEntry&&f(Ie)?Ie.forEach(function(pa){return De.addKey(pa)}):De.addKey(Ie)}(Dt||Pt).forEach(function(Ie,Zi){var He=Dt&&Fe(Dt[Zi]),Zi=Pt&&Fe(Pt[Zi]);fn(He,Zi)!==0&&(He!=null&&Je(He),Zi!=null&&Je(Zi))})}))):ge?(he={from:(he=ge.lower)!==null&&he!==void 0?he:b.MIN_KEY,to:(he=ge.upper)!==null&&he!==void 0?he:b.MAX_KEY},be.add(he),se.add(he)):(se.add(k),be.add(k),it.indexes.forEach(function(ye){return At(ye.name).add(k)})),J.mutate(Et).then(function(ye){return!ge||Et.type!=="add"&&Et.type!=="put"||(se.addKeys(ye.results),wt&&wt.forEach(function(De){for(var Fe=Et.values.map(function(He){return De.extractKey(He)}),Je=De.keyPath.findIndex(function(He){return He===ct.keyPath}),Ie=0,pa=ye.results.length;Ie<pa;++Ie)Fe[Ie][Je]=ye.results[Ie];At(De.name).addKeys(Fe)})),It.mutatedParts=El(It.mutatedParts||{},ee),ye})}}),vt=function(At){var Ot=At.query,At=Ot.index,Ot=Ot.range;return[At,new da((At=Ot.lower)!==null&&At!==void 0?At:b.MIN_KEY,(Ot=Ot.upper)!==null&&Ot!==void 0?Ot:b.MAX_KEY)]},Mt={get:function(Et){return[ct,new da(Et.key)]},getMany:function(Et){return[ct,new da().addKeys(Et.keys)]},count:vt,query:vt,openCursor:vt};return u(Mt).forEach(function(Et){jt[Et]=function(At){var Ot=pe.subscr,Dt=!!Ot,Pt=$r(pe,J)&&bf(Et,At)?At.obsSet={}:Ot;if(Dt){var It=function(he){return he="idb://".concat(C,"/").concat(G,"/").concat(he),Pt[he]||(Pt[he]=new da)},ee=It(""),se=It(":dels"),Ot=Mt[Et](At),Dt=Ot[0],Ot=Ot[1];if((Et==="query"&&Dt.isPrimaryKey&&!At.values?se:It(Dt.name||"")).add(Ot),!Dt.isPrimaryKey){if(Et!=="count"){var be=Et==="query"&&_t&&At.values&&J.query(i(i({},At),{values:!1}));return J[Et].apply(this,arguments).then(function(he){if(Et==="query"){if(_t&&At.values)return be.then(function(Fe){return Fe=Fe.result,ee.addKeys(Fe),he});var Re=At.values?he.result.map(dt):he.result;(At.values?ee:se).addKeys(Re)}else if(Et==="openCursor"){var ye=he,De=At.values;return ye&&Object.create(ye,{key:{get:function(){return se.addKey(ye.primaryKey),ye.key}},primaryKey:{get:function(){var Fe=ye.primaryKey;return se.addKey(Fe),Fe}},value:{get:function(){return De&&ee.addKey(ye.primaryKey),ye.value}}})}return he})}se.add(k)}}return J[Et].apply(this,arguments)}}),jt}})}};function gc(b,C,k){if(k.numFailures===0)return C;if(C.type==="deleteRange")return null;var G=C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1;return k.numFailures===G?null:(C=i({},C),f(C.keys)&&(C.keys=C.keys.filter(function(J,it){return!(it in k.failures)})),"values"in C&&f(C.values)&&(C.values=C.values.filter(function(J,it){return!(it in k.failures)})),C)}function _u(b,C){return k=b,((G=C).lower===void 0||(G.lowerOpen?0<fn(k,G.lower):0<=fn(k,G.lower)))&&(b=b,(C=C).upper===void 0||(C.upperOpen?fn(b,C.upper)<0:fn(b,C.upper)<=0));var k,G}function wu(b,C,Mt,G,J,it){if(!Mt||Mt.length===0)return b;var ct=C.query.index,dt=ct.multiEntry,_t=C.query.range,wt=G.schema.primaryKey.extractKey,jt=ct.extractKey,vt=(ct.lowLevelIndex||ct).extractKey,Mt=Mt.reduce(function(Et,At){var Ot=Et,Dt=[];if(At.type==="add"||At.type==="put")for(var Pt=new da,It=At.values.length-1;0<=It;--It){var ee,se=At.values[It],be=wt(se);Pt.hasKey(be)||(ee=jt(se),(dt&&f(ee)?ee.some(function(ye){return _u(ye,_t)}):_u(ee,_t))&&(Pt.addKey(be),Dt.push(se)))}switch(At.type){case"add":var Oe=new da().addKeys(C.values?Et.map(function(De){return wt(De)}):Et),Ot=Et.concat(C.values?Dt.filter(function(De){return De=wt(De),!Oe.hasKey(De)&&(Oe.addKey(De),!0)}):Dt.map(function(De){return wt(De)}).filter(function(De){return!Oe.hasKey(De)&&(Oe.addKey(De),!0)}));break;case"put":var ge=new da().addKeys(At.values.map(function(De){return wt(De)}));Ot=Et.filter(function(De){return!ge.hasKey(C.values?wt(De):De)}).concat(C.values?Dt:Dt.map(function(De){return wt(De)}));break;case"delete":var he=new da().addKeys(At.keys);Ot=Et.filter(function(De){return!he.hasKey(C.values?wt(De):De)});break;case"deleteRange":var Re=At.range;Ot=Et.filter(function(De){return!_u(wt(De),Re)})}return Ot},b);return Mt===b?b:(Mt.sort(function(Et,At){return fn(vt(Et),vt(At))||fn(wt(Et),wt(At))}),C.limit&&C.limit<1/0&&(Mt.length>C.limit?Mt.length=C.limit:b.length===C.limit&&Mt.length<C.limit&&(J.dirty=!0)),it?Object.freeze(Mt):Mt)}function Rr(b,C){return fn(b.lower,C.lower)===0&&fn(b.upper,C.upper)===0&&!!b.lowerOpen==!!C.lowerOpen&&!!b.upperOpen==!!C.upperOpen}function Po(b,C){return(function(k,G,J,it){if(k===void 0)return G!==void 0?-1:0;if(G===void 0)return 1;if((G=fn(k,G))===0){if(J&&it)return 0;if(J)return 1;if(it)return-1}return G})(b.lower,C.lower,b.lowerOpen,C.lowerOpen)<=0&&0<=(function(k,G,J,it){if(k===void 0)return G!==void 0?1:0;if(G===void 0)return-1;if((G=fn(k,G))===0){if(J&&it)return 0;if(J)return-1;if(it)return 1}return G})(b.upper,C.upper,b.upperOpen,C.upperOpen)}function wh(b,C,k,G){b.subscribers.add(k),G.addEventListener("abort",function(){var J,it;b.subscribers.delete(k),b.subscribers.size===0&&(J=b,it=C,setTimeout(function(){J.subscribers.size===0&&tt(it,J)},3e3))})}var Tl={stack:"dbcore",level:0,name:"Cache",create:function(b){var C=b.schema.name;return i(i({},b),{transaction:function(k,G,J){var it,ct,dt=b.transaction(k,G,J);return G==="readwrite"&&(ct=(it=new AbortController).signal,J=function(_t){return function(){if(it.abort(),G==="readwrite"){for(var wt=new Set,jt=0,vt=k;jt<vt.length;jt++){var Mt=vt[jt],Et=Wr["idb://".concat(C,"/").concat(Mt)];if(Et){var At=b.table(Mt),Ot=Et.optimisticOps.filter(function(De){return De.trans===dt});if(dt._explicit&&_t&&dt.mutatedParts)for(var Dt=0,Pt=Object.values(Et.queries.query);Dt<Pt.length;Dt++)for(var It=0,ee=(Oe=Pt[Dt]).slice();It<ee.length;It++)hc((ge=ee[It]).obsSet,dt.mutatedParts)&&(tt(Oe,ge),ge.subscribers.forEach(function(De){return wt.add(De)}));else if(0<Ot.length){Et.optimisticOps=Et.optimisticOps.filter(function(De){return De.trans!==dt});for(var se=0,be=Object.values(Et.queries.query);se<be.length;se++)for(var Oe,ge,he,Re=0,ye=(Oe=be[se]).slice();Re<ye.length;Re++)(ge=ye[Re]).res!=null&&dt.mutatedParts&&(_t&&!ge.dirty?(he=Object.isFrozen(ge.res),he=wu(ge.res,ge.req,Ot,At,ge,he),ge.dirty?(tt(Oe,ge),ge.subscribers.forEach(function(De){return wt.add(De)})):he!==ge.res&&(ge.res=he,ge.promise=Ne.resolve({result:he}))):(ge.dirty&&tt(Oe,ge),ge.subscribers.forEach(function(De){return wt.add(De)})))}}}wt.forEach(function(De){return De()})}}},dt.addEventListener("abort",J(!1),{signal:ct}),dt.addEventListener("error",J(!1),{signal:ct}),dt.addEventListener("complete",J(!0),{signal:ct})),dt},table:function(k){var G=b.table(k),J=G.schema.primaryKey;return i(i({},G),{mutate:function(it){var ct=pe.trans;if(J.outbound||ct.db._options.cache==="disabled"||ct.explicit||ct.idbtrans.mode!=="readwrite")return G.mutate(it);var dt=Wr["idb://".concat(C,"/").concat(k)];return dt?(ct=G.mutate(it),it.type!=="add"&&it.type!=="put"||!(50<=it.values.length||mc(J,it).some(function(_t){return _t==null}))?(dt.optimisticOps.push(it),it.mutatedParts&&vu(it.mutatedParts),ct.then(function(_t){0<_t.numFailures&&(tt(dt.optimisticOps,it),(_t=gc(0,it,_t))&&dt.optimisticOps.push(_t),it.mutatedParts&&vu(it.mutatedParts))}),ct.catch(function(){tt(dt.optimisticOps,it),it.mutatedParts&&vu(it.mutatedParts)})):ct.then(function(_t){var wt=gc(0,i(i({},it),{values:it.values.map(function(jt,vt){var Mt;return _t.failures[vt]?jt:(jt=(Mt=J.keyPath)!==null&&Mt!==void 0&&Mt.includes(".")?q(jt):i({},jt),X(jt,J.keyPath,_t.results[vt]),jt)})}),_t);dt.optimisticOps.push(wt),queueMicrotask(function(){return it.mutatedParts&&vu(it.mutatedParts)})}),ct):G.mutate(it)},query:function(it){if(!$r(pe,G)||!bf("query",it))return G.query(it);var ct=((wt=pe.trans)===null||wt===void 0?void 0:wt.db._options.cache)==="immutable",vt=pe,dt=vt.requery,_t=vt.signal,wt=(function(At,Ot,Dt,Pt){var It=Wr["idb://".concat(At,"/").concat(Ot)];if(!It)return[];if(!(Ot=It.queries[Dt]))return[null,!1,It,null];var ee=Ot[(Pt.query?Pt.query.index.name:null)||""];if(!ee)return[null,!1,It,null];switch(Dt){case"query":var se=ee.find(function(be){return be.req.limit===Pt.limit&&be.req.values===Pt.values&&Rr(be.req.query.range,Pt.query.range)});return se?[se,!0,It,ee]:[ee.find(function(be){return("limit"in be.req?be.req.limit:1/0)>=Pt.limit&&(!Pt.values||be.req.values)&&Po(be.req.query.range,Pt.query.range)}),!1,It,ee];case"count":return se=ee.find(function(be){return Rr(be.req.query.range,Pt.query.range)}),[se,!!se,It,ee]}})(C,k,"query",it),jt=wt[0],vt=wt[1],Mt=wt[2],Et=wt[3];return jt&&vt?jt.obsSet=it.obsSet:(vt=G.query(it).then(function(At){var Ot=At.result;if(jt&&(jt.res=Ot),ct){for(var Dt=0,Pt=Ot.length;Dt<Pt;++Dt)Object.freeze(Ot[Dt]);Object.freeze(Ot)}else At.result=q(Ot);return At}).catch(function(At){return Et&&jt&&tt(Et,jt),Promise.reject(At)}),jt={obsSet:it.obsSet,promise:vt,subscribers:new Set,type:"query",req:it,dirty:!1},Et?Et.push(jt):(Et=[jt],(Mt=Mt||(Wr["idb://".concat(C,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[it.query.index.name||""]=Et)),wh(jt,Et,dt,_t),jt.promise.then(function(At){return{result:wu(At.result,it,Mt?.optimisticOps,G,jt,ct)}})}})}})}};function Cl(b,C){return new Proxy(b,{get:function(k,G,J){return G==="db"?C:Reflect.get(k,G,J)}})}var sa=(oi.prototype.version=function(b){if(isNaN(b)||b<.1)throw new Ct.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new Ct.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var C=this._versions,k=C.filter(function(G){return G._cfg.version===b})[0];return k||(k=new this.Version(b),C.push(k),C.sort(lc),k.stores({}),this._state.autoSchema=!1,k)},oi.prototype._whenReady=function(b){var C=this;return this.idbdb&&(this._state.openComplete||pe.letThrough||this._vip)?b():new Ne(function(k,G){if(C._state.openComplete)return G(new Ct.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void G(new Ct.DatabaseClosed);C.open().catch(de)}C._state.dbReadyPromise.then(k,G)}).then(b)},oi.prototype.use=function(b){var C=b.stack,k=b.create,G=b.level,J=b.name;return J&&this.unuse({stack:C,name:J}),b=this._middlewares[C]||(this._middlewares[C]=[]),b.push({stack:C,create:k,level:G??10,name:J}),b.sort(function(it,ct){return it.level-ct.level}),this},oi.prototype.unuse=function(b){var C=b.stack,k=b.name,G=b.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(J){return G?J.create!==G:!!k&&J.name!==k})),this},oi.prototype.open=function(){var b=this;return Na(tn,function(){return _h(b)})},oi.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var b=this._state,C=Fa.indexOf(this);if(0<=C&&Fa.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new Ne(function(k){b.dbReadyResolve=k}),b.openCanceller=new Ne(function(k,G){b.cancelOpen=G}))},oi.prototype.close=function(k){var C=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;C?(k.isBeingOpened&&k.cancelOpen(new Ct.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Ct.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},oi.prototype.delete=function(b){var C=this;b===void 0&&(b={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",G=this._state;return new Ne(function(J,it){function ct(){C.close(b);var dt=C._deps.indexedDB.deleteDatabase(C.name);dt.onsuccess=In(function(){var _t,wt,jt;_t=C._deps,wt=C.name,jt=_t.indexedDB,_t=_t.IDBKeyRange,_l(jt)||wt===No||Ho(jt,_t).delete(wt).catch(de),J()}),dt.onerror=ds(it),dt.onblocked=C._fireOnBlocked}if(k)throw new Ct.InvalidArgument("Invalid closeOptions argument to db.delete()");G.isBeingOpened?G.dbReadyPromise.then(ct):ct()})},oi.prototype.backendDB=function(){return this.idbdb},oi.prototype.isOpen=function(){return this.idbdb!==null},oi.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},oi.prototype.hasFailed=function(){return this._state.dbOpenError!==null},oi.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(oi.prototype,"tables",{get:function(){var b=this;return u(this._allTables).map(function(C){return b._allTables[C]})},enumerable:!1,configurable:!0}),oi.prototype.transaction=function(){var b=(function(C,k,G){var J=arguments.length;if(J<2)throw new Ct.InvalidArgument("Too few arguments");for(var it=new Array(J-1);--J;)it[J-1]=arguments[J];return G=it.pop(),[C,P(it),G]}).apply(this,arguments);return this._transaction.apply(this,b)},oi.prototype._transaction=function(b,C,k){var G=this,J=pe.trans;J&&J.db===this&&b.indexOf("!")===-1||(J=null);var it,ct,dt=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(ct=C.map(function(wt){if(wt=wt instanceof G.Table?wt.name:wt,typeof wt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return wt}),b=="r"||b===Zs)it=Zs;else{if(b!="rw"&&b!=Da)throw new Ct.InvalidArgument("Invalid transaction mode: "+b);it=Da}if(J){if(J.mode===Zs&&it===Da){if(!dt)throw new Ct.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");J=null}J&&ct.forEach(function(wt){if(J&&J.storeNames.indexOf(wt)===-1){if(!dt)throw new Ct.SubTransaction("Table "+wt+" not included in parent transaction.");J=null}}),dt&&J&&!J.active&&(J=null)}}catch(wt){return J?J._promise(null,function(jt,vt){vt(wt)}):Zn(wt)}var _t=(function wt(jt,vt,Mt,Et,At){return Ne.resolve().then(function(){var Ot=pe.transless||pe,Dt=jt._createTransaction(vt,Mt,jt._dbSchema,Et);if(Dt.explicit=!0,Ot={trans:Dt,transless:Ot},Et)Dt.idbtrans=Et.idbtrans;else try{Dt.create(),Dt.idbtrans._explicit=!0,jt._state.PR1398_maxLoop=3}catch(ee){return ee.name===Qt.InvalidState&&jt.isOpen()&&0<--jt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),jt.close({disableAutoOpen:!1}),jt.open().then(function(){return wt(jt,vt,Mt,null,At)})):Zn(ee)}var Pt,It=Y(At);return It&&Ei(),Ot=Ne.follow(function(){var ee;(Pt=At.call(Dt,Dt))&&(It?(ee=Ma.bind(null,null),Pt.then(ee,ee)):typeof Pt.next=="function"&&typeof Pt.throw=="function"&&(Pt=Cr(Pt)))},Ot),(Pt&&typeof Pt.then=="function"?Ne.resolve(Pt).then(function(ee){return Dt.active?ee:Zn(new Ct.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ot.then(function(){return Pt})).then(function(ee){return Et&&Dt._resolve(),Dt._completion.then(function(){return ee})}).catch(function(ee){return Dt._reject(ee),Zn(ee)})})}).bind(null,this,it,ct,J,k);return J?J._promise(it,_t,"lock"):pe.trans?Na(pe.transless,function(){return G._whenReady(_t)}):this._whenReady(_t)},oi.prototype.table=function(b){if(!v(this._allTables,b))throw new Ct.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},oi);function oi(b,C){var k=this;this._middlewares={},this.verno=0;var G=oi.dependencies;this._options=C=i({addons:oi.addons,autoOpen:!0,indexedDB:G.indexedDB,IDBKeyRange:G.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},G=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var J,it,ct,dt,_t,wt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:de,dbReadyPromise:null,cancelOpen:de,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};wt.dbReadyPromise=new Ne(function(vt){wt.dbReadyResolve=vt}),wt.openCanceller=new Ne(function(vt,Mt){wt.cancelOpen=Mt}),this._state=wt,this.name=b,this.on=Fr(this,"populate","blocked","versionchange","close",{ready:[zt,de]}),this.once=function(vt,Mt){var Et=function(){for(var At=[],Ot=0;Ot<arguments.length;Ot++)At[Ot]=arguments[Ot];k.on(vt).unsubscribe(Et),Mt.apply(k,At)};return k.on(vt,Et)},this.on.ready.subscribe=B(this.on.ready.subscribe,function(vt){return function(Mt,Et){oi.vip(function(){var At,Ot=k._state;Ot.openComplete?(Ot.dbOpenError||Ne.resolve().then(Mt),Et&&vt(Mt)):Ot.onReadyBeingFired?(Ot.onReadyBeingFired.push(Mt),Et&&vt(Mt)):(vt(Mt),At=k,Et||vt(function Dt(){At.on.ready.unsubscribe(Mt),At.on.ready.unsubscribe(Dt)}))})}}),this.Collection=(J=this,Hi(vh.prototype,function(Pt,Dt){this.db=J;var Et=ml,At=null;if(Dt)try{Et=Dt()}catch(It){At=It}var Ot=Pt._ctx,Dt=Ot.table,Pt=Dt.hook.reading.fire;this._ctx={table:Dt,index:Ot.index,isPrimKey:!Ot.index||Dt.schema.primKey.keyPath&&Ot.index===Dt.schema.primKey.name,range:Et,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:At,or:Ot.or,valueMapper:Pt!==Ae?Pt:null}})),this.Table=(it=this,Hi(fa.prototype,function(vt,Mt,Et){this.db=it,this._tx=Et,this.name=vt,this.schema=Mt,this.hook=it._allTables[vt]?it._allTables[vt].hook:Fr(null,{creating:[kt,de],reading:[V,Ae],updating:[et,de],deleting:[ot,de]})})),this.Transaction=(ct=this,Hi(pf.prototype,function(vt,Mt,Et,At,Ot){var Dt=this;vt!=="readonly"&&Mt.forEach(function(Pt){Pt=(Pt=Et[Pt])===null||Pt===void 0?void 0:Pt.yProps,Pt&&(Mt=Mt.concat(Pt.map(function(It){return It.updatesTable})))}),this.db=ct,this.mode=vt,this.storeNames=Mt,this.schema=Et,this.chromeTransactionDurability=At,this.idbtrans=null,this.on=Fr(this,"complete","error","abort"),this.parent=Ot||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ne(function(Pt,It){Dt._resolve=Pt,Dt._reject=It}),this._completion.then(function(){Dt.active=!1,Dt.on.complete.fire()},function(Pt){var It=Dt.active;return Dt.active=!1,Dt.on.error.fire(Pt),Dt.parent?Dt.parent._reject(Pt):It&&Dt.idbtrans&&Dt.idbtrans.abort(),Zn(Pt)})})),this.Version=(dt=this,Hi(Hd.prototype,function(vt){this.db=dt,this._cfg={version:vt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_t=this,Hi(Yr.prototype,function(vt,Mt,Et){if(this.db=_t,this._ctx={table:vt,index:Mt===":id"?null:Mt,or:Et},this._cmp=this._ascending=fn,this._descending=function(At,Ot){return fn(Ot,At)},this._max=function(At,Ot){return 0<fn(At,Ot)?At:Ot},this._min=function(At,Ot){return fn(At,Ot)<0?At:Ot},this._IDBKeyRange=_t._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ct.MissingAPI})),this.on("versionchange",function(vt){0<vt.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(vt){!vt.newVersion||vt.newVersion<vt.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(vt.oldVersion/10))}),this._maxKey=Er(C.IDBKeyRange),this._createTransaction=function(vt,Mt,Et,At){return new k.Transaction(vt,Mt,Et,k._options.chromeTransactionDurability,At)},this._fireOnBlocked=function(vt){k.on("blocked").fire(vt),Fa.filter(function(Mt){return Mt.name===k.name&&Mt!==k&&!Mt._state.vcFired}).map(function(Mt){return Mt.on("versionchange").fire(vt)})},this.use(xf),this.use(Tl),this.use(Sf),this.use(pc),this.use(bu);var jt=new Proxy(this,{get:function(vt,Mt,Et){if(Mt==="_vip")return!0;if(Mt==="table")return function(Ot){return Cl(k.table(Ot),jt)};var At=Reflect.get(vt,Mt,Et);return At instanceof fa?Cl(At,jt):Mt==="tables"?At.map(function(Ot){return Cl(Ot,jt)}):Mt==="_createTransaction"?function(){return Cl(At.apply(this,arguments),jt)}:At}});this.vip=jt,G.forEach(function(vt){return vt(k)})}var Al,Ka=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ps=(Vo.prototype.subscribe=function(b,C,k){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:C,complete:k})},Vo.prototype[Ka]=function(){return this},Vo);function Vo(b){this._subscribe=b}try{Al={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Al={indexedDB:null,IDBKeyRange:null}}function _f(b){var C,k=!1,G=new ps(function(J){var it=Y(b),ct,dt=!1,_t={},wt={},jt={get closed(){return dt},unsubscribe:function(){dt||(dt=!0,ct&&ct.abort(),vt&&ha.storagemutated.unsubscribe(Et))}};J.start&&J.start(jt);var vt=!1,Mt=function(){return _r(At)},Et=function(Ot){El(_t,Ot),hc(wt,_t)&&Mt()},At=function(){var Ot,Dt,Pt;!dt&&Al.indexedDB&&(_t={},Ot={},ct&&ct.abort(),ct=new AbortController,Pt=(function(It){var ee=vr();try{it&&Ei();var se=Xn(b,It);return se=it?se.finally(Ma):se}finally{ee&&Ns()}})(Dt={subscr:Ot,signal:ct.signal,requery:Mt,querier:b,trans:null}),Promise.resolve(Pt).then(function(It){k=!0,C=It,dt||Dt.signal.aborted||(_t={},(function(ee){for(var se in ee)if(v(ee,se))return;return 1})(wt=Ot)||vt||(ha(zo,Et),vt=!0),_r(function(){return!dt&&J.next&&J.next(It)}))},function(It){k=!1,["DatabaseClosedError","AbortError"].includes(It?.name)||dt||_r(function(){dt||J.error&&J.error(It)})}))};return setTimeout(Mt,0),jt});return G.hasValue=function(){return k},G.getValue=function(){return C},G}var Or=sa;function yc(b){var C=Ws;try{Ws=!0,ha.storagemutated.fire(b),dc(b,!0)}finally{Ws=C}}x(Or,i(i({},ve),{delete:function(b){return new Or(b,{addons:[]}).delete()},exists:function(b){return new Or(b,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return C=Or.dependencies,k=C.indexedDB,C=C.IDBKeyRange,(_l(k)?Promise.resolve(k.databases()).then(function(G){return G.map(function(J){return J.name}).filter(function(J){return J!==No})}):Ho(k,C).toCollection().primaryKeys()).then(b)}catch{return Zn(new Ct.MissingAPI)}var C,k},defineClass:function(){return function(b){d(this,b)}},ignoreTransaction:function(b){return pe.trans?Na(pe.transless,b):b()},vip:wl,async:function(b){return function(){try{var C=Cr(b.apply(this,arguments));return C&&typeof C.then=="function"?C:Ne.resolve(C)}catch(k){return Zn(k)}}},spawn:function(b,C,k){try{var G=Cr(b.apply(k,C||[]));return G&&typeof G.then=="function"?G:Ne.resolve(G)}catch(J){return Zn(J)}},currentTransaction:{get:function(){return pe.trans||null}},waitFor:function(b,C){return C=Ne.resolve(typeof b=="function"?Or.ignoreTransaction(b):b).timeout(C||6e4),pe.trans?pe.trans.waitFor(C):C},Promise:Ne,debug:{get:function(){return Ft},set:function(b){xt(b)}},derive:T,extend:d,props:x,override:B,Events:Fr,on:ha,liveQuery:_f,extendObservabilitySet:El,getByKeyPath:nt,setByKeyPath:X,delByKeyPath:function(b,C){typeof C=="string"?X(b,C,void 0):"length"in C&&[].map.call(C,function(k){X(b,k,void 0)})},shallowClone:z,deepClone:q,getObjectDiff:xu,cmp:fn,asap:F,minKey:-1/0,addons:[],connections:Fa,errnames:Qt,dependencies:Al,cache:Wr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,C,k){return b+C/Math.pow(10,2*k)})})),Or.maxKey=Er(Or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ha(zo,function(b){Ws||(b=new CustomEvent(Zr,{detail:b}),Ws=!0,dispatchEvent(b),Ws=!1)}),addEventListener(Zr,function(b){b=b.detail,Ws||yc(b)}));var Io,Ws=!1,Sa=function(){};return typeof BroadcastChannel<"u"&&((Sa=function(){(Io=new BroadcastChannel(Zr)).onmessage=function(b){return b.data&&yc(b.data)}})(),typeof Io.unref=="function"&&Io.unref(),ha(zo,function(b){Ws||Io.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!sa.disableBfCache&&b.persisted){Ft&&console.debug("Dexie: handling persisted pagehide"),Io?.close();for(var C=0,k=Fa;C<k.length;C++)k[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!sa.disableBfCache&&b.persisted&&(Ft&&console.debug("Dexie: handling persisted pageshow"),Sa(),yc({all:new da(-1/0,[[]])}))})),Ne.rejectionMapper=function(b,C){return!b||b instanceof ft||b instanceof TypeError||b instanceof SyntaxError||!b.name||!Ee[b.name]?b:(C=new Ee[b.name](C||b.message,b),"stack"in b&&E(C,"stack",{get:function(){return this.inner.stack}}),C)},xt(Ft),i(sa,Object.freeze({__proto__:null,Dexie:sa,liveQuery:_f,Entity:ac,cmp:fn,PropModification:qr,replacePrefix:function(b,C){return new qr({replacePrefix:[b,C]})},add:function(b){return new qr({add:b})},remove:function(b){return new qr({remove:b})},default:sa,RangeSet:da,mergeRanges:Jr,rangesOverlap:gf}),{default:sa}),sa})})(Hg)),Hg.exports}var zC=DC();const Nv=lh(zC),p3=Symbol.for("Dexie"),Ad=globalThis[p3]||(globalThis[p3]=Nv);if(Nv.semVer!==Ad.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Nv.semVer} and ${Ad.semVer}`);const{liveQuery:GU,mergeRanges:PU,rangesOverlap:VU,RangeSet:IU,cmp:qU,Entity:FU,PropModification:KU,replacePrefix:YU,add:XU,remove:ZU,DexieYProvider:QU}=Ad;function jC(e,t,n){var i,s;typeof e=="function"?(i=t||[],s=n):(i=[],s=t);var o=Ce.useRef({hasResult:!1,result:s,error:null}),u=Ce.useReducer(function(p){return p+1},0);u[0];var f=u[1],d=Ce.useMemo(function(){var p=typeof e=="function"?e():e;if(!p||typeof p.subscribe!="function")throw e===p?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof p.hasValue!="function"||p.hasValue()))if(typeof p.getValue=="function")o.current.result=p.getValue(),o.current.hasResult=!0;else{var y=p.subscribe(function(v){o.current.result=v,o.current.hasResult=!0});typeof y=="function"?y():y.unsubscribe()}return p},i);if(Ce.useDebugValue(o.current.result),Ce.useEffect(function(){var p=d.subscribe(function(y){var v=o.current;(v.error!==null||v.result!==y)&&(v.error=null,v.result=y,v.hasResult=!0,f())},function(y){var v=o.current;v.error!==y&&(v.error=y,f())});return typeof p=="function"?p:p.unsubscribe.bind(p)},i),o.current.error)throw o.current.error;return o.current.result}function m3(e,t,n){return jC(function(){return Ad.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Ad.DexieYProvider;t&&t.release(e)});const Kn=new Ad("ImageLabelingDB");Kn.version(3).stores({files:"++id, name, baseName, path, type, status, retry_count, backend_url, paired_label_id, created_at",settings:"key"});const zi={PENDING:"pending",SYNCING:"syncing",SYNCED:"synced",ERROR:"error",MISSING_IMAGE:"missing-image",MISSING_LABEL:"missing-label"};async function g3(e){return Kn.files.get(e)}async function y3(e,t){return Kn.files.update(e,t)}async function kC(e){return Kn.files.delete(e)}async function BC(e,t){return Kn.settings.put({key:e,value:t})}async function LC(e){const t=await Kn.settings.get(e);return t?t.value:null}function V4(){const[e,t]=ut.useState(!1),[n,i]=ut.useState({processed:0,total:0}),[s,o]=ut.useState(null),[u,f]=ut.useState(new Set),[d,p]=ut.useState(null),[y,v]=ut.useState(null),[x,_]=ut.useState([]),[E,T]=ut.useState(null),M=ut.useRef(null),O=ut.useRef(null),R=m3(()=>Kn.files.orderBy("created_at").reverse().toArray(),[],[]);ut.useEffect(()=>(O.current=new Worker(new URL("/assets/fileProcessor.worker-CPa-DyZN.js",import.meta.url),{type:"module"}),O.current.onmessage=B,LC("classNames").then($=>{$&&_($)}),()=>{O.current?.terminate(),M.current&&URL.revokeObjectURL(M.current)}),[]);const B=ut.useCallback($=>{const{type:ft,payload:pt}=$.data;switch(ft){case"PROCESS_PROGRESS":i(pt);break;case"PROCESS_COMPLETE":H(pt);break;case"PROCESS_ERROR":T(pt.error),t(!1);break}},[]),H=ut.useCallback(async $=>{try{const{images:ft,labels:pt}=$,yt=ft.length+pt.length;let Yt=0;for(const Qt of ft){const Ht=await Kn.files.where("baseName").equals(Qt.baseName).first();Ht?await Kn.files.update(Ht.id,{name:Qt.name,path:Qt.path||"",blob:Qt.blob,thumbnail:Qt.thumbnail,width:Qt.width,height:Qt.height,status:Ht.label_data?zi.PENDING:zi.MISSING_LABEL}):await Kn.files.add({name:Qt.name,baseName:Qt.baseName,path:Qt.path||"",type:"image",blob:Qt.blob,thumbnail:Qt.thumbnail,width:Qt.width,height:Qt.height,label_data:null,status:zi.MISSING_LABEL,created_at:new Date().toISOString()}),Yt++,i({processed:Yt,total:yt,phase:"saving"})}for(const Qt of pt){const Ht=await Kn.files.where("baseName").equals(Qt.baseName).first();Ht?await Kn.files.update(Ht.id,{label_data:Qt.data,path:Ht.path||Qt.path||"",status:Ht.blob?zi.PENDING:zi.MISSING_IMAGE}):await Kn.files.add({name:`(Missing Image) ${Qt.baseName}`,baseName:Qt.baseName,path:Qt.path||"",type:"image",blob:null,thumbnail:null,label_data:Qt.data,width:0,height:0,status:zi.MISSING_IMAGE,created_at:new Date().toISOString()}),Yt++,i({processed:Yt,total:yt,phase:"saving"})}t(!1),i({processed:0,total:0})}catch(ft){console.error("Process handling failed:",ft),T(ft.message),t(!1)}},[]),F=ut.useCallback(async()=>{try{t(!0),(await Kn.files.toArray()).forEach(ft=>{ft.blobUrl&&URL.revokeObjectURL(ft.blobUrl)}),await Kn.files.clear(),o(null),v(null),t(!1)}catch($){T("Failed to clear project: "+$.message),t(!1)}},[]),nt=$=>new Promise((ft,pt)=>{const yt=new FileReader;yt.onload=Yt=>ft(Yt.target.result),yt.onerror=Yt=>pt(new Error(`Failed to read ${$.name}`)),yt.readAsText($)}),z=ut.useCallback(async $=>{if(!O.current||!$||$.length===0)return;t(!0),T(null);const ft=Array.from($),pt=[],yt=[],Yt=[],Qt=Ct=>{let Ee=Ct.webkitRelativePath||Ct.path||Ct.name;return typeof Ee=="string"&&Ee.startsWith("/")&&(Ee=Ee.substring(1)),Ee};for(const Ct of ft){const Ee=Qt(Ct);if(Ct.type.startsWith("image/")||/\.(jpg|jpeg|png|webp|bmp|gif)$/i.test(Ct.name)){pt.push({file:Ct,_customPath:Ee});continue}if(/\.(json|xml|txt)$/i.test(Ct.name))try{const ve=await nt(Ct),Ae=(await Kp(async()=>{const{AnnotationConverter:Rt}=await Promise.resolve().then(()=>pg);return{AnnotationConverter:Rt}},void 0)).AnnotationConverter.detectFormat(ve);["coco","toon-batch","voc-aggregated","yolo-aggregated"].includes(Ae)?(console.log(`[FileSystem] Batch Label detected: ${Ct.name} (${Ae})`),Yt.push({file:Ct,content:ve,format:Ae,path:Ee})):(console.log(`[FileSystem] Single Label detected: ${Ct.name} (${Ae})`),yt.push({file:Ct,_customPath:Ee,content:ve,format:Ae}))}catch{console.warn(`Failed to analyze ${Ct.name}, defaulting to single label queue.`),yt.push({file:Ct,_customPath:Ee})}}const Ht=pt.length+yt.length+Yt.length;if(i({processed:0,total:Ht,phase:"analyzing"}),(pt.length>0||yt.length>0)&&O.current.postMessage({type:"PROCESS_FILES",payload:{files:[...pt,...yt]}}),Yt.length>0){const Ct=(await Kp(async()=>{const{AnnotationConverter:ve}=await Promise.resolve().then(()=>pg);return{AnnotationConverter:ve}},void 0)).AnnotationConverter;let Ee=0;for(const ve of Yt)try{const de=await Kn.files.toArray(),Ae=Ct.parseAnnotations(ve.content,de,ve.format),V=Object.entries(Ae.annotations);console.log(`[FileSystem] Processing ${V.length} matched files...`);for(const[Rt,kt]of V){let ot=await Kn.files.where("path").equals(Rt).first();ot||(ot=await Kn.files.where("name").equals(Rt).first());const et=Ct.internalToToon(kt,{name:Rt,width:ot?.width||800,height:ot?.height||600});ot?(console.log(`[FileSystem] Updating existing image: ${Rt} (ID: ${ot.id})`),await Kn.files.update(ot.id,{label_data:et,status:ot.blob?zi.PENDING:zi.MISSING_IMAGE})):(console.warn(`[FileSystem] Creating NEW placeholder for "${Rt}" -> MISSING IMAGE`),await Kn.files.add({name:Rt.split("/").pop(),baseName:Rt.replace(/\.[^/.]+$/,"").split("/").pop(),path:Rt,type:"image",blob:null,thumbnail:null,label_data:et,status:zi.MISSING_IMAGE,created_at:new Date().toISOString()}))}Ee++}catch(de){console.error(`Batch process failed for ${ve.file.name}:`,de),T(`Batch import failed: ${de.message}`)}if(s&&Yt.some(de=>!0)){console.log("[FileSystem] Batch process complete, refreshing active file UI...");const de=s;o(null),setTimeout(()=>o(de),50)}pt.length===0&&yt.length===0&&(t(!1),i({processed:0,total:0}))}},[]),j=ut.useCallback(async $=>{if($!==s){if(M.current&&(URL.revokeObjectURL(M.current),M.current=null),o($),!$){v(null);return}try{const ft=await g3($);if(!ft){v(null);return}let pt;ft.backend_url?pt=ft.backend_url:ft.blob?(pt=URL.createObjectURL(ft.blob),M.current=pt):pt=null,v({...ft,imageUrl:pt,annotations:ft.label_data?Dv(ft.label_data,x,ft.width,ft.height):[]})}catch(ft){console.error("Error selecting file:",ft),v(null)}}},[s,x]),P=ut.useCallback(async($,ft={})=>{if(!s)return;const{width:pt,height:yt,format:Yt="yolo"}=ft,Qt=pt||y?.width||0,Ht=yt||y?.height||0,Ct=HC($,Yt,x,Qt,Ht);await y3(s,{label_data:Ct,width:Qt||void 0,height:Ht||void 0,status:zi.PENDING})},[s,x,y]),at=ut.useCallback(async($,ft,pt={})=>{const yt=await g3($);if(!yt)return;const{width:Yt,height:Qt}=pt,Ht=Yt||yt.width||0,Ct=Qt||yt.height||0,ve=(await Kp(async()=>{const{AnnotationConverter:de}=await Promise.resolve().then(()=>pg);return{AnnotationConverter:de}},void 0)).AnnotationConverter.internalToToon(ft,{name:yt.name,width:Ht,height:Ct});await y3($,{label_data:ve,width:Ht||void 0,height:Ct||void 0,status:zi.PENDING})},[]),U=ut.useCallback(async $=>{await Kn.files.update($,{status:zi.PENDING,error:null})},[]),q=ut.useCallback(async $=>{await Kn.files.get($)&&(await kC($),$===s&&(o(null),v(null)),f(pt=>{const yt=new Set(pt);return yt.delete($),yt}))},[s]),D=ut.useCallback(async()=>{try{t(!0);const $=await Kn.files.toArray(),ft=$.map(pt=>({id:pt.id,label_data:null,status:pt.blob?zi.MISSING_LABEL:zi.MISSING_IMAGE}));if(await Kn.files.bulkPut(ft.map(pt=>({...$.find(yt=>yt.id===pt.id),...pt}))),s){const pt=s;o(null),setTimeout(()=>o(pt),50)}t(!1)}catch($){console.error("Failed to clear labels:",$),T($.message),t(!1)}},[s]),Z=ut.useCallback(async($,ft)=>{if(!s||!y||$===ft)return;const pt=y.annotations.map(yt=>yt.label===$?{...yt,label:ft}:yt);await P(pt),v(yt=>({...yt,annotations:pt}))},[s,y,P]),K=m3(async()=>{const $=await Kn.files.where("status").equals(zi.PENDING).count(),ft=await Kn.files.where("status").equals(zi.SYNCING).count(),pt=await Kn.files.where("status").equals(zi.SYNCED).count(),yt=await Kn.files.count();return{pending:$,syncing:ft,synced:pt,total:yt}},[],{pending:0,syncing:0,synced:0,total:0}),Q=ut.useCallback(async($=!1)=>{t(!0),i({processed:0,total:0,phase:"saving"});try{const ft=await Kn.files.toArray();let pt=0;const yt=ft.length,Yt=(await Kp(async()=>{const{default:Qt}=await Promise.resolve().then(()=>K9);return{default:Qt}},void 0)).default;for(const Qt of ft){if(!Qt.blob||!(Qt.blob instanceof Blob))continue;const Ht=new FormData;Ht.append("file",Qt.blob,Qt.name),Ht.append("image_name",Qt.name),Ht.append("augmentation",$?"true":"false");let Ct=[];if(Qt.label_data){const Ee=(await Kp(async()=>{const{AnnotationConverter:de}=await Promise.resolve().then(()=>pg);return{AnnotationConverter:de}},void 0)).AnnotationConverter,ve=Dv(Qt.label_data,x,Qt.width,Qt.height);ve&&(Ct=ve.map(de=>({label:de.label,points:de.points})))}Ht.append("annotations",JSON.stringify(Ct)),await Yt.post("/api/save",Ht),pt++,i({processed:pt,total:yt,phase:"saving"})}return t(!1),{success:!0,count:pt}}catch(ft){return console.error(ft),t(!1),{success:!1,error:ft.message}}},[x]),tt=ut.useCallback(($,ft)=>{const pt=ft?.ctrlKey||ft?.metaKey;if(ft?.shiftKey&&d&&R.length>0){const Yt=R.map(Ct=>Ct.id),Qt=Yt.indexOf(d),Ht=Yt.indexOf($);if(Qt!==-1&&Ht!==-1){const[Ct,Ee]=Qt<Ht?[Qt,Ht]:[Ht,Qt],ve=Yt.slice(Ct,Ee+1);f(new Set(ve))}}else pt?(f(Yt=>{const Qt=new Set(Yt);return Qt.has($)?Qt.delete($):Qt.add($),Qt}),p($)):(f(new Set([$])),p($));j($)},[d,R,j]),st=ut.useCallback(()=>{f(new Set),p(null)},[]),gt=ut.useCallback(()=>{R.length>0&&f(new Set(R.map($=>$.id)))},[R]),Y=ut.useCallback(async()=>{if(u.size===0)return;const $=Array.from(u);for(const ft of $)await q(ft);f(new Set),p(null)},[u,q]);return{files:R,activeFileId:s,selectedFileIds:u,activeFileData:y,classNames:x,isProcessing:e,processingProgress:n,syncStats:K,error:E,saveProjectToBackend:Q,ingestFiles:z,clearProject:F,clearAllLabels:D,retryFile:U,renameClass:UC,renameClassActiveOnly:Z,selectFile:j,handleFileClick:tt,clearSelection:st,selectAllFiles:gt,removeSelectedFiles:Y,updateActiveAnnotations:P,updateFileAnnotations:at,removeFile:q,setClassNames:_}}async function UC(e,t,n,i){if(e===t)return;const s=n.map(d=>d===e?t:d);i(s),await BC("classNames",s);const o=await Kn.files.where("label_data").notEqual(null).toArray();if(n.indexOf(e)===-1)return;const f=o.map(d=>{const y=d.label_data.split(`
`).map(v=>v.startsWith("# classes:")?`# classes: ${s.join(", ")}`:v);return{id:d.id,label_data:y.join(`
`),status:zi.PENDING}});await Kn.files.bulkPut(f.map(d=>({...o.find(p=>p.id===d.id),...d})))}function Dv(e,t,n=0,i=0){if(!e)return[];if(typeof e=="object"&&e!==null&&e.v==="1.0"){const d=e.c||[];return(e.d||[]).map((y,v)=>{const[x,_]=y,E=d[x]||t[x]||`class_${x}`;let T=[..._];return T.length>0&&T.every(O=>O<=1.05)&&n&&i&&(T=T.map((O,R)=>R%2===0?O*n:O*i)),{id:`ann_${v}`,type:"poly",label:E,points:T,originalRawPoints:T}})}const s=typeof e=="string"?e:JSON.stringify(e);if(s.trim().startsWith("{"))try{const d=JSON.parse(s);if(d.v==="1.0")return Dv(d,t,n,i)}catch{}let o=[];const u=s.match(/^#\s*classes?:\s*(.+)$/im);return u&&(o=u[1].split(",").map(d=>d.trim()).filter(d=>d)),s.trim().split(`
`).filter(d=>!d.startsWith("#")&&d.trim()).map((d,p)=>{const y=d.trim().split(/\s+/);if(y.length<5)return null;const v=parseInt(y[0]),x=o[v]||`class_${v}`;if(y.length===5){const _=parseFloat(y[1]),E=parseFloat(y[2]),T=parseFloat(y[3]),M=parseFloat(y[4]),O=n?T*n:T*800,R=i?M*i:M*600,B=n?_*n-O/2:_*800-O/2,H=i?E*i-R/2:E*600-R/2;return{id:`ann_${p}`,type:"box",label:x,x:B,y:H,w:O,h:R,points:[B,H,B+O,H,B+O,H+R,B,H+R]}}else{const _=[];for(let E=1;E<y.length;E+=2){const T=parseFloat(y[E]),M=parseFloat(y[E+1]);_.push(n?T*n:T*800),_.push(i?M*i:M*600)}return{id:`ann_${p}`,type:"poly",label:x,points:_}}}).filter(Boolean)}function HC(e,t,n,i=0,s=0){t!=="yolo"&&console.warn("Only YOLO format is currently supported for serialization");const o=e.map(u=>{let f=u.classId;if(f===void 0&&(f=n.indexOf(u.label),f===-1&&(f=0)),u.type==="box"){const d=i?(u.x+u.w/2)/i:u.x,p=s?(u.y+u.h/2)/s:u.y,y=i?u.w/i:u.w,v=s?u.h/s:u.h;return`${f} ${d} ${p} ${y} ${v}`}else if(u.type==="poly"&&u.points){const d=[];for(let p=0;p<u.points.length;p+=2)d.push(i?u.points[p]/i:u.points[p]),d.push(s?u.points[p+1]/s:u.points[p+1]);return`${f} ${d.join(" ")}`}return null}).filter(Boolean);return o.push(`# classes: ${n.join(", ")}`),o.join(`
`)}function hg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M1={exports:{}};var v3;function GC(){return v3||(v3=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,s,o){function u(p,y){if(!s[p]){if(!i[p]){var v=typeof hg=="function"&&hg;if(!y&&v)return v(p,!0);if(f)return f(p,!0);var x=new Error("Cannot find module '"+p+"'");throw x.code="MODULE_NOT_FOUND",x}var _=s[p]={exports:{}};i[p][0].call(_.exports,function(E){var T=i[p][1][E];return u(T||E)},_,_.exports,n,i,s,o)}return s[p].exports}for(var f=typeof hg=="function"&&hg,d=0;d<o.length;d++)u(o[d]);return u})({1:[function(n,i,s){var o=n("./utils"),u=n("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(d){for(var p,y,v,x,_,E,T,M=[],O=0,R=d.length,B=R,H=o.getTypeOf(d)!=="string";O<d.length;)B=R-O,v=H?(p=d[O++],y=O<R?d[O++]:0,O<R?d[O++]:0):(p=d.charCodeAt(O++),y=O<R?d.charCodeAt(O++):0,O<R?d.charCodeAt(O++):0),x=p>>2,_=(3&p)<<4|y>>4,E=1<B?(15&y)<<2|v>>6:64,T=2<B?63&v:64,M.push(f.charAt(x)+f.charAt(_)+f.charAt(E)+f.charAt(T));return M.join("")},s.decode=function(d){var p,y,v,x,_,E,T=0,M=0,O="data:";if(d.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var R,B=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===f.charAt(64)&&B--,d.charAt(d.length-2)===f.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=u.uint8array?new Uint8Array(0|B):new Array(0|B);T<d.length;)p=f.indexOf(d.charAt(T++))<<2|(x=f.indexOf(d.charAt(T++)))>>4,y=(15&x)<<4|(_=f.indexOf(d.charAt(T++)))>>2,v=(3&_)<<6|(E=f.indexOf(d.charAt(T++))),R[M++]=p,_!==64&&(R[M++]=y),E!==64&&(R[M++]=v);return R}},{"./support":30,"./utils":32}],2:[function(n,i,s){var o=n("./external"),u=n("./stream/DataWorker"),f=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(y,v,x,_,E){this.compressedSize=y,this.uncompressedSize=v,this.crc32=x,this.compression=_,this.compressedContent=E}p.prototype={getContentWorker:function(){var y=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return y.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,v,x){return y.pipe(new f).pipe(new d("uncompressedSize")).pipe(v.compressWorker(x)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},i.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,s){var o=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,s){var o=n("./utils"),u=(function(){for(var f,d=[],p=0;p<256;p++){f=p;for(var y=0;y<8;y++)f=1&f?3988292384^f>>>1:f>>>1;d[p]=f}return d})();i.exports=function(f,d){return f!==void 0&&f.length?o.getTypeOf(f)!=="string"?(function(p,y,v,x){var _=u,E=x+v;p^=-1;for(var T=x;T<E;T++)p=p>>>8^_[255&(p^y[T])];return-1^p})(0|d,f,f.length,0):(function(p,y,v,x){var _=u,E=x+v;p^=-1;for(var T=x;T<E;T++)p=p>>>8^_[255&(p^y.charCodeAt(T))];return-1^p})(0|d,f,f.length,0):0}},{"./utils":32}],5:[function(n,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,i,s){var o=null;o=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=n("pako"),f=n("./utils"),d=n("./stream/GenericWorker"),p=o?"uint8array":"array";function y(v,x){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=x,this.meta={}}s.magic="\b\0",f.inherits(y,d),y.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,v.data),!1)},y.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(x){v.push({data:x,meta:v.meta})}},s.compressWorker=function(v){return new y("Deflate",v)},s.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,s){function o(_,E){var T,M="";for(T=0;T<E;T++)M+=String.fromCharCode(255&_),_>>>=8;return M}function u(_,E,T,M,O,R){var B,H,F=_.file,nt=_.compression,X=R!==p.utf8encode,z=f.transformTo("string",R(F.name)),j=f.transformTo("string",p.utf8encode(F.name)),P=F.comment,at=f.transformTo("string",R(P)),U=f.transformTo("string",p.utf8encode(P)),q=j.length!==F.name.length,D=U.length!==P.length,Z="",K="",Q="",tt=F.dir,st=F.date,gt={crc32:0,compressedSize:0,uncompressedSize:0};E&&!T||(gt.crc32=_.crc32,gt.compressedSize=_.compressedSize,gt.uncompressedSize=_.uncompressedSize);var Y=0;E&&(Y|=8),X||!q&&!D||(Y|=2048);var $=0,ft=0;tt&&($|=16),O==="UNIX"?(ft=798,$|=(function(yt,Yt){var Qt=yt;return yt||(Qt=Yt?16893:33204),(65535&Qt)<<16})(F.unixPermissions,tt)):(ft=20,$|=(function(yt){return 63&(yt||0)})(F.dosPermissions)),B=st.getUTCHours(),B<<=6,B|=st.getUTCMinutes(),B<<=5,B|=st.getUTCSeconds()/2,H=st.getUTCFullYear()-1980,H<<=4,H|=st.getUTCMonth()+1,H<<=5,H|=st.getUTCDate(),q&&(K=o(1,1)+o(y(z),4)+j,Z+="up"+o(K.length,2)+K),D&&(Q=o(1,1)+o(y(at),4)+U,Z+="uc"+o(Q.length,2)+Q);var pt="";return pt+=`
\0`,pt+=o(Y,2),pt+=nt.magic,pt+=o(B,2),pt+=o(H,2),pt+=o(gt.crc32,4),pt+=o(gt.compressedSize,4),pt+=o(gt.uncompressedSize,4),pt+=o(z.length,2),pt+=o(Z.length,2),{fileRecord:v.LOCAL_FILE_HEADER+pt+z+Z,dirRecord:v.CENTRAL_FILE_HEADER+o(ft,2)+pt+o(at.length,2)+"\0\0\0\0"+o($,4)+o(M,4)+z+Z+at}}var f=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),y=n("../crc32"),v=n("../signature");function x(_,E,T,M){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=T,this.encodeFileName=M,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(x,d),x.prototype.push=function(_){var E=_.meta.percent||0,T=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,d.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:T?(E+100*(T-M-1))/T:100}}))},x.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var E=this.streamFiles&&!_.file.dir;if(E){var T=u(_,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:T.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(_){this.accumulate=!1;var E=this.streamFiles&&!_.file.dir,T=u(_,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(T.dirRecord),E)this.push({data:(function(M){return v.DATA_DESCRIPTOR+o(M.crc32,4)+o(M.compressedSize,4)+o(M.uncompressedSize,4)})(_),meta:{percent:100}});else for(this.push({data:T.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var _=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var T=this.bytesWritten-_,M=(function(O,R,B,H,F){var nt=f.transformTo("string",F(H));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(O,2)+o(O,2)+o(R,4)+o(B,4)+o(nt.length,2)+nt})(this.dirRecords.length,T,_,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(_){this._sources.push(_);var E=this;return _.on("data",function(T){E.processChunk(T)}),_.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),_.on("error",function(T){E.error(T)}),this},x.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(_){var E=this._sources;if(!d.prototype.error.call(this,_))return!1;for(var T=0;T<E.length;T++)try{E[T].error(_)}catch{}return!0},x.prototype.lock=function(){d.prototype.lock.call(this);for(var _=this._sources,E=0;E<_.length;E++)_[E].lock()},i.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,s){var o=n("../compressions"),u=n("./ZipFileWorker");s.generateWorker=function(f,d,p){var y=new u(d.streamFiles,p,d.platform,d.encodeFileName),v=0;try{f.forEach(function(x,_){v++;var E=(function(R,B){var H=R||B,F=o[H];if(!F)throw new Error(H+" is not a valid compression method !");return F})(_.options.compression,d.compression),T=_.options.compressionOptions||d.compressionOptions||{},M=_.dir,O=_.date;_._compressWorker(E,T).withStreamInfo("file",{name:x,dir:M,date:O,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(y)}),y.entriesCount=v}catch(x){y.error(x)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var f in this)typeof this[f]!="function"&&(u[f]=this[f]);return u}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(u,f){return new o().loadAsync(u,f)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,s){var o=n("./utils"),u=n("./external"),f=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function v(x){return new u.Promise(function(_,E){var T=x.decompressed.getContentWorker().pipe(new p);T.on("error",function(M){E(M)}).on("end",function(){T.streamInfo.crc32!==x.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}i.exports=function(x,_){var E=this;return _=o.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),y.isNode&&y.isStream(x)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",x,!0,_.optimizedBinaryString,_.base64).then(function(T){var M=new d(_);return M.load(T),M}).then(function(T){var M=[u.Promise.resolve(T)],O=T.files;if(_.checkCRC32)for(var R=0;R<O.length;R++)M.push(v(O[R]));return u.Promise.all(M)}).then(function(T){for(var M=T.shift(),O=M.files,R=0;R<O.length;R++){var B=O[R],H=B.fileNameStr,F=o.resolve(B.fileNameStr);E.file(F,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:_.createFolders}),B.dir||(E.file(F).unsafeOriginalName=H)}return M.zipComment.length&&(E.comment=M.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,s){var o=n("../utils"),u=n("../stream/GenericWorker");function f(d,p){u.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(f,u),f.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,s){var o=n("readable-stream").Readable;function u(f,d,p){o.call(this,d),this._helper=f;var y=this;f.on("data",function(v,x){y.push(v)||y._helper.pause(),p&&p(x)}).on("error",function(v){y.emit("error",v)}).on("end",function(){y.push(null)})}n("../utils").inherits(u,o),u.prototype._read=function(){this._helper.resume()},i.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,s){function o(F,nt,X){var z,j=f.getTypeOf(nt),P=f.extend(X||{},y);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(F=O(F)),P.createFolders&&(z=M(F))&&R.call(this,z,!0);var at=j==="string"&&P.binary===!1&&P.base64===!1;X&&X.binary!==void 0||(P.binary=!at),(nt instanceof v&&nt.uncompressedSize===0||P.dir||!nt||nt.length===0)&&(P.base64=!1,P.binary=!0,nt="",P.compression="STORE",j="string");var U=null;U=nt instanceof v||nt instanceof d?nt:E.isNode&&E.isStream(nt)?new T(F,nt):f.prepareContent(F,nt,P.binary,P.optimizedBinaryString,P.base64);var q=new x(F,U,P);this.files[F]=q}var u=n("./utf8"),f=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),y=n("./defaults"),v=n("./compressedObject"),x=n("./zipObject"),_=n("./generate"),E=n("./nodejsUtils"),T=n("./nodejs/NodejsStreamInputAdapter"),M=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var nt=F.lastIndexOf("/");return 0<nt?F.substring(0,nt):""},O=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},R=function(F,nt){return nt=nt!==void 0?nt:y.createFolders,F=O(F),this.files[F]||o.call(this,F,null,{dir:!0,createFolders:nt}),this.files[F]};function B(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var nt,X,z;for(nt in this.files)z=this.files[nt],(X=nt.slice(this.root.length,nt.length))&&nt.slice(0,this.root.length)===this.root&&F(X,z)},filter:function(F){var nt=[];return this.forEach(function(X,z){F(X,z)&&nt.push(z)}),nt},file:function(F,nt,X){if(arguments.length!==1)return F=this.root+F,o.call(this,F,nt,X),this;if(B(F)){var z=F;return this.filter(function(P,at){return!at.dir&&z.test(P)})}var j=this.files[this.root+F];return j&&!j.dir?j:null},folder:function(F){if(!F)return this;if(B(F))return this.filter(function(j,P){return P.dir&&F.test(j)});var nt=this.root+F,X=R.call(this,nt),z=this.clone();return z.root=X.name,z},remove:function(F){F=this.root+F;var nt=this.files[F];if(nt||(F.slice(-1)!=="/"&&(F+="/"),nt=this.files[F]),nt&&!nt.dir)delete this.files[F];else for(var X=this.filter(function(j,P){return P.name.slice(0,F.length)===F}),z=0;z<X.length;z++)delete this.files[X[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var nt,X={};try{if((X=f.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring"&&(X.type="string"),!X.type)throw new Error("No output type specified.");f.checkSupport(X.type),X.platform!=="darwin"&&X.platform!=="freebsd"&&X.platform!=="linux"&&X.platform!=="sunos"||(X.platform="UNIX"),X.platform==="win32"&&(X.platform="DOS");var z=X.comment||this.comment||"";nt=_.generateWorker(this,X,z)}catch(j){(nt=new d("error")).error(j)}return new p(nt,X.type||"string",X.mimeType)},generateAsync:function(F,nt){return this.generateInternalStream(F).accumulate(nt)},generateNodeStream:function(F,nt){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(nt)}};i.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,s){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,s){var o=n("./DataReader");function u(f){o.call(this,f);for(var d=0;d<this.data.length;d++)f[d]=255&f[d]}n("../utils").inherits(u,o),u.prototype.byteAt=function(f){return this.data[this.zero+f]},u.prototype.lastIndexOfSignature=function(f){for(var d=f.charCodeAt(0),p=f.charCodeAt(1),y=f.charCodeAt(2),v=f.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===d&&this.data[x+1]===p&&this.data[x+2]===y&&this.data[x+3]===v)return x-this.zero;return-1},u.prototype.readAndCheckSignature=function(f){var d=f.charCodeAt(0),p=f.charCodeAt(1),y=f.charCodeAt(2),v=f.charCodeAt(3),x=this.readData(4);return d===x[0]&&p===x[1]&&y===x[2]&&v===x[3]},u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},i.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,i,s){var o=n("../utils");function u(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var d,p=0;for(this.checkOffset(f),d=this.index+f-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=f,p},readString:function(f){return o.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},i.exports=u},{"../utils":32}],19:[function(n,i,s){var o=n("./Uint8ArrayReader");function u(f){o.call(this,f)}n("../utils").inherits(u,o),u.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},i.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,s){var o=n("./DataReader");function u(f){o.call(this,f)}n("../utils").inherits(u,o),u.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},u.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},u.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},u.prototype.readData=function(f){this.checkOffset(f);var d=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},i.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,i,s){var o=n("./ArrayReader");function u(f){o.call(this,f)}n("../utils").inherits(u,o),u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,d},i.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,s){var o=n("../utils"),u=n("../support"),f=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");i.exports=function(v){var x=o.getTypeOf(v);return o.checkSupport(x),x!=="string"||u.uint8array?x==="nodebuffer"?new p(v):u.uint8array?new y(o.transformTo("uint8array",v)):new f(o.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,s){var o=n("./GenericWorker"),u=n("../utils");function f(d){o.call(this,"ConvertWorker to "+d),this.destType=d}u.inherits(f,o),f.prototype.processChunk=function(d){this.push({data:u.transformTo(this.destType,d.data),meta:d.meta})},i.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,s){var o=n("./GenericWorker"),u=n("../crc32");function f(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(f,o),f.prototype.processChunk=function(d){this.streamInfo.crc32=u(d.data,this.streamInfo.crc32||0),this.push(d)},i.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,s){var o=n("../utils"),u=n("./GenericWorker");function f(d){u.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(f,u),f.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}u.prototype.processChunk.call(this,d)},i.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,s){var o=n("../utils"),u=n("./GenericWorker");function f(d){u.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=o.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}o.inherits(f,u),f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,s){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,f){return this._listeners[u].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,f){if(this._listeners[u])for(var d=0;d<this._listeners[u].length;d++)this._listeners[u][d].call(this,f)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var f=this;return u.on("data",function(d){f.processChunk(d)}),u.on("end",function(){f.end()}),u.on("error",function(d){f.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,f){return this.extraStreamInfo[u]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},i.exports=o},{}],29:[function(n,i,s){var o=n("../utils"),u=n("./ConvertWorker"),f=n("./GenericWorker"),d=n("../base64"),p=n("../support"),y=n("../external"),v=null;if(p.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(E,T){return new y.Promise(function(M,O){var R=[],B=E._internalType,H=E._outputType,F=E._mimeType;E.on("data",function(nt,X){R.push(nt),T&&T(X)}).on("error",function(nt){R=[],O(nt)}).on("end",function(){try{var nt=(function(X,z,j){switch(X){case"blob":return o.newBlob(o.transformTo("arraybuffer",z),j);case"base64":return d.encode(z);default:return o.transformTo(X,z)}})(H,(function(X,z){var j,P=0,at=null,U=0;for(j=0;j<z.length;j++)U+=z[j].length;switch(X){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(at=new Uint8Array(U),j=0;j<z.length;j++)at.set(z[j],P),P+=z[j].length;return at;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+X+"'")}})(B,R),F);M(nt)}catch(X){O(X)}R=[]}).resume()})}function _(E,T,M){var O=T;switch(T){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=T,this._mimeType=M,o.checkSupport(O),this._worker=E.pipe(new u(O)),E.lock()}catch(R){this._worker=new f("error"),this._worker.error(R)}}_.prototype={accumulate:function(E){return x(this,E)},on:function(E,T){var M=this;return E==="data"?this._worker.on(E,function(O){T.call(M,O.data,O.meta)}):this._worker.on(E,function(){o.delay(T,arguments,M)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},E)}},i.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(o),s.blob=u.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,s){for(var o=n("./utils"),u=n("./support"),f=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function x(){d.call(this,"utf-8 encode")}s.utf8encode=function(_){return u.nodebuffer?f.newBufferFrom(_,"utf-8"):(function(E){var T,M,O,R,B,H=E.length,F=0;for(R=0;R<H;R++)(64512&(M=E.charCodeAt(R)))==55296&&R+1<H&&(64512&(O=E.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(O-56320),R++),F+=M<128?1:M<2048?2:M<65536?3:4;for(T=u.uint8array?new Uint8Array(F):new Array(F),R=B=0;B<F;R++)(64512&(M=E.charCodeAt(R)))==55296&&R+1<H&&(64512&(O=E.charCodeAt(R+1)))==56320&&(M=65536+(M-55296<<10)+(O-56320),R++),M<128?T[B++]=M:(M<2048?T[B++]=192|M>>>6:(M<65536?T[B++]=224|M>>>12:(T[B++]=240|M>>>18,T[B++]=128|M>>>12&63),T[B++]=128|M>>>6&63),T[B++]=128|63&M);return T})(_)},s.utf8decode=function(_){return u.nodebuffer?o.transformTo("nodebuffer",_).toString("utf-8"):(function(E){var T,M,O,R,B=E.length,H=new Array(2*B);for(T=M=0;T<B;)if((O=E[T++])<128)H[M++]=O;else if(4<(R=p[O]))H[M++]=65533,T+=R-1;else{for(O&=R===2?31:R===3?15:7;1<R&&T<B;)O=O<<6|63&E[T++],R--;1<R?H[M++]=65533:O<65536?H[M++]=O:(O-=65536,H[M++]=55296|O>>10&1023,H[M++]=56320|1023&O)}return H.length!==M&&(H.subarray?H=H.subarray(0,M):H.length=M),o.applyFromCharCode(H)})(_=o.transformTo(u.uint8array?"uint8array":"array",_))},o.inherits(v,d),v.prototype.processChunk=function(_){var E=o.transformTo(u.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var T=E;(E=new Uint8Array(T.length+this.leftOver.length)).set(this.leftOver,0),E.set(T,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var M=(function(R,B){var H;for((B=B||R.length)>R.length&&(B=R.length),H=B-1;0<=H&&(192&R[H])==128;)H--;return H<0||H===0?B:H+p[R[H]]>B?H:B})(E),O=E;M!==E.length&&(u.uint8array?(O=E.subarray(0,M),this.leftOver=E.subarray(M,E.length)):(O=E.slice(0,M),this.leftOver=E.slice(M,E.length))),this.push({data:s.utf8decode(O),meta:_.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,o.inherits(x,d),x.prototype.processChunk=function(_){this.push({data:s.utf8encode(_.data),meta:_.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,s){var o=n("./support"),u=n("./base64"),f=n("./nodejsUtils"),d=n("./external");function p(T){return T}function y(T,M){for(var O=0;O<T.length;++O)M[O]=255&T.charCodeAt(O);return M}n("setimmediate"),s.newBlob=function(T,M){s.checkSupport("blob");try{return new Blob([T],{type:M})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(T),O.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(T,M,O){var R=[],B=0,H=T.length;if(H<=O)return String.fromCharCode.apply(null,T);for(;B<H;)M==="array"||M==="nodebuffer"?R.push(String.fromCharCode.apply(null,T.slice(B,Math.min(B+O,H)))):R.push(String.fromCharCode.apply(null,T.subarray(B,Math.min(B+O,H)))),B+=O;return R.join("")},stringifyByChar:function(T){for(var M="",O=0;O<T.length;O++)M+=String.fromCharCode(T[O]);return M},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function x(T){var M=65536,O=s.getTypeOf(T),R=!0;if(O==="uint8array"?R=v.applyCanBeUsed.uint8array:O==="nodebuffer"&&(R=v.applyCanBeUsed.nodebuffer),R)for(;1<M;)try{return v.stringifyByChunk(T,O,M)}catch{M=Math.floor(M/2)}return v.stringifyByChar(T)}function _(T,M){for(var O=0;O<T.length;O++)M[O]=T[O];return M}s.applyFromCharCode=x;var E={};E.string={string:p,array:function(T){return y(T,new Array(T.length))},arraybuffer:function(T){return E.string.uint8array(T).buffer},uint8array:function(T){return y(T,new Uint8Array(T.length))},nodebuffer:function(T){return y(T,f.allocBuffer(T.length))}},E.array={string:x,array:p,arraybuffer:function(T){return new Uint8Array(T).buffer},uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return f.newBufferFrom(T)}},E.arraybuffer={string:function(T){return x(new Uint8Array(T))},array:function(T){return _(new Uint8Array(T),new Array(T.byteLength))},arraybuffer:p,uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return f.newBufferFrom(new Uint8Array(T))}},E.uint8array={string:x,array:function(T){return _(T,new Array(T.length))},arraybuffer:function(T){return T.buffer},uint8array:p,nodebuffer:function(T){return f.newBufferFrom(T)}},E.nodebuffer={string:x,array:function(T){return _(T,new Array(T.length))},arraybuffer:function(T){return E.nodebuffer.uint8array(T).buffer},uint8array:function(T){return _(T,new Uint8Array(T.length))},nodebuffer:p},s.transformTo=function(T,M){if(M=M||"",!T)return M;s.checkSupport(T);var O=s.getTypeOf(M);return E[O][T](M)},s.resolve=function(T){for(var M=T.split("/"),O=[],R=0;R<M.length;R++){var B=M[R];B==="."||B===""&&R!==0&&R!==M.length-1||(B===".."?O.pop():O.push(B))}return O.join("/")},s.getTypeOf=function(T){return typeof T=="string"?"string":Object.prototype.toString.call(T)==="[object Array]"?"array":o.nodebuffer&&f.isBuffer(T)?"nodebuffer":o.uint8array&&T instanceof Uint8Array?"uint8array":o.arraybuffer&&T instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(T){if(!o[T.toLowerCase()])throw new Error(T+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(T){var M,O,R="";for(O=0;O<(T||"").length;O++)R+="\\x"+((M=T.charCodeAt(O))<16?"0":"")+M.toString(16).toUpperCase();return R},s.delay=function(T,M,O){setImmediate(function(){T.apply(O||null,M||[])})},s.inherits=function(T,M){function O(){}O.prototype=M.prototype,T.prototype=new O},s.extend=function(){var T,M,O={};for(T=0;T<arguments.length;T++)for(M in arguments[T])Object.prototype.hasOwnProperty.call(arguments[T],M)&&O[M]===void 0&&(O[M]=arguments[T][M]);return O},s.prepareContent=function(T,M,O,R,B){return d.Promise.resolve(M).then(function(H){return o.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new d.Promise(function(F,nt){var X=new FileReader;X.onload=function(z){F(z.target.result)},X.onerror=function(z){nt(z.target.error)},X.readAsArrayBuffer(H)}):H}).then(function(H){var F=s.getTypeOf(H);return F?(F==="arraybuffer"?H=s.transformTo("uint8array",H):F==="string"&&(B?H=u.decode(H):O&&R!==!0&&(H=(function(nt){return y(nt,o.uint8array?new Uint8Array(nt.length):new Array(nt.length))})(H))),H):d.Promise.reject(new Error("Can't read the data of '"+T+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,s){var o=n("./reader/readerFor"),u=n("./utils"),f=n("./signature"),d=n("./zipEntry"),p=n("./support");function y(v){this.files=[],this.loadOptions=v}y.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(x)+", expected "+u.pretty(v)+")")}},isSignature:function(v,x){var _=this.reader.index;this.reader.setIndex(v);var E=this.reader.readString(4)===x;return this.reader.setIndex(_),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),x=p.uint8array?"uint8array":"array",_=u.transformTo(x,v);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,x,_,E=this.zip64EndOfCentralSize-44;0<E;)v=this.reader.readInt(2),x=this.reader.readInt(4),_=this.reader.readData(x),this.zip64ExtensibleData[v]={id:v,length:x,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,x;for(v=0;v<this.files.length;v++)x=this.files[v],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var x=v;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var E=x-_;if(0<E)this.isSignature(x,f.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,s){var o=n("./reader/readerFor"),u=n("./utils"),f=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),y=n("./compressions"),v=n("./support");function x(_,E){this.options=_,this.loadOptions=E}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var E,T;if(_.skip(22),this.fileNameLength=_.readInt(2),T=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(T),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=(function(M){for(var O in y)if(Object.prototype.hasOwnProperty.call(y,O)&&y[O].magic===M)return y[O];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,E,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var E=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(E),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var E,T,M,O=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<O;)E=_.readInt(2),T=_.readInt(2),M=_.readData(T),this.extraFields[E]={id:E,length:T,value:M};_.setIndex(O)},handleUTF8:function(){var _=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var T=u.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(T)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var O=u.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var E=o(_.value);return E.readInt(1)!==1||d(this.fileName)!==E.readInt(4)?null:p.utf8decode(E.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var E=o(_.value);return E.readInt(1)!==1||d(this.fileComment)!==E.readInt(4)?null:p.utf8decode(E.readData(_.length-5))}return null}},i.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,s){function o(E,T,M){this.name=E,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=T,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var u=n("./stream/StreamHelper"),f=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),y=n("./stream/GenericWorker");o.prototype={internalStream:function(E){var T=null,M="string";try{if(!E)throw new Error("No output type specified.");var O=(M=E.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),T=this._decompressWorker();var R=!this._dataBinary;R&&!O&&(T=T.pipe(new d.Utf8EncodeWorker)),!R&&O&&(T=T.pipe(new d.Utf8DecodeWorker))}catch(B){(T=new y("error")).error(B)}return new u(T,M,"")},async:function(E,T){return this.internalStream(E).accumulate(T)},nodeStream:function(E,T){return this.internalStream(E||"nodebuffer").toNodejsStream(T)},_compressWorker:function(E,T){if(this._data instanceof p&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(M,E,T)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new f(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<v.length;_++)o.prototype[v[_]]=x;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,s){(function(o){var u,f,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var p=0,y=new d(E),v=o.document.createTextNode("");y.observe(v,{characterData:!0}),u=function(){v.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)u="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var T=o.document.createElement("script");T.onreadystatechange=function(){E(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},o.document.documentElement.appendChild(T)}:function(){setTimeout(E,0)};else{var x=new o.MessageChannel;x.port1.onmessage=E,u=function(){x.port2.postMessage(0)}}var _=[];function E(){var T,M;f=!0;for(var O=_.length;O;){for(M=_,_=[],T=-1;++T<O;)M[T]();O=_.length}f=!1}i.exports=function(T){_.push(T)!==1||f||u()}}).call(this,typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,s){var o=n("immediate");function u(){}var f={},d=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function v(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,O!==u&&T(this,O)}function x(O,R,B){this.promise=O,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function _(O,R,B){o(function(){var H;try{H=R(B)}catch(F){return f.reject(O,F)}H===O?f.reject(O,new TypeError("Cannot resolve promise with itself")):f.resolve(O,H)})}function E(O){var R=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof R=="function")return function(){R.apply(O,arguments)}}function T(O,R){var B=!1;function H(X){B||(B=!0,f.reject(O,X))}function F(X){B||(B=!0,f.resolve(O,X))}var nt=M(function(){R(F,H)});nt.status==="error"&&H(nt.value)}function M(O,R){var B={};try{B.value=O(R),B.status="success"}catch(H){B.status="error",B.value=H}return B}(i.exports=v).prototype.finally=function(O){if(typeof O!="function")return this;var R=this.constructor;return this.then(function(B){return R.resolve(O()).then(function(){return B})},function(B){return R.resolve(O()).then(function(){throw B})})},v.prototype.catch=function(O){return this.then(null,O)},v.prototype.then=function(O,R){if(typeof O!="function"&&this.state===p||typeof R!="function"&&this.state===d)return this;var B=new this.constructor(u);return this.state!==y?_(B,this.state===p?O:R,this.outcome):this.queue.push(new x(B,O,R)),B},x.prototype.callFulfilled=function(O){f.resolve(this.promise,O)},x.prototype.otherCallFulfilled=function(O){_(this.promise,this.onFulfilled,O)},x.prototype.callRejected=function(O){f.reject(this.promise,O)},x.prototype.otherCallRejected=function(O){_(this.promise,this.onRejected,O)},f.resolve=function(O,R){var B=M(E,R);if(B.status==="error")return f.reject(O,B.value);var H=B.value;if(H)T(O,H);else{O.state=p,O.outcome=R;for(var F=-1,nt=O.queue.length;++F<nt;)O.queue[F].callFulfilled(R)}return O},f.reject=function(O,R){O.state=d,O.outcome=R;for(var B=-1,H=O.queue.length;++B<H;)O.queue[B].callRejected(R);return O},v.resolve=function(O){return O instanceof this?O:f.resolve(new this(u),O)},v.reject=function(O){var R=new this(u);return f.reject(R,O)},v.all=function(O){var R=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=O.length,H=!1;if(!B)return this.resolve([]);for(var F=new Array(B),nt=0,X=-1,z=new this(u);++X<B;)j(O[X],X);return z;function j(P,at){R.resolve(P).then(function(U){F[at]=U,++nt!==B||H||(H=!0,f.resolve(z,F))},function(U){H||(H=!0,f.reject(z,U))})}},v.race=function(O){var R=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=O.length,H=!1;if(!B)return this.resolve([]);for(var F=-1,nt=new this(u);++F<B;)X=O[F],R.resolve(X).then(function(z){H||(H=!0,f.resolve(nt,z))},function(z){H||(H=!0,f.reject(nt,z))});var X;return nt}},{immediate:36}],38:[function(n,i,s){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,s){var o=n("./zlib/deflate"),u=n("./utils/common"),f=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),y=Object.prototype.toString,v=0,x=-1,_=0,E=8;function T(O){if(!(this instanceof T))return new T(O);this.options=u.assign({level:x,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},O||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var B=o.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(B!==v)throw new Error(d[B]);if(R.header&&o.deflateSetHeader(this.strm,R.header),R.dictionary){var H;if(H=typeof R.dictionary=="string"?f.string2buf(R.dictionary):y.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(B=o.deflateSetDictionary(this.strm,H))!==v)throw new Error(d[B]);this._dict_set=!0}}function M(O,R){var B=new T(R);if(B.push(O,!0),B.err)throw B.msg||d[B.err];return B.result}T.prototype.push=function(O,R){var B,H,F=this.strm,nt=this.options.chunkSize;if(this.ended)return!1;H=R===~~R?R:R===!0?4:0,typeof O=="string"?F.input=f.string2buf(O):y.call(O)==="[object ArrayBuffer]"?F.input=new Uint8Array(O):F.input=O,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new u.Buf8(nt),F.next_out=0,F.avail_out=nt),(B=o.deflate(F,H))!==1&&B!==v)return this.onEnd(B),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(u.shrinkBuf(F.output,F.next_out))):this.onData(u.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&B!==1);return H===4?(B=o.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===v):H!==2||(this.onEnd(v),!(F.avail_out=0))},T.prototype.onData=function(O){this.chunks.push(O)},T.prototype.onEnd=function(O){O===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},s.Deflate=T,s.deflate=M,s.deflateRaw=function(O,R){return(R=R||{}).raw=!0,M(O,R)},s.gzip=function(O,R){return(R=R||{}).gzip=!0,M(O,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,s){var o=n("./zlib/inflate"),u=n("./utils/common"),f=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),y=n("./zlib/zstream"),v=n("./zlib/gzheader"),x=Object.prototype.toString;function _(T){if(!(this instanceof _))return new _(T);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},T||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||T&&T.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var O=o.inflateInit2(this.strm,M.windowBits);if(O!==d.Z_OK)throw new Error(p[O]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function E(T,M){var O=new _(M);if(O.push(T,!0),O.err)throw O.msg||p[O.err];return O.result}_.prototype.push=function(T,M){var O,R,B,H,F,nt,X=this.strm,z=this.options.chunkSize,j=this.options.dictionary,P=!1;if(this.ended)return!1;R=M===~~M?M:M===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof T=="string"?X.input=f.binstring2buf(T):x.call(T)==="[object ArrayBuffer]"?X.input=new Uint8Array(T):X.input=T,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new u.Buf8(z),X.next_out=0,X.avail_out=z),(O=o.inflate(X,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&j&&(nt=typeof j=="string"?f.string2buf(j):x.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,O=o.inflateSetDictionary(this.strm,nt)),O===d.Z_BUF_ERROR&&P===!0&&(O=d.Z_OK,P=!1),O!==d.Z_STREAM_END&&O!==d.Z_OK)return this.onEnd(O),!(this.ended=!0);X.next_out&&(X.avail_out!==0&&O!==d.Z_STREAM_END&&(X.avail_in!==0||R!==d.Z_FINISH&&R!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=f.utf8border(X.output,X.next_out),H=X.next_out-B,F=f.buf2string(X.output,B),X.next_out=H,X.avail_out=z-H,H&&u.arraySet(X.output,X.output,B,H,0),this.onData(F)):this.onData(u.shrinkBuf(X.output,X.next_out)))),X.avail_in===0&&X.avail_out===0&&(P=!0)}while((0<X.avail_in||X.avail_out===0)&&O!==d.Z_STREAM_END);return O===d.Z_STREAM_END&&(R=d.Z_FINISH),R===d.Z_FINISH?(O=o.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===d.Z_OK):R!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(X.avail_out=0))},_.prototype.onData=function(T){this.chunks.push(T)},_.prototype.onEnd=function(T){T===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},s.Inflate=_,s.inflate=E,s.inflateRaw=function(T,M){return(M=M||{}).raw=!0,E(T,M)},s.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var v in y)y.hasOwnProperty(v)&&(d[v]=y[v])}}return d},s.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var u={arraySet:function(d,p,y,v,x){if(p.subarray&&d.subarray)d.set(p.subarray(y,y+v),x);else for(var _=0;_<v;_++)d[x+_]=p[y+_]},flattenChunks:function(d){var p,y,v,x,_,E;for(p=v=0,y=d.length;p<y;p++)v+=d[p].length;for(E=new Uint8Array(v),p=x=0,y=d.length;p<y;p++)_=d[p],E.set(_,x),x+=_.length;return E}},f={arraySet:function(d,p,y,v,x){for(var _=0;_<v;_++)d[x+_]=p[y+_]},flattenChunks:function(d){return[].concat.apply([],d)}};s.setTyped=function(d){d?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,u)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,f))},s.setTyped(o)},{}],42:[function(n,i,s){var o=n("./common"),u=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var d=new o.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(v,x){if(x<65537&&(v.subarray&&f||!v.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(v,x));for(var _="",E=0;E<x;E++)_+=String.fromCharCode(v[E]);return _}d[254]=d[254]=1,s.string2buf=function(v){var x,_,E,T,M,O=v.length,R=0;for(T=0;T<O;T++)(64512&(_=v.charCodeAt(T)))==55296&&T+1<O&&(64512&(E=v.charCodeAt(T+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),T++),R+=_<128?1:_<2048?2:_<65536?3:4;for(x=new o.Buf8(R),T=M=0;M<R;T++)(64512&(_=v.charCodeAt(T)))==55296&&T+1<O&&(64512&(E=v.charCodeAt(T+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),T++),_<128?x[M++]=_:(_<2048?x[M++]=192|_>>>6:(_<65536?x[M++]=224|_>>>12:(x[M++]=240|_>>>18,x[M++]=128|_>>>12&63),x[M++]=128|_>>>6&63),x[M++]=128|63&_);return x},s.buf2binstring=function(v){return y(v,v.length)},s.binstring2buf=function(v){for(var x=new o.Buf8(v.length),_=0,E=x.length;_<E;_++)x[_]=v.charCodeAt(_);return x},s.buf2string=function(v,x){var _,E,T,M,O=x||v.length,R=new Array(2*O);for(_=E=0;_<O;)if((T=v[_++])<128)R[E++]=T;else if(4<(M=d[T]))R[E++]=65533,_+=M-1;else{for(T&=M===2?31:M===3?15:7;1<M&&_<O;)T=T<<6|63&v[_++],M--;1<M?R[E++]=65533:T<65536?R[E++]=T:(T-=65536,R[E++]=55296|T>>10&1023,R[E++]=56320|1023&T)}return y(R,E)},s.utf8border=function(v,x){var _;for((x=x||v.length)>v.length&&(x=v.length),_=x-1;0<=_&&(192&v[_])==128;)_--;return _<0||_===0?x:_+d[v[_]]>x?_:x}},{"./common":41}],43:[function(n,i,s){i.exports=function(o,u,f,d){for(var p=65535&o|0,y=o>>>16&65535|0,v=0;f!==0;){for(f-=v=2e3<f?2e3:f;y=y+(p=p+u[d++]|0)|0,--v;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(n,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,s){var o=(function(){for(var u,f=[],d=0;d<256;d++){u=d;for(var p=0;p<8;p++)u=1&u?3988292384^u>>>1:u>>>1;f[d]=u}return f})();i.exports=function(u,f,d,p){var y=o,v=p+d;u^=-1;for(var x=p;x<v;x++)u=u>>>8^y[255&(u^f[x])];return-1^u}},{}],46:[function(n,i,s){var o,u=n("../utils/common"),f=n("./trees"),d=n("./adler32"),p=n("./crc32"),y=n("./messages"),v=0,x=4,_=0,E=-2,T=-1,M=4,O=2,R=8,B=9,H=286,F=30,nt=19,X=2*H+1,z=15,j=3,P=258,at=P+j+1,U=42,q=113,D=1,Z=2,K=3,Q=4;function tt(V,Rt){return V.msg=y[Rt],Rt}function st(V){return(V<<1)-(4<V?9:0)}function gt(V){for(var Rt=V.length;0<=--Rt;)V[Rt]=0}function Y(V){var Rt=V.state,kt=Rt.pending;kt>V.avail_out&&(kt=V.avail_out),kt!==0&&(u.arraySet(V.output,Rt.pending_buf,Rt.pending_out,kt,V.next_out),V.next_out+=kt,Rt.pending_out+=kt,V.total_out+=kt,V.avail_out-=kt,Rt.pending-=kt,Rt.pending===0&&(Rt.pending_out=0))}function $(V,Rt){f._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Rt),V.block_start=V.strstart,Y(V.strm)}function ft(V,Rt){V.pending_buf[V.pending++]=Rt}function pt(V,Rt){V.pending_buf[V.pending++]=Rt>>>8&255,V.pending_buf[V.pending++]=255&Rt}function yt(V,Rt){var kt,ot,et=V.max_chain_length,ht=V.strstart,zt=V.prev_length,Ft=V.nice_match,xt=V.strstart>V.w_size-at?V.strstart-(V.w_size-at):0,Zt=V.window,Nt=V.w_mask,Gt=V.prev,oe=V.strstart+P,je=Zt[ht+zt-1],ie=Zt[ht+zt];V.prev_length>=V.good_match&&(et>>=2),Ft>V.lookahead&&(Ft=V.lookahead);do if(Zt[(kt=Rt)+zt]===ie&&Zt[kt+zt-1]===je&&Zt[kt]===Zt[ht]&&Zt[++kt]===Zt[ht+1]){ht+=2,kt++;do;while(Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&Zt[++ht]===Zt[++kt]&&ht<oe);if(ot=P-(oe-ht),ht=oe-P,zt<ot){if(V.match_start=Rt,Ft<=(zt=ot))break;je=Zt[ht+zt-1],ie=Zt[ht+zt]}}while((Rt=Gt[Rt&Nt])>xt&&--et!=0);return zt<=V.lookahead?zt:V.lookahead}function Yt(V){var Rt,kt,ot,et,ht,zt,Ft,xt,Zt,Nt,Gt=V.w_size;do{if(et=V.window_size-V.lookahead-V.strstart,V.strstart>=Gt+(Gt-at)){for(u.arraySet(V.window,V.window,Gt,Gt,0),V.match_start-=Gt,V.strstart-=Gt,V.block_start-=Gt,Rt=kt=V.hash_size;ot=V.head[--Rt],V.head[Rt]=Gt<=ot?ot-Gt:0,--kt;);for(Rt=kt=Gt;ot=V.prev[--Rt],V.prev[Rt]=Gt<=ot?ot-Gt:0,--kt;);et+=Gt}if(V.strm.avail_in===0)break;if(zt=V.strm,Ft=V.window,xt=V.strstart+V.lookahead,Zt=et,Nt=void 0,Nt=zt.avail_in,Zt<Nt&&(Nt=Zt),kt=Nt===0?0:(zt.avail_in-=Nt,u.arraySet(Ft,zt.input,zt.next_in,Nt,xt),zt.state.wrap===1?zt.adler=d(zt.adler,Ft,Nt,xt):zt.state.wrap===2&&(zt.adler=p(zt.adler,Ft,Nt,xt)),zt.next_in+=Nt,zt.total_in+=Nt,Nt),V.lookahead+=kt,V.lookahead+V.insert>=j)for(ht=V.strstart-V.insert,V.ins_h=V.window[ht],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ht+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ht+j-1])&V.hash_mask,V.prev[ht&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ht,ht++,V.insert--,!(V.lookahead+V.insert<j)););}while(V.lookahead<at&&V.strm.avail_in!==0)}function Qt(V,Rt){for(var kt,ot;;){if(V.lookahead<at){if(Yt(V),V.lookahead<at&&Rt===v)return D;if(V.lookahead===0)break}if(kt=0,V.lookahead>=j&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+j-1])&V.hash_mask,kt=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),kt!==0&&V.strstart-kt<=V.w_size-at&&(V.match_length=yt(V,kt)),V.match_length>=j)if(ot=f._tr_tally(V,V.strstart-V.match_start,V.match_length-j),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=j){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+j-1])&V.hash_mask,kt=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else ot=f._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(ot&&($(V,!1),V.strm.avail_out===0))return D}return V.insert=V.strstart<j-1?V.strstart:j-1,Rt===x?($(V,!0),V.strm.avail_out===0?K:Q):V.last_lit&&($(V,!1),V.strm.avail_out===0)?D:Z}function Ht(V,Rt){for(var kt,ot,et;;){if(V.lookahead<at){if(Yt(V),V.lookahead<at&&Rt===v)return D;if(V.lookahead===0)break}if(kt=0,V.lookahead>=j&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+j-1])&V.hash_mask,kt=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=j-1,kt!==0&&V.prev_length<V.max_lazy_match&&V.strstart-kt<=V.w_size-at&&(V.match_length=yt(V,kt),V.match_length<=5&&(V.strategy===1||V.match_length===j&&4096<V.strstart-V.match_start)&&(V.match_length=j-1)),V.prev_length>=j&&V.match_length<=V.prev_length){for(et=V.strstart+V.lookahead-j,ot=f._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-j),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=et&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+j-1])&V.hash_mask,kt=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=j-1,V.strstart++,ot&&($(V,!1),V.strm.avail_out===0))return D}else if(V.match_available){if((ot=f._tr_tally(V,0,V.window[V.strstart-1]))&&$(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return D}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(ot=f._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<j-1?V.strstart:j-1,Rt===x?($(V,!0),V.strm.avail_out===0?K:Q):V.last_lit&&($(V,!1),V.strm.avail_out===0)?D:Z}function Ct(V,Rt,kt,ot,et){this.good_length=V,this.max_lazy=Rt,this.nice_length=kt,this.max_chain=ot,this.func=et}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*X),this.dyn_dtree=new u.Buf16(2*(2*F+1)),this.bl_tree=new u.Buf16(2*(2*nt+1)),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(z+1),this.heap=new u.Buf16(2*H+1),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*H+1),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(V){var Rt;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=O,(Rt=V.state).pending=0,Rt.pending_out=0,Rt.wrap<0&&(Rt.wrap=-Rt.wrap),Rt.status=Rt.wrap?U:q,V.adler=Rt.wrap===2?0:1,Rt.last_flush=v,f._tr_init(Rt),_):tt(V,E)}function de(V){var Rt=ve(V);return Rt===_&&(function(kt){kt.window_size=2*kt.w_size,gt(kt.head),kt.max_lazy_match=o[kt.level].max_lazy,kt.good_match=o[kt.level].good_length,kt.nice_match=o[kt.level].nice_length,kt.max_chain_length=o[kt.level].max_chain,kt.strstart=0,kt.block_start=0,kt.lookahead=0,kt.insert=0,kt.match_length=kt.prev_length=j-1,kt.match_available=0,kt.ins_h=0})(V.state),Rt}function Ae(V,Rt,kt,ot,et,ht){if(!V)return E;var zt=1;if(Rt===T&&(Rt=6),ot<0?(zt=0,ot=-ot):15<ot&&(zt=2,ot-=16),et<1||B<et||kt!==R||ot<8||15<ot||Rt<0||9<Rt||ht<0||M<ht)return tt(V,E);ot===8&&(ot=9);var Ft=new Ee;return(V.state=Ft).strm=V,Ft.wrap=zt,Ft.gzhead=null,Ft.w_bits=ot,Ft.w_size=1<<Ft.w_bits,Ft.w_mask=Ft.w_size-1,Ft.hash_bits=et+7,Ft.hash_size=1<<Ft.hash_bits,Ft.hash_mask=Ft.hash_size-1,Ft.hash_shift=~~((Ft.hash_bits+j-1)/j),Ft.window=new u.Buf8(2*Ft.w_size),Ft.head=new u.Buf16(Ft.hash_size),Ft.prev=new u.Buf16(Ft.w_size),Ft.lit_bufsize=1<<et+6,Ft.pending_buf_size=4*Ft.lit_bufsize,Ft.pending_buf=new u.Buf8(Ft.pending_buf_size),Ft.d_buf=1*Ft.lit_bufsize,Ft.l_buf=3*Ft.lit_bufsize,Ft.level=Rt,Ft.strategy=ht,Ft.method=kt,de(V)}o=[new Ct(0,0,0,0,function(V,Rt){var kt=65535;for(kt>V.pending_buf_size-5&&(kt=V.pending_buf_size-5);;){if(V.lookahead<=1){if(Yt(V),V.lookahead===0&&Rt===v)return D;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var ot=V.block_start+kt;if((V.strstart===0||V.strstart>=ot)&&(V.lookahead=V.strstart-ot,V.strstart=ot,$(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-at&&($(V,!1),V.strm.avail_out===0))return D}return V.insert=0,Rt===x?($(V,!0),V.strm.avail_out===0?K:Q):(V.strstart>V.block_start&&($(V,!1),V.strm.avail_out),D)}),new Ct(4,4,8,4,Qt),new Ct(4,5,16,8,Qt),new Ct(4,6,32,32,Qt),new Ct(4,4,16,16,Ht),new Ct(8,16,32,32,Ht),new Ct(8,16,128,128,Ht),new Ct(8,32,128,256,Ht),new Ct(32,128,258,1024,Ht),new Ct(32,258,258,4096,Ht)],s.deflateInit=function(V,Rt){return Ae(V,Rt,R,15,8,0)},s.deflateInit2=Ae,s.deflateReset=de,s.deflateResetKeep=ve,s.deflateSetHeader=function(V,Rt){return V&&V.state?V.state.wrap!==2?E:(V.state.gzhead=Rt,_):E},s.deflate=function(V,Rt){var kt,ot,et,ht;if(!V||!V.state||5<Rt||Rt<0)return V?tt(V,E):E;if(ot=V.state,!V.output||!V.input&&V.avail_in!==0||ot.status===666&&Rt!==x)return tt(V,V.avail_out===0?-5:E);if(ot.strm=V,kt=ot.last_flush,ot.last_flush=Rt,ot.status===U)if(ot.wrap===2)V.adler=0,ft(ot,31),ft(ot,139),ft(ot,8),ot.gzhead?(ft(ot,(ot.gzhead.text?1:0)+(ot.gzhead.hcrc?2:0)+(ot.gzhead.extra?4:0)+(ot.gzhead.name?8:0)+(ot.gzhead.comment?16:0)),ft(ot,255&ot.gzhead.time),ft(ot,ot.gzhead.time>>8&255),ft(ot,ot.gzhead.time>>16&255),ft(ot,ot.gzhead.time>>24&255),ft(ot,ot.level===9?2:2<=ot.strategy||ot.level<2?4:0),ft(ot,255&ot.gzhead.os),ot.gzhead.extra&&ot.gzhead.extra.length&&(ft(ot,255&ot.gzhead.extra.length),ft(ot,ot.gzhead.extra.length>>8&255)),ot.gzhead.hcrc&&(V.adler=p(V.adler,ot.pending_buf,ot.pending,0)),ot.gzindex=0,ot.status=69):(ft(ot,0),ft(ot,0),ft(ot,0),ft(ot,0),ft(ot,0),ft(ot,ot.level===9?2:2<=ot.strategy||ot.level<2?4:0),ft(ot,3),ot.status=q);else{var zt=R+(ot.w_bits-8<<4)<<8;zt|=(2<=ot.strategy||ot.level<2?0:ot.level<6?1:ot.level===6?2:3)<<6,ot.strstart!==0&&(zt|=32),zt+=31-zt%31,ot.status=q,pt(ot,zt),ot.strstart!==0&&(pt(ot,V.adler>>>16),pt(ot,65535&V.adler)),V.adler=1}if(ot.status===69)if(ot.gzhead.extra){for(et=ot.pending;ot.gzindex<(65535&ot.gzhead.extra.length)&&(ot.pending!==ot.pending_buf_size||(ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),Y(V),et=ot.pending,ot.pending!==ot.pending_buf_size));)ft(ot,255&ot.gzhead.extra[ot.gzindex]),ot.gzindex++;ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),ot.gzindex===ot.gzhead.extra.length&&(ot.gzindex=0,ot.status=73)}else ot.status=73;if(ot.status===73)if(ot.gzhead.name){et=ot.pending;do{if(ot.pending===ot.pending_buf_size&&(ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),Y(V),et=ot.pending,ot.pending===ot.pending_buf_size)){ht=1;break}ht=ot.gzindex<ot.gzhead.name.length?255&ot.gzhead.name.charCodeAt(ot.gzindex++):0,ft(ot,ht)}while(ht!==0);ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),ht===0&&(ot.gzindex=0,ot.status=91)}else ot.status=91;if(ot.status===91)if(ot.gzhead.comment){et=ot.pending;do{if(ot.pending===ot.pending_buf_size&&(ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),Y(V),et=ot.pending,ot.pending===ot.pending_buf_size)){ht=1;break}ht=ot.gzindex<ot.gzhead.comment.length?255&ot.gzhead.comment.charCodeAt(ot.gzindex++):0,ft(ot,ht)}while(ht!==0);ot.gzhead.hcrc&&ot.pending>et&&(V.adler=p(V.adler,ot.pending_buf,ot.pending-et,et)),ht===0&&(ot.status=103)}else ot.status=103;if(ot.status===103&&(ot.gzhead.hcrc?(ot.pending+2>ot.pending_buf_size&&Y(V),ot.pending+2<=ot.pending_buf_size&&(ft(ot,255&V.adler),ft(ot,V.adler>>8&255),V.adler=0,ot.status=q)):ot.status=q),ot.pending!==0){if(Y(V),V.avail_out===0)return ot.last_flush=-1,_}else if(V.avail_in===0&&st(Rt)<=st(kt)&&Rt!==x)return tt(V,-5);if(ot.status===666&&V.avail_in!==0)return tt(V,-5);if(V.avail_in!==0||ot.lookahead!==0||Rt!==v&&ot.status!==666){var Ft=ot.strategy===2?(function(xt,Zt){for(var Nt;;){if(xt.lookahead===0&&(Yt(xt),xt.lookahead===0)){if(Zt===v)return D;break}if(xt.match_length=0,Nt=f._tr_tally(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++,Nt&&($(xt,!1),xt.strm.avail_out===0))return D}return xt.insert=0,Zt===x?($(xt,!0),xt.strm.avail_out===0?K:Q):xt.last_lit&&($(xt,!1),xt.strm.avail_out===0)?D:Z})(ot,Rt):ot.strategy===3?(function(xt,Zt){for(var Nt,Gt,oe,je,ie=xt.window;;){if(xt.lookahead<=P){if(Yt(xt),xt.lookahead<=P&&Zt===v)return D;if(xt.lookahead===0)break}if(xt.match_length=0,xt.lookahead>=j&&0<xt.strstart&&(Gt=ie[oe=xt.strstart-1])===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]){je=xt.strstart+P;do;while(Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&Gt===ie[++oe]&&oe<je);xt.match_length=P-(je-oe),xt.match_length>xt.lookahead&&(xt.match_length=xt.lookahead)}if(xt.match_length>=j?(Nt=f._tr_tally(xt,1,xt.match_length-j),xt.lookahead-=xt.match_length,xt.strstart+=xt.match_length,xt.match_length=0):(Nt=f._tr_tally(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++),Nt&&($(xt,!1),xt.strm.avail_out===0))return D}return xt.insert=0,Zt===x?($(xt,!0),xt.strm.avail_out===0?K:Q):xt.last_lit&&($(xt,!1),xt.strm.avail_out===0)?D:Z})(ot,Rt):o[ot.level].func(ot,Rt);if(Ft!==K&&Ft!==Q||(ot.status=666),Ft===D||Ft===K)return V.avail_out===0&&(ot.last_flush=-1),_;if(Ft===Z&&(Rt===1?f._tr_align(ot):Rt!==5&&(f._tr_stored_block(ot,0,0,!1),Rt===3&&(gt(ot.head),ot.lookahead===0&&(ot.strstart=0,ot.block_start=0,ot.insert=0))),Y(V),V.avail_out===0))return ot.last_flush=-1,_}return Rt!==x?_:ot.wrap<=0?1:(ot.wrap===2?(ft(ot,255&V.adler),ft(ot,V.adler>>8&255),ft(ot,V.adler>>16&255),ft(ot,V.adler>>24&255),ft(ot,255&V.total_in),ft(ot,V.total_in>>8&255),ft(ot,V.total_in>>16&255),ft(ot,V.total_in>>24&255)):(pt(ot,V.adler>>>16),pt(ot,65535&V.adler)),Y(V),0<ot.wrap&&(ot.wrap=-ot.wrap),ot.pending!==0?_:1)},s.deflateEnd=function(V){var Rt;return V&&V.state?(Rt=V.state.status)!==U&&Rt!==69&&Rt!==73&&Rt!==91&&Rt!==103&&Rt!==q&&Rt!==666?tt(V,E):(V.state=null,Rt===q?tt(V,-3):_):E},s.deflateSetDictionary=function(V,Rt){var kt,ot,et,ht,zt,Ft,xt,Zt,Nt=Rt.length;if(!V||!V.state||(ht=(kt=V.state).wrap)===2||ht===1&&kt.status!==U||kt.lookahead)return E;for(ht===1&&(V.adler=d(V.adler,Rt,Nt,0)),kt.wrap=0,Nt>=kt.w_size&&(ht===0&&(gt(kt.head),kt.strstart=0,kt.block_start=0,kt.insert=0),Zt=new u.Buf8(kt.w_size),u.arraySet(Zt,Rt,Nt-kt.w_size,kt.w_size,0),Rt=Zt,Nt=kt.w_size),zt=V.avail_in,Ft=V.next_in,xt=V.input,V.avail_in=Nt,V.next_in=0,V.input=Rt,Yt(kt);kt.lookahead>=j;){for(ot=kt.strstart,et=kt.lookahead-(j-1);kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[ot+j-1])&kt.hash_mask,kt.prev[ot&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=ot,ot++,--et;);kt.strstart=ot,kt.lookahead=j-1,Yt(kt)}return kt.strstart+=kt.lookahead,kt.block_start=kt.strstart,kt.insert=kt.lookahead,kt.lookahead=0,kt.match_length=kt.prev_length=j-1,kt.match_available=0,V.next_in=Ft,V.input=xt,V.avail_in=zt,kt.wrap=ht,_},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,s){i.exports=function(o,u){var f,d,p,y,v,x,_,E,T,M,O,R,B,H,F,nt,X,z,j,P,at,U,q,D,Z;f=o.state,d=o.next_in,D=o.input,p=d+(o.avail_in-5),y=o.next_out,Z=o.output,v=y-(u-o.avail_out),x=y+(o.avail_out-257),_=f.dmax,E=f.wsize,T=f.whave,M=f.wnext,O=f.window,R=f.hold,B=f.bits,H=f.lencode,F=f.distcode,nt=(1<<f.lenbits)-1,X=(1<<f.distbits)-1;t:do{B<15&&(R+=D[d++]<<B,B+=8,R+=D[d++]<<B,B+=8),z=H[R&nt];e:for(;;){if(R>>>=j=z>>>24,B-=j,(j=z>>>16&255)===0)Z[y++]=65535&z;else{if(!(16&j)){if((64&j)==0){z=H[(65535&z)+(R&(1<<j)-1)];continue e}if(32&j){f.mode=12;break t}o.msg="invalid literal/length code",f.mode=30;break t}P=65535&z,(j&=15)&&(B<j&&(R+=D[d++]<<B,B+=8),P+=R&(1<<j)-1,R>>>=j,B-=j),B<15&&(R+=D[d++]<<B,B+=8,R+=D[d++]<<B,B+=8),z=F[R&X];n:for(;;){if(R>>>=j=z>>>24,B-=j,!(16&(j=z>>>16&255))){if((64&j)==0){z=F[(65535&z)+(R&(1<<j)-1)];continue n}o.msg="invalid distance code",f.mode=30;break t}if(at=65535&z,B<(j&=15)&&(R+=D[d++]<<B,(B+=8)<j&&(R+=D[d++]<<B,B+=8)),_<(at+=R&(1<<j)-1)){o.msg="invalid distance too far back",f.mode=30;break t}if(R>>>=j,B-=j,(j=y-v)<at){if(T<(j=at-j)&&f.sane){o.msg="invalid distance too far back",f.mode=30;break t}if(q=O,(U=0)===M){if(U+=E-j,j<P){for(P-=j;Z[y++]=O[U++],--j;);U=y-at,q=Z}}else if(M<j){if(U+=E+M-j,(j-=M)<P){for(P-=j;Z[y++]=O[U++],--j;);if(U=0,M<P){for(P-=j=M;Z[y++]=O[U++],--j;);U=y-at,q=Z}}}else if(U+=M-j,j<P){for(P-=j;Z[y++]=O[U++],--j;);U=y-at,q=Z}for(;2<P;)Z[y++]=q[U++],Z[y++]=q[U++],Z[y++]=q[U++],P-=3;P&&(Z[y++]=q[U++],1<P&&(Z[y++]=q[U++]))}else{for(U=y-at;Z[y++]=Z[U++],Z[y++]=Z[U++],Z[y++]=Z[U++],2<(P-=3););P&&(Z[y++]=Z[U++],1<P&&(Z[y++]=Z[U++]))}break}}break}}while(d<p&&y<x);d-=P=B>>3,R&=(1<<(B-=P<<3))-1,o.next_in=d,o.next_out=y,o.avail_in=d<p?p-d+5:5-(d-p),o.avail_out=y<x?x-y+257:257-(y-x),f.hold=R,f.bits=B}},{}],49:[function(n,i,s){var o=n("../utils/common"),u=n("./adler32"),f=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),y=1,v=2,x=0,_=-2,E=1,T=852,M=592;function O(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B(U){var q;return U&&U.state?(q=U.state,U.total_in=U.total_out=q.total=0,U.msg="",q.wrap&&(U.adler=1&q.wrap),q.mode=E,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new o.Buf32(T),q.distcode=q.distdyn=new o.Buf32(M),q.sane=1,q.back=-1,x):_}function H(U){var q;return U&&U.state?((q=U.state).wsize=0,q.whave=0,q.wnext=0,B(U)):_}function F(U,q){var D,Z;return U&&U.state?(Z=U.state,q<0?(D=0,q=-q):(D=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?_:(Z.window!==null&&Z.wbits!==q&&(Z.window=null),Z.wrap=D,Z.wbits=q,H(U))):_}function nt(U,q){var D,Z;return U?(Z=new R,(U.state=Z).window=null,(D=F(U,q))!==x&&(U.state=null),D):_}var X,z,j=!0;function P(U){if(j){var q;for(X=new o.Buf32(512),z=new o.Buf32(32),q=0;q<144;)U.lens[q++]=8;for(;q<256;)U.lens[q++]=9;for(;q<280;)U.lens[q++]=7;for(;q<288;)U.lens[q++]=8;for(p(y,U.lens,0,288,X,0,U.work,{bits:9}),q=0;q<32;)U.lens[q++]=5;p(v,U.lens,0,32,z,0,U.work,{bits:5}),j=!1}U.lencode=X,U.lenbits=9,U.distcode=z,U.distbits=5}function at(U,q,D,Z){var K,Q=U.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new o.Buf8(Q.wsize)),Z>=Q.wsize?(o.arraySet(Q.window,q,D-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(Z<(K=Q.wsize-Q.wnext)&&(K=Z),o.arraySet(Q.window,q,D-Z,K,Q.wnext),(Z-=K)?(o.arraySet(Q.window,q,D-Z,Z,0),Q.wnext=Z,Q.whave=Q.wsize):(Q.wnext+=K,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=K))),0}s.inflateReset=H,s.inflateReset2=F,s.inflateResetKeep=B,s.inflateInit=function(U){return nt(U,15)},s.inflateInit2=nt,s.inflate=function(U,q){var D,Z,K,Q,tt,st,gt,Y,$,ft,pt,yt,Yt,Qt,Ht,Ct,Ee,ve,de,Ae,V,Rt,kt,ot,et=0,ht=new o.Buf8(4),zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return _;(D=U.state).mode===12&&(D.mode=13),tt=U.next_out,K=U.output,gt=U.avail_out,Q=U.next_in,Z=U.input,st=U.avail_in,Y=D.hold,$=D.bits,ft=st,pt=gt,Rt=x;t:for(;;)switch(D.mode){case E:if(D.wrap===0){D.mode=13;break}for(;$<16;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(2&D.wrap&&Y===35615){ht[D.check=0]=255&Y,ht[1]=Y>>>8&255,D.check=f(D.check,ht,2,0),$=Y=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&Y)<<8)+(Y>>8))%31){U.msg="incorrect header check",D.mode=30;break}if((15&Y)!=8){U.msg="unknown compression method",D.mode=30;break}if($-=4,V=8+(15&(Y>>>=4)),D.wbits===0)D.wbits=V;else if(V>D.wbits){U.msg="invalid window size",D.mode=30;break}D.dmax=1<<V,U.adler=D.check=1,D.mode=512&Y?10:12,$=Y=0;break;case 2:for(;$<16;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(D.flags=Y,(255&D.flags)!=8){U.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){U.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=Y>>8&1),512&D.flags&&(ht[0]=255&Y,ht[1]=Y>>>8&255,D.check=f(D.check,ht,2,0)),$=Y=0,D.mode=3;case 3:for(;$<32;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.head&&(D.head.time=Y),512&D.flags&&(ht[0]=255&Y,ht[1]=Y>>>8&255,ht[2]=Y>>>16&255,ht[3]=Y>>>24&255,D.check=f(D.check,ht,4,0)),$=Y=0,D.mode=4;case 4:for(;$<16;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.head&&(D.head.xflags=255&Y,D.head.os=Y>>8),512&D.flags&&(ht[0]=255&Y,ht[1]=Y>>>8&255,D.check=f(D.check,ht,2,0)),$=Y=0,D.mode=5;case 5:if(1024&D.flags){for(;$<16;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.length=Y,D.head&&(D.head.extra_len=Y),512&D.flags&&(ht[0]=255&Y,ht[1]=Y>>>8&255,D.check=f(D.check,ht,2,0)),$=Y=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(st<(yt=D.length)&&(yt=st),yt&&(D.head&&(V=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),o.arraySet(D.head.extra,Z,Q,yt,V)),512&D.flags&&(D.check=f(D.check,Z,yt,Q)),st-=yt,Q+=yt,D.length-=yt),D.length))break t;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(st===0)break t;for(yt=0;V=Z[Q+yt++],D.head&&V&&D.length<65536&&(D.head.name+=String.fromCharCode(V)),V&&yt<st;);if(512&D.flags&&(D.check=f(D.check,Z,yt,Q)),st-=yt,Q+=yt,V)break t}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(st===0)break t;for(yt=0;V=Z[Q+yt++],D.head&&V&&D.length<65536&&(D.head.comment+=String.fromCharCode(V)),V&&yt<st;);if(512&D.flags&&(D.check=f(D.check,Z,yt,Q)),st-=yt,Q+=yt,V)break t}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;$<16;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(Y!==(65535&D.check)){U.msg="header crc mismatch",D.mode=30;break}$=Y=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),U.adler=D.check=0,D.mode=12;break;case 10:for(;$<32;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}U.adler=D.check=O(Y),$=Y=0,D.mode=11;case 11:if(D.havedict===0)return U.next_out=tt,U.avail_out=gt,U.next_in=Q,U.avail_in=st,D.hold=Y,D.bits=$,2;U.adler=D.check=1,D.mode=12;case 12:if(q===5||q===6)break t;case 13:if(D.last){Y>>>=7&$,$-=7&$,D.mode=27;break}for(;$<3;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}switch(D.last=1&Y,$-=1,3&(Y>>>=1)){case 0:D.mode=14;break;case 1:if(P(D),D.mode=20,q!==6)break;Y>>>=2,$-=2;break t;case 2:D.mode=17;break;case 3:U.msg="invalid block type",D.mode=30}Y>>>=2,$-=2;break;case 14:for(Y>>>=7&$,$-=7&$;$<32;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if((65535&Y)!=(Y>>>16^65535)){U.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&Y,$=Y=0,D.mode=15,q===6)break t;case 15:D.mode=16;case 16:if(yt=D.length){if(st<yt&&(yt=st),gt<yt&&(yt=gt),yt===0)break t;o.arraySet(K,Z,Q,yt,tt),st-=yt,Q+=yt,gt-=yt,tt+=yt,D.length-=yt;break}D.mode=12;break;case 17:for(;$<14;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(D.nlen=257+(31&Y),Y>>>=5,$-=5,D.ndist=1+(31&Y),Y>>>=5,$-=5,D.ncode=4+(15&Y),Y>>>=4,$-=4,286<D.nlen||30<D.ndist){U.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;$<3;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.lens[zt[D.have++]]=7&Y,Y>>>=3,$-=3}for(;D.have<19;)D.lens[zt[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,kt={bits:D.lenbits},Rt=p(0,D.lens,0,19,D.lencode,0,D.work,kt),D.lenbits=kt.bits,Rt){U.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;Ct=(et=D.lencode[Y&(1<<D.lenbits)-1])>>>16&255,Ee=65535&et,!((Ht=et>>>24)<=$);){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(Ee<16)Y>>>=Ht,$-=Ht,D.lens[D.have++]=Ee;else{if(Ee===16){for(ot=Ht+2;$<ot;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(Y>>>=Ht,$-=Ht,D.have===0){U.msg="invalid bit length repeat",D.mode=30;break}V=D.lens[D.have-1],yt=3+(3&Y),Y>>>=2,$-=2}else if(Ee===17){for(ot=Ht+3;$<ot;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}$-=Ht,V=0,yt=3+(7&(Y>>>=Ht)),Y>>>=3,$-=3}else{for(ot=Ht+7;$<ot;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}$-=Ht,V=0,yt=11+(127&(Y>>>=Ht)),Y>>>=7,$-=7}if(D.have+yt>D.nlen+D.ndist){U.msg="invalid bit length repeat",D.mode=30;break}for(;yt--;)D.lens[D.have++]=V}}if(D.mode===30)break;if(D.lens[256]===0){U.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,kt={bits:D.lenbits},Rt=p(y,D.lens,0,D.nlen,D.lencode,0,D.work,kt),D.lenbits=kt.bits,Rt){U.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,kt={bits:D.distbits},Rt=p(v,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,kt),D.distbits=kt.bits,Rt){U.msg="invalid distances set",D.mode=30;break}if(D.mode=20,q===6)break t;case 20:D.mode=21;case 21:if(6<=st&&258<=gt){U.next_out=tt,U.avail_out=gt,U.next_in=Q,U.avail_in=st,D.hold=Y,D.bits=$,d(U,pt),tt=U.next_out,K=U.output,gt=U.avail_out,Q=U.next_in,Z=U.input,st=U.avail_in,Y=D.hold,$=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;Ct=(et=D.lencode[Y&(1<<D.lenbits)-1])>>>16&255,Ee=65535&et,!((Ht=et>>>24)<=$);){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(Ct&&(240&Ct)==0){for(ve=Ht,de=Ct,Ae=Ee;Ct=(et=D.lencode[Ae+((Y&(1<<ve+de)-1)>>ve)])>>>16&255,Ee=65535&et,!(ve+(Ht=et>>>24)<=$);){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}Y>>>=ve,$-=ve,D.back+=ve}if(Y>>>=Ht,$-=Ht,D.back+=Ht,D.length=Ee,Ct===0){D.mode=26;break}if(32&Ct){D.back=-1,D.mode=12;break}if(64&Ct){U.msg="invalid literal/length code",D.mode=30;break}D.extra=15&Ct,D.mode=22;case 22:if(D.extra){for(ot=D.extra;$<ot;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.length+=Y&(1<<D.extra)-1,Y>>>=D.extra,$-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;Ct=(et=D.distcode[Y&(1<<D.distbits)-1])>>>16&255,Ee=65535&et,!((Ht=et>>>24)<=$);){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if((240&Ct)==0){for(ve=Ht,de=Ct,Ae=Ee;Ct=(et=D.distcode[Ae+((Y&(1<<ve+de)-1)>>ve)])>>>16&255,Ee=65535&et,!(ve+(Ht=et>>>24)<=$);){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}Y>>>=ve,$-=ve,D.back+=ve}if(Y>>>=Ht,$-=Ht,D.back+=Ht,64&Ct){U.msg="invalid distance code",D.mode=30;break}D.offset=Ee,D.extra=15&Ct,D.mode=24;case 24:if(D.extra){for(ot=D.extra;$<ot;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}D.offset+=Y&(1<<D.extra)-1,Y>>>=D.extra,$-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){U.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(gt===0)break t;if(yt=pt-gt,D.offset>yt){if((yt=D.offset-yt)>D.whave&&D.sane){U.msg="invalid distance too far back",D.mode=30;break}Yt=yt>D.wnext?(yt-=D.wnext,D.wsize-yt):D.wnext-yt,yt>D.length&&(yt=D.length),Qt=D.window}else Qt=K,Yt=tt-D.offset,yt=D.length;for(gt<yt&&(yt=gt),gt-=yt,D.length-=yt;K[tt++]=Qt[Yt++],--yt;);D.length===0&&(D.mode=21);break;case 26:if(gt===0)break t;K[tt++]=D.length,gt--,D.mode=21;break;case 27:if(D.wrap){for(;$<32;){if(st===0)break t;st--,Y|=Z[Q++]<<$,$+=8}if(pt-=gt,U.total_out+=pt,D.total+=pt,pt&&(U.adler=D.check=D.flags?f(D.check,K,pt,tt-pt):u(D.check,K,pt,tt-pt)),pt=gt,(D.flags?Y:O(Y))!==D.check){U.msg="incorrect data check",D.mode=30;break}$=Y=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;$<32;){if(st===0)break t;st--,Y+=Z[Q++]<<$,$+=8}if(Y!==(4294967295&D.total)){U.msg="incorrect length check",D.mode=30;break}$=Y=0}D.mode=29;case 29:Rt=1;break t;case 30:Rt=-3;break t;case 31:return-4;default:return _}return U.next_out=tt,U.avail_out=gt,U.next_in=Q,U.avail_in=st,D.hold=Y,D.bits=$,(D.wsize||pt!==U.avail_out&&D.mode<30&&(D.mode<27||q!==4))&&at(U,U.output,U.next_out,pt-U.avail_out)?(D.mode=31,-4):(ft-=U.avail_in,pt-=U.avail_out,U.total_in+=ft,U.total_out+=pt,D.total+=pt,D.wrap&&pt&&(U.adler=D.check=D.flags?f(D.check,K,pt,U.next_out-pt):u(D.check,K,pt,U.next_out-pt)),U.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(ft==0&&pt===0||q===4)&&Rt===x&&(Rt=-5),Rt)},s.inflateEnd=function(U){if(!U||!U.state)return _;var q=U.state;return q.window&&(q.window=null),U.state=null,x},s.inflateGetHeader=function(U,q){var D;return U&&U.state?(2&(D=U.state).wrap)==0?_:((D.head=q).done=!1,x):_},s.inflateSetDictionary=function(U,q){var D,Z=q.length;return U&&U.state?(D=U.state).wrap!==0&&D.mode!==11?_:D.mode===11&&u(1,q,Z,0)!==D.check?-3:at(U,q,Z,Z)?(D.mode=31,-4):(D.havedict=1,x):_},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,s){var o=n("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(y,v,x,_,E,T,M,O){var R,B,H,F,nt,X,z,j,P,at=O.bits,U=0,q=0,D=0,Z=0,K=0,Q=0,tt=0,st=0,gt=0,Y=0,$=null,ft=0,pt=new o.Buf16(16),yt=new o.Buf16(16),Yt=null,Qt=0;for(U=0;U<=15;U++)pt[U]=0;for(q=0;q<_;q++)pt[v[x+q]]++;for(K=at,Z=15;1<=Z&&pt[Z]===0;Z--);if(Z<K&&(K=Z),Z===0)return E[T++]=20971520,E[T++]=20971520,O.bits=1,0;for(D=1;D<Z&&pt[D]===0;D++);for(K<D&&(K=D),U=st=1;U<=15;U++)if(st<<=1,(st-=pt[U])<0)return-1;if(0<st&&(y===0||Z!==1))return-1;for(yt[1]=0,U=1;U<15;U++)yt[U+1]=yt[U]+pt[U];for(q=0;q<_;q++)v[x+q]!==0&&(M[yt[v[x+q]]++]=q);if(X=y===0?($=Yt=M,19):y===1?($=u,ft-=257,Yt=f,Qt-=257,256):($=d,Yt=p,-1),U=D,nt=T,tt=q=Y=0,H=-1,F=(gt=1<<(Q=K))-1,y===1&&852<gt||y===2&&592<gt)return 1;for(;;){for(z=U-tt,P=M[q]<X?(j=0,M[q]):M[q]>X?(j=Yt[Qt+M[q]],$[ft+M[q]]):(j=96,0),R=1<<U-tt,D=B=1<<Q;E[nt+(Y>>tt)+(B-=R)]=z<<24|j<<16|P|0,B!==0;);for(R=1<<U-1;Y&R;)R>>=1;if(R!==0?(Y&=R-1,Y+=R):Y=0,q++,--pt[U]==0){if(U===Z)break;U=v[x+M[q]]}if(K<U&&(Y&F)!==H){for(tt===0&&(tt=K),nt+=D,st=1<<(Q=U-tt);Q+tt<Z&&!((st-=pt[Q+tt])<=0);)Q++,st<<=1;if(gt+=1<<Q,y===1&&852<gt||y===2&&592<gt)return 1;E[H=Y&F]=K<<24|Q<<16|nt-T|0}}return Y!==0&&(E[nt+Y]=U-tt<<24|64<<16|0),O.bits=K,0}},{"../utils/common":41}],51:[function(n,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,s){var o=n("../utils/common"),u=0,f=1;function d(et){for(var ht=et.length;0<=--ht;)et[ht]=0}var p=0,y=29,v=256,x=v+1+y,_=30,E=19,T=2*x+1,M=15,O=16,R=7,B=256,H=16,F=17,nt=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],at=new Array(2*(x+2));d(at);var U=new Array(2*_);d(U);var q=new Array(512);d(q);var D=new Array(256);d(D);var Z=new Array(y);d(Z);var K,Q,tt,st=new Array(_);function gt(et,ht,zt,Ft,xt){this.static_tree=et,this.extra_bits=ht,this.extra_base=zt,this.elems=Ft,this.max_length=xt,this.has_stree=et&&et.length}function Y(et,ht){this.dyn_tree=et,this.max_code=0,this.stat_desc=ht}function $(et){return et<256?q[et]:q[256+(et>>>7)]}function ft(et,ht){et.pending_buf[et.pending++]=255&ht,et.pending_buf[et.pending++]=ht>>>8&255}function pt(et,ht,zt){et.bi_valid>O-zt?(et.bi_buf|=ht<<et.bi_valid&65535,ft(et,et.bi_buf),et.bi_buf=ht>>O-et.bi_valid,et.bi_valid+=zt-O):(et.bi_buf|=ht<<et.bi_valid&65535,et.bi_valid+=zt)}function yt(et,ht,zt){pt(et,zt[2*ht],zt[2*ht+1])}function Yt(et,ht){for(var zt=0;zt|=1&et,et>>>=1,zt<<=1,0<--ht;);return zt>>>1}function Qt(et,ht,zt){var Ft,xt,Zt=new Array(M+1),Nt=0;for(Ft=1;Ft<=M;Ft++)Zt[Ft]=Nt=Nt+zt[Ft-1]<<1;for(xt=0;xt<=ht;xt++){var Gt=et[2*xt+1];Gt!==0&&(et[2*xt]=Yt(Zt[Gt]++,Gt))}}function Ht(et){var ht;for(ht=0;ht<x;ht++)et.dyn_ltree[2*ht]=0;for(ht=0;ht<_;ht++)et.dyn_dtree[2*ht]=0;for(ht=0;ht<E;ht++)et.bl_tree[2*ht]=0;et.dyn_ltree[2*B]=1,et.opt_len=et.static_len=0,et.last_lit=et.matches=0}function Ct(et){8<et.bi_valid?ft(et,et.bi_buf):0<et.bi_valid&&(et.pending_buf[et.pending++]=et.bi_buf),et.bi_buf=0,et.bi_valid=0}function Ee(et,ht,zt,Ft){var xt=2*ht,Zt=2*zt;return et[xt]<et[Zt]||et[xt]===et[Zt]&&Ft[ht]<=Ft[zt]}function ve(et,ht,zt){for(var Ft=et.heap[zt],xt=zt<<1;xt<=et.heap_len&&(xt<et.heap_len&&Ee(ht,et.heap[xt+1],et.heap[xt],et.depth)&&xt++,!Ee(ht,Ft,et.heap[xt],et.depth));)et.heap[zt]=et.heap[xt],zt=xt,xt<<=1;et.heap[zt]=Ft}function de(et,ht,zt){var Ft,xt,Zt,Nt,Gt=0;if(et.last_lit!==0)for(;Ft=et.pending_buf[et.d_buf+2*Gt]<<8|et.pending_buf[et.d_buf+2*Gt+1],xt=et.pending_buf[et.l_buf+Gt],Gt++,Ft===0?yt(et,xt,ht):(yt(et,(Zt=D[xt])+v+1,ht),(Nt=X[Zt])!==0&&pt(et,xt-=Z[Zt],Nt),yt(et,Zt=$(--Ft),zt),(Nt=z[Zt])!==0&&pt(et,Ft-=st[Zt],Nt)),Gt<et.last_lit;);yt(et,B,ht)}function Ae(et,ht){var zt,Ft,xt,Zt=ht.dyn_tree,Nt=ht.stat_desc.static_tree,Gt=ht.stat_desc.has_stree,oe=ht.stat_desc.elems,je=-1;for(et.heap_len=0,et.heap_max=T,zt=0;zt<oe;zt++)Zt[2*zt]!==0?(et.heap[++et.heap_len]=je=zt,et.depth[zt]=0):Zt[2*zt+1]=0;for(;et.heap_len<2;)Zt[2*(xt=et.heap[++et.heap_len]=je<2?++je:0)]=1,et.depth[xt]=0,et.opt_len--,Gt&&(et.static_len-=Nt[2*xt+1]);for(ht.max_code=je,zt=et.heap_len>>1;1<=zt;zt--)ve(et,Zt,zt);for(xt=oe;zt=et.heap[1],et.heap[1]=et.heap[et.heap_len--],ve(et,Zt,1),Ft=et.heap[1],et.heap[--et.heap_max]=zt,et.heap[--et.heap_max]=Ft,Zt[2*xt]=Zt[2*zt]+Zt[2*Ft],et.depth[xt]=(et.depth[zt]>=et.depth[Ft]?et.depth[zt]:et.depth[Ft])+1,Zt[2*zt+1]=Zt[2*Ft+1]=xt,et.heap[1]=xt++,ve(et,Zt,1),2<=et.heap_len;);et.heap[--et.heap_max]=et.heap[1],(function(ie,ue){var Le,Ke,ln,Be,nn,tn,pe=ue.dyn_tree,wi=ue.max_code,Li=ue.stat_desc.static_tree,yr=ue.stat_desc.has_stree,Ne=ue.stat_desc.extra_bits,Ms=ue.stat_desc.extra_base,qa=ue.stat_desc.max_length,Oa=0;for(Be=0;Be<=M;Be++)ie.bl_count[Be]=0;for(pe[2*ie.heap[ie.heap_max]+1]=0,Le=ie.heap_max+1;Le<T;Le++)qa<(Be=pe[2*pe[2*(Ke=ie.heap[Le])+1]+1]+1)&&(Be=qa,Oa++),pe[2*Ke+1]=Be,wi<Ke||(ie.bl_count[Be]++,nn=0,Ms<=Ke&&(nn=Ne[Ke-Ms]),tn=pe[2*Ke],ie.opt_len+=tn*(Be+nn),yr&&(ie.static_len+=tn*(Li[2*Ke+1]+nn)));if(Oa!==0){do{for(Be=qa-1;ie.bl_count[Be]===0;)Be--;ie.bl_count[Be]--,ie.bl_count[Be+1]+=2,ie.bl_count[qa]--,Oa-=2}while(0<Oa);for(Be=qa;Be!==0;Be--)for(Ke=ie.bl_count[Be];Ke!==0;)wi<(ln=ie.heap[--Le])||(pe[2*ln+1]!==Be&&(ie.opt_len+=(Be-pe[2*ln+1])*pe[2*ln],pe[2*ln+1]=Be),Ke--)}})(et,ht),Qt(Zt,je,et.bl_count)}function V(et,ht,zt){var Ft,xt,Zt=-1,Nt=ht[1],Gt=0,oe=7,je=4;for(Nt===0&&(oe=138,je=3),ht[2*(zt+1)+1]=65535,Ft=0;Ft<=zt;Ft++)xt=Nt,Nt=ht[2*(Ft+1)+1],++Gt<oe&&xt===Nt||(Gt<je?et.bl_tree[2*xt]+=Gt:xt!==0?(xt!==Zt&&et.bl_tree[2*xt]++,et.bl_tree[2*H]++):Gt<=10?et.bl_tree[2*F]++:et.bl_tree[2*nt]++,Zt=xt,je=(Gt=0)===Nt?(oe=138,3):xt===Nt?(oe=6,3):(oe=7,4))}function Rt(et,ht,zt){var Ft,xt,Zt=-1,Nt=ht[1],Gt=0,oe=7,je=4;for(Nt===0&&(oe=138,je=3),Ft=0;Ft<=zt;Ft++)if(xt=Nt,Nt=ht[2*(Ft+1)+1],!(++Gt<oe&&xt===Nt)){if(Gt<je)for(;yt(et,xt,et.bl_tree),--Gt!=0;);else xt!==0?(xt!==Zt&&(yt(et,xt,et.bl_tree),Gt--),yt(et,H,et.bl_tree),pt(et,Gt-3,2)):Gt<=10?(yt(et,F,et.bl_tree),pt(et,Gt-3,3)):(yt(et,nt,et.bl_tree),pt(et,Gt-11,7));Zt=xt,je=(Gt=0)===Nt?(oe=138,3):xt===Nt?(oe=6,3):(oe=7,4)}}d(st);var kt=!1;function ot(et,ht,zt,Ft){pt(et,(p<<1)+(Ft?1:0),3),(function(xt,Zt,Nt,Gt){Ct(xt),ft(xt,Nt),ft(xt,~Nt),o.arraySet(xt.pending_buf,xt.window,Zt,Nt,xt.pending),xt.pending+=Nt})(et,ht,zt)}s._tr_init=function(et){kt||((function(){var ht,zt,Ft,xt,Zt,Nt=new Array(M+1);for(xt=Ft=0;xt<y-1;xt++)for(Z[xt]=Ft,ht=0;ht<1<<X[xt];ht++)D[Ft++]=xt;for(D[Ft-1]=xt,xt=Zt=0;xt<16;xt++)for(st[xt]=Zt,ht=0;ht<1<<z[xt];ht++)q[Zt++]=xt;for(Zt>>=7;xt<_;xt++)for(st[xt]=Zt<<7,ht=0;ht<1<<z[xt]-7;ht++)q[256+Zt++]=xt;for(zt=0;zt<=M;zt++)Nt[zt]=0;for(ht=0;ht<=143;)at[2*ht+1]=8,ht++,Nt[8]++;for(;ht<=255;)at[2*ht+1]=9,ht++,Nt[9]++;for(;ht<=279;)at[2*ht+1]=7,ht++,Nt[7]++;for(;ht<=287;)at[2*ht+1]=8,ht++,Nt[8]++;for(Qt(at,x+1,Nt),ht=0;ht<_;ht++)U[2*ht+1]=5,U[2*ht]=Yt(ht,5);K=new gt(at,X,v+1,x,M),Q=new gt(U,z,0,_,M),tt=new gt(new Array(0),j,0,E,R)})(),kt=!0),et.l_desc=new Y(et.dyn_ltree,K),et.d_desc=new Y(et.dyn_dtree,Q),et.bl_desc=new Y(et.bl_tree,tt),et.bi_buf=0,et.bi_valid=0,Ht(et)},s._tr_stored_block=ot,s._tr_flush_block=function(et,ht,zt,Ft){var xt,Zt,Nt=0;0<et.level?(et.strm.data_type===2&&(et.strm.data_type=(function(Gt){var oe,je=4093624447;for(oe=0;oe<=31;oe++,je>>>=1)if(1&je&&Gt.dyn_ltree[2*oe]!==0)return u;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return f;for(oe=32;oe<v;oe++)if(Gt.dyn_ltree[2*oe]!==0)return f;return u})(et)),Ae(et,et.l_desc),Ae(et,et.d_desc),Nt=(function(Gt){var oe;for(V(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),V(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),Ae(Gt,Gt.bl_desc),oe=E-1;3<=oe&&Gt.bl_tree[2*P[oe]+1]===0;oe--);return Gt.opt_len+=3*(oe+1)+5+5+4,oe})(et),xt=et.opt_len+3+7>>>3,(Zt=et.static_len+3+7>>>3)<=xt&&(xt=Zt)):xt=Zt=zt+5,zt+4<=xt&&ht!==-1?ot(et,ht,zt,Ft):et.strategy===4||Zt===xt?(pt(et,2+(Ft?1:0),3),de(et,at,U)):(pt(et,4+(Ft?1:0),3),(function(Gt,oe,je,ie){var ue;for(pt(Gt,oe-257,5),pt(Gt,je-1,5),pt(Gt,ie-4,4),ue=0;ue<ie;ue++)pt(Gt,Gt.bl_tree[2*P[ue]+1],3);Rt(Gt,Gt.dyn_ltree,oe-1),Rt(Gt,Gt.dyn_dtree,je-1)})(et,et.l_desc.max_code+1,et.d_desc.max_code+1,Nt+1),de(et,et.dyn_ltree,et.dyn_dtree)),Ht(et),Ft&&Ct(et)},s._tr_tally=function(et,ht,zt){return et.pending_buf[et.d_buf+2*et.last_lit]=ht>>>8&255,et.pending_buf[et.d_buf+2*et.last_lit+1]=255&ht,et.pending_buf[et.l_buf+et.last_lit]=255&zt,et.last_lit++,ht===0?et.dyn_ltree[2*zt]++:(et.matches++,ht--,et.dyn_ltree[2*(D[zt]+v+1)]++,et.dyn_dtree[2*$(ht)]++),et.last_lit===et.lit_bufsize-1},s._tr_align=function(et){pt(et,2,3),yt(et,B,at),(function(ht){ht.bi_valid===16?(ft(ht,ht.bi_buf),ht.bi_buf=0,ht.bi_valid=0):8<=ht.bi_valid&&(ht.pending_buf[ht.pending++]=255&ht.bi_buf,ht.bi_buf>>=8,ht.bi_valid-=8)})(et)}},{"../utils/common":41}],53:[function(n,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,s){(function(o){(function(u,f){if(!u.setImmediate){var d,p,y,v,x=1,_={},E=!1,T=u.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(u);M=M&&M.setTimeout?M:u,d={}.toString.call(u.process)==="[object process]"?function(H){process.nextTick(function(){R(H)})}:(function(){if(u.postMessage&&!u.importScripts){var H=!0,F=u.onmessage;return u.onmessage=function(){H=!1},u.postMessage("","*"),u.onmessage=F,H}})()?(v="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",B,!1):u.attachEvent("onmessage",B),function(H){u.postMessage(v+H,"*")}):u.MessageChannel?((y=new MessageChannel).port1.onmessage=function(H){R(H.data)},function(H){y.port2.postMessage(H)}):T&&"onreadystatechange"in T.createElement("script")?(p=T.documentElement,function(H){var F=T.createElement("script");F.onreadystatechange=function(){R(H),F.onreadystatechange=null,p.removeChild(F),F=null},p.appendChild(F)}):function(H){setTimeout(R,0,H)},M.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var F=new Array(arguments.length-1),nt=0;nt<F.length;nt++)F[nt]=arguments[nt+1];var X={callback:H,args:F};return _[x]=X,d(x),x++},M.clearImmediate=O}function O(H){delete _[H]}function R(H){if(E)setTimeout(R,0,H);else{var F=_[H];if(F){E=!0;try{(function(nt){var X=nt.callback,z=nt.args;switch(z.length){case 0:X();break;case 1:X(z[0]);break;case 2:X(z[0],z[1]);break;case 3:X(z[0],z[1],z[2]);break;default:X.apply(f,z)}})(F)}finally{O(H),E=!1}}}}function B(H){H.source===u&&typeof H.data=="string"&&H.data.indexOf(v)===0&&R(+H.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(M1)),M1.exports}var PC=GC();const VC=lh(PC);class dr{static parseAnnotations(t,n=[],i=null){let s=t,o=null;typeof t=="object"&&t!==null&&(o=t,s=JSON.stringify(t));const u=i||this.detectFormat(s);console.log(`[AnnotationConverter] Parsing as: ${u}`);try{switch(u){case"coco":const f=o||JSON.parse(s);return this.parseBatchCoco(f,n);case"toon":const d=o||JSON.parse(s),p=this.toonToInternal(d);return{annotations:{[d.m?.[0]||"image.jpg"]:p.annotations},categories:p.categories,orphans:[]};case"toon-batch":const v=o||JSON.parse(s);return this.parseBatchToon(v,n);case"voc":const x=this.vocToCoco(s),_=x.images?.[0]?.file_name||"image.jpg",E=this.cocoToInternal(x);return{annotations:{[_]:E.annotations},categories:E.categories,orphans:[]};case"voc-aggregated":return this.parseAggregatedVoc(s,n);case"yolo":if(n.length===0)throw new Error("Single YOLO file requires image context.");const T=n[0],M=this.yoloToCoco(s,T.width||1,T.height||1),O=this.cocoToInternal(M);return{annotations:{[T.name]:O.annotations},categories:O.categories,orphans:[]};case"yolo-aggregated":return this.parseAggregatedYolo(s,n);default:throw new Error(`Unknown or unsupported format: ${u}`)}}catch(f){throw console.error("[AnnotationConverter] Parse error:",f),f}}static internalToCoco(t,n){const i=new Map;t.forEach(u=>{const f=u.label!==null&&u.label!==void 0?u.label:"unknown";i.has(f)||i.set(f,i.size+1)});const s=Array.from(i.entries()).map(([u,f])=>({id:f,name:u})),o=t.map((u,f)=>{const d=u.points||[],p=u.label!==null&&u.label!==void 0?u.label:"unknown";let y=1/0,v=1/0,x=-1/0,_=-1/0;for(let O=0;O<d.length;O+=2)y=Math.min(y,d[O]),x=Math.max(x,d[O]),v=Math.min(v,d[O+1]),_=Math.max(_,d[O+1]);const E=x-y,T=_-v,M=E*T;return{id:u.id||f+1,image_id:1,category_id:i.get(p),segmentation:[d],bbox:[y,v,E,T],area:M,iscrowd:0}});return{images:[{id:1,file_name:n.name||"image.jpg",width:n.width,height:n.height}],annotations:o,categories:s}}static cocoToInternal(t){if(!t||typeof t!="object")throw new Error("Invalid data: COCO input must be a JSON object.");if(!t.annotations&&!t.categories&&!t.images)throw new Error("Invalid COCO format: Missing standard COCO keys (images, annotations, categories).");const n=new Map;(t.categories||[]).forEach(o=>{n.set(o.id,o.name)});const i=(t.annotations||[]).map(o=>({id:String(o.id),type:"poly",label:n.get(o.category_id)||"unknown",points:o.segmentation?.[0]||[],originalRawPoints:o.segmentation?.[0]||[]})),s=Array.from(n.values());return{annotations:i,categories:s}}static cocoToToon(t){const n=t.images?.[0]||{},i=(t.categories||[]).sort((u,f)=>u.id-f.id).map(u=>u.name),s=new Map;t.categories?.forEach((u,f)=>{s.set(u.id,f)});const o=(t.annotations||[]).map(u=>{const f=s.get(u.category_id)??0,p=(u.segmentation?.[0]||[]).map(y=>Math.round(y*100)/100);return[f,p]});return{v:"1.0",m:[n.file_name||"image.jpg",n.width||0,n.height||0],c:i,d:o}}static toonToCoco(t){if(!t||typeof t!="object")throw new Error("Invalid data: Input is not a JSON object.");if(!Array.isArray(t.d))throw new Error('Invalid TOON format: Missing "d" (data) array.');const[n,i,s]=t.m||["image.jpg",0,0],o=t.c||[],u=t.d||[],f=o.map((p,y)=>({id:y+1,name:p})),d=u.map((p,y)=>{const[v,x]=p;if(!Array.isArray(x))return console.warn(`Skipping invalid annotation at index ${y}: Points is not an array`),null;let _=1/0,E=1/0,T=-1/0,M=-1/0;for(let O=0;O<x.length;O+=2)_=Math.min(_,x[O]),T=Math.max(T,x[O]),E=Math.min(E,x[O+1]),M=Math.max(M,x[O+1]);return{id:y+1,image_id:1,category_id:v+1,segmentation:[x],bbox:[_,E,T-_,M-E],area:(T-_)*(M-E),iscrowd:0}}).filter(p=>p!==null);return{images:[{id:1,file_name:n,width:i,height:s}],annotations:d,categories:f}}static yoloToCoco(t,n,i,s=[]){if(typeof t!="string")throw new Error("Invalid input: YOLO content must be a string.");const o=t.trim().split(`
`).filter(v=>v.trim());let u=[...s];const f=o.find(v=>v.startsWith("# classes:"));if(f)try{const v=f.replace("# classes:","").trim();v&&(u=v.split(",").map(x=>x.trim()))}catch(v){console.warn("Failed to parse classes metadata",v)}const d=o.filter(v=>!v.startsWith("#"));if(d.length>0){const v=d[0].trim().split(/\s+/);if(v.length<5||isNaN(parseFloat(v[0])))throw new Error("Invalid YOLO format: Lines must start with class_id followed by coordinates.")}const p=new Map;u.forEach((v,x)=>{p.set(x,{id:x+1,name:v})});const y=d.map((v,x)=>{const _=v.trim().split(/\s+/),E=parseInt(_[0]);if(isNaN(E))return null;const T=_.slice(1).map(parseFloat);if(T.some(isNaN))return null;const M=[];for(let F=0;F<T.length;F+=2)M.push(T[F]*n),M.push(T[F+1]*i);let O=1/0,R=1/0,B=-1/0,H=-1/0;for(let F=0;F<M.length;F+=2)O=Math.min(O,M[F]),B=Math.max(B,M[F]),R=Math.min(R,M[F+1]),H=Math.max(H,M[F+1]);return p.has(E)||p.set(E,{id:E+1,name:`class_${E}`}),{id:x+1,image_id:1,category_id:E+1,segmentation:[M],bbox:[O,R,B-O,H-R],area:(B-O)*(H-R),iscrowd:0}}).filter(v=>v!==null);return{images:[{id:1,file_name:"image.jpg",width:n,height:i}],annotations:y,categories:Array.from(p.values()).sort((v,x)=>v.id-x.id)}}static cocoToYolo(t){const n=t.images?.[0]||{},{width:i=1,height:s=1}=n,o=[...t.categories||[]].sort((p,y)=>p.id-y.id),u=new Map;o.forEach((p,y)=>{u.set(p.id,y)});const f=(t.annotations||[]).map(p=>{const y=u.get(p.category_id)??0,v=p.segmentation?.[0]||[],x=[];for(let _=0;_<v.length;_+=2){const E=Math.max(0,Math.min(1,v[_]/i)),T=Math.max(0,Math.min(1,v[_+1]/s));x.push(E.toFixed(6)),x.push(T.toFixed(6))}return`${y} ${x.join(" ")}`}),d=o.map(p=>p.name).join(", ");return f.push(`# classes: ${d}`),{txt:f.join(`
`),classes:o.map(p=>p.name)}}static cocoToVoc(t){const n=t.images?.[0]||{},{file_name:i="image.jpg",width:s=0,height:o=0}=n,u=new Map;(t.categories||[]).forEach(d=>{u.set(d.id,d.name)});const f=(t.annotations||[]).map(d=>{const p=u.get(d.category_id)||"unknown",y=d.segmentation?.[0]||[];let v=1/0,x=1/0,_=-1/0,E=-1/0;for(let T=0;T<y.length;T+=2)v=Math.min(v,y[T]),_=Math.max(_,y[T]),x=Math.min(x,y[T+1]),E=Math.max(E,y[T+1]);return v=Math.max(0,Math.round(v)),x=Math.max(0,Math.round(x)),_=Math.min(s,Math.round(_)),E=Math.min(o,Math.round(E)),`  <object>
    <name>${dg(p)}</name>
    <pose>Unspecified</pose>
    <truncated>0</truncated>
    <difficult>0</difficult>
    <bndbox>
      <xmin>${v}</xmin>
      <ymin>${x}</ymin>
      <xmax>${_}</xmax>
      <ymax>${E}</ymax>
    </bndbox>
  </object>`});return`<?xml version="1.0" encoding="UTF-8"?>
<annotation>
  <folder>images</folder>
  <filename>${dg(i)}</filename>
  <size>
    <width>${s}</width>
    <height>${o}</height>
    <depth>3</depth>
  </size>
  <segmented>0</segmented>
${f.join(`
`)}
</annotation>`}static vocToCoco(t,n=null,i=null){const o=new DOMParser().parseFromString(t,"text/xml"),u=o.querySelector("parsererror");if(u)throw new Error("Invalid XML format: "+u.textContent);if(!o.querySelector("annotation"))throw new Error("Invalid Pascal VOC format: Missing <annotation> root element.");const d=o.querySelector("filename")?.textContent||"image.jpg",p=n||parseInt(o.querySelector("size > width")?.textContent)||0,y=i||parseInt(o.querySelector("size > height")?.textContent)||0,v=new Map,x=[];return o.querySelectorAll("object").forEach((E,T)=>{const M=E.querySelector("name")?.textContent||"unknown";v.has(M)||v.set(M,v.size+1);const O=E.querySelector("bndbox"),R=parseFloat(O?.querySelector("xmin")?.textContent)||0,B=parseFloat(O?.querySelector("ymin")?.textContent)||0,H=parseFloat(O?.querySelector("xmax")?.textContent)||0,F=parseFloat(O?.querySelector("ymax")?.textContent)||0,nt=[R,B,H,B,H,F,R,F];x.push({id:T+1,image_id:1,category_id:v.get(M),segmentation:[nt],bbox:[R,B,H-R,F-B],area:(H-R)*(F-B),iscrowd:0})}),{images:[{id:1,file_name:d,width:p,height:y}],annotations:x,categories:Array.from(v.entries()).map(([E,T])=>({id:T,name:E}))}}static internalToToon(t,n){const i=this.internalToCoco(t,n);return this.cocoToToon(i)}static toonToInternal(t){const n=this.toonToCoco(t);return this.cocoToInternal(n)}static detectFormat(t){const n=t.trim();if(n.startsWith("<?xml")||n.startsWith("<"))return n.includes("<Dataset>")||n.includes("<dataset>")?"voc-aggregated":n.includes("<annotation>")||n.includes("<Annotation>")?"voc":"unknown";if(n.startsWith("{")||n.startsWith("["))try{const s=JSON.parse(n);return s.v&&s.c&&(s.d||s.images)?Array.isArray(s.images)?"toon-batch":"toon":s.images&&s.annotations&&s.categories?"coco":"unknown"}catch{return"unknown"}const i=n.split(`
`).filter(s=>s.trim()&&!s.startsWith("#"));if(i.length>0){const o=i[0].trim().split(/\s+/),u=o[0],f=o.some(p=>/\.(jpg|jpeg|png|webp|bmp|gif)$/i.test(p)),d=o.slice(-4).every(p=>/^-?\d*\.?\d+(?:[eE][-+]?\d+)?$/.test(p));if(f&&d)return"yolo-aggregated";if(!isNaN(parseInt(u))&&String(parseInt(u))===u&&o.length>=5)return"yolo"}return"unknown"}static parseAggregatedYolo(t,n=[]){if(typeof t!="string")throw new Error("Invalid input: YOLO content must be a string.");const i=t.trim().split(`
`),s={},o=[];let u=[];const f=new Map,d=new Map;n.forEach(y=>{const v=y.path||y.name||y.file_name,x={width:y.width||1,height:y.height||1};f.set(v,x);const _=(y.name||v).split("/").pop();d.set(_,v)});const p=i.find(y=>y.startsWith("# classes:"));return p&&(u=p.replace("# classes:","").trim().split(",").map(y=>y.trim())),console.log(`[AnnotationConverter] Matching against ${n.length} project images...`),i.filter(y=>y.trim()&&!y.startsWith("#")).forEach((y,v)=>{const x=y.trim().split(/\s+/);if(x.length<6)return;let _=-1;for(let z=1;z<x.length-4;z++)if(x.slice(z).every(at=>/^-?\d*\.?\d+(?:[eE][-+]?\d+)?$/.test(at))){_=z;break}if(_===-1){console.warn(`[AnnotationConverter] Could not parse line ${v}: ${y}`);return}const E=x.slice(0,_).join(" "),T=parseInt(x[_]),M=x.slice(_+1).map(parseFloat);if(isNaN(T)||M.some(isNaN))return;let O=E,R=f.get(E);if(!R){const z=E.split("/").pop();d.has(z)&&(O=d.get(z),R=f.get(O))}if(!R){o.includes(E)||(o.push(E),console.error(`[AnnotationConverter] Missing Image! No match for "${E}"`));return}const B=O;s[B]||(s[B]=[]);const{width:H,height:F}=R,nt=[];for(let z=0;z<M.length;z+=2)nt.push(M[z]*H),nt.push(M[z+1]*F);const X=u[T]||`class_${T}`;s[B].push({id:`${B}_${s[B].length}`,type:"poly",label:X,points:nt,originalRawPoints:nt})}),{annotations:s,categories:u,orphans:o}}static generateAggregatedYolo(t){const n=new Set;t.forEach(({annotations:u})=>{u.forEach(f=>{f.label&&n.add(f.label)})});const i=Array.from(n),s=new Map(i.map((u,f)=>[u,f])),o=[];return t.forEach(({file:u,annotations:f})=>{const{name:d,width:p=1,height:y=1}=u;f.forEach(v=>{const x=s.get(v.label)??0,_=v.points||[],E=[];for(let T=0;T<_.length;T+=2){const M=Math.max(0,Math.min(1,_[T]/p)),O=Math.max(0,Math.min(1,_[T+1]/y));E.push(M.toFixed(6)),E.push(O.toFixed(6))}o.push(`${d} ${x} ${E.join(" ")}`)})}),i.length>0&&o.push(`# classes: ${i.join(", ")}`),o.join(`
`)}static parseAggregatedVoc(t,n=[]){const s=new DOMParser().parseFromString(t,"text/xml"),o=s.querySelector("parsererror");if(o)throw new Error("Invalid XML format: "+o.textContent);const u=new Map,f=new Map;n.forEach(x=>{const _=x.path||x.name||x.file_name,E={width:x.width||0,height:x.height||0};u.set(_,E);const T=(x.name||_).split("/").pop();f.set(T,_)});const d={},p=[],y=new Set;return s.querySelectorAll("Annotation, annotation").forEach(x=>{const _=x.querySelector("filename")?.textContent||x.querySelector("Filename")?.textContent||"";if(!_)return;let E=_,T=u.get(_);if(!T){const R=_.split("/").pop();f.has(R)&&(E=f.get(R),T=u.get(E))}if(!T){p.includes(_)||(p.push(_),console.warn(`[FormatConverter] No matching image for VOC record: ${_}`));return}const M=E;d[M]||(d[M]=[]),x.querySelectorAll("object").forEach((R,B)=>{const H=R.querySelector("name")?.textContent||"unknown";y.add(H);const F=R.querySelector("bndbox"),nt=parseFloat(F?.querySelector("xmin")?.textContent)||0,X=parseFloat(F?.querySelector("ymin")?.textContent)||0,z=parseFloat(F?.querySelector("xmax")?.textContent)||0,j=parseFloat(F?.querySelector("ymax")?.textContent)||0,P=[nt,X,z,X,z,j,nt,j];d[M].push({id:`${M}_${B}`,type:"poly",label:H,points:P,originalRawPoints:P})})}),{annotations:d,categories:Array.from(y),orphans:p}}static generateAggregatedVoc(t){return`<?xml version="1.0" encoding="UTF-8"?>
<Dataset>
${t.map(({file:i,annotations:s})=>{const{name:o,width:u=0,height:f=0}=i,d=s.map(p=>{const y=p.points||[];let v=1/0,x=1/0,_=-1/0,E=-1/0;for(let T=0;T<y.length;T+=2)v=Math.min(v,y[T]),_=Math.max(_,y[T]),x=Math.min(x,y[T+1]),E=Math.max(E,y[T+1]);return v=Math.max(0,Math.round(v)),x=Math.max(0,Math.round(x)),_=Math.min(u,Math.round(_)),E=Math.min(f,Math.round(E)),`    <object>
      <name>${dg(p.label||"unknown")}</name>
      <pose>Unspecified</pose>
      <truncated>0</truncated>
      <difficult>0</difficult>
      <bndbox>
        <xmin>${v}</xmin>
        <ymin>${x}</ymin>
        <xmax>${_}</xmax>
        <ymax>${E}</ymax>
      </bndbox>
    </object>`});return`  <Annotation>
    <folder>images</folder>
    <filename>${dg(o)}</filename>
    <size>
      <width>${u}</width>
      <height>${f}</height>
      <depth>3</depth>
    </size>
    <segmented>0</segmented>
${d.join(`
`)}
  </Annotation>`}).join(`
`)}
</Dataset>`}static parseBatchCoco(t,n=[]){if(!t||typeof t!="object")throw new Error("Invalid COCO data");const i=new Map,s=new Map;n.forEach(p=>{const y=p.path||p.name||p.file_name;i.set(y,p);const v=(p.name||y).split("/").pop();s.set(v,y)});const o=new Map;(t.images||[]).forEach(p=>{o.set(p.id,p.file_name)});const u=new Map;(t.categories||[]).forEach(p=>{u.set(p.id,p.name)});const f={},d=[];return(t.annotations||[]).forEach(p=>{const y=o.get(p.image_id);if(!y)return;let v=y,x=i.has(y);if(!x){const E=y.split("/").pop();s.has(E)&&(v=s.get(E),x=!0)}if(!x){d.includes(y)||(d.push(y),console.warn(`[FormatConverter] COCO orphan: ${y}`));return}const _=v;f[_]||(f[_]=[]),f[_].push({id:String(p.id),type:"poly",label:u.get(p.category_id)||"unknown",points:p.segmentation?.[0]||[],originalRawPoints:p.segmentation?.[0]||[]})}),{annotations:f,categories:Array.from(u.values()),orphans:d}}static generateBatchCoco(t){const n=new Map;t.forEach(({annotations:f})=>{f.forEach(d=>{const p=d.label||"unknown";n.has(p)||n.set(p,n.size+1)})});const i=Array.from(n.entries()).map(([f,d])=>({id:d,name:f})),s=[],o=[];let u=1;return t.forEach(({file:f,annotations:d},p)=>{const y=p+1;s.push({id:y,file_name:f.name,width:f.width||0,height:f.height||0}),d.forEach(v=>{const x=v.points||[];let _=1/0,E=1/0,T=-1/0,M=-1/0;for(let O=0;O<x.length;O+=2)_=Math.min(_,x[O]),T=Math.max(T,x[O]),E=Math.min(E,x[O+1]),M=Math.max(M,x[O+1]);o.push({id:u++,image_id:y,category_id:n.get(v.label||"unknown"),segmentation:[x],bbox:[_,E,T-_,M-E],area:(T-_)*(M-E),iscrowd:0})})}),{images:s,annotations:o,categories:i}}static parseBatchToon(t,n=[]){if(!t?.images||!Array.isArray(t.images))throw new Error("Invalid batch TOON format: Missing images array");const i=new Map,s=new Map;n.forEach(d=>{const p=d.path||d.name||d.file_name;i.set(p,d);const y=(d.name||p).split("/").pop();s.set(y,p)});const o=t.c||[],u={},f=[];return t.images.forEach(d=>{const[p,y,v]=d.m||["image.jpg",0,0],x=d.d||[];let _=p,E=i.has(p);if(!E){const M=p.split("/").pop();s.has(M)&&(_=s.get(M),E=!0)}if(!E){f.includes(p)||(f.push(p),console.warn(`[FormatConverter] TOON orphan: ${p}`));return}const T=_;u[T]=x.map((M,O)=>{const[R,B]=M;return{id:`${T}_${O}`,type:"poly",label:o[R]||"unknown",points:B||[],originalRawPoints:B||[]}})}),{annotations:u,categories:o,orphans:f}}static generateBatchToon(t){const n=new Set;t.forEach(({annotations:u})=>{u.forEach(f=>{f.label&&n.add(f.label)})});const i=Array.from(n),s=new Map(i.map((u,f)=>[u,f])),o=t.map(({file:u,annotations:f})=>{const d=f.map(p=>{const y=s.get(p.label)??0,v=(p.points||[]).map(x=>Math.round(x*100)/100);return[y,v]});return{m:[u.name,u.width||0,u.height||0],d}});return{v:"1.0",c:i,images:o}}}function dg(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const pg=Object.freeze(Object.defineProperty({__proto__:null,AnnotationConverter:dr},Symbol.toStringTag,{value:"Module"}));function I4(){const e=ut.useCallback(u=>dr.detectFormat(u),[]),t=ut.useCallback((u,f=[],d=null)=>dr.parseAnnotations(u,f,d),[]),n=ut.useCallback((u,f)=>{const d=u.map(p=>({file:p.file,annotations:(p.annotations||[]).map(y=>({...y,id:y.id||Qu()}))}));switch(console.log(`[FormatConverter] Generating ${f} for ${d.length} image(s)`),f.toLowerCase()){case"coco":return{content:JSON.stringify(dr.generateBatchCoco(d),null,2),extension:".json",mimeType:"application/json",filename:"annotations_coco.json"};case"yolo":return{content:dr.generateAggregatedYolo(d),extension:".txt",mimeType:"text/plain",filename:"annotations_yolo.txt"};case"voc":return{content:dr.generateAggregatedVoc(d),extension:".xml",mimeType:"application/xml",filename:"annotations_voc.xml"};case"toon":return{content:JSON.stringify(dr.generateBatchToon(d),null,2),extension:".json",mimeType:"application/json",filename:"annotations_toon.json"};default:throw new Error(`Unsupported export format: ${f}`)}},[]),i=ut.useCallback((u,f,d=null)=>{const p=n(u,f),y=d?`${d}${p.extension}`:p.filename,v=new Blob([p.content],{type:p.mimeType}),x=URL.createObjectURL(v),_=document.createElement("a");return _.href=x,_.download=y,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(x),console.log(`[FormatConverter] Downloaded: ${y}`),{success:!0,filename:y}},[n]),s=ut.useCallback(u=>new Promise((f,d)=>{const p=new FileReader;p.onload=y=>f(y.target.result),p.onerror=y=>d(new Error("Failed to read file")),p.readAsText(u)}),[]),o=ut.useCallback(async(u,f)=>{try{const d=await s(u),p=t(d,f),y=Object.keys(p.annotations).length;let v=0;return Object.values(p.annotations).forEach(x=>{v+=x.length}),{success:!0,annotations:p.annotations,categories:p.categories,orphans:p.orphans,stats:{matchedImages:y,totalAnnotations:v,orphanCount:p.orphans.length}}}catch(d){return{success:!1,error:d.message,annotations:{},categories:[],orphans:[]}}},[s,t]);return{detectFormat:e,parseAnnotations:t,generateAnnotations:n,downloadAnnotations:i,readFileContent:s,importFromFile:o}}const IC=()=>{const{generateAnnotations:e}=I4(),{activeFileData:t}=V4();return{exportProject:ut.useCallback(async i=>{try{const s=await Kn.files.toArray();if(s.length===0)throw new Error("No files to export.");const o=new VC,u=o.folder("images"),f=o.folder("labels"),d=[],p=new Set;for(const E of s){if(!E.blob)continue;const T=E.name;u.file(T,E.blob);let M=[];E.label_data&&(M=qC(E.label_data,E.width,E.height),M.forEach(O=>p.add(O.label))),d.push({file:{name:T,width:E.width||800,height:E.height||600},annotations:M})}const y=Array.from(p).sort();if(i==="yolo"){const E=["train: ../images","val: ../images",`nc: ${y.length}`,`names: [${y.map(T=>`'${T}'`).join(", ")}]`].join(`
`);o.file("data.yaml",E),d.forEach(T=>{const M=T.file.name.replace(/\.[^/.]+$/,"")+".txt",O=T.annotations.map(R=>{const B=y.indexOf(R.label);if(B===-1)return null;const H=T.file.width||1,F=T.file.height||1;if(R.type==="box"){const nt=(R.x+R.w/2)/H,X=(R.y+R.h/2)/F,z=R.w/H,j=R.h/F;return`${B} ${nt.toFixed(6)} ${X.toFixed(6)} ${z.toFixed(6)} ${j.toFixed(6)}`}else if(R.type==="poly"){const nt=R.points.map((X,z)=>(z%2===0?X/H:X/F).toFixed(6)).join(" ");return`${B} ${nt}`}return null}).filter(R=>R);O.length>0&&f.file(M,O.join(`
`))})}else if(i==="coco"){const{content:E}=e(d,"coco");o.file("annotations.json",E)}else if(i==="voc")d.forEach(E=>{const T=FC(E),M=E.file.name.replace(/\.[^/.]+$/,"")+".xml";o.file(M,T)});else if(i==="toon")d.forEach(E=>{const T=KC(E),M=E.file.name.replace(/\.[^/.]+$/,"")+".json";o.file(M,JSON.stringify(T,null,2))});else throw new Error("Unsupported format for zip export");const v=await o.generateAsync({type:"blob"}),x=URL.createObjectURL(v),_=document.createElement("a");return _.href=x,_.download=`dataset_${i}_${new Date().toISOString().slice(0,10)}.zip`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(x),{success:!0,count:s.length}}catch(s){throw console.error(s),s}},[e])}};function qC(e,t,n){if(!e)return[];if(typeof e=="object"&&e.v){const f=e.d||[],d=e.c||[];return f.map((p,y)=>{const[v,x]=p,_=d[v]||`class_${v}`;return{id:y,type:"poly",label:_,points:x}})}const s=(typeof e=="string"?e:JSON.stringify(e)).split(`
`);let o=[];const u=s.find(f=>/^#\s*classes?:\s*(.+)$/i.test(f));if(u){const f=u.match(/^#\s*classes?:\s*(.+)$/i);f&&(o=f[1].split(",").map(d=>d.trim()).filter(d=>d))}return s.map((f,d)=>{if(f.startsWith("#")||!f.trim())return null;const p=f.trim().split(/\s+/);if(p.length<5)return null;const y=parseInt(p[0]),v=o[y]||`class_${y}`;if(p.length===5){const x=parseFloat(p[1]),_=parseFloat(p[2]),E=parseFloat(p[3]),T=parseFloat(p[4]),M=E*t,O=T*n,R=x*t-M/2,B=_*n-O/2;return{id:d,type:"box",label:v,x:R,y:B,w:M,h:O,points:[R,B,R+M,B,R+M,B+O,R,B+O]}}else{const x=[];for(let _=1;_<p.length;_+=2)x.push(parseFloat(p[_])*t),x.push(parseFloat(p[_+1])*n);return{id:d,type:"poly",label:v,points:x}}}).filter(Boolean)}function FC(e){const{file:t,annotations:n}=e;let i=`<annotation>
    <folder>images</folder>
    <filename>${t.name}</filename>
    <size>
        <width>${t.width}</width>
        <height>${t.height}</height>
        <depth>3</depth>
    </size>
`;return n.forEach(s=>{let o,u,f,d;if(s.type==="box")o=s.x,u=s.y,f=s.x+s.w,d=s.y+s.h;else{const p=s.points.filter((v,x)=>x%2===0),y=s.points.filter((v,x)=>x%2===1);o=Math.min(...p),f=Math.max(...p),u=Math.min(...y),d=Math.max(...y)}i+=`    <object>
        <name>${s.label}</name>
        <bndbox>
            <xmin>${Math.round(o)}</xmin>
            <ymin>${Math.round(u)}</ymin>
            <xmax>${Math.round(f)}</xmax>
            <ymax>${Math.round(d)}</ymax>
        </bndbox>
    </object>
`}),i+="</annotation>",i}function KC(e){const{file:t,annotations:n}=e,i=new Map;n.forEach(o=>{i.has(o.label)||i.set(o.label,i.size)});const s=n.map(o=>{const u=i.get(o.label);let f=o.points;return[u,f]});return{v:"1.0",m:[t.name,t.width,t.height],c:Array.from(i.keys()),d:s}}const YC=Math.PI/180;function XC(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const $f=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Me={_global:$f,version:"10.2.0",isBrowser:XC(),isUnminified:/param/.test((function(e){}).toString()),dblClickWindow:400,getAngle(e){return Me.angleDeg?e*YC:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Me.DD.isDragging},isTransforming(){var e,t;return(t=(e=Me.Transformer)===null||e===void 0?void 0:e.isTransforming())!==null&&t!==void 0?t:!1},isDragReady(){return!!Me.DD.node},releaseCanvasOnDestroy:!0,document:$f.document,_injectGlobal(e){typeof $f.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),$f.Konva=e}},aa=e=>{Me[e.prototype.getClassName()]=e};Me._injectGlobal(Me);const ZC=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,x3=()=>{if(typeof document>"u")throw new Error(ZC)};class kr{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new kr(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){const n=this.m;return{x:n[0]*t.x+n[2]*t.y+n[4],y:n[1]*t.x+n[3]*t.y+n[5]}}translate(t,n){return this.m[4]+=this.m[0]*t+this.m[2]*n,this.m[5]+=this.m[1]*t+this.m[3]*n,this}scale(t,n){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=n,this.m[3]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),s=this.m[0]*n+this.m[2]*i,o=this.m[1]*n+this.m[3]*i,u=this.m[0]*-i+this.m[2]*n,f=this.m[1]*-i+this.m[3]*n;return this.m[0]=s,this.m[1]=o,this.m[2]=u,this.m[3]=f,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,n){const i=this.m[0]+this.m[2]*n,s=this.m[1]+this.m[3]*n,o=this.m[2]+this.m[0]*t,u=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=u,this}multiply(t){const n=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],s=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],u=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],f=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=n,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=u,this.m[5]=f,this}invert(){const t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*t,i=-this.m[1]*t,s=-this.m[2]*t,o=this.m[0]*t,u=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),f=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=u,this.m[5]=f,this}getMatrix(){return this.m}decompose(){const t=this.m[0],n=this.m[1],i=this.m[2],s=this.m[3],o=this.m[4],u=this.m[5],f=t*s-n*i,d={x:o,y:u,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||n!=0){const p=Math.sqrt(t*t+n*n);d.rotation=n>0?Math.acos(t/p):-Math.acos(t/p),d.scaleX=p,d.scaleY=f/p,d.skewX=(t*i+n*s)/f,d.skewY=0}else if(i!=0||s!=0){const p=Math.sqrt(i*i+s*s);d.rotation=Math.PI/2-(s>0?Math.acos(-i/p):-Math.acos(i/p)),d.scaleX=f/p,d.scaleY=p,d.skewX=0,d.skewY=(t*i+n*s)/f}return d.rotation=Lt._getRotation(d.rotation),d}}const QC="[object Array]",JC="[object Number]",WC="[object String]",$C="[object Boolean]",t7=Math.PI/180,e7=180/Math.PI,Yp="#",n7="",i7="0",a7="Konva warning: ",b3="Konva error: ",s7="rgb(",N1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},r7=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let mg=[],Xp=null;const o7=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(e){setTimeout(e,16)},Lt={_isElement(e){return!!(e&&e.nodeType==1)},_isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject(e){return!!e&&e.constructor===Object},_isArray(e){return Object.prototype.toString.call(e)===QC},_isNumber(e){return Object.prototype.toString.call(e)===JC&&!isNaN(e)&&isFinite(e)},_isString(e){return Object.prototype.toString.call(e)===WC},_isBoolean(e){return Object.prototype.toString.call(e)===$C},isObject(e){return e instanceof Object},isValidSelector(e){if(typeof e!="string")return!1;const t=e[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(e){return e===0||e>0?1:-1},requestAnimFrame(e){mg.push(e),mg.length===1&&o7(function(){const t=mg;mg=[],t.forEach(function(n){n()})})},createCanvasElement(){x3();const e=document.createElement("canvas");try{e.style=e.style||{}}catch{}return e},createImageElement(){return x3(),document.createElement("img")},_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){const n=Lt.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb(e){e=e.replace(Yp,n7);const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){let e=(Math.random()*16777215<<0).toString(16);for(;e.length<6;)e=i7+e;return Yp+e},isCanvasFarblingActive(){if(Xp!==null)return Xp;if(typeof document>"u")return Xp=!1,!1;const e=this.createCanvasElement();e.width=10,e.height=10;const t=e.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,10,10),t.fillStyle="#282828",t.fillRect(0,0,10,10);const n=t.getImageData(0,0,10,10).data;let i=!1;for(let s=0;s<100;s++)if(n[s*4]!==40||n[s*4+1]!==40||n[s*4+2]!==40||n[s*4+3]!==255){i=!0;break}return Xp=i,this.releaseCanvas(e),Xp},getHitColor(){const e=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(e):e},getHitColorKey(e,t,n){return this.isCanvasFarblingActive()&&(e=Math.round(e/5)*5,t=Math.round(t/5)*5,n=Math.round(n/5)*5),Yp+this._rgbToHex(e,t,n)},getSnappedHexColor(e){const t=this._hexToRgb(e);return Yp+this._rgbToHex(Math.round(t.r/5)*5,Math.round(t.g/5)*5,Math.round(t.b/5)*5)},getRGB(e){let t;return e in N1?(t=N1[e],{r:t[0],g:t[1],b:t[2]}):e[0]===Yp?this._hexToRgb(e.substring(1)):e.substr(0,4)===s7?(t=r7.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(e){return e=e||"black",Lt._namedColorToRBA(e)||Lt._hex3ColorToRGBA(e)||Lt._hex4ColorToRGBA(e)||Lt._hex6ColorToRGBA(e)||Lt._hex8ColorToRGBA(e)||Lt._rgbColorToRGBA(e)||Lt._rgbaColorToRGBA(e)||Lt._hslColorToRGBA(e)},_namedColorToRBA(e){const t=N1[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(e.indexOf("rgb(")===0){e=e.match(/rgb\(([^)]+)\)/)[1];const t=e.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(e.indexOf("rgba(")===0){e=e.match(/rgba\(([^)]+)\)/)[1];const t=e.split(/ *, */).map((n,i)=>n.slice(-1)==="%"?i===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if(e[0]==="#"&&e.length===9)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if(e[0]==="#"&&e.length===7)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if(e[0]==="#"&&e.length===5)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if(e[0]==="#"&&e.length===4)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),i=Number(n[0])/360,s=Number(n[1])/100,o=Number(n[2])/100;let u,f,d;if(s===0)return d=o*255,{r:Math.round(d),g:Math.round(d),b:Math.round(d),a:1};o<.5?u=o*(1+s):u=o+s-o*s;const p=2*o-u,y=[0,0,0];for(let v=0;v<3;v++)f=i+1/3*-(v-1),f<0&&f++,f>1&&f--,6*f<1?d=p+(u-p)*6*f:2*f<1?d=u:3*f<2?d=p+(u-p)*(2/3-f)*6:d=p,y[v]=d*255;return{r:Math.round(y[0]),g:Math.round(y[1]),b:Math.round(y[2]),a:1}}},haveIntersection(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray(e){return e.slice(0)},degToRad(e){return e*t7},radToDeg(e){return e*e7},_degToRad(e){return Lt.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Lt.degToRad(e)},_radToDeg(e){return Lt.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Lt.radToDeg(e)},_getRotation(e){return Me.angleDeg?Lt.radToDeg(e):e},_capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw(e){throw new Error(b3+e)},error(e){console.error(b3+e)},warn(e){Me.showWarnings&&console.warn(a7+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange(e,t,n){return t<=e&&e<n},_getProjectionToSegment(e,t,n,i,s,o){let u,f,d;const p=(e-n)*(e-n)+(t-i)*(t-i);if(p==0)u=e,f=t,d=(s-n)*(s-n)+(o-i)*(o-i);else{const y=((s-e)*(n-e)+(o-t)*(i-t))/p;y<0?(u=e,f=t,d=(e-s)*(e-s)+(t-o)*(t-o)):y>1?(u=n,f=i,d=(n-s)*(n-s)+(i-o)*(i-o)):(u=e+y*(n-e),f=t+y*(i-t),d=(u-s)*(u-s)+(f-o)*(f-o))}return[u,f,d]},_getProjectionToLine(e,t,n){const i=Lt.cloneObject(e);let s=Number.MAX_VALUE;return t.forEach(function(o,u){if(!n&&u===t.length-1)return;const f=t[(u+1)%t.length],d=Lt._getProjectionToSegment(o.x,o.y,f.x,f.y,e.x,e.y),p=d[0],y=d[1],v=d[2];v<s&&(i.x=p,i.y=y,s=v)}),i},_prepareArrayForTween(e,t,n){const i=[],s=[];if(e.length>t.length){const u=t;t=e,e=u}for(let u=0;u<e.length;u+=2)i.push({x:e[u],y:e[u+1]});for(let u=0;u<t.length;u+=2)s.push({x:t[u],y:t[u+1]});const o=[];return s.forEach(function(u){const f=Lt._getProjectionToLine(u,i,n);o.push(f.x),o.push(f.y)}),o},_prepareToStringify(e){let t;e.visitedByCircularReferenceRemoval=!0;for(const n in e)if(e.hasOwnProperty(n)&&e[n]&&typeof e[n]=="object"){if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||Lt._isElement(e[n]))if(t.configurable)delete e[n];else return null;else if(Lt._prepareToStringify(e[n])===null)if(t.configurable)delete e[n];else return null}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999},releaseCanvas(...e){Me.releaseCanvasOnDestroy&&e.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(e,t,n,i){let s=t<0?t:0,o=n<0?n:0;t=Math.abs(t),n=Math.abs(n);let u=0,f=0,d=0,p=0;typeof i=="number"?u=f=d=p=Math.min(i,t/2,n/2):(u=Math.min(i[0]||0,t/2,n/2),f=Math.min(i[1]||0,t/2,n/2),p=Math.min(i[2]||0,t/2,n/2),d=Math.min(i[3]||0,t/2,n/2)),e.moveTo(s+u,o),e.lineTo(s+t-f,o),e.arc(s+t-f,o+f,f,Math.PI*3/2,0,!1),e.lineTo(s+t,o+n-p),e.arc(s+t-p,o+n-p,p,0,Math.PI/2,!1),e.lineTo(s+d,o+n),e.arc(s+d,o+n-d,d,Math.PI/2,Math.PI,!1),e.lineTo(s,o+u),e.arc(s+u,o+u,u,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(e,t,n,i,s){i=Math.abs(i);for(let o=0;o<n;o++){const u=t[(o-1+n)%n],f=t[o],d=t[(o+1)%n],p={x:f.x-u.x,y:f.y-u.y},y={x:d.x-f.x,y:d.y-f.y},v=Math.hypot(p.x,p.y),x=Math.hypot(y.x,y.y);let _;typeof s=="number"?_=s:_=o<s.length?s[o]:0,_=i*Math.cos(Math.PI/n)*Math.min(1,_/i*2);const T={x:p.x/v,y:p.y/v},M={x:y.x/x,y:y.y/x},O={x:f.x-T.x*_,y:f.y-T.y*_},R={x:f.x+M.x*_,y:f.y+M.y*_};o===0?e.moveTo(O.x,O.y):e.lineTo(O.x,O.y),e.arcTo(f.x,f.y,R.x,R.y,_)}}};function l7(e){const t=[],n=e.length,i=Lt;for(let s=0;s<n;s++){let o=e[s];i._isNumber(o)?o=Math.round(o*1e3)/1e3:i._isString(o)||(o=o+""),t.push(o)}return t}const S3=",",u7="(",c7=")",f7="([",h7="])",d7=";",p7="()",m7="=",_3=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],g7=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],y7=100;let gg=null;function w3(){if(gg!==null)return gg;try{const t=Lt.createCanvasElement().getContext("2d");return t?!!t&&"filter"in t:(gg=!1,!1)}catch{return gg=!1,!1}}class wy{constructor(t){this.canvas=t,Me.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){let i=this.traceArr,s=i.length,o="",u,f,d,p;for(u=0;u<s;u++)f=i[u],d=f.method,d?(p=f.args,o+=d,t?o+=p7:Lt._isArray(p[0])?o+=f7+p.join(S3)+h7:(n&&(p=p.map(y=>typeof y=="number"?Math.floor(y):y)),o+=u7+p.join(S3)+c7)):(o+=f.property,t||(o+=m7+f.val)),o+=d7;return o}clearTrace(){this.traceArr=[]}_trace(t){let n=this.traceArr,i;n.push(t),i=n.length,i>=y7&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){const n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(t){const n=t.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(t,n){this._context[t]=n}arc(t,n,i,s,o,u){this._context.arc(t,n,i,s,o,u)}arcTo(t,n,i,s,o){this._context.arcTo(t,n,i,s,o)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,i,s,o,u){this._context.bezierCurveTo(t,n,i,s,o,u)}clearRect(t,n,i,s){this._context.clearRect(t,n,i,s)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,n){const i=arguments;if(i.length===2)return this._context.createImageData(t,n);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,i,s){return this._context.createLinearGradient(t,n,i,s)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,i,s,o,u){return this._context.createRadialGradient(t,n,i,s,o,u)}drawImage(t,n,i,s,o,u,f,d,p){const y=arguments,v=this._context;y.length===3?v.drawImage(t,n,i):y.length===5?v.drawImage(t,n,i,s,o):y.length===9&&v.drawImage(t,n,i,s,o,u,f,d,p)}ellipse(t,n,i,s,o,u,f,d){this._context.ellipse(t,n,i,s,o,u,f,d)}isPointInPath(t,n,i,s){return i?this._context.isPointInPath(i,t,n,s):this._context.isPointInPath(t,n,s)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,n,i,s){this._context.fillRect(t,n,i,s)}strokeRect(t,n,i,s){this._context.strokeRect(t,n,i,s)}fillText(t,n,i,s){s?this._context.fillText(t,n,i,s):this._context.fillText(t,n,i)}measureText(t){return this._context.measureText(t)}getImageData(t,n,i,s){return this._context.getImageData(t,n,i,s)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,i,s){this._context.rect(t,n,i,s)}roundRect(t,n,i,s,o){this._context.roundRect(t,n,i,s,o)}putImageData(t,n,i){this._context.putImageData(t,n,i)}quadraticCurveTo(t,n,i,s){this._context.quadraticCurveTo(t,n,i,s)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,i,s,o,u){this._context.setTransform(t,n,i,s,o,u)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,i,s){this._context.strokeText(t,n,i,s)}transform(t,n,i,s,o,u){this._context.transform(t,n,i,s,o,u)}translate(t,n){this._context.translate(t,n)}_enableTrace(){let t=this,n=_3.length,i=this.setAttr,s,o;const u=function(f){let d=t[f],p;t[f]=function(){return o=l7(Array.prototype.slice.call(arguments,0)),p=d.apply(t,arguments),t._trace({method:f,args:o}),p}};for(s=0;s<n;s++)u(_3[s]);t.setAttr=function(){i.apply(t,arguments);const f=arguments[0];let d=arguments[1];(f==="shadowOffsetX"||f==="shadowOffsetY"||f==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),t._trace({property:f,val:d})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}g7.forEach(function(e){Object.defineProperty(wy.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class v7 extends wy{constructor(t,{willReadFrequently:n=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(t){const n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),i=t.getFillPriority();if(n&&i==="color"){this._fillColor(t);return}const s=t.getFillPatternImage();if(s&&i==="pattern"){this._fillPattern(t);return}const o=t.getFillLinearGradientColorStops();if(o&&i==="linear-gradient"){this._fillLinearGradient(t);return}const u=t.getFillRadialGradientColorStops();if(u&&i==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):s?this._fillPattern(t):o?this._fillLinearGradient(t):u&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),s=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,i.x,i.y);if(s){for(let u=0;u<s.length;u+=2)o.addColorStop(s[u],s[u+1]);this.setAttr("strokeStyle",o)}}_stroke(t){const n=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var n,i,s;const o=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",u=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,f=(s=t.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},d=t.getAbsoluteScale(),p=this.canvas.getPixelRatio(),y=d.x*p,v=d.y*p;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",u*Math.min(Math.abs(y),Math.abs(v))),this.setAttr("shadowOffsetX",f.x*y),this.setAttr("shadowOffsetY",f.y*v)}}class x7 extends wy{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t);const i=t.hitStrokeWidth(),s=i==="auto"?t.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}let yg;function b7(){if(yg)return yg;const e=Lt.createCanvasElement(),t=e.getContext("2d");return yg=(function(){const n=Me._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/i})(),Lt.releaseCanvas(e),yg}class N2{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(t||{}).pixelRatio||Me.pixelRatio||b7();this.pixelRatio=i,this._canvas=Lt.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(s){return Lt.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class $c extends N2{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new v7(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}class D2 extends N2{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new x7(this),this.setSize(t.width,t.height)}}const $n={get isDragging(){let e=!1;return $n._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(e=!0)}),e},justDragged:!1,get node(){let e;return $n._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];$n._dragElements.forEach((n,i)=>{const{node:s}=n,o=s.getStage();o.setPointersPositions(e),n.pointerId===void 0&&(n.pointerId=Lt._getFirstPointerId(e));const u=o._changedPointerPositions.find(f=>f.id===n.pointerId);if(u){if(n.dragStatus!=="dragging"){const f=s.dragDistance();if(Math.max(Math.abs(u.x-n.startPointerPos.x),Math.abs(u.y-n.startPointerPos.y))<f||(s.startDrag({evt:e}),!s.isDragging()))return}s._setDragPosition(e,n),t.push(s)}}),t.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)})},_endDragBefore(e){const t=[];$n._dragElements.forEach(n=>{const{node:i}=n,s=i.getStage();if(e&&s.setPointersPositions(e),!s._changedPointerPositions.find(f=>f.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&($n.justDragged=!0,Me._mouseListenClick=!1,Me._touchListenClick=!1,Me._pointerListenClick=!1,n.dragStatus="stopped");const u=n.node.getLayer()||n.node instanceof Me.Stage&&n.node;u&&t.indexOf(u)===-1&&t.push(u)}),t.forEach(n=>{n.draw()})},_endDragAfter(e){$n._dragElements.forEach((t,n)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),t.dragStatus!=="dragging"&&$n._dragElements.delete(n)})}};Me.isBrowser&&(window.addEventListener("mouseup",$n._endDragBefore,!0),window.addEventListener("touchend",$n._endDragBefore,!0),window.addEventListener("touchcancel",$n._endDragBefore,!0),window.addEventListener("mousemove",$n._drag),window.addEventListener("touchmove",$n._drag),window.addEventListener("mouseup",$n._endDragAfter,!1),window.addEventListener("touchend",$n._endDragAfter,!1),window.addEventListener("touchcancel",$n._endDragAfter,!1));function sf(e){return Lt._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Lt._isBoolean(e)?e:Object.prototype.toString.call(e)}function q4(e){return e>255?255:e<0?0:Math.round(e)}function we(){if(Me.isUnminified)return function(e,t){return Lt._isNumber(e)||Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function Ey(e){if(Me.isUnminified)return function(t,n){let i=Lt._isNumber(t),s=Lt._isArray(t)&&t.length==e;return!i&&!s&&Lt.warn(sf(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function z2(){if(Me.isUnminified)return function(e,t){return Lt._isNumber(e)||e==="auto"||Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function uh(){if(Me.isUnminified)return function(e,t){return Lt._isString(e)||Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function F4(){if(Me.isUnminified)return function(e,t){const n=Lt._isString(e),i=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||i||Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function S7(){if(Me.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Lt._isArray(e)?e.forEach(function(i){Lt._isNumber(i)||Lt.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function fl(){if(Me.isUnminified)return function(e,t){return e===!0||e===!1||Lt.warn(sf(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function _7(e){if(Me.isUnminified)return function(t,n){return t==null||Lt.isObject(t)||Lt.warn(sf(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}const Zp="get",Qp="set",mt={addGetterSetter(e,t,n,i,s){mt.addGetter(e,t,n),mt.addSetter(e,t,i,s),mt.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){const i=Zp+Lt._capitalize(t);e.prototype[i]=e.prototype[i]||function(){const s=this.attrs[t];return s===void 0?n:s}},addSetter(e,t,n,i){const s=Qp+Lt._capitalize(t);e.prototype[s]||mt.overWriteSetter(e,t,n,i)},overWriteSetter(e,t,n,i){const s=Qp+Lt._capitalize(t);e.prototype[s]=function(o){return n&&o!==void 0&&o!==null&&(o=n.call(this,o,t)),this._setAttr(t,o),i&&i.call(this),this}},addComponentsGetterSetter(e,t,n,i,s){const o=n.length,u=Lt._capitalize,f=Zp+u(t),d=Qp+u(t);e.prototype[f]=function(){const y={};for(let v=0;v<o;v++){const x=n[v];y[x]=this.getAttr(t+u(x))}return y};const p=_7(n);e.prototype[d]=function(y){const v=this.attrs[t];i&&(y=i.call(this,y,t)),p&&p.call(this,y,t);for(const x in y)y.hasOwnProperty(x)&&this._setAttr(t+u(x),y[x]);return y||n.forEach(x=>{this._setAttr(t+u(x),void 0)}),this._fireChangeEvent(t,v,y),s&&s.call(this),this},mt.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){const n=Lt._capitalize(t),i=Qp+n,s=Zp+n;e.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(e,t,n,i){Lt.error("Adding deprecated "+t);const s=Zp+Lt._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[s]=function(){Lt.error(o);const u=this.attrs[t];return u===void 0?n:u},mt.addSetter(e,t,i,function(){Lt.error(o)}),mt.addOverloadedGetterSetter(e,t)},backCompat(e,t){Lt.each(t,function(n,i){const s=e.prototype[i],o=Zp+Lt._capitalize(n),u=Qp+Lt._capitalize(n);function f(){s.apply(this,arguments),Lt.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}e.prototype[n]=f,e.prototype[o]=f,e.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}};function w7(e){const t=/(\w+)\(([^)]+)\)/g;let n;for(;(n=t.exec(e))!==null;){const[,i,s]=n;switch(i){case"blur":{const o=parseFloat(s.replace("px",""));return function(u){this.blurRadius(o*.5);const f=Me.Filters;f&&f.Blur&&f.Blur.call(this,u)}}case"brightness":{const o=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(u){this.brightness(o);const f=Me.Filters;f&&f.Brightness&&f.Brightness.call(this,u)}}case"contrast":{const o=parseFloat(s);return function(u){const f=100*(Math.sqrt(o)-1);this.contrast(f);const d=Me.Filters;d&&d.Contrast&&d.Contrast.call(this,u)}}case"grayscale":return function(o){const u=Me.Filters;u&&u.Grayscale&&u.Grayscale.call(this,o)};case"sepia":return function(o){const u=Me.Filters;u&&u.Sepia&&u.Sepia.call(this,o)};case"invert":return function(o){const u=Me.Filters;u&&u.Invert&&u.Invert.call(this,o)};default:Lt.warn(`CSS filter "${i}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Gg="absoluteOpacity",E3="allEventListeners",Zu="absoluteTransform",T3="absoluteScale",Xf="canvas",E7="Change",T7="children",C7="konva",zv="listening",A7="mouseenter",R7="mouseleave",O7="pointerenter",M7="pointerleave",N7="touchenter",D7="touchleave",C3="set",A3="Shape",Pg=" ",R3="stage",Qc="transform",z7="Stage",jv="visible",j7=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Pg);let k7=1;class Se{constructor(t){this._id=k7++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Qc||t===Zu)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){let i=this._cache.get(t);return(i===void 0||(t===Qc||t===Zu)&&i.dirty===!0)&&(i=n.call(this),this._cache.set(t,i)),i}_calculate(t,n,i){if(!this._attachedDepsListeners.get(t)){const s=n.map(o=>o+"Change.konva").join(Pg);this.on(s,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(Xf)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Zu&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Xf)){const{scene:t,filter:n,hit:i}=this._cache.get(Xf);Lt.releaseCanvas(t._canvas,n._canvas,i._canvas),this._cache.delete(Xf)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const n=t||{};let i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(n.width||i.width),o=Math.ceil(n.height||i.height),u=n.pixelRatio,f=n.x===void 0?Math.floor(i.x):n.x,d=n.y===void 0?Math.floor(i.y):n.y,p=n.offset||0,y=n.drawBorder||!1,v=n.hitCanvasPixelRatio||1;if(!s||!o){Lt.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const x=Math.abs(Math.round(i.x)-f)>.5?1:0,_=Math.abs(Math.round(i.y)-d)>.5?1:0;s+=p*2+x,o+=p*2+_,f-=p,d-=p;const E=new $c({pixelRatio:u,width:s,height:o}),T=new $c({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),M=new D2({pixelRatio:v,width:s,height:o}),O=E.getContext(),R=M.getContext(),B=new $c({width:E.width/E.pixelRatio+Math.abs(f),height:E.height/E.pixelRatio+Math.abs(d),pixelRatio:E.pixelRatio}),H=B.getContext();return M.isCache=!0,E.isCache=!0,this._cache.delete(Xf),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(E.getContext()._context.imageSmoothingEnabled=!1,T.getContext()._context.imageSmoothingEnabled=!1),O.save(),R.save(),H.save(),O.translate(-f,-d),R.translate(-f,-d),H.translate(-f,-d),B.x=f,B.y=d,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Gg),this._clearSelfAndDescendantCache(T3),this.drawScene(E,this,B),this.drawHit(M,this),this._isUnderCache=!1,O.restore(),R.restore(),y&&(O.save(),O.beginPath(),O.rect(0,0,s,o),O.closePath(),O.setAttr("strokeStyle","red"),O.setAttr("lineWidth",5),O.stroke(),O.restore()),Lt.releaseCanvas(B._canvas),this._cache.set(Xf,{scene:E,filter:T,hit:M,x:f,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(Xf)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let s=1/0,o=1/0,u=-1/0,f=-1/0;const d=this.getAbsoluteTransform(n);return i.forEach(function(p){const y=d.point(p);s===void 0&&(s=u=y.x,o=f=y.y),s=Math.min(s,y.x),o=Math.min(o,y.y),u=Math.max(u,y.x),f=Math.max(f,y.y)}),{x:s,y:o,width:u-s,height:f-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);const i=this._getCachedSceneCanvas(),s=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/s,i.height/s),t.restore()}_drawCachedHitCanvas(t){const n=this._getCanvasCache(),i=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),n=this._getCanvasCache(),i=n.scene,s=n.filter,o=s.getContext(),u,f,d,p;if(!t||t.length===0)return i;if(this._filterUpToDate)return s;let y=!0;for(let x=0;x<t.length;x++)if(typeof t[x]=="string"&&w3(),typeof t[x]!="string"||!w3()){y=!1;break}const v=i.pixelRatio;if(s.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio),y){const x=t.join(" ");return o.save(),o.setAttr("filter",x),o.drawImage(i._canvas,0,0,i.getWidth()/v,i.getHeight()/v),o.restore(),this._filterUpToDate=!0,s}try{for(u=t.length,o.clear(),o.drawImage(i._canvas,0,0,i.getWidth()/v,i.getHeight()/v),f=o.getImageData(0,0,s.getWidth(),s.getHeight()),d=0;d<u;d++)p=t[d],typeof p=="string"&&(p=w7(p)),p.call(this,f),o.putImageData(f,0,0)}catch(x){Lt.error("Unable to apply filter. "+x.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(t,n){if(this._cache&&this._cache.delete(E3),arguments.length===3)return this._delegate.apply(this,arguments);const i=t.split(Pg);for(let s=0;s<i.length;s++){const u=i[s].split("."),f=u[0],d=u[1]||"";this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:d,handler:n})}return this}off(t,n){let i=(t||"").split(Pg),s=i.length,o,u,f,d,p,y;if(this._cache&&this._cache.delete(E3),!t)for(u in this.eventListeners)this._off(u);for(o=0;o<s;o++)if(f=i[o],d=f.split("."),p=d[0],y=d[1],p)this.eventListeners[p]&&this._off(p,y,n);else for(u in this.eventListeners)this._off(u,y,n);return this}dispatchEvent(t){const n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(i){n.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,i){const s=this;this.on(t,function(o){const u=o.target.findAncestors(n,!0,s);for(let f=0;f<u.length;f++)o=Lt.cloneObject(o),o.currentTarget=u[f],i.call(u[f],o)})}remove(){return this.isDragging()&&this.stopDrag(),$n._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Zu),this._clearSelfAndDescendantCache(Gg),this._clearSelfAndDescendantCache(T3),this._clearSelfAndDescendantCache(R3),this._clearSelfAndDescendantCache(jv),this._clearSelfAndDescendantCache(zv)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const n="get"+Lt._capitalize(t);return Lt._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){let t=this.getParent(),n=[];for(;t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let n,i;if(!t)return this;for(n in t)n!==T7&&(i=C3+Lt._capitalize(n),Lt._isFunction(this[i])?this[i](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(zv,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(jv,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);const i=this.getLayer();let s=!1;$n._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===i)&&(s=!0)});const o=!n&&!Me.hitOnDragEnabled&&(s||Me.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),n=this,i=0,s,o,u,f;function d(y){for(s=[],o=y.length,u=0;u<o;u++)f=y[u],i++,f.nodeType!==A3&&(s=s.concat(f.getChildren().slice())),f._id===n._id&&(u=o);s.length>0&&s[0].getDepth()<=t&&d(s)}const p=this.getStage();return n.nodeType!==z7&&p&&d(p.getChildren()),i}getDepth(){let t=0,n=this.parent;for(;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Qc),this._clearSelfAndDescendantCache(Zu)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const n=t.getPointerPosition();if(!n)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(n)}getAbsolutePosition(t){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!t&&(t=!0);const s=this.getAbsoluteTransform(t).getMatrix(),o=new kr,u=this.offset();return o.m=s.slice(),o.translate(u.x,u.y),o.getTranslation()}setAbsolutePosition(t){const{x:n,y:i,...s}=this._clearTransform();this.attrs.x=n,this.attrs.y=i,this._clearCache(Qc);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(t.x,t.y),t={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(s),this.setPosition({x:t.x,y:t.y}),this._clearCache(Qc),this._clearSelfAndDescendantCache(Zu),this}_setTransform(t){let n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let n=t.x,i=t.y,s=this.x(),o=this.y();return n!==void 0&&(s+=n),i!==void 0&&(o+=i),this.setPosition({x:s,y:o}),this}_eachAncestorReverse(t,n){let i=[],s=this.getParent(),o,u;if(!(n&&n._id===this._id)){for(i.unshift(this);s&&(!n||s._id!==n._id);)i.unshift(s),s=s.parent;for(o=i.length,u=0;u<o;u++)t(i[u])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return Lt.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Lt.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Lt.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Lt.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return Lt.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&Lt.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Gg,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),n,i,s,o,u;const f={attrs:{},className:this.getClassName()};for(n in t)i=t[n],u=Lt.isObject(i)&&!Lt._isPlainObject(i)&&!Lt._isArray(i),!u&&(s=typeof this[n]=="function"&&this[n],delete t[n],o=s?s.call(this):null,t[n]=i,o!==i&&(f.attrs[n]=i));return Lt._prepareToStringify(f)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,i){const s=[];n&&this._isMatch(t)&&s.push(this);let o=this.parent;for(;o;){if(o===i)return s;o._isMatch(t)&&s.push(o),o=o.parent}return s}isAncestorOf(t){return!1}findAncestor(t,n,i){return this.findAncestors(t,n,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let n=t.replace(/ /g,"").split(","),i=n.length,s,o;for(s=0;s<i;s++)if(o=n[s],Lt.isValidSelector(o)||(Lt.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Lt.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Lt.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(R3,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,n={},i){return n.target=n.target||this,i?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Zu,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let n;if(t)return n=new kr,this._eachAncestorReverse(function(i){const s=i.transformsEnabled();s==="all"?n.multiply(i.getTransform()):s==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},t),n;{n=this._cache.get(Zu)||new kr,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const s=this.attrs.x||0,o=this.attrs.y||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;n.translate(s-u,o-f)}return n.dirty=!1,n}}getAbsoluteScale(t){let n=this;for(;n;)n._isUnderCache&&(t=n),n=n.getParent();const s=this.getAbsoluteTransform(t).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Qc,this._getTransform)}_getTransform(){var t,n;const i=this._cache.get(Qc)||new kr;i.reset();const s=this.x(),o=this.y(),u=Me.getAngle(this.rotation()),f=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,y=this.attrs.skewY||0,v=this.attrs.offsetX||0,x=this.attrs.offsetY||0;return(s!==0||o!==0)&&i.translate(s,o),u!==0&&i.rotate(u),(p!==0||y!==0)&&i.skew(p,y),(f!==1||d!==1)&&i.scale(f,d),(v!==0||x!==0)&&i.translate(-1*v,-1*x),i.dirty=!1,i}clone(t){let n=Lt.cloneObject(this.attrs),i,s,o,u,f;for(i in t)n[i]=t[i];const d=new this.constructor(n);for(i in this.eventListeners)for(s=this.eventListeners[i],o=s.length,u=0;u<o;u++)f=s[u],f.name.indexOf(C7)<0&&(d.eventListeners[i]||(d.eventListeners[i]=[]),d.eventListeners[i].push(f));return d}_toKonvaCanvas(t){t=t||{};const n=this.getClientRect(),i=this.getStage(),s=t.x!==void 0?t.x:Math.floor(n.x),o=t.y!==void 0?t.y:Math.floor(n.y),u=t.pixelRatio||1,f=new $c({width:t.width||Math.ceil(n.width)||(i?i.width():0),height:t.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:u}),d=f.getContext(),p=new $c({width:f.width/f.pixelRatio+Math.abs(s),height:f.height/f.pixelRatio+Math.abs(o),pixelRatio:f.pixelRatio});return t.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(s||o)&&d.translate(-1*s,-1*o),this.drawScene(f,void 0,p),d.restore(),f}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const n=t.mimeType||null,i=t.quality||null,s=this._toKonvaCanvas(t).toDataURL(n,i);return t.callback&&t.callback(s),s}toImage(t){return new Promise((n,i)=>{try{const s=t?.callback;s&&delete t.callback,Lt._urlToImage(this.toDataURL(t),function(o){n(o),s?.(o)})}catch(s){i(s)}})}toBlob(t){return new Promise((n,i)=>{try{const s=t?.callback;s&&delete t.callback,this.toCanvas(t).toBlob(o=>{n(o),s?.(o)},t?.mimeType,t?.quality)}catch(s){i(s)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Me.dragDistance}_off(t,n,i){let s=this.eventListeners[t],o,u,f;for(o=0;o<s.length;o++)if(u=s[o].name,f=s[o].handler,(u!=="konva"||n==="konva")&&(!n||u===n)&&(!i||i===f)){if(s.splice(o,1),s.length===0){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,n,i){this._fire(t+E7,{oldVal:n,newVal:i})}addName(t){if(!this.hasName(t)){const n=this.name(),i=n?n+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const n=(this.name()||"").split(/\s/g),i=n.indexOf(t);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(t,n){const i=this[C3+Lt._capitalize(t)];return Lt._isFunction(i)?i.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(Me.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,n){const i=this.attrs[t];i===n&&!Lt.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,n),this._requestDraw())}_setComponentAttr(t,n,i){let s;i!==void 0&&(s=this.attrs[t],s||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=i,this._fireChangeEvent(t,s,i))}_fireAndBubble(t,n,i){n&&this.nodeType===A3&&(n.target=this);const s=[A7,R7,O7,M7,N7,D7];if(!(s.indexOf(t)!==-1&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(t,n);const u=s.indexOf(t)!==-1&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,n,i):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){var n,i;const{nodeType:s}=this,o=Se.protoListenerMap.get(s)||{};let u=o?.[t];if(u===void 0){u=[];let f=Object.getPrototypeOf(this);for(;f;){const d=(i=(n=f.eventListeners)===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:[];u.push(...d),f=Object.getPrototypeOf(f)}o[t]=u,Se.protoListenerMap.set(s,o)}return u}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const i=this._getProtoListeners(t);if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,n);const s=this.eventListeners[t];if(s)for(let o=0;o<s.length;o++)s[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const n=t?t.pointerId:void 0,i=this.getStage(),s=this.getAbsolutePosition();if(!i)return;const o=i._getPointerById(n)||i._changedPointerPositions[0]||s;$n._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-s.x,y:o.y-s.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){$n._dragElements.has(this._id)||this._createDragElement(t);const i=$n._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const i=this.getStage()._getPointerById(n.pointerId);if(!i)return;let s={x:i.x-n.offset.x,y:i.y-n.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const u=o.call(this,s,t);u?s=u:Lt.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(t){const n=$n._dragElements.get(this._id);n&&(n.dragStatus="stopped"),$n._endDragBefore(t),$n._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=$n._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||Me.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let s=!1;$n._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(s=!0)}),s||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=$n._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",s=n&&n.dragStatus==="ready";i?this.stopDrag():s&&$n._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return Lt.haveIntersection(i,this.getClientRect())}static create(t,n){return Lt._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){let i=Se.prototype.getClassName.call(t),s=t.children,o,u,f;n&&(t.attrs.container=n),Me[i]||(Lt.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const d=Me[i];if(o=new d(t.attrs),s)for(u=s.length,f=0;f<u;f++)o.add(Se._createNode(s[f]));return o}}Se.protoListenerMap=new Map;Se.prototype.nodeType="Node";Se.prototype._attrsAffectingSize=[];Se.prototype.eventListeners={};Se.prototype.on.call(Se.prototype,j7,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Qc),this._clearSelfAndDescendantCache(Zu)});Se.prototype.on.call(Se.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(jv)});Se.prototype.on.call(Se.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(zv)});Se.prototype.on.call(Se.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Gg)});const mi=mt.addGetterSetter;mi(Se,"zIndex");mi(Se,"absolutePosition");mi(Se,"position");mi(Se,"x",0,we());mi(Se,"y",0,we());mi(Se,"globalCompositeOperation","source-over",uh());mi(Se,"opacity",1,we());mi(Se,"name","",uh());mi(Se,"id","",uh());mi(Se,"rotation",0,we());mt.addComponentsGetterSetter(Se,"scale",["x","y"]);mi(Se,"scaleX",1,we());mi(Se,"scaleY",1,we());mt.addComponentsGetterSetter(Se,"skew",["x","y"]);mi(Se,"skewX",0,we());mi(Se,"skewY",0,we());mt.addComponentsGetterSetter(Se,"offset",["x","y"]);mi(Se,"offsetX",0,we());mi(Se,"offsetY",0,we());mi(Se,"dragDistance",void 0,we());mi(Se,"width",0,we());mi(Se,"height",0,we());mi(Se,"listening",!0,fl());mi(Se,"preventDefault",!0,fl());mi(Se,"filters",void 0,function(e){return this._filterUpToDate=!1,e});mi(Se,"visible",!0,fl());mi(Se,"transformsEnabled","all",uh());mi(Se,"size");mi(Se,"dragBoundFunc");mi(Se,"draggable",!1,fl());mt.backCompat(Se,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Lr extends Se{constructor(){super(...arguments),this.children=[]}getChildren(t){const n=this.children||[];return t?n.filter(t):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let i=0;i<t.length;i++)this.add(t[i]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){const i=[];return this._descendants(s=>{const o=s._isMatch(t);return o&&i.push(s),!!(o&&n)}),i}_descendants(t){let n=!1;const i=this.getChildren();for(const s of i){if(n=t(s),n)return!0;if(s.hasChildren()&&(n=s._descendants(t),n))return!0}return!1}toObject(){const t=Se.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){let n=t.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){const n=Se.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(t){const n=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(t)&&n.push(i)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(t,n,i){const s=this.getLayer(),o=t||s&&s.getCanvas(),u=o&&o.getContext(),f=this._getCanvasCache(),d=f&&f.scene,p=o&&o.isCache;if(!this.isVisible()&&!p)return this;if(d){u.save();const y=this.getAbsoluteTransform(n).getMatrix();u.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",o,n,i);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;const i=this.getLayer(),s=t||i&&i.hitCanvas,o=s&&s.getContext(),u=this._getCanvasCache();if(u&&u.hit){o.save();const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",s,n);return this}_drawChildren(t,n,i,s){var o;const u=n&&n.getContext(),f=this.clipWidth(),d=this.clipHeight(),p=this.clipFunc(),y=typeof f=="number"&&typeof d=="number"||p,v=i===this;if(y){u.save();const _=this.getAbsoluteTransform(i);let E=_.getMatrix();u.transform(E[0],E[1],E[2],E[3],E[4],E[5]),u.beginPath();let T;if(p)T=p.call(this,u,this);else{const M=this.clipX(),O=this.clipY();u.rect(M||0,O||0,f,d)}u.clip.apply(u,T),E=_.copy().invert().getMatrix(),u.transform(E[0],E[1],E[2],E[3],E[4],E[5])}const x=!v&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";x&&(u.save(),u._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(_){_[t](n,i,s)}),x&&u.restore(),y&&u.restore()}getClientRect(t={}){var n;const i=t.skipTransform,s=t.relativeTo;let o,u,f,d,p={x:1/0,y:1/0,width:0,height:0};const y=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(!_.visible())return;const E=_.getClientRect({relativeTo:y,skipShadow:t.skipShadow,skipStroke:t.skipStroke});E.width===0&&E.height===0||(o===void 0?(o=E.x,u=E.y,f=E.x+E.width,d=E.y+E.height):(o=Math.min(o,E.x),u=Math.min(u,E.y),f=Math.max(f,E.x+E.width),d=Math.max(d,E.y+E.height)))});const v=this.find("Shape");let x=!1;for(let _=0;_<v.length;_++)if(v[_]._isVisible(this)){x=!0;break}return x&&o!==void 0?p={x:o,y:u,width:f-o,height:d-u}:p={x:0,y:0,width:0,height:0},i?p:this._transformedRect(p,s)}}mt.addComponentsGetterSetter(Lr,"clip",["x","y","width","height"]);mt.addGetterSetter(Lr,"clipX",void 0,we());mt.addGetterSetter(Lr,"clipY",void 0,we());mt.addGetterSetter(Lr,"clipWidth",void 0,we());mt.addGetterSetter(Lr,"clipHeight",void 0,we());mt.addGetterSetter(Lr,"clipFunc");const wm=new Map,K4=Me._global.PointerEvent!==void 0;function D1(e){return wm.get(e)}function j2(e){return{evt:e,pointerId:e.pointerId}}function Y4(e,t){return wm.get(e)===t}function X4(e,t){hm(e),t.getStage()&&(wm.set(e,t),K4&&t._fire("gotpointercapture",j2(new PointerEvent("gotpointercapture"))))}function hm(e,t){const n=wm.get(e);if(!n)return;const i=n.getStage();i&&i.content,wm.delete(e),K4&&n._fire("lostpointercapture",j2(new PointerEvent("lostpointercapture")))}const B7="Stage",L7="string",O3="px",U7="mouseout",Z4="mouseleave",Q4="mouseover",J4="mouseenter",W4="mousemove",$4="mousedown",t6="mouseup",im="pointermove",am="pointerdown",vd="pointerup",sm="pointercancel",H7="lostpointercapture",vg="pointerout",rm="pointerleave",xg="pointerover",bg="pointerenter",kv="contextmenu",e6="touchstart",n6="touchend",i6="touchmove",a6="touchcancel",Bv="wheel",G7=5,P7=[[J4,"_pointerenter"],[$4,"_pointerdown"],[W4,"_pointermove"],[t6,"_pointerup"],[Z4,"_pointerleave"],[e6,"_pointerdown"],[i6,"_pointermove"],[n6,"_pointerup"],[a6,"_pointercancel"],[Q4,"_pointerover"],[Bv,"_wheel"],[kv,"_contextmenu"],[am,"_pointerdown"],[im,"_pointermove"],[vd,"_pointerup"],[sm,"_pointercancel"],[rm,"_pointerleave"],[H7,"_lostpointercapture"]],z1={mouse:{[vg]:U7,[rm]:Z4,[xg]:Q4,[bg]:J4,[im]:W4,[am]:$4,[vd]:t6,[sm]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[vg]:"touchout",[rm]:"touchleave",[xg]:"touchover",[bg]:"touchenter",[im]:i6,[am]:e6,[vd]:n6,[sm]:a6,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[vg]:vg,[rm]:rm,[xg]:xg,[bg]:bg,[im]:im,[am]:am,[vd]:vd,[sm]:sm,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},om=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",md=e=>{const t=om(e);if(t==="pointer")return Me.pointerEventsEnabled&&z1.pointer;if(t==="touch")return z1.touch;if(t==="mouse")return z1.mouse};function M3(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&Lt.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const V7="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",dm=[];let Ty=class extends Lr{constructor(t){super(M3(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),dm.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{M3(this.attrs)}),this._checkVisibility()}_validateAdd(t){const n=t.getType()==="Layer",i=t.getType()==="FastLayer";n||i||Lt.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===L7){let n;if(t.charAt(0)==="."){const i=t.slice(1);t=document.getElementsByClassName(i)[0]}else t.charAt(0)!=="#"?n=t:n=t.slice(1),t=document.getElementById(n);if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const t=this.children,n=t.length;for(let i=0;i<n;i++)t[i].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),Lr.prototype.clone.call(this,t)}destroy(){super.destroy();const t=this.content;t&&Lt._isInDocument(t)&&this.container().removeChild(t);const n=dm.indexOf(this);return n>-1&&dm.splice(n,1),Lt.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(Lt.warn(V7),null)}_getPointerById(t){return this._pointerPositions.find(n=>n.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t={...t},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();const n=new $c({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=n.getContext()._context,s=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),s.forEach(function(o){if(!o.isVisible())return;const u=o._toKonvaCanvas(t);i.drawImage(u._canvas,t.x,t.y,u.getWidth()/u.getPixelRatio(),u.getHeight()/u.getPixelRatio())}),n}getIntersection(t){if(!t)return null;const n=this.children,i=n.length,s=i-1;for(let o=s;o>=0;o--){const u=n[o].getIntersection(t);if(u)return u}return null}_resizeDOM(){const t=this.width(),n=this.height();this.content&&(this.content.style.width=t+O3,this.content.style.height=n+O3),this.bufferCanvas.setSize(t,n),this.bufferHitCanvas.setSize(t,n),this.children.forEach(i=>{i.setSize({width:t,height:n}),i.draw()})}add(t,...n){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(t);const i=this.children.length;return i>G7&&Lt.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),Me.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return Y4(t,this)}setPointerCapture(t){X4(t,this)}releaseCapture(t){hm(t)}getLayers(){return this.children}_bindContentEvents(){Me.isBrowser&&P7.forEach(([t,n])=>{this.content.addEventListener(t,i=>{this[n](i)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const n=md(t.type);n&&this._fire(n.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const n=md(t.type);n&&this._fire(n.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let n=this[t+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(t){const n=md(t.type),i=om(t.type);if(!n)return;this.setPointersPositions(t);const s=this._getTargetShape(i),o=!(Me.isDragging()||Me.isTransforming())||Me.hitOnDragEnabled;s&&o?(s._fireAndBubble(n.pointerout,{evt:t}),s._fireAndBubble(n.pointerleave,{evt:t}),this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this[i+"targetShape"]=null):o&&(this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(t){const n=md(t.type),i=om(t.type);if(!n)return;this.setPointersPositions(t);let s=!1;this._changedPointerPositions.forEach(o=>{const u=this.getIntersection(o);if($n.justDragged=!1,Me["_"+i+"ListenClick"]=!0,!u||!u.isListening()){this[i+"ClickStartShape"]=void 0;return}Me.capturePointerEventsEnabled&&u.setPointerCapture(o.id),this[i+"ClickStartShape"]=u,u._fireAndBubble(n.pointerdown,{evt:t,pointerId:o.id}),s=!0;const f=t.type.indexOf("touch")>=0;u.preventDefault()&&t.cancelable&&f&&t.preventDefault()}),s||this._fire(n.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(t){const n=md(t.type),i=om(t.type);if(!n)return;const s=t.type.indexOf("touch")>=0||t.pointerType==="touch";if(Me.isDragging()&&$n.node.preventDefault()&&t.cancelable&&s&&t.preventDefault(),this.setPointersPositions(t),!(!(Me.isDragging()||Me.isTransforming())||Me.hitOnDragEnabled))return;const u={};let f=!1;const d=this._getTargetShape(i);this._changedPointerPositions.forEach(p=>{const y=D1(p.id)||this.getIntersection(p),v=p.id,x={evt:t,pointerId:v},_=d!==y;if(_&&d&&(d._fireAndBubble(n.pointerout,{...x},y),d._fireAndBubble(n.pointerleave,{...x},y)),y){if(u[y._id])return;u[y._id]=!0}y&&y.isListening()?(f=!0,_&&(y._fireAndBubble(n.pointerover,{...x},d),y._fireAndBubble(n.pointerenter,{...x},d),this[i+"targetShape"]=y),y._fireAndBubble(n.pointermove,{...x})):d&&(this._fire(n.pointerover,{evt:t,target:this,currentTarget:this,pointerId:v}),this[i+"targetShape"]=null)}),f||this._fire(n.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const n=md(t.type),i=om(t.type);if(!n)return;this.setPointersPositions(t);const s=this[i+"ClickStartShape"],o=this[i+"ClickEndShape"],u={};let f=!1;this._changedPointerPositions.forEach(d=>{const p=D1(d.id)||this.getIntersection(d);if(p){if(p.releaseCapture(d.id),u[p._id])return;u[p._id]=!0}const y=d.id,v={evt:t,pointerId:y};let x=!1;Me["_"+i+"InDblClickWindow"]?(x=!0,clearTimeout(this[i+"DblTimeout"])):$n.justDragged||(Me["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout(function(){Me["_"+i+"InDblClickWindow"]=!1},Me.dblClickWindow),p&&p.isListening()?(f=!0,this[i+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,{...v}),Me["_"+i+"ListenClick"]&&s&&s===p&&(p._fireAndBubble(n.pointerclick,{...v}),x&&o&&o===p&&p._fireAndBubble(n.pointerdblclick,{...v}))):(this[i+"ClickEndShape"]=null,f||(this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),f=!0),Me["_"+i+"ListenClick"]&&this._fire(n.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:y}),x&&this._fire(n.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:y}))}),f||this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Me["_"+i+"ListenClick"]=!1,t.cancelable&&i!=="touch"&&i!=="pointer"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(kv,{evt:t}):this._fire(kv,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Bv,{evt:t}):this._fire(Bv,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const n=D1(t.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(vd,j2(t)),hm(t.pointerId)}_lostpointercapture(t){hm(t.pointerId)}setPointersPositions(t){const n=this._getContentPosition();let i=null,s=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})})):(i=(t.clientX-n.left)/n.scaleX,s=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:i,y:s},this._pointerPositions=[{x:i,y:s,id:Lt._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:s,id:Lt._getFirstPointerId(t)}])}_setPointerPosition(t){Lt.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new $c({width:this.width(),height:this.height()}),this.bufferHitCanvas=new D2({pixelRatio:1,width:this.width(),height:this.height()}),!Me.isBrowser)return;const t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}cache(){return Lt.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}};Ty.prototype.nodeType=B7;aa(Ty);mt.addGetterSetter(Ty,"container");Me.isBrowser&&document.addEventListener("visibilitychange",()=>{dm.forEach(e=>{e.batchDraw()})});const s6="hasShadow",r6="shadowRGBA",o6="patternImage",l6="linearGradient",u6="radialGradient";let Sg;function j1(){return Sg||(Sg=Lt.createCanvasElement().getContext("2d"),Sg)}const pm={};function I7(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()}function q7(e){e.stroke()}function F7(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()}function K7(e){e.stroke()}function Y7(){this._clearCache(s6)}function X7(){this._clearCache(r6)}function Z7(){this._clearCache(o6)}function Q7(){this._clearCache(l6)}function J7(){this._clearCache(u6)}class me extends Se{constructor(t){super(t);let n,i=0;for(;n=Lt.getHitColor(),!(n&&!(n in pm));)if(i++,i>=1e4){Lt.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=Lt.getRandomColor();break}this.colorKey=n,pm[n]=this}getContext(){return Lt.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Lt.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(s6,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(o6,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=j1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const i=new kr;i.translate(this.fillPatternX(),this.fillPatternY()),i.rotate(Me.getAngle(this.fillPatternRotation())),i.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),i.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=i.getMatrix(),o=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);n.setTransform(o)}return n}}_getLinearGradient(){return this._getCache(l6,this.__getLinearGradient)}__getLinearGradient(){const t=this.fillLinearGradientColorStops();if(t){const n=j1(),i=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),o=n.createLinearGradient(i.x,i.y,s.x,s.y);for(let u=0;u<t.length;u+=2)o.addColorStop(t[u],t[u+1]);return o}}_getRadialGradient(){return this._getCache(u6,this.__getRadialGradient)}__getRadialGradient(){const t=this.fillRadialGradientColorStops();if(t){const n=j1(),i=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),o=n.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let u=0;u<t.length;u+=2)o.addColorStop(t[u],t[u+1]);return o}}getShadowRGBA(){return this._getCache(r6,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const t=Lt.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){const n=this.getStage();if(!n)return!1;const i=n.bufferHitCanvas;return i.getContext().clear(),this.drawHit(i,void 0,!0),i.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return Se.prototype.destroy.call(this),delete pm[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const s=t||this.hasFill(),o=this.hasStroke(),u=this.getAbsoluteOpacity()!==1;if(s&&o&&u)return!0;const f=this.hasShadow(),d=this.shadowForStrokeEnabled();return!!(s&&o&&f&&d)}setStrokeHitEnabled(t){Lt.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){let n=!1,i=this.getParent();for(;i;){if(i.isCached()){n=!0;break}i=i.getParent()}const s=t.skipTransform,o=t.relativeTo||n&&this.getStage()||void 0,u=this.getSelfRect(),d=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,p=u.width+d,y=u.height+d,v=!t.skipShadow&&this.hasShadow(),x=v?this.shadowOffsetX():0,_=v?this.shadowOffsetY():0,E=p+Math.abs(x),T=y+Math.abs(_),M=v&&this.shadowBlur()||0,O=E+M*2,R=T+M*2,B={width:O,height:R,x:-(d/2+M)+Math.min(x,0)+u.x,y:-(d/2+M)+Math.min(_,0)+u.y};return s?B:this._transformedRect(B,o)}drawScene(t,n,i){const s=this.getLayer(),o=t||s.getCanvas(),u=o.getContext(),f=this._getCanvasCache(),d=this.getSceneFunc(),p=this.hasShadow();let y;const v=n===this;if(!this.isVisible()&&!v)return this;if(f){u.save();const x=this.getAbsoluteTransform(n).getMatrix();return u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(u),u.restore(),this}if(!d)return this;if(u.save(),this._useBufferCanvas()){y=this.getStage();const x=i||y.bufferCanvas,_=x.getContext();i?(_.save(),_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,x.width,x.height),_.restore()):_.clear(),_.save(),_._applyLineJoin(this),_._applyMiterLimit(this);const E=this.getAbsoluteTransform(n).getMatrix();_.transform(E[0],E[1],E[2],E[3],E[4],E[5]),d.call(this,_,this),_.restore();const T=x.pixelRatio;p&&u._applyShadow(this),v||(u._applyOpacity(this),u._applyGlobalCompositeOperation(this)),u.drawImage(x._canvas,x.x||0,x.y||0,x.width/T,x.height/T)}else{if(u._applyLineJoin(this),u._applyMiterLimit(this),!v){const x=this.getAbsoluteTransform(n).getMatrix();u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),u._applyOpacity(this),u._applyGlobalCompositeOperation(this)}p&&u._applyShadow(this),d.call(this,u,this)}return u.restore(),this}drawHit(t,n,i=!1){if(!this.shouldDrawHit(n,i))return this;const s=this.getLayer(),o=t||s.hitCanvas,u=o&&o.getContext(),f=this.hitFunc()||this.sceneFunc(),d=this._getCanvasCache(),p=d&&d.hit;if(this.colorKey||Lt.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){u.save();const v=this.getAbsoluteTransform(n).getMatrix();return u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(u),u.restore(),this}if(!f)return this;if(u.save(),u._applyLineJoin(this),u._applyMiterLimit(this),!(this===n)){const v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5])}return f.call(this,u,this),u.restore(),this}drawHitFromCache(t=0){const n=this._getCanvasCache(),i=this._getCachedSceneCanvas(),s=n.hit,o=s.getContext(),u=s.getWidth(),f=s.getHeight();o.clear(),o.drawImage(i._canvas,0,0,u,f);try{const d=o.getImageData(0,0,u,f),p=d.data,y=p.length,v=Lt._hexToRgb(this.colorKey);for(let x=0;x<y;x+=4)p[x+3]>t?(p[x]=v.r,p[x+1]=v.g,p[x+2]=v.b,p[x+3]=255):p[x+3]=0;o.putImageData(d,0,0)}catch(d){Lt.error("Unable to draw hit graph from cached scene canvas. "+d.message)}return this}hasPointerCapture(t){return Y4(t,this)}setPointerCapture(t){X4(t,this)}releaseCapture(t){hm(t)}}me.prototype._fillFunc=I7;me.prototype._strokeFunc=q7;me.prototype._fillFuncHit=F7;me.prototype._strokeFuncHit=K7;me.prototype._centroid=!1;me.prototype.nodeType="Shape";aa(me);me.prototype.eventListeners={};me.prototype.on.call(me.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Y7);me.prototype.on.call(me.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",X7);me.prototype.on.call(me.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Z7);me.prototype.on.call(me.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Q7);me.prototype.on.call(me.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",J7);mt.addGetterSetter(me,"stroke",void 0,F4());mt.addGetterSetter(me,"strokeWidth",2,we());mt.addGetterSetter(me,"fillAfterStrokeEnabled",!1);mt.addGetterSetter(me,"hitStrokeWidth","auto",z2());mt.addGetterSetter(me,"strokeHitEnabled",!0,fl());mt.addGetterSetter(me,"perfectDrawEnabled",!0,fl());mt.addGetterSetter(me,"shadowForStrokeEnabled",!0,fl());mt.addGetterSetter(me,"lineJoin");mt.addGetterSetter(me,"lineCap");mt.addGetterSetter(me,"miterLimit");mt.addGetterSetter(me,"sceneFunc");mt.addGetterSetter(me,"hitFunc");mt.addGetterSetter(me,"dash");mt.addGetterSetter(me,"dashOffset",0,we());mt.addGetterSetter(me,"shadowColor",void 0,uh());mt.addGetterSetter(me,"shadowBlur",0,we());mt.addGetterSetter(me,"shadowOpacity",1,we());mt.addComponentsGetterSetter(me,"shadowOffset",["x","y"]);mt.addGetterSetter(me,"shadowOffsetX",0,we());mt.addGetterSetter(me,"shadowOffsetY",0,we());mt.addGetterSetter(me,"fillPatternImage");mt.addGetterSetter(me,"fill",void 0,F4());mt.addGetterSetter(me,"fillPatternX",0,we());mt.addGetterSetter(me,"fillPatternY",0,we());mt.addGetterSetter(me,"fillLinearGradientColorStops");mt.addGetterSetter(me,"strokeLinearGradientColorStops");mt.addGetterSetter(me,"fillRadialGradientStartRadius",0);mt.addGetterSetter(me,"fillRadialGradientEndRadius",0);mt.addGetterSetter(me,"fillRadialGradientColorStops");mt.addGetterSetter(me,"fillPatternRepeat","repeat");mt.addGetterSetter(me,"fillEnabled",!0);mt.addGetterSetter(me,"strokeEnabled",!0);mt.addGetterSetter(me,"shadowEnabled",!0);mt.addGetterSetter(me,"dashEnabled",!0);mt.addGetterSetter(me,"strokeScaleEnabled",!0);mt.addGetterSetter(me,"fillPriority","color");mt.addComponentsGetterSetter(me,"fillPatternOffset",["x","y"]);mt.addGetterSetter(me,"fillPatternOffsetX",0,we());mt.addGetterSetter(me,"fillPatternOffsetY",0,we());mt.addComponentsGetterSetter(me,"fillPatternScale",["x","y"]);mt.addGetterSetter(me,"fillPatternScaleX",1,we());mt.addGetterSetter(me,"fillPatternScaleY",1,we());mt.addComponentsGetterSetter(me,"fillLinearGradientStartPoint",["x","y"]);mt.addComponentsGetterSetter(me,"strokeLinearGradientStartPoint",["x","y"]);mt.addGetterSetter(me,"fillLinearGradientStartPointX",0);mt.addGetterSetter(me,"strokeLinearGradientStartPointX",0);mt.addGetterSetter(me,"fillLinearGradientStartPointY",0);mt.addGetterSetter(me,"strokeLinearGradientStartPointY",0);mt.addComponentsGetterSetter(me,"fillLinearGradientEndPoint",["x","y"]);mt.addComponentsGetterSetter(me,"strokeLinearGradientEndPoint",["x","y"]);mt.addGetterSetter(me,"fillLinearGradientEndPointX",0);mt.addGetterSetter(me,"strokeLinearGradientEndPointX",0);mt.addGetterSetter(me,"fillLinearGradientEndPointY",0);mt.addGetterSetter(me,"strokeLinearGradientEndPointY",0);mt.addComponentsGetterSetter(me,"fillRadialGradientStartPoint",["x","y"]);mt.addGetterSetter(me,"fillRadialGradientStartPointX",0);mt.addGetterSetter(me,"fillRadialGradientStartPointY",0);mt.addComponentsGetterSetter(me,"fillRadialGradientEndPoint",["x","y"]);mt.addGetterSetter(me,"fillRadialGradientEndPointX",0);mt.addGetterSetter(me,"fillRadialGradientEndPointY",0);mt.addGetterSetter(me,"fillPatternRotation",0);mt.addGetterSetter(me,"fillRule",void 0,uh());mt.backCompat(me,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const W7="beforeDraw",$7="draw",c6=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],tA=c6.length;let ch=class extends Lr{constructor(t){super(t),this.canvas=new $c,this.hitCanvas=new D2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Se.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Se.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Se.prototype.moveDown.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Se.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return Se.prototype.remove.call(this),t&&t.parentNode&&Lt._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Lt.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t={...t},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Se.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Lt.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Lt.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Lt.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let n=1,i=!1;for(;;){for(let s=0;s<tA;s++){const o=c6[s],u=this._getIntersection({x:t.x+o.x*n,y:t.y+o.y*n}),f=u.shape;if(f)return f;if(i=!!u.antialiased,!u.antialiased)break}if(i)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,s=i[3];if(s===255){const o=Lt.getHitColorKey(i[0],i[1],i[2]),u=pm[o];return u?{shape:u}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(t,n,i){const s=this.getLayer(),o=t||s&&s.getCanvas();return this._fire(W7,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),Lr.prototype.drawScene.call(this,o,n,i),this._fire($7,{node:this}),this}drawHit(t,n){const i=this.getLayer(),s=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Lr.prototype.drawHit.call(this,s,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Lt.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Lt.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return Lt.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};ch.prototype.nodeType="Layer";aa(ch);mt.addGetterSetter(ch,"imageSmoothingEnabled",!0);mt.addGetterSetter(ch,"clearBeforeDraw",!0);mt.addGetterSetter(ch,"hitGraphEnabled",!0,fl());class k2 extends ch{constructor(t){super(t),this.listening(!1),Lt.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}k2.prototype.nodeType="FastLayer";aa(k2);let Rd=class extends Lr{_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Lt.throw("You may only add groups and shapes to groups.")}};Rd.prototype.nodeType="Group";aa(Rd);const k1=(function(){return $f.performance&&$f.performance.now?function(){return $f.performance.now()}:function(){return new Date().getTime()}})();class To{constructor(t,n){this.id=To.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:k1(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){let n=[];return t&&(n=Array.isArray(t)?t:[t]),this.layers=n,this}getLayers(){return this.layers}addLayer(t){const n=this.layers,i=n.length;for(let s=0;s<i;s++)if(n[s]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const n=To.animations,i=n.length;for(let s=0;s<i;s++)if(n[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=k1(),To._addAnimation(this),this}stop(){return To._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const n=t.id,i=this.animations,s=i.length;for(let o=0;o<s;o++)if(i[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){const t={},n=this.animations;for(let i=0;i<n.length;i++){const s=n[i],o=s.layers,u=s.func;s._updateFrameObject(k1());const f=o.length;let d;if(u?d=u.call(s,s.frame)!==!1:d=!0,!!d)for(let p=0;p<f;p++){const y=o[p];y._id!==void 0&&(t[y._id]=y)}}for(const i in t)t.hasOwnProperty(i)&&t[i].batchDraw()}static _animationLoop(){const t=To;t.animations.length?(t._runFrames(),Lt.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Lt.requestAnimFrame(this._animationLoop))}}To.animations=[];To.animIdCounter=0;To.animRunning=!1;const eA={node:1,duration:1,easing:1,onFinish:1,yoyo:1},nA=1,N3=2,D3=3,z3=["fill","stroke","shadowColor"];let iA=0;class aA{constructor(t,n,i,s,o,u,f){this.prop=t,this.propFunc=n,this.begin=s,this._pos=s,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=o-this.begin,this.pause()}fire(t){const n=this[t];n&&n()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=N3,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=D3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const t=this.getTimer()-this._startTime;this.state===N3?this.setTime(t):this.state===D3&&this.setTime(this.duration-t)}pause(){this.state=nA,this.fire("onPause")}getTimer(){return new Date().getTime()}}class bi{constructor(t){const n=this,i=t.node,s=i._id,o=t.easing||mm.Linear,u=!!t.yoyo;let f,d;typeof t.duration>"u"?f=.3:t.duration===0?f=.001:f=t.duration,this.node=i,this._id=iA++;const p=i.getLayer()||(i instanceof Me.Stage?i.getLayers():null);p||Lt.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new To(function(){n.tween.onEnterFrame()},p),this.tween=new aA(d,function(y){n._tweenFunc(y)},o,0,1,f*1e3,u),this._addListeners(),bi.attrs[s]||(bi.attrs[s]={}),bi.attrs[s][this._id]||(bi.attrs[s][this._id]={}),bi.tweens[s]||(bi.tweens[s]={});for(d in t)eA[d]===void 0&&this._addAttr(d,t[d]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,n){const i=this.node,s=i._id;let o,u,f,d,p;const y=bi.tweens[s][t];y&&delete bi.attrs[s][y][t];let v=i.getAttr(t);if(Lt._isArray(n))if(o=[],u=Math.max(n.length,v.length),t==="points"&&n.length!==v.length&&(n.length>v.length?(d=v,v=Lt._prepareArrayForTween(v,n,i.closed())):(f=n,n=Lt._prepareArrayForTween(n,v,i.closed()))),t.indexOf("fill")===0)for(let x=0;x<u;x++)if(x%2===0)o.push(n[x]-v[x]);else{const _=Lt.colorToRGBA(v[x]);p=Lt.colorToRGBA(n[x]),v[x]=_,o.push({r:p.r-_.r,g:p.g-_.g,b:p.b-_.b,a:p.a-_.a})}else for(let x=0;x<u;x++)o.push(n[x]-v[x]);else z3.indexOf(t)!==-1?(v=Lt.colorToRGBA(v),p=Lt.colorToRGBA(n),o={r:p.r-v.r,g:p.g-v.g,b:p.b-v.b,a:p.a-v.a}):o=n-v;bi.attrs[s][this._id][t]={start:v,diff:o,end:n,trueEnd:f,trueStart:d},bi.tweens[s][t]=this._id}_tweenFunc(t){const n=this.node,i=bi.attrs[n._id][this._id];let s,o,u,f,d,p,y,v;for(s in i){if(o=i[s],u=o.start,f=o.diff,v=o.end,Lt._isArray(u))if(d=[],y=Math.max(u.length,v.length),s.indexOf("fill")===0)for(p=0;p<y;p++)p%2===0?d.push((u[p]||0)+f[p]*t):d.push("rgba("+Math.round(u[p].r+f[p].r*t)+","+Math.round(u[p].g+f[p].g*t)+","+Math.round(u[p].b+f[p].b*t)+","+(u[p].a+f[p].a*t)+")");else for(p=0;p<y;p++)d.push((u[p]||0)+f[p]*t);else z3.indexOf(s)!==-1?d="rgba("+Math.round(u.r+f.r*t)+","+Math.round(u.g+f.g*t)+","+Math.round(u.b+f.b*t)+","+(u.a+f.a*t)+")":d=u+f*t;n.setAttr(s,d)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const t=this.node,n=bi.attrs[t._id][this._id];n.points&&n.points.trueEnd&&t.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const t=this.node,n=bi.attrs[t._id][this._id];n.points&&n.points.trueStart&&t.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const t=this.node._id,n=this._id,i=bi.tweens[t];this.pause(),this.anim&&this.anim.stop();for(const s in i)delete bi.tweens[t][s];delete bi.attrs[t][n],bi.tweens[t]&&(Object.keys(bi.tweens[t]).length===0&&delete bi.tweens[t],Object.keys(bi.attrs[t]).length===0&&delete bi.attrs[t])}}bi.attrs={};bi.tweens={};Se.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new bi(e).play()};const mm={BackEaseIn(e,t,n,i){return n*(e/=i)*e*((1.70158+1)*e-1.70158)+t},BackEaseOut(e,t,n,i){return n*((e=e/i-1)*e*((1.70158+1)*e+1.70158)+1)+t},BackEaseInOut(e,t,n,i){let s=1.70158;return(e/=i/2)<1?n/2*(e*e*(((s*=1.525)+1)*e-s))+t:n/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},ElasticEaseIn(e,t,n,i,s,o){let u=0;return e===0?t:(e/=i)===1?t+n:(o||(o=i*.3),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/o))+t)},ElasticEaseOut(e,t,n,i,s,o){let u=0;return e===0?t:(e/=i)===1?t+n:(o||(o=i*.3),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*e)*Math.sin((e*i-u)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,i,s,o){let u=0;return e===0?t:(e/=i/2)===2?t+n:(o||(o=i*(.3*1.5)),!s||s<Math.abs(n)?(s=n,u=o/4):u=o/(2*Math.PI)*Math.asin(n/s),e<1?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn(e,t,n,i){return n-mm.BounceEaseOut(i-e,0,n,i)+t},BounceEaseInOut(e,t,n,i){return e<i/2?mm.BounceEaseIn(e*2,0,n,i)*.5+t:mm.BounceEaseOut(e*2-i,0,n,i)*.5+n*.5+t},EaseIn(e,t,n,i){return n*(e/=i)*e+t},EaseOut(e,t,n,i){return-n*(e/=i)*(e-2)+t},EaseInOut(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn(e,t,n,i){return n*(e/=i)*e*e*e*e+t},StrongEaseOut(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},StrongEaseInOut(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear(e,t,n,i){return n*e/i+t}},Od=Lt._assign(Me,{Util:Lt,Transform:kr,Node:Se,Container:Lr,Stage:Ty,stages:dm,Layer:ch,FastLayer:k2,Group:Rd,DD:$n,Shape:me,shapes:pm,Animation:To,Tween:bi,Easings:mm,Context:wy,Canvas:N2});class ec extends me{_sceneFunc(t){const n=Me.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,i),t.arc(0,0,this.innerRadius(),n,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),s=Me.getAngle(i?360-this.angle():this.angle()),o=Math.cos(Math.min(s,Math.PI)),u=1,f=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),d=Math.sin(Math.min(s,Math.PI/2)),p=o*(o>0?t:n),y=u*n,v=f*(f>0?t:n),x=d*(d>0?n:t);return{x:p,y:i?-1*x:v,width:y-p,height:x-v}}}ec.prototype._centroid=!0;ec.prototype.className="Arc";ec.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];aa(ec);mt.addGetterSetter(ec,"innerRadius",0,we());mt.addGetterSetter(ec,"outerRadius",0,we());mt.addGetterSetter(ec,"angle",0,we());mt.addGetterSetter(ec,"clockwise",!1,fl());function Lv(e,t,n,i,s,o,u){const f=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)),d=Math.sqrt(Math.pow(s-n,2)+Math.pow(o-i,2)),p=u*f/(f+d),y=u*d/(f+d),v=n-p*(s-e),x=i-p*(o-t),_=n+y*(s-e),E=i+y*(o-t);return[v,x,_,E]}function j3(e,t){const n=e.length,i=[];for(let s=2;s<n-2;s+=2){const o=Lv(e[s-2],e[s-1],e[s],e[s+1],e[s+2],e[s+3],t);isNaN(o[0])||(i.push(o[0]),i.push(o[1]),i.push(e[s]),i.push(e[s+1]),i.push(o[2]),i.push(o[3]))}return i}function sA(e){const t=[[e[0],e[2],e[4],e[6]],[e[1],e[3],e[5],e[7]]],n=[];for(const i of t){const s=-3*i[0]+9*i[1]-9*i[2]+3*i[3];if(s!==0){const o=6*i[0]-12*i[1]+6*i[2],u=-3*i[0]+3*i[1],f=o*o-4*s*u;if(f>=0){const d=Math.sqrt(f);n.push((-o+d)/(2*s)),n.push((-o-d)/(2*s))}}}return n.filter(i=>i>0&&i<1).flatMap(i=>t.map(s=>{const o=1-i;return o*o*o*s[0]+3*o*o*i*s[1]+3*o*i*i*s[2]+i*i*i*s[3]}))}let nc=class extends me{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){const n=this.points(),i=n.length,s=this.tension(),o=this.closed(),u=this.bezier();if(!i)return;let f=0;if(t.beginPath(),t.moveTo(n[0],n[1]),s!==0&&i>4){const d=this.getTensionPoints(),p=d.length;for(f=o?0:4,o||t.quadraticCurveTo(d[0],d[1],d[2],d[3]);f<p-2;)t.bezierCurveTo(d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]);o||t.quadraticCurveTo(d[p-2],d[p-1],n[i-2],n[i-1])}else if(u)for(f=2;f<i;)t.bezierCurveTo(n[f++],n[f++],n[f++],n[f++],n[f++],n[f++]);else for(f=2;f<i;f+=2)t.lineTo(n[f],n[f+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():j3(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),n=t.length,i=this.tension(),s=Lv(t[n-2],t[n-1],t[0],t[1],t[2],t[3],i),o=Lv(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],i),u=j3(t,i);return[s[2],s[3]].concat(u).concat([o[0],o[1],t[n-2],t[n-1],o[2],o[3],s[0],s[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.bezier()?t=[t[0],t[1],...sA(this.points()),t[t.length-2],t[t.length-1]]:t=this.points();let n=t[0],i=t[0],s=t[1],o=t[1],u,f;for(let d=0;d<t.length/2;d++)u=t[d*2],f=t[d*2+1],n=Math.min(n,u),i=Math.max(i,u),s=Math.min(s,f),o=Math.max(o,f);return{x:n,y:s,width:i-n,height:o-s}}};nc.prototype.className="Line";nc.prototype._attrsAffectingSize=["points","bezier","tension"];aa(nc);mt.addGetterSetter(nc,"closed",!1);mt.addGetterSetter(nc,"bezier",!1);mt.addGetterSetter(nc,"tension",0,we());mt.addGetterSetter(nc,"points",[],S7());const rA=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],oA=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],lA=[[1],[1,1],[1,2,1],[1,3,3,1]],k3=(e,t,n)=>{let i,s;const u=n/2;i=0;for(let f=0;f<20;f++)s=u*rA[20][f]+u,i+=oA[20][f]*uA(e,t,s);return u*i},B3=(e,t,n)=>{n===void 0&&(n=1);const i=e[0]-2*e[1]+e[2],s=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],u=2*t[1]-2*t[0],f=4*(i*i+s*s),d=4*(i*o+s*u),p=o*o+u*u;if(f===0)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const y=d/(2*f),v=p/f,x=n+y,_=v-y*y,E=x*x+_>0?Math.sqrt(x*x+_):0,T=y*y+_>0?Math.sqrt(y*y+_):0,M=y+Math.sqrt(y*y+_)!==0?_*Math.log(Math.abs((x+E)/(y+T))):0;return Math.sqrt(f)/2*(x*E-y*T+M)};function uA(e,t,n){const i=Uv(1,n,e),s=Uv(1,n,t),o=i*i+s*s;return Math.sqrt(o)}const Uv=(e,t,n)=>{const i=n.length-1;let s,o;if(i===0)return 0;if(e===0){o=0;for(let u=0;u<=i;u++)o+=lA[i][u]*Math.pow(1-t,i-u)*Math.pow(t,u)*n[u];return o}else{s=new Array(i);for(let u=0;u<i;u++)s[u]=i*(n[u+1]-n[u]);return Uv(e-1,t,s)}},L3=(e,t,n)=>{let i=1,s=e/t,o=(e-n(s))/t,u=0;for(;i>.001;){const f=n(s+o),d=Math.abs(e-f)/t;if(d<i)i=d,s+=o;else{const p=n(s-o),y=Math.abs(e-p)/t;y<i?(i=y,s-=o):o/=2}if(u++,u>500)break}return s};class Si extends me{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Si.parsePathData(this.data()),this.pathLength=Si.getPathLength(this.dataArray)}_sceneFunc(t){const n=this.dataArray;t.beginPath();let i=!1;for(let s=0;s<n.length;s++){const o=n[s].command,u=n[s].points;switch(o){case"L":t.lineTo(u[0],u[1]);break;case"M":t.moveTo(u[0],u[1]);break;case"C":t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":t.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":const f=u[0],d=u[1],p=u[2],y=u[3],v=u[4],x=u[5],_=u[6],E=u[7],T=p>y?p:y,M=p>y?1:p/y,O=p>y?y/p:1;t.translate(f,d),t.rotate(_),t.scale(M,O),t.arc(0,0,T,v,v+x,1-E),t.scale(1/M,1/O),t.rotate(-_),t.translate(-f,-d);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach(function(d){if(d.command==="A"){const p=d.points[4],y=d.points[5],v=d.points[4]+y;let x=Math.PI/180;if(Math.abs(p-v)<x&&(x=Math.abs(p-v)),y<0)for(let _=p-x;_>v;_-=x){const E=Si.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],_,0);t.push(E.x,E.y)}else for(let _=p+x;_<v;_+=x){const E=Si.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],_,0);t.push(E.x,E.y)}}else if(d.command==="C")for(let p=0;p<=1;p+=.01){const y=Si.getPointOnCubicBezier(p,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);t.push(y.x,y.y)}else t=t.concat(d.points)});let n=t[0],i=t[0],s=t[1],o=t[1],u,f;for(let d=0;d<t.length/2;d++)u=t[d*2],f=t[d*2+1],isNaN(u)||(n=Math.min(n,u),i=Math.max(i,u)),isNaN(f)||(s=Math.min(s,f),o=Math.max(o,f));return{x:n,y:s,width:i-n,height:o-s}}getLength(){return this.pathLength}getPointAtLength(t){return Si.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,n,i,s){return Math.sqrt((i-t)*(i-t)+(s-n)*(s-n))}static getPathLength(t){let n=0;for(let i=0;i<t.length;++i)n+=t[i].pathLength;return n}static getPointAtLengthOfDataArray(t,n){let i,s=0,o=n.length;if(!o)return null;for(;s<o&&t>n[s].pathLength;)t-=n[s].pathLength,++s;if(s===o)return i=n[s-1].points.slice(-2),{x:i[0],y:i[1]};if(t<.01)return n[s].command==="M"?(i=n[s].points.slice(0,2),{x:i[0],y:i[1]}):{x:n[s].start.x,y:n[s].start.y};const u=n[s],f=u.points;switch(u.command){case"L":return Si.getPointOnLine(t,u.start.x,u.start.y,f[0],f[1]);case"C":return Si.getPointOnCubicBezier(L3(t,Si.getPathLength(n),T=>k3([u.start.x,f[0],f[2],f[4]],[u.start.y,f[1],f[3],f[5]],T)),u.start.x,u.start.y,f[0],f[1],f[2],f[3],f[4],f[5]);case"Q":return Si.getPointOnQuadraticBezier(L3(t,Si.getPathLength(n),T=>B3([u.start.x,f[0],f[2]],[u.start.y,f[1],f[3]],T)),u.start.x,u.start.y,f[0],f[1],f[2],f[3]);case"A":const d=f[0],p=f[1],y=f[2],v=f[3],x=f[5],_=f[6];let E=f[4];return E+=x*t/u.pathLength,Si.getPointOnEllipticalArc(d,p,y,v,E,_)}return null}static getPointOnLine(t,n,i,s,o,u,f){u=u??n,f=f??i;const d=this.getLineLength(n,i,s,o);if(d<1e-10)return{x:n,y:i};if(s===n)return{x:u,y:f+(o>i?t:-t)};const p=(o-i)/(s-n),y=Math.sqrt(t*t/(1+p*p))*(s<n?-1:1),v=p*y;if(Math.abs(f-i-p*(u-n))<1e-10)return{x:u+y,y:f+v};const x=((u-n)*(s-n)+(f-i)*(o-i))/(d*d),_=n+x*(s-n),E=i+x*(o-i),T=this.getLineLength(u,f,_,E),M=Math.sqrt(t*t-T*T),O=Math.sqrt(M*M/(1+p*p))*(s<n?-1:1),R=p*O;return{x:_+O,y:E+R}}static getPointOnCubicBezier(t,n,i,s,o,u,f,d,p){function y(M){return M*M*M}function v(M){return 3*M*M*(1-M)}function x(M){return 3*M*(1-M)*(1-M)}function _(M){return(1-M)*(1-M)*(1-M)}const E=d*y(t)+u*v(t)+s*x(t)+n*_(t),T=p*y(t)+f*v(t)+o*x(t)+i*_(t);return{x:E,y:T}}static getPointOnQuadraticBezier(t,n,i,s,o,u,f){function d(_){return _*_}function p(_){return 2*_*(1-_)}function y(_){return(1-_)*(1-_)}const v=u*d(t)+s*p(t)+n*y(t),x=f*d(t)+o*p(t)+i*y(t);return{x:v,y:x}}static getPointOnEllipticalArc(t,n,i,s,o,u){const f=Math.cos(u),d=Math.sin(u),p={x:i*Math.cos(o),y:s*Math.sin(o)};return{x:t+(p.x*f-p.y*d),y:n+(p.x*d+p.y*f)}}static parsePathData(t){if(!t)return[];let n=t;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let v=0;v<i.length;v++)n=n.replace(new RegExp(i[v],"g"),"|"+i[v]);const s=n.split("|"),o=[],u=[];let f=0,d=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let y;for(let v=1;v<s.length;v++){let x=s[v],_=x.charAt(0);for(x=x.slice(1),u.length=0;y=p.exec(x);)u.push(y[0]);let E=[],T=_==="A"||_==="a"?0:-1;for(let M=0,O=u.length;M<O;M++){const R=u[M];if(R==="00"){E.push(0,0),T>=0&&(T+=2,T>=7&&(T-=7));continue}if(T>=0){if(T===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(R)){E.push(parseInt(R[0],10)),E.push(parseInt(R[1],10)),E.push(parseFloat(R.slice(2))),T+=3,T>=7&&(T-=7);continue}if(R==="11"||R==="10"||R==="01"){E.push(parseInt(R[0],10)),E.push(parseInt(R[1],10)),T+=2,T>=7&&(T-=7);continue}if(R==="0"||R==="1"){E.push(parseInt(R,10)),T+=1,T>=7&&(T-=7);continue}}else if(T===4){if(/^[01]\d+(?:\.\d+)?$/.test(R)){E.push(parseInt(R[0],10)),E.push(parseFloat(R.slice(1))),T+=2,T>=7&&(T-=7);continue}if(R==="0"||R==="1"){E.push(parseInt(R,10)),T+=1,T>=7&&(T-=7);continue}}const B=parseFloat(R);isNaN(B)?E.push(0):E.push(B),T+=1,T>=7&&(T-=7)}else{const B=parseFloat(R);isNaN(B)?E.push(0):E.push(B)}}for(;E.length>0&&!isNaN(E[0]);){let M="",O=[];const R=f,B=d;let H,F,nt,X,z,j,P,at,U,q;switch(_){case"l":f+=E.shift(),d+=E.shift(),M="L",O.push(f,d);break;case"L":f=E.shift(),d=E.shift(),O.push(f,d);break;case"m":const D=E.shift(),Z=E.shift();if(f+=D,d+=Z,M="M",o.length>2&&o[o.length-1].command==="z"){for(let K=o.length-2;K>=0;K--)if(o[K].command==="M"){f=o[K].points[0]+D,d=o[K].points[1]+Z;break}}O.push(f,d),_="l";break;case"M":f=E.shift(),d=E.shift(),M="M",O.push(f,d),_="L";break;case"h":f+=E.shift(),M="L",O.push(f,d);break;case"H":f=E.shift(),M="L",O.push(f,d);break;case"v":d+=E.shift(),M="L",O.push(f,d);break;case"V":d=E.shift(),M="L",O.push(f,d);break;case"C":O.push(E.shift(),E.shift(),E.shift(),E.shift()),f=E.shift(),d=E.shift(),O.push(f,d);break;case"c":O.push(f+E.shift(),d+E.shift(),f+E.shift(),d+E.shift()),f+=E.shift(),d+=E.shift(),M="C",O.push(f,d);break;case"S":F=f,nt=d,H=o[o.length-1],H.command==="C"&&(F=f+(f-H.points[2]),nt=d+(d-H.points[3])),O.push(F,nt,E.shift(),E.shift()),f=E.shift(),d=E.shift(),M="C",O.push(f,d);break;case"s":F=f,nt=d,H=o[o.length-1],H.command==="C"&&(F=f+(f-H.points[2]),nt=d+(d-H.points[3])),O.push(F,nt,f+E.shift(),d+E.shift()),f+=E.shift(),d+=E.shift(),M="C",O.push(f,d);break;case"Q":O.push(E.shift(),E.shift()),f=E.shift(),d=E.shift(),O.push(f,d);break;case"q":O.push(f+E.shift(),d+E.shift()),f+=E.shift(),d+=E.shift(),M="Q",O.push(f,d);break;case"T":F=f,nt=d,H=o[o.length-1],H.command==="Q"&&(F=f+(f-H.points[0]),nt=d+(d-H.points[1])),f=E.shift(),d=E.shift(),M="Q",O.push(F,nt,f,d);break;case"t":F=f,nt=d,H=o[o.length-1],H.command==="Q"&&(F=f+(f-H.points[0]),nt=d+(d-H.points[1])),f+=E.shift(),d+=E.shift(),M="Q",O.push(F,nt,f,d);break;case"A":X=E.shift(),z=E.shift(),j=E.shift(),P=E.shift(),at=E.shift(),U=f,q=d,f=E.shift(),d=E.shift(),M="A",O=this.convertEndpointToCenterParameterization(U,q,f,d,P,at,X,z,j);break;case"a":X=E.shift(),z=E.shift(),j=E.shift(),P=E.shift(),at=E.shift(),U=f,q=d,f+=E.shift(),d+=E.shift(),M="A",O=this.convertEndpointToCenterParameterization(U,q,f,d,P,at,X,z,j);break}o.push({command:M||_,points:O,start:{x:R,y:B},pathLength:this.calcLength(R,B,M||_,O)})}(_==="z"||_==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,n,i,s){let o,u,f,d;const p=Si;switch(i){case"L":return p.getLineLength(t,n,s[0],s[1]);case"C":return k3([t,s[0],s[2],s[4]],[n,s[1],s[3],s[5]],1);case"Q":return B3([t,s[0],s[2]],[n,s[1],s[3]],1);case"A":o=0;const y=s[4],v=s[5],x=s[4]+v;let _=Math.PI/180;if(Math.abs(y-x)<_&&(_=Math.abs(y-x)),u=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],y,0),v<0)for(d=y-_;d>x;d-=_)f=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),o+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;else for(d=y+_;d<x;d+=_)f=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),o+=p.getLineLength(u.x,u.y,f.x,f.y),u=f;return f=p.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],x,0),o+=p.getLineLength(u.x,u.y,f.x,f.y),o}return 0}static convertEndpointToCenterParameterization(t,n,i,s,o,u,f,d,p){const y=p*(Math.PI/180),v=Math.cos(y)*(t-i)/2+Math.sin(y)*(n-s)/2,x=-1*Math.sin(y)*(t-i)/2+Math.cos(y)*(n-s)/2,_=v*v/(f*f)+x*x/(d*d);_>1&&(f*=Math.sqrt(_),d*=Math.sqrt(_));let E=Math.sqrt((f*f*(d*d)-f*f*(x*x)-d*d*(v*v))/(f*f*(x*x)+d*d*(v*v)));o===u&&(E*=-1),isNaN(E)&&(E=0);const T=E*f*x/d,M=E*-d*v/f,O=(t+i)/2+Math.cos(y)*T-Math.sin(y)*M,R=(n+s)/2+Math.sin(y)*T+Math.cos(y)*M,B=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},H=function(P,at){return(P[0]*at[0]+P[1]*at[1])/(B(P)*B(at))},F=function(P,at){return(P[0]*at[1]<P[1]*at[0]?-1:1)*Math.acos(H(P,at))},nt=F([1,0],[(v-T)/f,(x-M)/d]),X=[(v-T)/f,(x-M)/d],z=[(-1*v-T)/f,(-1*x-M)/d];let j=F(X,z);return H(X,z)<=-1&&(j=Math.PI),H(X,z)>=1&&(j=0),u===0&&j>0&&(j=j-2*Math.PI),u===1&&j<0&&(j=j+2*Math.PI),[O,R,f,d,nt,j,y,u]}}Si.prototype.className="Path";Si.prototype._attrsAffectingSize=["data"];aa(Si);mt.addGetterSetter(Si,"data");class fh extends nc{_sceneFunc(t){super._sceneFunc(t);const n=Math.PI*2,i=this.points();let s=i;const o=this.tension()!==0&&i.length>4;o&&(s=this.getTensionPoints());const u=this.pointerLength(),f=i.length;let d,p;if(o){const x=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],i[f-2],i[f-1]],_=Si.calcLength(s[s.length-4],s[s.length-3],"C",x),E=Si.getPointOnQuadraticBezier(Math.min(1,1-u/_),x[0],x[1],x[2],x[3],x[4],x[5]);d=i[f-2]-E.x,p=i[f-1]-E.y}else d=i[f-2]-i[f-4],p=i[f-1]-i[f-3];const y=(Math.atan2(p,d)+n)%n,v=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[f-2],i[f-1]),t.rotate(y),t.moveTo(0,0),t.lineTo(-u,v/2),t.lineTo(-u,-v/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),o?(d=(s[0]+s[2])/2-i[0],p=(s[1]+s[3])/2-i[1]):(d=i[2]-i[0],p=i[3]-i[1]),t.rotate((Math.atan2(-p,-d)+n)%n),t.moveTo(0,0),t.lineTo(-u,v/2),t.lineTo(-u,-v/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x,y:t.y-n,width:t.width,height:t.height+n*2}}}fh.prototype.className="Arrow";aa(fh);mt.addGetterSetter(fh,"pointerLength",10,we());mt.addGetterSetter(fh,"pointerWidth",10,we());mt.addGetterSetter(fh,"pointerAtBeginning",!1);mt.addGetterSetter(fh,"pointerAtEnding",!0);let zd=class extends me{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}};zd.prototype._centroid=!0;zd.prototype.className="Circle";zd.prototype._attrsAffectingSize=["radius"];aa(zd);mt.addGetterSetter(zd,"radius",0,we());class rf extends me{_sceneFunc(t){const n=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),n!==i&&t.scale(1,i/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}rf.prototype.className="Ellipse";rf.prototype._centroid=!0;rf.prototype._attrsAffectingSize=["radiusX","radiusY"];aa(rf);mt.addComponentsGetterSetter(rf,"radius",["x","y"]);mt.addGetterSetter(rf,"radiusX",0,we());mt.addGetterSetter(rf,"radiusY",0,we());let hl=class f6 extends me{constructor(t){super(t),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",this._loadListener)}_removeImageLoad(t){t&&t.removeEventListener&&t.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const t=!!this.cornerRadius(),n=this.hasShadow();return t&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),i=this.getHeight(),s=this.cornerRadius(),o=this.attrs.image;let u;if(o){const f=this.attrs.cropWidth,d=this.attrs.cropHeight;f&&d?u=[o,this.cropX(),this.cropY(),f,d,0,0,n,i]:u=[o,0,0,n,i]}(this.hasFill()||this.hasStroke()||s)&&(t.beginPath(),s?Lt.drawRoundedRectPath(t,n,i,s):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)),o&&(s&&t.clip(),t.drawImage.apply(t,u))}_hitFunc(t){const n=this.width(),i=this.height(),s=this.cornerRadius();t.beginPath(),s?Lt.drawRoundedRectPath(t,n,i,s):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n,i;return(i=(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&i!==void 0?i:0}getHeight(){var t,n,i;return(i=(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&i!==void 0?i:0}static fromURL(t,n,i=null){const s=Lt.createImageElement();s.onload=function(){const o=new f6({image:s});n(o)},s.onerror=i,s.crossOrigin="Anonymous",s.src=t}};hl.prototype.className="Image";hl.prototype._attrsAffectingSize=["image"];aa(hl);mt.addGetterSetter(hl,"cornerRadius",0,Ey(4));mt.addGetterSetter(hl,"image");mt.addComponentsGetterSetter(hl,"crop",["x","y","width","height"]);mt.addGetterSetter(hl,"cropX",0,we());mt.addGetterSetter(hl,"cropY",0,we());mt.addGetterSetter(hl,"cropWidth",0,we());mt.addGetterSetter(hl,"cropHeight",0,we());const h6=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],cA="Change.konva",fA="none",Hv="up",Gv="right",Pv="down",Vv="left",hA=h6.length;class B2 extends Rd{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let n=this,i;const s=function(){n._sync()};for(i=0;i<hA;i++)t.on(h6[i]+cA,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t=this.getText(),n=this.getTag(),i,s,o,u,f,d,p;if(t&&n){switch(i=t.width(),s=t.height(),o=n.pointerDirection(),u=n.pointerWidth(),p=n.pointerHeight(),f=0,d=0,o){case Hv:f=i/2,d=-1*p;break;case Gv:f=i+u,d=s/2;break;case Pv:f=i/2,d=s+p;break;case Vv:f=-1*u,d=s/2;break}n.setAttrs({x:-1*f,y:-1*d,width:i,height:s}),t.setAttrs({x:-1*f,y:-1*d})}}}B2.prototype.className="Label";aa(B2);let hh=class extends me{_sceneFunc(t){const n=this.width(),i=this.height(),s=this.pointerDirection(),o=this.pointerWidth(),u=this.pointerHeight(),f=this.cornerRadius();let d=0,p=0,y=0,v=0;typeof f=="number"?d=p=y=v=Math.min(f,n/2,i/2):(d=Math.min(f[0]||0,n/2,i/2),p=Math.min(f[1]||0,n/2,i/2),v=Math.min(f[2]||0,n/2,i/2),y=Math.min(f[3]||0,n/2,i/2)),t.beginPath(),t.moveTo(d,0),s===Hv&&(t.lineTo((n-o)/2,0),t.lineTo(n/2,-1*u),t.lineTo((n+o)/2,0)),t.lineTo(n-p,0),t.arc(n-p,p,p,Math.PI*3/2,0,!1),s===Gv&&(t.lineTo(n,(i-u)/2),t.lineTo(n+o,i/2),t.lineTo(n,(i+u)/2)),t.lineTo(n,i-v),t.arc(n-v,i-v,v,0,Math.PI/2,!1),s===Pv&&(t.lineTo((n+o)/2,i),t.lineTo(n/2,i+u),t.lineTo((n-o)/2,i)),t.lineTo(y,i),t.arc(y,i-y,y,Math.PI/2,Math.PI,!1),s===Vv&&(t.lineTo(0,(i+u)/2),t.lineTo(-1*o,i/2),t.lineTo(0,(i-u)/2)),t.lineTo(0,d),t.arc(d,d,d,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,n=0,i=this.pointerWidth(),s=this.pointerHeight(),o=this.pointerDirection(),u=this.width(),f=this.height();return o===Hv?(n-=s,f+=s):o===Pv?f+=s:o===Vv?(t-=i*1.5,u+=i):o===Gv&&(u+=i*1.5),{x:t,y:n,width:u,height:f}}};hh.prototype.className="Tag";aa(hh);mt.addGetterSetter(hh,"pointerDirection",fA);mt.addGetterSetter(hh,"pointerWidth",0,we());mt.addGetterSetter(hh,"pointerHeight",0,we());mt.addGetterSetter(hh,"cornerRadius",0,Ey(4));let Im=class extends me{_sceneFunc(t){const n=this.cornerRadius(),i=this.width(),s=this.height();t.beginPath(),n?Lt.drawRoundedRectPath(t,i,s,n):t.rect(0,0,i,s),t.closePath(),t.fillStrokeShape(this)}};Im.prototype.className="Rect";aa(Im);mt.addGetterSetter(Im,"cornerRadius",0,Ey(4));class of extends me{_sceneFunc(t){const n=this._getPoints(),i=this.radius(),s=this.sides(),o=this.cornerRadius();if(t.beginPath(),o)Lt.drawRoundedPolygonPath(t,n,s,i,o);else{t.moveTo(n[0].x,n[0].y);for(let u=1;u<n.length;u++)t.lineTo(n[u].x,n[u].y)}t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,i=[];for(let s=0;s<t;s++)i.push({x:n*Math.sin(s*2*Math.PI/t),y:-1*n*Math.cos(s*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();let n=t[0].x,i=t[0].x,s=t[0].y,o=t[0].y;return t.forEach(u=>{n=Math.min(n,u.x),i=Math.max(i,u.x),s=Math.min(s,u.y),o=Math.max(o,u.y)}),{x:n,y:s,width:i-n,height:o-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}of.prototype.className="RegularPolygon";of.prototype._centroid=!0;of.prototype._attrsAffectingSize=["radius"];aa(of);mt.addGetterSetter(of,"radius",0,we());mt.addGetterSetter(of,"sides",0,we());mt.addGetterSetter(of,"cornerRadius",0,Ey(4));const U3=Math.PI*2;class dh extends me{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,U3,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),U3,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}dh.prototype.className="Ring";dh.prototype._centroid=!0;dh.prototype._attrsAffectingSize=["innerRadius","outerRadius"];aa(dh);mt.addGetterSetter(dh,"innerRadius",0,we());mt.addGetterSetter(dh,"outerRadius",0,we());class ou extends me{constructor(t){super(t),this._updated=!0,this.anim=new To(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){const n=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[n],u=this.frameOffsets(),f=o[s+0],d=o[s+1],p=o[s+2],y=o[s+3],v=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,p,y),t.closePath(),t.fillStrokeShape(this)),v)if(u){const x=u[n],_=i*2;t.drawImage(v,f,d,p,y,x[_+0],x[_+1],p,y)}else t.drawImage(v,f,d,p,y,0,0,p,y)}_hitFunc(t){const n=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[n],u=this.frameOffsets(),f=o[s+2],d=o[s+3];if(t.beginPath(),u){const p=u[n],y=i*2;t.rect(p[y+0],p[y+1],f,d)}else t.rect(0,0,f,d);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),n=this.animation(),i=this.animations(),s=i[n],o=s.length/4;t<o-1?this.frameIndex(t+1):this.frameIndex(0)}}ou.prototype.className="Sprite";aa(ou);mt.addGetterSetter(ou,"animation");mt.addGetterSetter(ou,"animations");mt.addGetterSetter(ou,"frameOffsets");mt.addGetterSetter(ou,"image");mt.addGetterSetter(ou,"frameIndex",0,we());mt.addGetterSetter(ou,"frameRate",17,we());mt.backCompat(ou,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class lf extends me{_sceneFunc(t){const n=this.innerRadius(),i=this.outerRadius(),s=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(let o=1;o<s*2;o++){const u=o%2===0?i:n,f=u*Math.sin(o*Math.PI/s),d=-1*u*Math.cos(o*Math.PI/s);t.lineTo(f,d)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}lf.prototype.className="Star";lf.prototype._centroid=!0;lf.prototype._attrsAffectingSize=["innerRadius","outerRadius"];aa(lf);mt.addGetterSetter(lf,"numPoints",5,we());mt.addGetterSetter(lf,"innerRadius",0,we());mt.addGetterSetter(lf,"outerRadius",0,we());function Jc(e){return[...e].reduce((t,n,i,s)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const o=s[i+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(t.push(n+o),s[i+1]=""):t.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(s[i+1]||""))?t.push(n+s[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?t[t.length-1]+=n:n&&t.push(n);return t},[])}const gd="auto",dA="center",d6="inherit",Jp="justify",pA="Change.konva",mA="2d",H3="-",p6="left",gA="text",yA="Text",vA="top",xA="bottom",G3="middle",m6="normal",bA="px ",_g=" ",SA="right",P3="rtl",_A="word",wA="char",V3="none",B1="",g6=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],EA=g6.length;function TA(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!i&&(t=`"${t}"`),t}).join(", ")}let wg;function L1(){return wg||(wg=Lt.createCanvasElement().getContext(mA),wg)}function CA(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function AA(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function RA(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}let _i=class extends me{constructor(t){super(RA(t)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<EA;n++)this.on(g6[n]+pA,this._setTextData);this._setTextData()}_sceneFunc(t){var n,i;const s=this.textArr,o=s.length;if(!this.text())return;let u=this.padding(),f=this.fontSize(),d=this.lineHeight()*f,p=this.verticalAlign(),y=this.direction(),v=0,x=this.align(),_=this.getWidth(),E=this.letterSpacing(),T=this.charRenderFunc(),M=this.fill(),O=this.textDecoration(),R=this.underlineOffset(),B=O.indexOf("underline")!==-1,H=O.indexOf("line-through")!==-1,F;y=y===d6?t.direction:y;let nt=d/2,X=G3;if(!Me.legacyTextRendering){const z=this.measureSize("M");X="alphabetic";const j=(n=z.fontBoundingBoxAscent)!==null&&n!==void 0?n:z.actualBoundingBoxAscent,P=(i=z.fontBoundingBoxDescent)!==null&&i!==void 0?i:z.actualBoundingBoxDescent;nt=(j-P)/2+d/2}for(y===P3&&t.setAttr("direction",y),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",X),t.setAttr("textAlign",p6),p===G3?v=(this.getHeight()-o*d-u*2)/2:p===xA&&(v=this.getHeight()-o*d-u*2),t.translate(u,v+u),F=0;F<o;F++){let z=0,j=0;const P=s[F],at=P.text,U=P.width,q=P.lastInParagraph;if(t.save(),x===SA?z+=_-U-u*2:x===dA&&(z+=(_-U-u*2)/2),B){t.save(),t.beginPath();const Z=R??(Me.legacyTextRendering?Math.round(f/2):Math.round(f/4)),K=z,Q=nt+j+Z;t.moveTo(K,Q);const tt=x===Jp&&!q?_-u*2:U;t.lineTo(K+Math.round(tt),Q),t.lineWidth=f/15;const st=this._getLinearGradient();t.strokeStyle=st||M,t.stroke(),t.restore()}const D=z;if(y!==P3&&(E!==0||x===Jp||T)){const Z=at.split(" ").length-1,K=Jc(at);for(let Q=0;Q<K.length;Q++){const tt=K[Q];if(tt===" "&&!q&&x===Jp&&(z+=(_-u*2-U)/Z),this._partialTextX=z,this._partialTextY=nt+j,this._partialText=tt,T){t.save();const gt=s.slice(0,F).reduce(($,ft)=>$+Jc(ft.text).length,0),Y=Q+gt;T({char:tt,index:Y,x:z,y:nt+j,lineIndex:F,column:Q,isLastInLine:q,width:this.measureSize(tt).width,context:t})}t.fillStrokeShape(this),T&&t.restore(),z+=this.measureSize(tt).width+E}}else E!==0&&t.setAttr("letterSpacing",`${E}px`),this._partialTextX=z,this._partialTextY=nt+j,this._partialText=at,t.fillStrokeShape(this);if(H){t.save(),t.beginPath();const Z=Me.legacyTextRendering?0:-Math.round(f/4),K=D;t.moveTo(K,nt+j+Z);const Q=x===Jp&&!q?_-u*2:U;t.lineTo(K+Math.round(Q),nt+j+Z),t.lineWidth=f/15;const tt=this._getLinearGradient();t.strokeStyle=tt||M,t.stroke(),t.restore()}t.restore(),o>1&&(nt+=d)}}_hitFunc(t){const n=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}setText(t){const n=Lt._isString(t)?t:t==null?"":t+"";return this._setAttr(gA,n),this}getWidth(){return this.attrs.width===gd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===gd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Lt.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n,i,s,o,u,f,d,p,y,v,x;let _=L1(),E=this.fontSize(),T;_.save(),_.font=this._getContextFont(),T=_.measureText(t),_.restore();const M=E/100;return{actualBoundingBoxAscent:(n=T.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*M,actualBoundingBoxDescent:(i=T.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(s=T.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*M,actualBoundingBoxRight:(o=T.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*M,alphabeticBaseline:(u=T.alphabeticBaseline)!==null&&u!==void 0?u:0,emHeightAscent:(f=T.emHeightAscent)!==null&&f!==void 0?f:100*M,emHeightDescent:(d=T.emHeightDescent)!==null&&d!==void 0?d:-20*M,fontBoundingBoxAscent:(p=T.fontBoundingBoxAscent)!==null&&p!==void 0?p:91*M,fontBoundingBoxDescent:(y=T.fontBoundingBoxDescent)!==null&&y!==void 0?y:21*M,hangingBaseline:(v=T.hangingBaseline)!==null&&v!==void 0?v:72.80000305175781*M,ideographicBaseline:(x=T.ideographicBaseline)!==null&&x!==void 0?x:-21*M,width:T.width,height:E}}_getContextFont(){return this.fontStyle()+_g+this.fontVariant()+_g+(this.fontSize()+bA)+TA(this.fontFamily())}_addTextLine(t){this.align()===Jp&&(t=t.trim());const i=this._getTextWidth(t);return this.textArr.push({text:t,width:i,lastInParagraph:!1})}_getTextWidth(t){const n=this.letterSpacing(),i=t.length;return L1().measureText(t).width+n*i}_setTextData(){let t=this.text().split(`
`),n=+this.fontSize(),i=0,s=this.lineHeight()*n,o=this.attrs.width,u=this.attrs.height,f=o!==gd&&o!==void 0,d=u!==gd&&u!==void 0,p=this.padding(),y=o-p*2,v=u-p*2,x=0,_=this.wrap(),E=_!==V3,T=_!==wA&&E,M=this.ellipsis();this.textArr=[],L1().font=this._getContextFont();const O=M?this._getTextWidth(B1):0;for(let R=0,B=t.length;R<B;++R){let H=t[R],F=this._getTextWidth(H);if(f&&F>y)for(;H.length>0;){let nt=0,X=Jc(H).length,z="",j=0;for(;nt<X;){const P=nt+X>>>1,at=Jc(H),U=at.slice(0,P+1).join(""),q=this._getTextWidth(U);(M&&d&&x+s>v?q+O:q)<=y?(nt=P+1,z=U,j=q):X=P}if(z){if(T){const U=Jc(H),q=Jc(z),D=U[q.length],Z=D===_g||D===H3;let K;if(Z&&j<=y)K=q.length;else{const Q=q.lastIndexOf(_g),tt=q.lastIndexOf(H3);K=Math.max(Q,tt)+1}K>0&&(nt=K,z=U.slice(0,nt).join(""),j=this._getTextWidth(z))}if(z=z.trimRight(),this._addTextLine(z),i=Math.max(i,j),x+=s,this._shouldHandleEllipsis(x)){this._tryToAddEllipsisToLastLine();break}if(H=Jc(H).slice(nt).join("").trimLeft(),H.length>0&&(F=this._getTextWidth(H),F<=y)){this._addTextLine(H),x+=s,i=Math.max(i,F);break}}else break}else this._addTextLine(H),x+=s,i=Math.max(i,F),this._shouldHandleEllipsis(x)&&R<B-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&x+s>v)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(t){const n=+this.fontSize(),i=this.lineHeight()*n,s=this.attrs.height,o=s!==gd&&s!==void 0,u=this.padding(),f=s-u*2;return!(this.wrap()!==V3)||o&&t+i>f}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,n=t!==gd&&t!==void 0,i=this.padding(),s=t-i*2,o=this.ellipsis(),u=this.textArr[this.textArr.length-1];!u||!o||(n&&(this._getTextWidth(u.text+B1)<s||(u.text=u.text.slice(0,u.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+B1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return t&&n?!0:super._useBufferCanvas()}};_i.prototype._fillFunc=CA;_i.prototype._strokeFunc=AA;_i.prototype.className=yA;_i.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];aa(_i);mt.overWriteSetter(_i,"width",z2());mt.overWriteSetter(_i,"height",z2());mt.addGetterSetter(_i,"direction",d6);mt.addGetterSetter(_i,"fontFamily","Arial");mt.addGetterSetter(_i,"fontSize",12,we());mt.addGetterSetter(_i,"fontStyle",m6);mt.addGetterSetter(_i,"fontVariant",m6);mt.addGetterSetter(_i,"padding",0,we());mt.addGetterSetter(_i,"align",p6);mt.addGetterSetter(_i,"verticalAlign",vA);mt.addGetterSetter(_i,"lineHeight",1,we());mt.addGetterSetter(_i,"wrap",_A);mt.addGetterSetter(_i,"ellipsis",!1,fl());mt.addGetterSetter(_i,"letterSpacing",0,we());mt.addGetterSetter(_i,"text","",uh());mt.addGetterSetter(_i,"textDecoration","");mt.addGetterSetter(_i,"underlineOffset",void 0,we());mt.addGetterSetter(_i,"charRenderFunc",void 0);const OA="",y6="normal";function v6(e){e.fillText(this.partialText,0,0)}function x6(e){e.strokeText(this.partialText,0,0)}class Ia extends me{constructor(t){super(t),this.dummyCanvas=Lt.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Si.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const n=this.pathLength;return t>n?null:Si.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=Si.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const n=this.textDecoration(),i=this.fill(),s=this.fontSize(),o=this.glyphInfo,u=n.indexOf("underline")!==-1,f=n.indexOf("line-through")!==-1;u&&t.beginPath();for(let d=0;d<o.length;d++){t.save();const p=o[d].p0;t.translate(p.x,p.y),t.rotate(o[d].rotation),this.partialText=o[d].text,t.fillStrokeShape(this),u&&(d===0&&t.moveTo(0,s/2+1),t.lineTo(o[d].width,s/2+1)),t.restore()}if(u&&(t.strokeStyle=i,t.lineWidth=s/20,t.stroke()),f){t.beginPath();for(let d=0;d<o.length;d++){t.save();const p=o[d].p0;t.translate(p.x,p.y),t.rotate(o[d].rotation),d===0&&t.moveTo(0,0),t.lineTo(o[d].width,0),t.restore()}t.strokeStyle=i,t.lineWidth=s/20,t.stroke()}t.restore()}_hitFunc(t){t.beginPath();const n=this.glyphInfo;if(n.length>=1){const i=n[0].p0;t.moveTo(i.x,i.y)}for(let i=0;i<n.length;i++){const s=n[i].p1;t.lineTo(s.x,s.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Lt.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return _i.prototype.setText.call(this,t)}_getContextFont(){return _i.prototype._getContextFont.call(this)}_getTextSize(t){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const s=i.measureText(t);return i.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const t=Jc(this.text()),n=[];let i=0;for(let v=0;v<t.length;v++)n.push({char:t[v],width:this._getTextSize(t[v]).width}),i+=n[v].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=i,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const o=this.letterSpacing(),u=this.align(),f=this.kerningFunc(),d=Math.max(this.textWidth+((this.attrs.text||"").length-1)*o,0);let p=0;u==="center"&&(p=Math.max(0,this.pathLength/2-d/2)),u==="right"&&(p=Math.max(0,this.pathLength-d));let y=p;for(let v=0;v<n.length;v++){const x=this._getPointAtLength(y);if(!x)return;const _=n[v].char;let E=n[v].width+o;if(_===" "&&u==="justify"){const H=this.text().split(" ").length-1;E+=(this.pathLength-d)/H}const T=this._getPointAtLength(y+E);if(!T)return;const M=Si.getLineLength(x.x,x.y,T.x,T.y);let O=0;if(f)try{O=f(n[v-1].char,_)*this.fontSize()}catch{O=0}x.x+=O,T.x+=O,this.textWidth+=O;const R=Si.getPointOnLine(O+M/2,x.x,x.y,T.x,T.y),B=Math.atan2(T.y-x.y,T.x-x.x);this.glyphInfo.push({transposeX:R.x,transposeY:R.y,text:t[v],rotation:B,p0:x,p1:T,width:M}),y+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach(function(p){t.push(p.p0.x),t.push(p.p0.y),t.push(p.p1.x),t.push(p.p1.y)});let n=t[0]||0,i=t[0]||0,s=t[1]||0,o=t[1]||0,u,f;for(let p=0;p<t.length/2;p++)u=t[p*2],f=t[p*2+1],n=Math.min(n,u),i=Math.max(i,u),s=Math.min(s,f),o=Math.max(o,f);const d=this.fontSize();return{x:n-d/2,y:s-d/2,width:i-n+d,height:o-s+d}}destroy(){return Lt.releaseCanvas(this.dummyCanvas),super.destroy()}}Ia.prototype._fillFunc=v6;Ia.prototype._strokeFunc=x6;Ia.prototype._fillFuncHit=v6;Ia.prototype._strokeFuncHit=x6;Ia.prototype.className="TextPath";Ia.prototype._attrsAffectingSize=["text","fontSize","data"];aa(Ia);mt.addGetterSetter(Ia,"data");mt.addGetterSetter(Ia,"fontFamily","Arial");mt.addGetterSetter(Ia,"fontSize",12,we());mt.addGetterSetter(Ia,"fontStyle",y6);mt.addGetterSetter(Ia,"align","left");mt.addGetterSetter(Ia,"letterSpacing",0,we());mt.addGetterSetter(Ia,"textBaseline","middle");mt.addGetterSetter(Ia,"fontVariant",y6);mt.addGetterSetter(Ia,"text",OA);mt.addGetterSetter(Ia,"textDecoration","");mt.addGetterSetter(Ia,"kerningFunc",void 0);const b6="tr-konva",MA=["resizeEnabledChange","rotateAnchorOffsetChange","rotateAnchorAngleChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${b6}`).join(" "),I3="nodesRect",NA=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],DA={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},zA="ontouchstart"in Me._global;function jA(e,t,n){if(e==="rotater")return n;t+=Lt.degToRad(DA[e]||0);const i=(Lt.radToDeg(t)%360+360)%360;return Lt._inRange(i,315+22.5,360)||Lt._inRange(i,0,22.5)?"ns-resize":Lt._inRange(i,45-22.5,45+22.5)?"nesw-resize":Lt._inRange(i,90-22.5,90+22.5)?"ew-resize":Lt._inRange(i,135-22.5,135+22.5)?"nwse-resize":Lt._inRange(i,180-22.5,180+22.5)?"ns-resize":Lt._inRange(i,225-22.5,225+22.5)?"nesw-resize":Lt._inRange(i,270-22.5,270+22.5)?"ew-resize":Lt._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Lt.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const ny=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function kA(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function S6(e,t,n){const i=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),s=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:i,y:s}}function BA(e,t){const n=kA(e);return S6(e,t,n)}function LA(e,t,n){let i=t;for(let s=0;s<e.length;s++){const o=Me.getAngle(e[s]),u=Math.abs(o-t)%(Math.PI*2);Math.min(u,Math.PI*2-u)<n&&(i=o)}return i}let Iv=0;class Un extends Rd{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(MA,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return Lt.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return b6+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(s=>s.isAncestorOf(this)?(Lt.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const u=s._attrsAffectingSize.map(f=>f+"Change."+this._getEventNamespace()).join(" ");s.on(u,o)}s.on(NA.map(u=>u+`.${this._getEventNamespace()}`).join(" "),o),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(s)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,i=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const s=t.getAbsolutePosition(),o=s.x-n.x,u=s.y-n.y;this.nodes().forEach(f=>{if(f===t||f.isDragging())return;const d=f.getAbsolutePosition();f.setAbsolutePosition({x:d.x+o,y:d.y+u}),f.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(I3),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(I3,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),i){const s=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=t.getAbsoluteScale(i),u=t.getAbsolutePosition(i),f=s.x*o.x-t.offsetX()*o.x,d=s.y*o.y-t.offsetY()*o.y,p=(Me.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),y={x:u.x+f*Math.cos(p)+d*Math.sin(-p),y:u.y+d*Math.cos(p)+f*Math.sin(p),width:s.width*o.x,height:s.height*o.y,rotation:p};return S6(y,-Me.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const y=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),v=[{x:y.x,y:y.y},{x:y.x+y.width,y:y.y},{x:y.x+y.width,y:y.y+y.height},{x:y.x,y:y.y+y.height}],x=p.getAbsoluteTransform();v.forEach(function(_){const E=x.point(_);n.push(E)})});const i=new kr;i.rotate(-Me.getAngle(this.rotation()));let s=1/0,o=1/0,u=-1/0,f=-1/0;n.forEach(function(p){const y=i.point(p);s===void 0&&(s=u=y.x,o=f=y.y),s=Math.min(s,y.x),o=Math.min(o,y.y),u=Math.max(u,y.x),f=Math.max(f,y.y)}),i.invert();const d=i.point({x:s,y:o});return{x:d.x,y:d.y,width:u-s,height:f-o,rotation:Me.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ny.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){const n=new Im({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:zA?10:"auto"}),i=this;n.on("mousedown touchstart",function(s){i._handleMouseDown(s)}),n.on("dragstart",s=>{n.stopDrag(),s.cancelBubble=!0}),n.on("dragend",s=>{s.cancelBubble=!0}),n.on("mouseenter",()=>{const s=Me.getAngle(this.rotation()),o=this.rotateAnchorCursor(),u=jA(t,s,o);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const t=new me({name:"back",width:0,height:0,sceneFunc(n,i){const s=i.getParent(),o=s.padding(),u=i.width(),f=i.height();if(n.beginPath(),n.rect(-o,-o,u+o*2,f+o*2),s.rotateEnabled()&&s.rotateLineVisible()){const d=s.rotateAnchorAngle(),p=s.rotateAnchorOffset(),y=Lt.degToRad(d),v=Math.sin(y),x=-Math.cos(y),_=u/2,E=f/2;let T=1/0;x<0?T=Math.min(T,-E/x):x>0&&(T=Math.min(T,(f-E)/x)),v<0?T=Math.min(T,-_/v):v>0&&(T=Math.min(T,(u-_)/v));const M=_+v*T,O=E+x*T,R=Lt._sign(f),B=M+v*p*R,H=O+x*p*R;n.moveTo(M,O),n.lineTo(B,H)}n.fillStrokeShape(i)},hitFunc:(n,i)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();n.beginPath(),n.rect(-s,-s,i.width()+s*2,i.height()+s*2),n.fillStrokeShape(i)}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const n=this._getNodeRect(),i=n.width,s=n.height,o=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));this.sin=Math.abs(s/o),this.cos=Math.abs(i/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const u=t.target.getAbsolutePosition(),f=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:f.x-u.x,y:f.y-u.y},Iv++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:t.evt,target:d})})}_handleMouseMove(t){let n,i,s;const o=this.findOne("."+this._movingAnchorName),u=o.getStage();u.setPointersPositions(t);const f=u.getPointerPosition();let d={x:f.x-this._anchorDragOffset.x,y:f.y-this._anchorDragOffset.y};const p=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(p,d,t)),o.setAbsolutePosition(d);const y=o.getAbsolutePosition();if(p.x===y.x&&p.y===y.y)return;if(this._movingAnchorName==="rotater"){const R=this._getNodeRect();n=o.x()-R.width/2,i=-o.y()+R.height/2;const B=Me.getAngle(this.rotateAnchorAngle());let H=Math.atan2(-i,n)+Math.PI/2-B;R.height<0&&(H-=Math.PI);const nt=Me.getAngle(this.rotation())+H,X=Me.getAngle(this.rotationSnapTolerance()),j=LA(this.rotationSnaps(),nt,X)-R.rotation,P=BA(R,j);this._fitNodesInto(P,t);return}const v=this.shiftBehavior();let x;v==="inverted"?x=this.keepRatio()&&!t.shiftKey:v==="none"?x=this.keepRatio():x=this.keepRatio()||t.shiftKey;let _=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(x){const R=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(R.x-o.x(),2)+Math.pow(R.y-o.y(),2));const B=this.findOne(".top-left").x()>R.x?-1:1,H=this.findOne(".top-left").y()>R.y?-1:1;n=s*this.cos*B,i=s*this.sin*H,this.findOne(".top-left").x(R.x-n),this.findOne(".top-left").y(R.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(x){const R=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(o.x()-R.x,2)+Math.pow(R.y-o.y(),2));const B=this.findOne(".top-right").x()<R.x?-1:1,H=this.findOne(".top-right").y()>R.y?-1:1;n=s*this.cos*B,i=s*this.sin*H,this.findOne(".top-right").x(R.x+n),this.findOne(".top-right").y(R.y-i)}var E=o.position();this.findOne(".top-left").y(E.y),this.findOne(".bottom-right").x(E.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(x){const R=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(R.x-o.x(),2)+Math.pow(o.y()-R.y,2));const B=R.x<o.x()?-1:1,H=o.y()<R.y?-1:1;n=s*this.cos*B,i=s*this.sin*H,o.x(R.x-n),o.y(R.y+i)}E=o.position(),this.findOne(".top-left").x(E.x),this.findOne(".bottom-right").y(E.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(x){const R=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(o.x()-R.x,2)+Math.pow(o.y()-R.y,2));const B=this.findOne(".bottom-right").x()<R.x?-1:1,H=this.findOne(".bottom-right").y()<R.y?-1:1;n=s*this.cos*B,i=s*this.sin*H,this.findOne(".bottom-right").x(R.x+n),this.findOne(".bottom-right").y(R.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(_=this.centeredScaling()||t.altKey,_){const R=this.findOne(".top-left"),B=this.findOne(".bottom-right"),H=R.x(),F=R.y(),nt=this.getWidth()-B.x(),X=this.getHeight()-B.y();B.move({x:-H,y:-F}),R.move({x:nt,y:X})}const T=this.findOne(".top-left").getAbsolutePosition();n=T.x,i=T.y;const M=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),O=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:M,height:O,rotation:Me.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();Iv--,this._fire("transformend",{evt:t,target:i}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),i&&this._nodes.forEach(s=>{var o;s._fire("transformend",{evt:t,target:s}),(o=s.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,n){const i=this._getNodeRect(),s=1;if(Lt._inRange(t.width,-this.padding()*2-s,s)){this.update();return}if(Lt._inRange(t.height,-this.padding()*2-s,s)){this.update();return}const o=new kr;if(o.rotate(Me.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const x=o.point({x:-this.padding()*2,y:0});t.x+=x.x,t.y+=x.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const x=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const x=o.point({x:0,y:-this.padding()*2});t.x+=x.x,t.y+=x.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const x=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=x.x,this._anchorDragOffset.y-=x.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const x=this.boundBoxFunc()(i,t);x?t=x:Lt.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new kr;f.translate(i.x,i.y),f.rotate(i.rotation),f.scale(i.width/u,i.height/u);const d=new kr,p=t.width/u,y=t.height/u;this.flipEnabled()===!1?(d.translate(t.x,t.y),d.rotate(t.rotation),d.translate(t.width<0?t.width:0,t.height<0?t.height:0),d.scale(Math.abs(p),Math.abs(y))):(d.translate(t.x,t.y),d.rotate(t.rotation),d.scale(p,y));const v=d.multiply(f.invert());this._nodes.forEach(x=>{var _;if(!x.getStage())return;const E=x.getParent().getAbsoluteTransform(),T=x.getTransform().copy();T.translate(x.offsetX(),x.offsetY());const M=new kr;M.multiply(E.copy().invert()).multiply(v).multiply(E).multiply(T);const O=M.decompose();x.setAttrs(O),(_=x.getLayer())===null||_===void 0||_.batchDraw()}),this.rotation(Lt._getRotation(t.rotation)),this._nodes.forEach(x=>{this._fire("transform",{evt:n,target:x}),x._fire("transform",{evt:n,target:x})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t;const n=this._getNodeRect();this.rotation(Lt._getRotation(n.rotation));const i=n.width,s=n.height,o=this.enabledAnchors(),u=this.resizeEnabled(),f=this.padding(),d=this.anchorSize(),p=this.find("._anchor");p.forEach(nt=>{nt.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+f,offsetY:d/2+f,visible:u&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:d/2+f,visible:u&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:d/2-f,offsetY:d/2+f,visible:u&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:d/2+f,visible:u&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:s/2,offsetX:d/2-f,visible:u&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:d/2+f,offsetY:d/2-f,visible:u&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:s,offsetY:d/2-f,visible:u&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:s,offsetX:d/2-f,offsetY:d/2-f,visible:u&&o.indexOf("bottom-right")>=0});const y=this.rotateAnchorAngle(),v=this.rotateAnchorOffset(),x=Lt.degToRad(y),_=Math.sin(x),E=-Math.cos(x),T=i/2,M=s/2;let O=1/0;E<0?O=Math.min(O,-M/E):E>0&&(O=Math.min(O,(s-M)/E)),_<0?O=Math.min(O,-T/_):_>0&&(O=Math.min(O,(i-T)/_));const R=T+_*O,B=M+E*O,H=Lt._sign(s);this._batchChangeChild(".rotater",{x:R+_*v*H,y:B+E*v*H-f*E,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(nt=>nt.draggable()),x:0,y:0});const F=this.anchorStyleFunc();F&&p.forEach(nt=>{F(nt)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Rd.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Se.prototype.toObject.call(this)}clone(t){return Se.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Un.isTransforming=()=>Iv>0;function UA(e){return e instanceof Array||Lt.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){ny.indexOf(t)===-1&&Lt.warn("Unknown anchor name: "+t+". Available names are: "+ny.join(", "))}),e||[]}Un.prototype.className="Transformer";aa(Un);mt.addGetterSetter(Un,"enabledAnchors",ny,UA);mt.addGetterSetter(Un,"flipEnabled",!0,fl());mt.addGetterSetter(Un,"resizeEnabled",!0);mt.addGetterSetter(Un,"anchorSize",10,we());mt.addGetterSetter(Un,"rotateEnabled",!0);mt.addGetterSetter(Un,"rotateLineVisible",!0);mt.addGetterSetter(Un,"rotationSnaps",[]);mt.addGetterSetter(Un,"rotateAnchorOffset",50,we());mt.addGetterSetter(Un,"rotateAnchorAngle",0,we());mt.addGetterSetter(Un,"rotateAnchorCursor","crosshair");mt.addGetterSetter(Un,"rotationSnapTolerance",5,we());mt.addGetterSetter(Un,"borderEnabled",!0);mt.addGetterSetter(Un,"anchorStroke","rgb(0, 161, 255)");mt.addGetterSetter(Un,"anchorStrokeWidth",1,we());mt.addGetterSetter(Un,"anchorFill","white");mt.addGetterSetter(Un,"anchorCornerRadius",0,we());mt.addGetterSetter(Un,"borderStroke","rgb(0, 161, 255)");mt.addGetterSetter(Un,"borderStrokeWidth",1,we());mt.addGetterSetter(Un,"borderDash");mt.addGetterSetter(Un,"keepRatio",!0);mt.addGetterSetter(Un,"shiftBehavior","default");mt.addGetterSetter(Un,"centeredScaling",!1);mt.addGetterSetter(Un,"ignoreStroke",!1);mt.addGetterSetter(Un,"padding",0,we());mt.addGetterSetter(Un,"nodes");mt.addGetterSetter(Un,"node");mt.addGetterSetter(Un,"boundBoxFunc");mt.addGetterSetter(Un,"anchorDragBoundFunc");mt.addGetterSetter(Un,"anchorStyleFunc");mt.addGetterSetter(Un,"shouldOverdrawWholeArea",!1);mt.addGetterSetter(Un,"useSingleNodeRotation",!0);mt.backCompat(Un,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ic extends me{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,Me.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}ic.prototype.className="Wedge";ic.prototype._centroid=!0;ic.prototype._attrsAffectingSize=["radius"];aa(ic);mt.addGetterSetter(ic,"radius",0,we());mt.addGetterSetter(ic,"angle",0,we());mt.addGetterSetter(ic,"clockwise",!1);mt.backCompat(ic,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function q3(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const HA=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],GA=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function PA(e,t){const n=e.data,i=e.width,s=e.height;let o,u,f,d,p,y,v,x,_,E,T,M,O,R,B,H,F,nt,X,z;const j=t+t+1,P=i-1,at=s-1,U=t+1,q=U*(U+1)/2,D=new q3,Z=HA[t],K=GA[t];let Q=null,tt=D,st=null,gt=null;for(let Y=1;Y<j;Y++)tt=tt.next=new q3,Y===U&&(Q=tt);tt.next=D,f=u=0;for(let Y=0;Y<s;Y++){M=O=R=B=d=p=y=v=0,x=U*(H=n[u]),_=U*(F=n[u+1]),E=U*(nt=n[u+2]),T=U*(X=n[u+3]),d+=q*H,p+=q*F,y+=q*nt,v+=q*X,tt=D;for(let $=0;$<U;$++)tt.r=H,tt.g=F,tt.b=nt,tt.a=X,tt=tt.next;for(let $=1;$<U;$++)o=u+((P<$?P:$)<<2),d+=(tt.r=H=n[o])*(z=U-$),p+=(tt.g=F=n[o+1])*z,y+=(tt.b=nt=n[o+2])*z,v+=(tt.a=X=n[o+3])*z,M+=H,O+=F,R+=nt,B+=X,tt=tt.next;st=D,gt=Q;for(let $=0;$<i;$++)n[u+3]=X=v*Z>>K,X!==0?(X=255/X,n[u]=(d*Z>>K)*X,n[u+1]=(p*Z>>K)*X,n[u+2]=(y*Z>>K)*X):n[u]=n[u+1]=n[u+2]=0,d-=x,p-=_,y-=E,v-=T,x-=st.r,_-=st.g,E-=st.b,T-=st.a,o=f+((o=$+t+1)<P?o:P)<<2,M+=st.r=n[o],O+=st.g=n[o+1],R+=st.b=n[o+2],B+=st.a=n[o+3],d+=M,p+=O,y+=R,v+=B,st=st.next,x+=H=gt.r,_+=F=gt.g,E+=nt=gt.b,T+=X=gt.a,M-=H,O-=F,R-=nt,B-=X,gt=gt.next,u+=4;f+=i}for(let Y=0;Y<i;Y++){O=R=B=M=p=y=v=d=0,u=Y<<2,x=U*(H=n[u]),_=U*(F=n[u+1]),E=U*(nt=n[u+2]),T=U*(X=n[u+3]),d+=q*H,p+=q*F,y+=q*nt,v+=q*X,tt=D;for(let ft=0;ft<U;ft++)tt.r=H,tt.g=F,tt.b=nt,tt.a=X,tt=tt.next;let $=i;for(let ft=1;ft<=t;ft++)u=$+Y<<2,d+=(tt.r=H=n[u])*(z=U-ft),p+=(tt.g=F=n[u+1])*z,y+=(tt.b=nt=n[u+2])*z,v+=(tt.a=X=n[u+3])*z,M+=H,O+=F,R+=nt,B+=X,tt=tt.next,ft<at&&($+=i);u=Y,st=D,gt=Q;for(let ft=0;ft<s;ft++)o=u<<2,n[o+3]=X=v*Z>>K,X>0?(X=255/X,n[o]=(d*Z>>K)*X,n[o+1]=(p*Z>>K)*X,n[o+2]=(y*Z>>K)*X):n[o]=n[o+1]=n[o+2]=0,d-=x,p-=_,y-=E,v-=T,x-=st.r,_-=st.g,E-=st.b,T-=st.a,o=Y+((o=ft+U)<at?o:at)*i<<2,d+=M+=st.r=n[o],p+=O+=st.g=n[o+1],y+=R+=st.b=n[o+2],v+=B+=st.a=n[o+3],st=st.next,x+=H=gt.r,_+=F=gt.g,E+=nt=gt.b,T+=X=gt.a,M-=H,O-=F,R-=nt,B-=X,gt=gt.next,u+=i}}const VA=function(t){const n=Math.round(this.blurRadius());n>0&&PA(t,n)};mt.addGetterSetter(Se,"blurRadius",0,we(),mt.afterSetFilter);const IA=function(e){const t=this.brightness()*255,n=e.data,i=n.length;for(let s=0;s<i;s+=4)n[s]+=t,n[s+1]+=t,n[s+2]+=t};mt.addGetterSetter(Se,"brightness",0,we(),mt.afterSetFilter);const qA=function(e){const t=this.brightness(),n=e.data,i=n.length;for(let s=0;s<i;s+=4)n[s]=Math.min(255,n[s]*t),n[s+1]=Math.min(255,n[s+1]*t),n[s+2]=Math.min(255,n[s+2]*t)},FA=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,i=n.length;let s=150,o=150,u=150;for(let f=0;f<i;f+=4)s=n[f],o=n[f+1],u=n[f+2],s/=255,s-=.5,s*=t,s+=.5,s*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,u/=255,u-=.5,u*=t,u+=.5,u*=255,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,u=u<0?0:u>255?255:u,n[f]=s,n[f+1]=o,n[f+2]=u};mt.addGetterSetter(Se,"contrast",0,we(),mt.afterSetFilter);const KA=function(e){var t,n,i,s,o,u,f,d,p;const y=e.data,v=e.width,x=e.height,_=Math.min(1,Math.max(0,(n=(t=this.embossStrength)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:.5)),E=Math.min(1,Math.max(0,(s=(i=this.embossWhiteLevel)===null||i===void 0?void 0:i.call(this))!==null&&s!==void 0?s:.5)),M=(f={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(u=(o=this.embossDirection)===null||o===void 0?void 0:o.call(this))!==null&&u!==void 0?u:"top-left"])!==null&&f!==void 0?f:315,O=!!((p=(d=this.embossBlend)===null||d===void 0?void 0:d.call(this))!==null&&p!==void 0&&p),R=_*10,B=E*255,H=M*Math.PI/180,F=Math.cos(H),nt=Math.sin(H),X=128/1020*R,z=new Uint8ClampedArray(y),j=new Float32Array(v*x);for(let D=0,Z=0;Z<y.length;Z+=4,D++)j[D]=.2126*z[Z]+.7152*z[Z+1]+.0722*z[Z+2];const P=[-1,0,1,-2,0,2,-1,0,1],at=[-1,-2,-1,0,0,0,1,2,1],U=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1],q=D=>D<0?0:D>255?255:D;for(let D=1;D<x-1;D++)for(let Z=1;Z<v-1;Z++){const K=D*v+Z;let Q=0,tt=0;Q+=j[K+U[0]]*P[0],tt+=j[K+U[0]]*at[0],Q+=j[K+U[1]]*P[1],tt+=j[K+U[1]]*at[1],Q+=j[K+U[2]]*P[2],tt+=j[K+U[2]]*at[2],Q+=j[K+U[3]]*P[3],tt+=j[K+U[3]]*at[3],Q+=j[K+U[5]]*P[5],tt+=j[K+U[5]]*at[5],Q+=j[K+U[6]]*P[6],tt+=j[K+U[6]]*at[6],Q+=j[K+U[7]]*P[7],tt+=j[K+U[7]]*at[7],Q+=j[K+U[8]]*P[8],tt+=j[K+U[8]]*at[8];const st=F*Q+nt*tt,gt=q(B+st*X),Y=K*4;if(O){const $=gt-B;y[Y]=q(z[Y]+$),y[Y+1]=q(z[Y+1]+$),y[Y+2]=q(z[Y+2]+$),y[Y+3]=z[Y+3]}else y[Y]=y[Y+1]=y[Y+2]=gt,y[Y+3]=z[Y+3]}for(let D=0;D<v;D++){let Z=D*4,K=((x-1)*v+D)*4;y[Z]=z[Z],y[Z+1]=z[Z+1],y[Z+2]=z[Z+2],y[Z+3]=z[Z+3],y[K]=z[K],y[K+1]=z[K+1],y[K+2]=z[K+2],y[K+3]=z[K+3]}for(let D=1;D<x-1;D++){let Z=D*v*4,K=(D*v+(v-1))*4;y[Z]=z[Z],y[Z+1]=z[Z+1],y[Z+2]=z[Z+2],y[Z+3]=z[Z+3],y[K]=z[K],y[K+1]=z[K+1],y[K+2]=z[K+2],y[K+3]=z[K+3]}return e};mt.addGetterSetter(Se,"embossStrength",.5,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"embossWhiteLevel",.5,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"embossDirection","top-left",void 0,mt.afterSetFilter);mt.addGetterSetter(Se,"embossBlend",!1,void 0,mt.afterSetFilter);function U1(e,t,n,i,s){const o=n-t,u=s-i;if(o===0)return i+u/2;if(u===0)return i;let f=(e-t)/o;return f=u*f+i,f}const YA=function(e){const t=e.data,n=t.length;let i=t[0],s=i,o,u=t[1],f=u,d,p=t[2],y=p,v;const x=this.enhance();if(x===0)return;for(let B=0;B<n;B+=4)o=t[B+0],o<i?i=o:o>s&&(s=o),d=t[B+1],d<u?u=d:d>f&&(f=d),v=t[B+2],v<p?p=v:v>y&&(y=v);s===i&&(s=255,i=0),f===u&&(f=255,u=0),y===p&&(y=255,p=0);let _,E,T,M,O,R;if(x>0)_=s+x*(255-s),E=i-x*(i-0),T=f+x*(255-f),M=u-x*(u-0),O=y+x*(255-y),R=p-x*(p-0);else{const B=(s+i)*.5;_=s+x*(s-B),E=i+x*(i-B);const H=(f+u)*.5;T=f+x*(f-H),M=u+x*(u-H);const F=(y+p)*.5;O=y+x*(y-F),R=p+x*(p-F)}for(let B=0;B<n;B+=4)t[B+0]=U1(t[B+0],i,s,E,_),t[B+1]=U1(t[B+1],u,f,M,T),t[B+2]=U1(t[B+2],p,y,R,O)};mt.addGetterSetter(Se,"enhance",0,we(),mt.afterSetFilter);const XA=function(e){const t=e.data,n=t.length;for(let i=0;i<n;i+=4){const s=.34*t[i]+.5*t[i+1]+.16*t[i+2];t[i]=s,t[i+1]=s,t[i+2]=s}};mt.addGetterSetter(Se,"hue",0,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"saturation",0,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"luminance",0,we(),mt.afterSetFilter);const ZA=function(e){const t=e.data,n=t.length,i=1,s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,u=this.luminance()*127,f=i*s*Math.cos(o*Math.PI/180),d=i*s*Math.sin(o*Math.PI/180),p=.299*i+.701*f+.167*d,y=.587*i-.587*f+.33*d,v=.114*i-.114*f-.497*d,x=.299*i-.299*f-.328*d,_=.587*i+.413*f+.035*d,E=.114*i-.114*f+.293*d,T=.299*i-.3*f+1.25*d,M=.587*i-.586*f-1.05*d,O=.114*i+.886*f-.2*d;let R,B,H,F;for(let nt=0;nt<n;nt+=4)R=t[nt+0],B=t[nt+1],H=t[nt+2],F=t[nt+3],t[nt+0]=p*R+y*B+v*H+u,t[nt+1]=x*R+_*B+E*H+u,t[nt+2]=T*R+M*B+O*H+u,t[nt+3]=F},QA=function(e){const t=e.data,n=t.length,i=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,u=i*s*Math.cos(o*Math.PI/180),f=i*s*Math.sin(o*Math.PI/180),d=.299*i+.701*u+.167*f,p=.587*i-.587*u+.33*f,y=.114*i-.114*u-.497*f,v=.299*i-.299*u-.328*f,x=.587*i+.413*u+.035*f,_=.114*i-.114*u+.293*f,E=.299*i-.3*u+1.25*f,T=.587*i-.586*u-1.05*f,M=.114*i+.886*u-.2*f;for(let O=0;O<n;O+=4){const R=t[O+0],B=t[O+1],H=t[O+2],F=t[O+3];t[O+0]=d*R+p*B+y*H,t[O+1]=v*R+x*B+_*H,t[O+2]=E*R+T*B+M*H,t[O+3]=F}};mt.addGetterSetter(Se,"hue",0,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"saturation",0,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"value",0,we(),mt.afterSetFilter);const JA=function(e){const t=e.data,n=t.length;for(let i=0;i<n;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},WA=function(e,t,n){const i=e.data,s=t.data,o=e.width,u=e.height,f=n.polarCenterX||o/2,d=n.polarCenterY||u/2;let p=Math.sqrt(f*f+d*d),y=o-f,v=u-d;const x=Math.sqrt(y*y+v*v);p=x>p?x:p;const _=u,E=o,T=360/E*Math.PI/180;for(let M=0;M<E;M+=1){const O=Math.sin(M*T),R=Math.cos(M*T);for(let B=0;B<_;B+=1){y=Math.floor(f+p*B/_*R),v=Math.floor(d+p*B/_*O);let H=(v*o+y)*4;const F=i[H+0],nt=i[H+1],X=i[H+2],z=i[H+3];H=(M+B*o)*4,s[H+0]=F,s[H+1]=nt,s[H+2]=X,s[H+3]=z}}},$A=function(e,t,n){const i=e.data,s=t.data,o=e.width,u=e.height,f=n.polarCenterX||o/2,d=n.polarCenterY||u/2;let p=Math.sqrt(f*f+d*d),y=o-f,v=u-d;const x=Math.sqrt(y*y+v*v);p=x>p?x:p;const _=u,E=o,T=0;let M,O;for(y=0;y<o;y+=1)for(v=0;v<u;v+=1){const R=y-f,B=v-d,H=Math.sqrt(R*R+B*B)*_/p;let F=(Math.atan2(B,R)*180/Math.PI+360+T)%360;F=F*E/360,M=Math.floor(F),O=Math.floor(H);let nt=(O*o+M)*4;const X=i[nt+0],z=i[nt+1],j=i[nt+2],P=i[nt+3];nt=(v*o+y)*4,s[nt+0]=X,s[nt+1]=z,s[nt+2]=j,s[nt+3]=P}},tR=function(e){const t=e.width,n=e.height;let i,s,o,u,f,d,p,y,v,x,_=Math.round(this.kaleidoscopePower());const E=Math.round(this.kaleidoscopeAngle()),T=Math.floor(t*(E%360)/360);if(_<1)return;const M=Lt.createCanvasElement();M.width=t,M.height=n;const O=M.getContext("2d").getImageData(0,0,t,n);Lt.releaseCanvas(M),WA(e,O,{polarCenterX:t/2,polarCenterY:n/2});let R=t/Math.pow(2,_);for(;R<=8;)R=R*2,_-=1;R=Math.ceil(R);let B=R,H=0,F=B,nt=1;for(T+R>t&&(H=B,F=0,nt=-1),s=0;s<n;s+=1)for(i=H;i!==F;i+=nt)o=Math.round(i+T)%t,v=(t*s+o)*4,f=O.data[v+0],d=O.data[v+1],p=O.data[v+2],y=O.data[v+3],x=(t*s+i)*4,O.data[x+0]=f,O.data[x+1]=d,O.data[x+2]=p,O.data[x+3]=y;for(s=0;s<n;s+=1)for(B=Math.floor(R),u=0;u<_;u+=1){for(i=0;i<B+1;i+=1)v=(t*s+i)*4,f=O.data[v+0],d=O.data[v+1],p=O.data[v+2],y=O.data[v+3],x=(t*s+B*2-i-1)*4,O.data[x+0]=f,O.data[x+1]=d,O.data[x+2]=p,O.data[x+3]=y;B*=2}$A(O,e,{})};mt.addGetterSetter(Se,"kaleidoscopePower",2,we(),mt.afterSetFilter);mt.addGetterSetter(Se,"kaleidoscopeAngle",0,we(),mt.afterSetFilter);function Eg(e,t,n){let i=(n*e.width+t)*4;const s=[];return s.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),s}function Wp(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function eR(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function nR(e,t){const n=Eg(e,0,0),i=Eg(e,e.width-1,0),s=Eg(e,0,e.height-1),o=Eg(e,e.width-1,e.height-1),u=t||10;if(Wp(n,i)<u&&Wp(i,o)<u&&Wp(o,s)<u&&Wp(s,n)<u){const f=eR([i,n,o,s]),d=[];for(let p=0;p<e.width*e.height;p++){const y=Wp(f,[e.data[p*4],e.data[p*4+1],e.data[p*4+2]]);d[p]=y<u?0:255}return d}}function iR(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function aR(e,t,n){const i=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),u=[];for(let f=0;f<n;f++)for(let d=0;d<t;d++){const p=f*t+d;let y=0;for(let v=0;v<s;v++)for(let x=0;x<s;x++){const _=f+v-o,E=d+x-o;if(_>=0&&_<n&&E>=0&&E<t){const T=_*t+E,M=i[v*s+x];y+=e[T]*M}}u[p]=y===2040?255:0}return u}function sR(e,t,n){const i=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),u=[];for(let f=0;f<n;f++)for(let d=0;d<t;d++){const p=f*t+d;let y=0;for(let v=0;v<s;v++)for(let x=0;x<s;x++){const _=f+v-o,E=d+x-o;if(_>=0&&_<n&&E>=0&&E<t){const T=_*t+E,M=i[v*s+x];y+=e[T]*M}}u[p]=y>=1020?255:0}return u}function rR(e,t,n){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),u=[];for(let f=0;f<n;f++)for(let d=0;d<t;d++){const p=f*t+d;let y=0;for(let v=0;v<s;v++)for(let x=0;x<s;x++){const _=f+v-o,E=d+x-o;if(_>=0&&_<n&&E>=0&&E<t){const T=_*t+E,M=i[v*s+x];y+=e[T]*M}}u[p]=y}return u}const oR=function(e){const t=this.threshold();let n=nR(e,t);return n&&(n=aR(n,e.width,e.height),n=sR(n,e.width,e.height),n=rR(n,e.width,e.height),iR(e,n)),e};mt.addGetterSetter(Se,"threshold",0,we(),mt.afterSetFilter);const lR=function(e){const t=this.noise()*255,n=e.data,i=n.length,s=t/2;for(let o=0;o<i;o+=4)n[o+0]+=s-2*s*Math.random(),n[o+1]+=s-2*s*Math.random(),n[o+2]+=s-2*s*Math.random()};mt.addGetterSetter(Se,"noise",.2,we(),mt.afterSetFilter);const uR=function(e){let t=Math.ceil(this.pixelSize()),n=e.width,i=e.height,s=Math.ceil(n/t),o=Math.ceil(i/t),u=e.data;if(t<=0){Lt.error("pixelSize value can not be <= 0");return}for(let f=0;f<s;f+=1)for(let d=0;d<o;d+=1){let p=0,y=0,v=0,x=0;const _=f*t,E=_+t,T=d*t,M=T+t;let O=0;for(let R=_;R<E;R+=1)if(!(R>=n))for(let B=T;B<M;B+=1){if(B>=i)continue;const H=(n*B+R)*4;p+=u[H+0],y+=u[H+1],v+=u[H+2],x+=u[H+3],O+=1}p=p/O,y=y/O,v=v/O,x=x/O;for(let R=_;R<E;R+=1)if(!(R>=n))for(let B=T;B<M;B+=1){if(B>=i)continue;const H=(n*B+R)*4;u[H+0]=p,u[H+1]=y,u[H+2]=v,u[H+3]=x}}};mt.addGetterSetter(Se,"pixelSize",8,we(),mt.afterSetFilter);const cR=function(e){const t=Math.round(this.levels()*254)+1,n=e.data,i=n.length,s=255/t;for(let o=0;o<i;o+=1)n[o]=Math.floor(n[o]/s)*s};mt.addGetterSetter(Se,"levels",.5,we(),mt.afterSetFilter);const fR=function(e){const t=e.data,n=t.length,i=this.red(),s=this.green(),o=this.blue();for(let u=0;u<n;u+=4){const f=(.34*t[u]+.5*t[u+1]+.16*t[u+2])/255;t[u]=f*i,t[u+1]=f*s,t[u+2]=f*o,t[u+3]=t[u+3]}};mt.addGetterSetter(Se,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mt.addGetterSetter(Se,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mt.addGetterSetter(Se,"blue",0,q4,mt.afterSetFilter);const hR=function(e){const t=e.data,n=t.length,i=this.red(),s=this.green(),o=this.blue(),u=this.alpha();for(let f=0;f<n;f+=4){const d=1-u;t[f]=i*u+t[f]*d,t[f+1]=s*u+t[f+1]*d,t[f+2]=o*u+t[f+2]*d}};mt.addGetterSetter(Se,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mt.addGetterSetter(Se,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mt.addGetterSetter(Se,"blue",0,q4,mt.afterSetFilter);mt.addGetterSetter(Se,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});const dR=function(e){const t=e.data,n=t.length;for(let i=0;i<n;i+=4){const s=t[i+0],o=t[i+1],u=t[i+2];t[i+0]=Math.min(255,s*.393+o*.769+u*.189),t[i+1]=Math.min(255,s*.349+o*.686+u*.168),t[i+2]=Math.min(255,s*.272+o*.534+u*.131)}},pR=function(e){const n=e.data;for(let i=0;i<n.length;i+=4){const s=n[i],o=n[i+1],u=n[i+2];.2126*s+.7152*o+.0722*u>=128&&(n[i]=255-s,n[i+1]=255-o,n[i+2]=255-u)}return e},mR=function(e){const t=this.threshold()*255,n=e.data,i=n.length;for(let s=0;s<i;s+=1)n[s]=n[s]<t?0:255};mt.addGetterSetter(Se,"threshold",.5,we(),mt.afterSetFilter);Od.Util._assign(Od,{Arc:ec,Arrow:fh,Circle:zd,Ellipse:rf,Image:hl,Label:B2,Tag:hh,Line:nc,Path:Si,Rect:Im,RegularPolygon:of,Ring:dh,Sprite:ou,Star:lf,Text:_i,TextPath:Ia,Transformer:Un,Wedge:ic,Filters:{Blur:VA,Brightness:qA,Brighten:IA,Contrast:FA,Emboss:KA,Enhance:YA,Grayscale:XA,HSL:ZA,HSV:QA,Invert:JA,Kaleidoscope:tR,Mask:oR,Noise:lR,Pixelate:uR,Posterize:cR,RGB:fR,RGBA:hR,Sepia:dR,Solarize:pR,Threshold:mR}});var H1={exports:{}},G1={exports:{}};var F3;function gR(){return F3||(F3=1,(function(e){e.exports=function(t){function n(l,c,g,S){return new Gd(l,c,g,S)}function i(){}function s(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function u(l){if(o(l)!==l)throw Error(s(188))}function f(l){var c=l.alternate;if(!c){if(c=o(l),c===null)throw Error(s(188));return c!==l?null:l}for(var g=l,S=c;;){var N=g.return;if(N===null)break;var L=N.alternate;if(L===null){if(S=N.return,S!==null){g=S;continue}break}if(N.child===L.child){for(L=N.child;L;){if(L===g)return u(N),l;if(L===S)return u(N),c;L=L.sibling}throw Error(s(188))}if(g.return!==S.return)g=N,S=L;else{for(var rt=!1,St=N.child;St;){if(St===g){rt=!0,g=N,S=L;break}if(St===S){rt=!0,S=N,g=L;break}St=St.sibling}if(!rt){for(St=L.child;St;){if(St===g){rt=!0,g=L,S=N;break}if(St===S){rt=!0,S=L,g=N;break}St=St.sibling}if(!rt)throw Error(s(189))}}if(g.alternate!==S)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?l:c}function d(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=d(l),c!==null)return c;l=l.sibling}return null}function p(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(c=p(l),c!==null))return c;l=l.sibling}return null}function y(l){return l===null||typeof l!="object"?null:(l=Zo&&l[Zo]||l["@@iterator"],typeof l=="function"?l:null)}function v(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===kl?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case Ou:return"Fragment";case Nu:return"Profiler";case Mu:return"StrictMode";case Bh:return"Suspense";case Xo:return"SuspenseList";case Rf:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case Ru:return"Portal";case tr:return l.displayName||"Context";case Af:return(l._context.displayName||"Context")+".Consumer";case Cc:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Lh:return c=l.displayName||null,c!==null?c:v(l.type)||"Memo";case ts:c=l._payload,l=l._init;try{return v(l(c))}catch{}}return null}function x(l){return{current:l}}function _(l){0>Bu||(l.current=Qh[Bu],Qh[Bu]=null,Bu--)}function E(l,c){Bu++,Qh[Bu]=l.current,l.current=c}function T(l){return l>>>=0,l===0?32:31-(Jh(l)/P0|0)|0}function M(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function O(l,c,g){var S=l.pendingLanes;if(S===0)return 0;var N=0,L=l.suspendedLanes,rt=l.pingedLanes;l=l.warmLanes;var St=S&134217727;return St!==0?(S=St&~L,S!==0?N=M(S):(rt&=St,rt!==0?N=M(rt):g||(g=St&~l,g!==0&&(N=M(g))))):(St=S&~L,St!==0?N=M(St):rt!==0?N=M(rt):g||(g=S&~l,g!==0&&(N=M(g)))),N===0?0:c!==0&&c!==N&&(c&L)===0&&(L=N&-N,g=c&-c,L>=g||L===32&&(g&4194048)!==0)?c:N}function R(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function B(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var l=zc;return zc<<=1,(zc&62914560)===0&&(zc=4194304),l}function F(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function nt(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function X(l,c,g,S,N,L){var rt=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var St=l.entanglements,Wt=l.expirationTimes,le=l.hiddenUpdates;for(g=rt&~g;0<g;){var Te=31-bs(g),fe=1<<Te;St[Te]=0,Wt[Te]=-1;var ze=le[Te];if(ze!==null)for(le[Te]=null,Te=0;Te<ze.length;Te++){var cn=ze[Te];cn!==null&&(cn.lane&=-536870913)}g&=~fe}S!==0&&z(l,S,0),L!==0&&N===0&&l.tag!==0&&(l.suspendedLanes|=L&~(rt&~c))}function z(l,c,g){l.pendingLanes|=c,l.suspendedLanes&=~c;var S=31-bs(c);l.entangledLanes|=c,l.entanglements[S]=l.entanglements[S]|1073741824|g&261930}function j(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var S=31-bs(g),N=1<<S;N&c|l[S]&c&&(l[S]|=c),g&=~N}}function P(l,c){var g=c&-c;return g=(g&42)!==0?1:at(g),(g&(l.suspendedLanes|c))!==0?0:g}function at(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function U(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function q(l){if(typeof Tp=="function"&&q0(l),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(Uu,l)}catch{}}function D(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}function Z(l){if(id===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);id=c&&c[1]||"",co=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+id+l+co}function K(l,c){if(!l||Lf)return"";Lf=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(cn){var ze=cn}Reflect.construct(l,[],fe)}else{try{fe.call()}catch(cn){ze=cn}l.call(fe.prototype)}}else{try{throw Error()}catch(cn){ze=cn}(fe=l())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(cn){if(cn&&ze&&typeof cn.stack=="string")return[cn.stack,ze.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),rt=L[0],St=L[1];if(rt&&St){var Wt=rt.split(`
`),le=St.split(`
`);for(N=S=0;S<Wt.length&&!Wt[S].includes("DetermineComponentFrameRoot");)S++;for(;N<le.length&&!le[N].includes("DetermineComponentFrameRoot");)N++;if(S===Wt.length||N===le.length)for(S=Wt.length-1,N=le.length-1;1<=S&&0<=N&&Wt[S]!==le[N];)N--;for(;1<=S&&0<=N;S--,N--)if(Wt[S]!==le[N]){if(S!==1||N!==1)do if(S--,N--,0>N||Wt[S]!==le[N]){var Te=`
`+Wt[S].replace(" at new "," at ");return l.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",l.displayName)),Te}while(1<=S&&0<=N);break}}}finally{Lf=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Z(g):""}function Q(l,c){switch(l.tag){case 26:case 27:case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return l.child!==c&&c!==null?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return K(l.type,!1);case 11:return K(l.type.render,!1);case 1:return K(l.type,!0);case 31:return Z("Activity");default:return""}}function tt(l){try{var c="",g=null;do c+=Q(l,g),g=l,l=l.return;while(l);return c}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function st(l,c){if(typeof l=="object"&&l!==null){var g=Cp.get(l);return g!==void 0?g:(c={value:l,source:c,stack:tt(c)},Cp.set(l,c),c)}return{value:l,source:c,stack:tt(c)}}function gt(l,c){Wo[fo++]=Uf,Wo[fo++]=ai,ai=l,Uf=c}function Y(l,c,g){ir[Ps++]=La,ir[Ps++]=Nr,ir[Ps++]=ar,ar=l;var S=La;l=Nr;var N=32-bs(S)-1;S&=~(1<<N),g+=1;var L=32-bs(c)+N;if(30<L){var rt=N-N%5;L=(S&(1<<rt)-1).toString(32),S>>=rt,N-=rt,La=1<<32-bs(c)+N|g<<N|S,Nr=L+l}else La=1<<L|g<<N|S,Nr=l}function $(l){l.return!==null&&(gt(l,1),Y(l,1,0))}function ft(l){for(;l===ai;)ai=Wo[--fo],Wo[fo]=null,Uf=Wo[--fo],Wo[fo]=null;for(;l===ar;)ar=ir[--Ps],ir[Ps]=null,Nr=ir[--Ps],ir[Ps]=null,La=ir[--Ps],ir[Ps]=null}function pt(l,c){ir[Ps++]=La,ir[Ps++]=Nr,ir[Ps++]=ar,La=c.id,Nr=c.overflow,ar=l}function yt(l,c){E(Ua,c),E($o,l),E(wa,null),l=i0(c),_(wa),E(wa,l)}function Yt(){_(wa),_($o),_(Ua)}function Qt(l){l.memoizedState!==null&&E(Hf,l);var c=wa.current,g=Oc(c,l.type);c!==g&&(E($o,l),E(wa,g))}function Ht(l){$o.current===l&&(_(wa),_($o)),Hf.current===l&&(_(Hf),Qi?ju._currentValue=zu:ju._currentValue2=zu)}function Ct(l){var c=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rt(st(c,l)),ad}function Ee(l,c){if(!yi)throw Error(s(175));O0(l.stateNode,l.type,l.memoizedProps,c,l)||Ct(l,!0)}function ve(l){for(ya=l.return;ya;)switch(ya.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:ya=ya.return}}function de(l){if(!yi||l!==ya)return!1;if(!Rn)return ve(l),Rn=!0,!1;var c=l.tag;if(ga?c!==3&&c!==27&&(c!==5||Dc(l.type)&&!es(l.type,l.memoizedProps))&&vi&&Ct(l):c!==3&&(c!==5||Dc(l.type)&&!es(l.type,l.memoizedProps))&&vi&&Ct(l),ve(l),c===13){if(!yi)throw Error(s(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));vi=pp(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));vi=N0(l)}else vi=ga&&c===27?S0(l.type,vi):ya?b0(l.stateNode):null;return!0}function Ae(){yi&&(vi=ya=null,Rn=!1)}function V(){var l=ho;return l!==null&&(ws===null?ws=l:ws.push.apply(ws,l),ho=null),l}function Rt(l){ho===null?ho=[l]:ho.push(l)}function kt(l,c,g){Qi?(E(sr,c._currentValue),c._currentValue=g):(E(sr,c._currentValue2),c._currentValue2=g)}function ot(l){var c=sr.current;Qi?l._currentValue=c:l._currentValue2=c,_(sr)}function et(l,c,g){for(;l!==null;){var S=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),l===g)break;l=l.return}}function ht(l,c,g,S){var N=l.child;for(N!==null&&(N.return=l);N!==null;){var L=N.dependencies;if(L!==null){var rt=N.child;L=L.firstContext;t:for(;L!==null;){var St=L;L=N;for(var Wt=0;Wt<c.length;Wt++)if(St.context===c[Wt]){L.lanes|=g,St=L.alternate,St!==null&&(St.lanes|=g),et(L.return,g,l),S||(rt=null);break t}L=St.next}}else if(N.tag===18){if(rt=N.return,rt===null)throw Error(s(341));rt.lanes|=g,L=rt.alternate,L!==null&&(L.lanes|=g),et(rt,g,l),rt=null}else rt=N.child;if(rt!==null)rt.return=N;else for(rt=N;rt!==null;){if(rt===l){rt=null;break}if(N=rt.sibling,N!==null){N.return=rt.return,rt=N;break}rt=rt.return}N=rt}}function zt(l,c,g,S){l=null;for(var N=c,L=!1;N!==null;){if(!L){if((N.flags&524288)!==0)L=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var rt=N.alternate;if(rt===null)throw Error(s(387));if(rt=rt.memoizedProps,rt!==null){var St=N.type;Wi(N.pendingProps.value,rt.value)||(l!==null?l.push(St):l=[St])}}else if(N===Hf.current){if(rt=N.alternate,rt===null)throw Error(s(387));rt.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(l!==null?l.push(ju):l=[ju])}N=N.return}l!==null&&ht(c,l,g,S),c.flags|=262144}function Ft(l){for(l=l.firstContext;l!==null;){var c=l.context;if(!Wi(Qi?c._currentValue:c._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function xt(l){ui=l,Dr=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Zt(l){return Gt(ui,l)}function Nt(l,c){return ui===null&&xt(l),Gt(l,c)}function Gt(l,c){var g=Qi?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:g,next:null},Dr===null){if(l===null)throw Error(s(308));Dr=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Dr=Dr.next=c;return g}function oe(){return{controller:new F0,data:new Map,refCount:0}}function je(l){l.refCount--,l.refCount===0&&Ea(Iy,function(){l.controller.abort()})}function ie(){}function ue(l){l!==Qn&&l.next===null&&(Qn===null?Gf=Qn=l:Qn=Qn.next=l),rr=!0,Za||(Za=!0,pe())}function Le(l,c){if(!sd&&rr){sd=!0;do for(var g=!1,S=Gf;S!==null;){if(l!==0){var N=S.pendingLanes;if(N===0)var L=0;else{var rt=S.suspendedLanes,St=S.pingedLanes;L=(1<<31-bs(42|l)+1)-1,L&=N&~(rt&~St),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(g=!0,tn(S,L))}else L=On,L=O(S,S===bn?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==xs),(L&3)===0||R(S,L)||(g=!0,tn(S,L));S=S.next}while(g);sd=!1}}function Ke(){ln()}function ln(){rr=Za=!1;var l=0;Gl!==0&&Du()&&(l=Gl);for(var c=Xa(),g=null,S=Gf;S!==null;){var N=S.next,L=Be(S,c);L===0?(S.next=null,g===null?Gf=N:g.next=N,N===null&&(Qn=g)):(g=S,(l!==0||(L&3)!==0)&&(rr=!0)),S=N}ua!==0&&ua!==5||Le(l),Gl!==0&&(Gl=0)}function Be(l,c){for(var g=l.suspendedLanes,S=l.pingedLanes,N=l.expirationTimes,L=l.pendingLanes&-62914561;0<L;){var rt=31-bs(L),St=1<<rt,Wt=N[rt];Wt===-1?((St&g)===0||(St&S)!==0)&&(N[rt]=B(St,c)):Wt<=c&&(l.expiredLanes|=St),L&=~St}if(c=bn,g=On,g=O(l,l===c?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==xs),S=l.callbackNode,g===0||l===c&&(Wn===2||Wn===9)||l.cancelPendingCommit!==null)return S!==null&&S!==null&&$h(S),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||R(l,g)){if(c=g&-g,c===l.callbackPriority)return c;switch(S!==null&&$h(S),U(g)){case 2:case 8:g=I0;break;case 32:g=Bf;break;case 268435456:g=ed;break;default:g=Bf}return S=nn.bind(null,l),g=kf(g,S),l.callbackPriority=c,l.callbackNode=g,c}return S!==null&&S!==null&&$h(S),l.callbackPriority=2,l.callbackNode=null,2}function nn(l,c){if(ua!==0&&ua!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(oo()&&l.callbackNode!==g)return null;var S=On;return S=O(l,l===bn?S:0,l.cancelPendingCommit!==null||l.timeoutHandle!==xs),S===0?null:(Mr(l,S,c),Be(l,Xa()),l.callbackNode!=null&&l.callbackNode===g?nn.bind(null,l):null)}function tn(l,c){if(oo())return null;Mr(l,c,!0)}function pe(){Wd?$d(function(){(En&6)!==0?kf(td,Ke):ln()}):kf(td,Ke)}function wi(){if(Gl===0){var l=tl;l===0&&(l=Wh,Wh<<=1,(Wh&261888)===0&&(Wh=256)),Gl=l}return Gl}function Li(l,c){if(jc===null){var g=jc=[];Ap=0,tl=wi(),va={status:"pending",value:void 0,then:function(S){g.push(S)}}}return Ap++,c.then(yr,yr),c}function yr(){if(--Ap===0&&jc!==null){va!==null&&(va.status="fulfilled");var l=jc;jc=null,tl=0,va=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function Ne(l,c){var g=[],S={status:"pending",value:null,reason:null,then:function(N){g.push(N)}};return l.then(function(){S.status="fulfilled",S.value=c;for(var N=0;N<g.length;N++)(0,g[N])(c)},function(N){for(S.status="rejected",S.reason=N,N=0;N<g.length;N++)(0,g[N])(void 0)}),S}function Ms(){var l=Pl.current;return l!==null?l:bn.pooledCache}function qa(l,c){c===null?E(Pl,Pl.current):E(Pl,c.pool)}function Oa(){var l=Ms();return l===null?null:{parent:Qi?xi._currentValue:xi._currentValue2,pool:l}}function Hr(l,c){if(Wi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),S=Object.keys(c);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var N=g[S];if(!Vy.call(c,N)||!Wi(l[N],c[N]))return!1}return!0}function Gr(l){return l=l.status,l==="fulfilled"||l==="rejected"}function yh(l,c,g){switch(g=l[g],g===void 0?l.push(c):g!==c&&(c.then(ie,ie),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ns(l),l;default:if(typeof c.status=="string")c.then(ie,ie);else{if(l=bn,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=c,l.status="pending",l.then(function(S){if(c.status==="pending"){var N=c;N.status="fulfilled",N.value=S}},function(S){if(c.status==="pending"){var N=c;N.status="rejected",N.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,Ns(l),l}throw is=c,xa}}function Pr(l){try{var c=l._init;return c(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(is=g,xa):g}}function vr(){if(is===null)throw Error(s(459));var l=is;return is=null,l}function Ns(l){if(l===xa||l===lr)throw Error(s(483))}function dl(l){var c=Hu;return Hu+=1,Vl===null&&(Vl=[]),yh(Vl,l,c)}function xr(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function In(l,c){throw c.$$typeof===Au?Error(s(525)):(l=Object.prototype.toString.call(c),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Ui(l){function c(Kt,Ut){if(l){var Jt=Kt.deletions;Jt===null?(Kt.deletions=[Ut],Kt.flags|=16):Jt.push(Ut)}}function g(Kt,Ut){if(!l)return null;for(;Ut!==null;)c(Kt,Ut),Ut=Ut.sibling;return null}function S(Kt){for(var Ut=new Map;Kt!==null;)Kt.key!==null?Ut.set(Kt.key,Kt):Ut.set(Kt.index,Kt),Kt=Kt.sibling;return Ut}function N(Kt,Ut){return Kt=Hs(Kt,Ut),Kt.index=0,Kt.sibling=null,Kt}function L(Kt,Ut,Jt){return Kt.index=Jt,l?(Jt=Kt.alternate,Jt!==null?(Jt=Jt.index,Jt<Ut?(Kt.flags|=67108866,Ut):Jt):(Kt.flags|=67108866,Ut)):(Kt.flags|=1048576,Ut)}function rt(Kt){return l&&Kt.alternate===null&&(Kt.flags|=67108866),Kt}function St(Kt,Ut,Jt,xe){return Ut===null||Ut.tag!==6?(Ut=Pd(Jt,Kt.mode,xe),Ut.return=Kt,Ut):(Ut=N(Ut,Jt),Ut.return=Kt,Ut)}function Wt(Kt,Ut,Jt,xe){var Ze=Jt.type;return Ze===Ou?Te(Kt,Ut,Jt.props.children,xe,Jt.key):Ut!==null&&(Ut.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===ts&&Pr(Ze)===Ut.type)?(Ut=N(Ut,Jt.props),xr(Ut,Jt),Ut.return=Kt,Ut):(Ut=Yo(Jt.type,Jt.key,Jt.props,null,Kt.mode,xe),xr(Ut,Jt),Ut.return=Kt,Ut)}function le(Kt,Ut,Jt,xe){return Ut===null||Ut.tag!==4||Ut.stateNode.containerInfo!==Jt.containerInfo||Ut.stateNode.implementation!==Jt.implementation?(Ut=Id(Jt,Kt.mode,xe),Ut.return=Kt,Ut):(Ut=N(Ut,Jt.children||[]),Ut.return=Kt,Ut)}function Te(Kt,Ut,Jt,xe,Ze){return Ut===null||Ut.tag!==7?(Ut=$s(Jt,Kt.mode,xe,Ze),Ut.return=Kt,Ut):(Ut=N(Ut,Jt),Ut.return=Kt,Ut)}function fe(Kt,Ut,Jt){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return Ut=Pd(""+Ut,Kt.mode,Jt),Ut.return=Kt,Ut;if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case lo:return Jt=Yo(Ut.type,Ut.key,Ut.props,null,Kt.mode,Jt),xr(Jt,Ut),Jt.return=Kt,Jt;case Ru:return Ut=Id(Ut,Kt.mode,Jt),Ut.return=Kt,Ut;case ts:return Ut=Pr(Ut),fe(Kt,Ut,Jt)}if(Bl(Ut)||y(Ut))return Ut=$s(Ut,Kt.mode,Jt,null),Ut.return=Kt,Ut;if(typeof Ut.then=="function")return fe(Kt,dl(Ut),Jt);if(Ut.$$typeof===tr)return fe(Kt,Nt(Kt,Ut),Jt);In(Kt,Ut)}return null}function ze(Kt,Ut,Jt,xe){var Ze=Ut!==null?Ut.key:null;if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint")return Ze!==null?null:St(Kt,Ut,""+Jt,xe);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case lo:return Jt.key===Ze?Wt(Kt,Ut,Jt,xe):null;case Ru:return Jt.key===Ze?le(Kt,Ut,Jt,xe):null;case ts:return Jt=Pr(Jt),ze(Kt,Ut,Jt,xe)}if(Bl(Jt)||y(Jt))return Ze!==null?null:Te(Kt,Ut,Jt,xe,null);if(typeof Jt.then=="function")return ze(Kt,Ut,dl(Jt),xe);if(Jt.$$typeof===tr)return ze(Kt,Ut,Nt(Kt,Jt),xe);In(Kt,Jt)}return null}function cn(Kt,Ut,Jt,xe,Ze){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return Kt=Kt.get(Jt)||null,St(Ut,Kt,""+xe,Ze);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case lo:return Kt=Kt.get(xe.key===null?Jt:xe.key)||null,Wt(Ut,Kt,xe,Ze);case Ru:return Kt=Kt.get(xe.key===null?Jt:xe.key)||null,le(Ut,Kt,xe,Ze);case ts:return xe=Pr(xe),cn(Kt,Ut,Jt,xe,Ze)}if(Bl(xe)||y(xe))return Kt=Kt.get(Jt)||null,Te(Ut,Kt,xe,Ze,null);if(typeof xe.then=="function")return cn(Kt,Ut,Jt,dl(xe),Ze);if(xe.$$typeof===tr)return cn(Kt,Ut,Jt,Nt(Ut,xe),Ze);In(Ut,xe)}return null}function Ta(Kt,Ut,Jt,xe){for(var Ze=null,Di=null,We=Ut,Bn=Ut=0,Ca=null;We!==null&&Bn<Jt.length;Bn++){We.index>Bn?(Ca=We,We=null):Ca=We.sibling;var Vn=ze(Kt,We,Jt[Bn],xe);if(Vn===null){We===null&&(We=Ca);break}l&&We&&Vn.alternate===null&&c(Kt,We),Ut=L(Vn,Ut,Bn),Di===null?Ze=Vn:Di.sibling=Vn,Di=Vn,We=Ca}if(Bn===Jt.length)return g(Kt,We),Rn&&gt(Kt,Bn),Ze;if(We===null){for(;Bn<Jt.length;Bn++)We=fe(Kt,Jt[Bn],xe),We!==null&&(Ut=L(We,Ut,Bn),Di===null?Ze=We:Di.sibling=We,Di=We);return Rn&&gt(Kt,Bn),Ze}for(We=S(We);Bn<Jt.length;Bn++)Ca=cn(We,Kt,Bn,Jt[Bn],xe),Ca!==null&&(l&&Ca.alternate!==null&&We.delete(Ca.key===null?Bn:Ca.key),Ut=L(Ca,Ut,Bn),Di===null?Ze=Ca:Di.sibling=Ca,Di=Ca);return l&&We.forEach(function(fr){return c(Kt,fr)}),Rn&&gt(Kt,Bn),Ze}function Vc(Kt,Ut,Jt,xe){if(Jt==null)throw Error(s(151));for(var Ze=null,Di=null,We=Ut,Bn=Ut=0,Ca=null,Vn=Jt.next();We!==null&&!Vn.done;Bn++,Vn=Jt.next()){We.index>Bn?(Ca=We,We=null):Ca=We.sibling;var fr=ze(Kt,We,Vn.value,xe);if(fr===null){We===null&&(We=Ca);break}l&&We&&fr.alternate===null&&c(Kt,We),Ut=L(fr,Ut,Bn),Di===null?Ze=fr:Di.sibling=fr,Di=fr,We=Ca}if(Vn.done)return g(Kt,We),Rn&&gt(Kt,Bn),Ze;if(We===null){for(;!Vn.done;Bn++,Vn=Jt.next())Vn=fe(Kt,Vn.value,xe),Vn!==null&&(Ut=L(Vn,Ut,Bn),Di===null?Ze=Vn:Di.sibling=Vn,Di=Vn);return Rn&&gt(Kt,Bn),Ze}for(We=S(We);!Vn.done;Bn++,Vn=Jt.next())Vn=cn(We,Kt,Bn,Vn.value,xe),Vn!==null&&(l&&Vn.alternate!==null&&We.delete(Vn.key===null?Bn:Vn.key),Ut=L(Vn,Ut,Bn),Di===null?Ze=Vn:Di.sibling=Vn,Di=Vn);return l&&We.forEach(function(qy){return c(Kt,qy)}),Rn&&gt(Kt,Bn),Ze}function Ql(Kt,Ut,Jt,xe){if(typeof Jt=="object"&&Jt!==null&&Jt.type===Ou&&Jt.key===null&&(Jt=Jt.props.children),typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case lo:t:{for(var Ze=Jt.key;Ut!==null;){if(Ut.key===Ze){if(Ze=Jt.type,Ze===Ou){if(Ut.tag===7){g(Kt,Ut.sibling),xe=N(Ut,Jt.props.children),xe.return=Kt,Kt=xe;break t}}else if(Ut.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===ts&&Pr(Ze)===Ut.type){g(Kt,Ut.sibling),xe=N(Ut,Jt.props),xr(xe,Jt),xe.return=Kt,Kt=xe;break t}g(Kt,Ut);break}else c(Kt,Ut);Ut=Ut.sibling}Jt.type===Ou?(xe=$s(Jt.props.children,Kt.mode,xe,Jt.key),xe.return=Kt,Kt=xe):(xe=Yo(Jt.type,Jt.key,Jt.props,null,Kt.mode,xe),xr(xe,Jt),xe.return=Kt,Kt=xe)}return rt(Kt);case Ru:t:{for(Ze=Jt.key;Ut!==null;){if(Ut.key===Ze)if(Ut.tag===4&&Ut.stateNode.containerInfo===Jt.containerInfo&&Ut.stateNode.implementation===Jt.implementation){g(Kt,Ut.sibling),xe=N(Ut,Jt.children||[]),xe.return=Kt,Kt=xe;break t}else{g(Kt,Ut);break}else c(Kt,Ut);Ut=Ut.sibling}xe=Id(Jt,Kt.mode,xe),xe.return=Kt,Kt=xe}return rt(Kt);case ts:return Jt=Pr(Jt),Ql(Kt,Ut,Jt,xe)}if(Bl(Jt))return Ta(Kt,Ut,Jt,xe);if(y(Jt)){if(Ze=y(Jt),typeof Ze!="function")throw Error(s(150));return Jt=Ze.call(Jt),Vc(Kt,Ut,Jt,xe)}if(typeof Jt.then=="function")return Ql(Kt,Ut,dl(Jt),xe);if(Jt.$$typeof===tr)return Ql(Kt,Ut,Nt(Kt,Jt),xe);In(Kt,Jt)}return typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint"?(Jt=""+Jt,Ut!==null&&Ut.tag===6?(g(Kt,Ut.sibling),xe=N(Ut,Jt),xe.return=Kt,Kt=xe):(g(Kt,Ut),xe=Pd(Jt,Kt.mode,xe),xe.return=Kt,Kt=xe),rt(Kt)):g(Kt,Ut)}return function(Kt,Ut,Jt,xe){try{Hu=0;var Ze=Ql(Kt,Ut,Jt,xe);return Vl=null,Ze}catch(We){if(We===xa||We===lr)throw We;var Di=n(29,We,null,Kt.mode);return Di.lanes=xe,Di.return=Kt,Di}}}function pl(){for(var l=mo,c=Gu=mo=0;c<l;){var g=Ga[c];Ga[c++]=null;var S=Ga[c];Ga[c++]=null;var N=Ga[c];Ga[c++]=null;var L=Ga[c];if(Ga[c++]=null,S!==null&&N!==null){var rt=S.pending;rt===null?N.next=N:(N.next=rt.next,rt.next=N),S.pending=N}L!==0&&Sr(g,N,L)}}function br(l,c,g,S){Ga[mo++]=l,Ga[mo++]=c,Ga[mo++]=g,Ga[mo++]=S,Gu|=S,l.lanes|=S,l=l.alternate,l!==null&&(l.lanes|=S)}function Mo(l,c,g,S){return br(l,c,g,S),Xn(l)}function Ds(l,c){return br(l,null,null,c),Xn(l)}function Sr(l,c,g){l.lanes|=g;var S=l.alternate;S!==null&&(S.lanes|=g);for(var N=!1,L=l.return;L!==null;)L.childLanes|=g,S=L.alternate,S!==null&&(S.childLanes|=g),L.tag===22&&(l=L.stateNode,l===null||l._visibility&1||(N=!0)),l=L,L=L.return;return l.tag===3?(L=l.stateNode,N&&c!==null&&(N=31-bs(g),l=L.hiddenUpdates,S=l[N],S===null?l[N]=[c]:S.push(c),c.lane=g|536870912),L):null}function Xn(l){if(50<Hn)throw Hn=0,Kf=null,Error(s(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}function Ei(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ma(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Wa(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Vr(l,c,g){var S=l.updateQueue;if(S===null)return null;if(S=S.shared,(En&2)!==0){var N=S.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),S.pending=c,c=Xn(l),Sr(l,null,g),c}return br(l,S,c,g),Xn(l)}function us(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var S=c.lanes;S&=l.pendingLanes,g|=S,c.lanes=g,j(l,g)}}function uu(l,c){var g=l.updateQueue,S=l.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var N=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var rt={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};L===null?N=L=rt:L=L.next=rt,g=g.next}while(g!==null);L===null?N=L=c:L=L.next=c}else N=L=c;g={baseState:S.baseState,firstBaseUpdate:N,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}function Na(){if(od){var l=va;if(l!==null)throw l}}function Ir(l,c,g,S){od=!1;var N=l.updateQueue;Vs=!1;var L=N.firstBaseUpdate,rt=N.lastBaseUpdate,St=N.shared.pending;if(St!==null){N.shared.pending=null;var Wt=St,le=Wt.next;Wt.next=null,rt===null?L=le:rt.next=le,rt=Wt;var Te=l.alternate;Te!==null&&(Te=Te.updateQueue,St=Te.lastBaseUpdate,St!==rt&&(St===null?Te.firstBaseUpdate=le:St.next=le,Te.lastBaseUpdate=Wt))}if(L!==null){var fe=N.baseState;rt=0,Te=le=Wt=null,St=L;do{var ze=St.lane&-536870913,cn=ze!==St.lane;if(cn?(On&ze)===ze:(S&ze)===ze){ze!==0&&ze===tl&&(od=!0),Te!==null&&(Te=Te.next={lane:0,tag:St.tag,payload:St.payload,callback:null,next:null});t:{var Ta=l,Vc=St;ze=c;var Ql=g;switch(Vc.tag){case 1:if(Ta=Vc.payload,typeof Ta=="function"){fe=Ta.call(Ql,fe,ze);break t}fe=Ta;break t;case 3:Ta.flags=Ta.flags&-65537|128;case 0:if(Ta=Vc.payload,ze=typeof Ta=="function"?Ta.call(Ql,fe,ze):Ta,ze==null)break t;fe=kh({},fe,ze);break t;case 2:Vs=!0}}ze=St.callback,ze!==null&&(l.flags|=64,cn&&(l.flags|=8192),cn=N.callbacks,cn===null?N.callbacks=[ze]:cn.push(ze))}else cn={lane:ze,tag:St.tag,payload:St.payload,callback:St.callback,next:null},Te===null?(le=Te=cn,Wt=fe):Te=Te.next=cn,rt|=ze;if(St=St.next,St===null){if(St=N.shared.pending,St===null)break;cn=St,St=cn.next,cn.next=null,N.lastBaseUpdate=cn,N.shared.pending=null}}while(!0);Te===null&&(Wt=fe),N.baseState=Wt,N.firstBaseUpdate=le,N.lastBaseUpdate=Te,L===null&&(N.shared.lanes=0),nl|=rt,l.lanes=rt,l.memoizedState=fe}}function _r(l,c){if(typeof l!="function")throw Error(s(191,l));l.call(c)}function Zn(l,c){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)_r(g[l],c)}function cs(l,c){l=yo,E(Il,l),E(Pu,c),yo=l|c.baseLanes}function ba(){E(Il,yo),E(Pu,Pu.current)}function Ti(){yo=Il.current,_(Pu),_(Il)}function Fa(l){var c=l.alternate;E(Pi,Pi.current&1),E(_s,l),as===null&&(c===null||Pu.current!==null||c.memoizedState!==null)&&(as=l)}function No(l){E(Pi,Pi.current),E(_s,l),as===null&&(as=l)}function Zs(l){l.tag===22?(E(Pi,Pi.current),E(_s,l),as===null&&(as=l)):Da()}function Da(){E(Pi,Pi.current),E(_s,_s.current)}function Ki(l){_(_s),as===l&&(as=null),_(Pi)}function ml(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Ul(g)||Ih(g)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function ei(){throw Error(s(321))}function ac(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!Wi(l[g],c[g]))return!1;return!0}function fn(l,c,g,S,N,L){return el=L,dn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ye.H=l===null||l.memoizedState===null?Oi:go,jn=!1,L=g(S,N),jn=!1,gn&&(L=zs(c,g,S,N)),gl(l),L}function gl(l){Ye.H=Is;var c=Ve!==null&&Ve.next!==null;if(el=0,rn=Ve=dn=null,xn=!1,ur=0,zr=null,c)throw Error(s(300));l===null||di||(l=l.dependencies,l!==null&&Ft(l)&&(di=!0))}function zs(l,c,g,S){dn=l;var N=0;do{if(gn&&(zr=null),ur=0,gn=!1,25<=N)throw Error(s(301));if(N+=1,rn=Ve=null,l.updateQueue!=null){var L=l.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}Ye.H=ql,L=c(g,S)}while(gn);return L}function za(){var l=Ye.H,c=l.useState()[0];return c=typeof c.then=="function"?Hi(c):c,l=l.useState()[0],(Ve!==null?Ve.memoizedState:null)!==l&&(dn.flags|=1024),c}function qr(){var l=Qa!==0;return Qa=0,l}function sc(l,c,g){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~g}function yl(l){if(xn){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}xn=!1}el=0,rn=Ve=dn=null,gn=!1,ur=Qa=0,zr=null}function fa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?dn.memoizedState=rn=l:rn=rn.next=l,rn}function Qe(){if(Ve===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=Ve.next;var c=rn===null?dn.memoizedState:rn.next;if(c!==null)rn=c,Ve=l;else{if(l===null)throw dn.alternate===null?Error(s(467)):Error(s(310));Ve=l,l={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},rn===null?dn.memoizedState=rn=l:rn=rn.next=l}return rn}function Fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(l){var c=ur;return ur+=1,zr===null&&(zr=[]),l=yh(zr,l,c),c=dn,(rn===null?c.memoizedState:rn.next)===null&&(c=c.alternate,Ye.H=c===null||c.memoizedState===null?Oi:go),l}function js(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Hi(l);if(l.$$typeof===tr)return Zt(l)}throw Error(s(438,String(l)))}function vl(l){var c=null,g=dn.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var S=dn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(N){return N.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Fr(),dn.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(l),S=0;S<l;S++)g[S]=Fd;return c.index++,g}function $a(l,c){return typeof c=="function"?c(l):c}function fs(l){var c=Qe();return cu(c,Ve,l)}function cu(l,c,g){var S=l.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=g;var N=l.baseQueue,L=S.pending;if(L!==null){if(N!==null){var rt=N.next;N.next=L.next,L.next=rt}c.baseQueue=N=L,S.pending=null}if(L=l.baseState,N===null)l.memoizedState=L;else{c=N.next;var St=rt=null,Wt=null,le=c,Te=!1;do{var fe=le.lane&-536870913;if(fe!==le.lane?(On&fe)===fe:(el&fe)===fe){var ze=le.revertLane;if(ze===0)Wt!==null&&(Wt=Wt.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),fe===tl&&(Te=!0);else if((el&ze)===ze){le=le.next,ze===tl&&(Te=!0);continue}else fe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Wt===null?(St=Wt=fe,rt=L):Wt=Wt.next=fe,dn.lanes|=ze,nl|=ze;fe=le.action,jn&&g(L,fe),L=le.hasEagerState?le.eagerState:g(L,fe)}else ze={lane:fe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Wt===null?(St=Wt=ze,rt=L):Wt=Wt.next=ze,dn.lanes|=fe,nl|=fe;le=le.next}while(le!==null&&le!==c);if(Wt===null?rt=L:Wt.next=St,!Wi(L,l.memoizedState)&&(di=!0,Te&&(g=va,g!==null)))throw g;l.memoizedState=L,l.baseState=rt,l.baseQueue=Wt,S.lastRenderedState=L}return N===null&&(S.lanes=0),[l.memoizedState,S.dispatch]}function Do(l){var c=Qe(),g=c.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=l;var S=g.dispatch,N=g.pending,L=c.memoizedState;if(N!==null){g.pending=null;var rt=N=N.next;do L=l(L,rt.action),rt=rt.next;while(rt!==N);Wi(L,c.memoizedState)||(di=!0),c.memoizedState=L,c.baseQueue===null&&(c.baseState=L),g.lastRenderedState=L}return[L,S]}function Kr(l,c,g){var S=dn,N=Qe(),L=Rn;if(L){if(g===void 0)throw Error(s(407));g=g()}else g=c();var rt=!Wi((Ve||N).memoizedState,g);if(rt&&(N.memoizedState=g,di=!0),N=N.queue,ko(rc.bind(null,S,N,l),[l]),N.getSnapshot!==c||rt||rn!==null&&rn.memoizedState.tag&1){if(S.flags|=2048,Ba(9,{destroy:void 0},Nn.bind(null,S,N,g,c),null),bn===null)throw Error(s(349));L||(el&127)!==0||vh(S,c,g)}return g}function vh(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=dn.updateQueue,c===null?(c=Fr(),dn.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function Nn(l,c,g,S){c.value=g,c.getSnapshot=S,oc(c)&&xh(l)}function rc(l,c,g){return g(function(){oc(c)&&xh(l)})}function oc(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!Wi(l,g)}catch{return!0}}function xh(l){var c=Ds(l,2);c!==null&&Ai(c,l,2)}function ja(l){var c=fa();if(typeof l=="function"){var g=l;if(l=g(),jn){q(!0);try{g()}finally{q(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:l},c}function Qs(l,c,g,S){return l.baseState=g,cu(l,Ve,typeof S=="function"?S:$a)}function hs(l,c,g,S,N){if(wl(l))throw Error(s(485));if(l=c.action,l!==null){var L={payload:N,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(rt){L.listeners.push(rt)}};Ye.T!==null?g(!0):L.isTransition=!1,S(L),g=c.pending,g===null?(L.next=c.pending=L,ks(c,L)):(L.next=g.next,c.pending=g.next=L)}}function ks(l,c){var g=c.action,S=c.payload,N=l.state;if(c.isTransition){var L=Ye.T,rt={};Ye.T=rt;try{var St=g(N,S),Wt=Ye.S;Wt!==null&&Wt(rt,St),fu(l,c,St)}catch(le){ri(l,c,le)}finally{L!==null&&rt.types!==null&&(L.types=rt.types),Ye.T=L}}else try{L=g(N,S),fu(l,c,L)}catch(le){ri(l,c,le)}}function fu(l,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(S){Yr(l,c,S)},function(S){return ri(l,c,S)}):Yr(l,c,g)}function Yr(l,c,g){c.status="fulfilled",c.value=g,ds(c),l.state=g,c=l.pending,c!==null&&(g=c.next,g===c?l.pending=null:(g=g.next,c.next=g,ks(l,g)))}function ri(l,c,g){var S=l.pending;if(l.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=g,ds(c),c=c.next;while(c!==S)}l.action=null}function ds(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function Xr(l,c){return c}function zo(l,c){if(Rn){var g=bn.formState;if(g!==null){t:{var S=dn;if(Rn){if(vi){var N=x0(vi,ns);if(N){vi=b0(N),S=cp(N);break t}}Ct(S)}S=!1}S&&(c=g[0])}}g=fa(),g.memoizedState=g.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:c},g.queue=S,g=Uo.bind(null,dn,S),S.dispatch=g,S=ja(!1);var L=_l.bind(null,dn,!1,S.queue);return S=fa(),N={state:c,dispatch:null,action:l,pending:null},S.queue=N,g=hs.bind(null,dn,N,L,g),N.dispatch=g,S.memoizedState=l,[c,g,!1]}function Zr(l){var c=Qe();return ha(c,Ve,l)}function ha(l,c,g){if(c=cu(l,c,Xr)[0],l=fs($a)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=Hi(c)}catch(rt){throw rt===xa?lr:rt}else S=c;c=Qe();var N=c.queue,L=N.dispatch;return g!==c.memoizedState&&(dn.flags|=2048,Ba(9,{destroy:void 0},pf.bind(null,N,g),null)),[S,L,l]}function pf(l,c){l.action=c}function ka(l){var c=Qe(),g=Ve;if(g!==null)return ha(c,g,l);Qe(),c=c.memoizedState,g=Qe();var S=g.queue.dispatch;return g.memoizedState=l,[c,S,!1]}function Ba(l,c,g,S){return l={tag:l,create:g,deps:S,inst:c,next:null},c=dn.updateQueue,c===null&&(c=Fr(),dn.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=l.next=l:(S=g.next,g.next=l,l.next=S,c.lastEffect=l),l}function hu(){return Qe().memoizedState}function wr(l,c,g,S){var N=fa();dn.flags|=l,N.memoizedState=Ba(1|c,{destroy:void 0},g,S===void 0?null:S)}function Er(l,c,g,S){var N=Qe();S=S===void 0?null:S;var L=N.memoizedState.inst;Ve!==null&&S!==null&&ac(S,Ve.memoizedState.deps)?N.memoizedState=Ba(c,L,g,S):(dn.flags|=l,N.memoizedState=Ba(1|c,L,g,S))}function jo(l,c){wr(8390656,8,l,c)}function ko(l,c){Er(2048,8,l,c)}function bh(l){dn.flags|=4;var c=dn.updateQueue;if(c===null)c=Fr(),dn.updateQueue=c,c.events=[l];else{var g=c.events;g===null?c.events=[l]:g.push(l)}}function Yi(l){var c=Qe().memoizedState;return bh({ref:c,nextImpl:l}),function(){if((En&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}function Qr(l,c){return Er(4,2,l,c)}function du(l,c){return Er(4,4,l,c)}function Tr(l,c){if(typeof c=="function"){l=l();var g=c(l);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function pu(l,c,g){g=g!=null?g.concat([l]):null,Er(4,4,Tr.bind(null,c,l),g)}function Bo(){}function lc(l,c){var g=Qe();c=c===void 0?null:c;var S=g.memoizedState;return c!==null&&ac(c,S[1])?S[0]:(g.memoizedState=[l,c],l)}function xl(l,c){var g=Qe();c=c===void 0?null:c;var S=g.memoizedState;if(c!==null&&ac(c,S[1]))return S[0];if(S=l(),jn){q(!0);try{l()}finally{q(!1)}}return g.memoizedState=[S,c],S}function bl(l,c,g){return g===void 0||(el&1073741824)!==0&&(On&261930)===0?l.memoizedState=c:(l.memoizedState=g,l=qo(),dn.lanes|=l,nl|=l,g)}function mu(l,c,g,S){return Wi(g,c)?g:Pu.current!==null?(l=bl(l,g,S),Wi(l,c)||(di=!0),l):(el&42)===0||(el&1073741824)!==0&&(On&261930)===0?(di=!0,l.memoizedState=g):(l=qo(),dn.lanes|=l,nl|=l,c)}function uc(l,c,g,S,N){var L=er();An(L!==0&&8>L?L:8);var rt=Ye.T,St={};Ye.T=St,_l(l,!1,c,g);try{var Wt=N(),le=Ye.S;if(le!==null&&le(St,Wt),Wt!==null&&typeof Wt=="object"&&typeof Wt.then=="function"){var Te=Ne(Wt,S);Ho(l,c,Te,gi(l))}else Ho(l,c,S,gi(l))}catch(fe){Ho(l,c,{then:function(){},status:"rejected",reason:fe},gi())}finally{An(L),rt!==null&&St.types!==null&&(rt.types=St.types),Ye.T=rt}}function mf(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:zu,baseState:zu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:zu},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:g},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function Sl(){return Zt(ju)}function Lo(){return Qe().memoizedState}function gu(){return Qe().memoizedState}function Sh(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var g=gi();l=Wa(g);var S=Vr(c,l,g);S!==null&&(Ai(S,c,g),us(S,c,g)),c={cache:oe()},l.payload=c;return}c=c.return}}function Hd(l,c,g){var S=gi();g={lane:S,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},wl(l)?cc(c,g):(g=Mo(l,c,g,S),g!==null&&(Ai(g,l,S),da(g,c,S)))}function Uo(l,c,g){var S=gi();Ho(l,c,g,S)}function Ho(l,c,g,S){var N={lane:S,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(wl(l))cc(c,N);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=c.lastRenderedReducer,L!==null))try{var rt=c.lastRenderedState,St=L(rt,g);if(N.hasEagerState=!0,N.eagerState=St,Wi(St,rt))return br(l,c,N,0),bn===null&&pl(),!1}catch{}if(g=Mo(l,c,N,S),g!==null)return Ai(g,l,S),da(g,c,S),!0}return!1}function _l(l,c,g,S){if(S={lane:2,revertLane:wi(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},wl(l)){if(c)throw Error(s(479))}else c=Mo(l,g,S,2),c!==null&&Ai(c,l,2)}function wl(l){var c=l.alternate;return l===dn||c!==null&&c===dn}function cc(l,c){gn=xn=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function da(l,c,g){if((g&4194048)!==0){var S=c.lanes;S&=l.pendingLanes,g|=S,c.lanes=g,j(l,g)}}function Go(l,c,g,S){c=l.memoizedState,g=g(S,c),g=g==null?c:kh({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}function Jr(l,c,g,S,N,L,rt){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(S,L,rt):c.prototype&&c.prototype.isPureReactComponent?!Hr(g,S)||!Hr(N,L):!0}function gf(l,c,g,S){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,S),c.state!==l&&Pf.enqueueReplaceState(c,c.state,null)}function Js(l,c){var g=c;if("ref"in c){g={};for(var S in c)S!=="ref"&&(g[S]=c[S])}if(l=l.defaultProps){g===c&&(g=kh({},g));for(var N in l)g[N]===void 0&&(g[N]=l[N])}return g}function yu(l,c){try{var g=l.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function fc(l,c,g){try{var S=l.onCaughtError;S(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function El(l,c,g){return g=Wa(g),g.tag=3,g.payload={element:null},g.callback=function(){yu(l,c)},g}function hc(l){return l=Wa(l),l.tag=3,l}function Wr(l,c,g,S){var N=g.type.getDerivedStateFromError;if(typeof N=="function"){var L=S.value;l.payload=function(){return N(L)},l.callback=function(){fc(c,g,S)}}var rt=g.stateNode;rt!==null&&typeof rt.componentDidCatch=="function"&&(l.callback=function(){fc(c,g,S),typeof N!="function"&&(il===null?il=new Set([this]):il.add(this));var St=S.stack;this.componentDidCatch(S.value,{componentStack:St!==null?St:""})})}function yf(l,c,g,S,N){if(g.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=g.alternate,c!==null&&zt(c,g,N,!0),g=_s.current,g!==null){switch(g.tag){case 31:case 13:return as===null?_c():g.alternate===null&&Ni===0&&(Ni=3),g.flags&=-257,g.flags|=65536,g.lanes=N,S===po?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([S]):c.add(S),Tc(l,S,N)),!1;case 22:return g.flags|=65536,S===po?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([S]):g.add(S)),Tc(l,S,N)),!1}throw Error(s(435,g.tag))}return Tc(l,S,N),_c(),!1}if(Rn)return c=_s.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=N,S!==ad&&(l=Error(s(422),{cause:S}),Rt(st(l,g)))):(S!==ad&&(c=Error(s(423),{cause:S}),Rt(st(c,g))),l=l.current.alternate,l.flags|=65536,N&=-N,l.lanes|=N,S=st(S,g),N=El(l.stateNode,S,N),uu(l,N),Ni!==4&&(Ni=2)),!1;var L=Error(s(520),{cause:S});if(L=st(L,g),If===null?If=[L]:If.push(L),Ni!==4&&(Ni=2),c===null)return!0;S=st(S,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,l=N&-N,g.lanes|=l,l=El(g.stateNode,S,l),uu(g,l),!1;case 1:if(c=g.type,L=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(il===null||!il.has(L))))return g.flags|=65536,N&=-N,g.lanes|=N,N=hc(N),Wr(N,l,g,S),uu(g,N),!1}g=g.return}while(g!==null);return!1}function Xi(l,c,g,S){c.child=l===null?Rp(c,null,g,S):Ha(c,l.child,g,S)}function vu(l,c,g,S,N){g=g.render;var L=c.ref;if("ref"in S){var rt={};for(var St in S)St!=="ref"&&(rt[St]=S[St])}else rt=S;return xt(c),S=fn(l,c,g,rt,L,N),St=qr(),l!==null&&!di?(sc(l,c,N),sa(l,c,N)):(Rn&&St&&$(c),c.flags|=1,Xi(l,c,S,N),c.child)}function dc(l,c,g,S,N){if(l===null){var L=g.type;return typeof L=="function"&&!Tu(L)&&L.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=L,vf(l,c,L,S,N)):(l=Yo(g.type,null,S,c,c.mode,N),l.ref=c.ref,l.return=c,c.child=l)}if(L=l.child,!oi(l,N)){var rt=L.memoizedProps;if(g=g.compare,g=g!==null?g:Hr,g(rt,S)&&l.ref===c.ref)return sa(l,c,N)}return c.flags|=1,l=Hs(L,S),l.ref=c.ref,l.return=c,c.child=l}function vf(l,c,g,S,N){if(l!==null){var L=l.memoizedProps;if(Hr(L,S)&&l.ref===c.ref)if(di=!1,c.pendingProps=S=L,oi(l,N))(l.flags&131072)!==0&&(di=!0);else return c.lanes=l.lanes,sa(l,c,N)}return Su(l,c,g,S,N)}function _h(l,c,g,S){var N=S.children,L=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((c.flags&128)!==0){if(L=L!==null?L.baseLanes|g:g,l!==null){for(S=c.child=l.child,N=0;S!==null;)N=N|S.lanes|S.childLanes,S=S.sibling;S=N&~L}else S=0,c.child=null;return Ar(l,c,L,g,S)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&qa(c,L!==null?L.cachePool:null),L!==null?cs(c,L):ba(),Zs(c);else return S=c.lanes=536870912,Ar(l,c,L!==null?L.baseLanes|g:g,g,S)}else L!==null?(qa(c,L.cachePool),cs(c,L),Da(),c.memoizedState=null):(l!==null&&qa(c,null),ba(),Da());return Xi(l,c,N,g),c.child}function Cr(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ar(l,c,g,S,N){var L=Ms();return L=L===null?null:{parent:Qi?xi._currentValue:xi._currentValue2,pool:L},c.memoizedState={baseLanes:g,cachePool:L},l!==null&&qa(c,null),ba(),Zs(c),l!==null&&zt(l,c,S,!0),c.childLanes=N,null}function pc(l,c){return c=Rr({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function xu(l,c,g){return Ha(c,l.child,null,g),l=pc(c,c.pendingProps),l.flags|=2,Ki(c),c.memoizedState=null,l}function mc(l,c,g){var S=c.pendingProps,N=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(Rn){if(S.mode==="hidden")return l=pc(c,S),c.lanes=536870912,Cr(null,l);if(No(c),(l=vi)?(l=hp(l,ns),l!==null&&(c.memoizedState={dehydrated:l,treeContext:ar!==null?{id:La,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},g=Vd(l),g.return=c,c.child=g,ya=c,vi=null)):l=null,l===null)throw Ct(c);return c.lanes=536870912,null}return pc(c,S)}var L=l.memoizedState;if(L!==null){var rt=L.dehydrated;if(No(c),N)if(c.flags&256)c.flags&=-257,c=xu(l,c,g);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(s(558));else if(di||zt(l,c,g,!1),N=(g&l.childLanes)!==0,di||N){if(S=bn,S!==null&&(rt=P(S,g),rt!==0&&rt!==L.retryLane))throw L.retryLane=rt,Ds(l,rt),Ai(S,l,rt),ss;_c(),c=xu(l,c,g)}else l=L.treeContext,yi&&(vi=E0(rt),ya=c,Rn=!0,ho=null,ns=!1,l!==null&&pt(c,l)),c=pc(c,S),c.flags|=4096;return c}return l=Hs(l.child,{mode:S.mode,children:S.children}),l.ref=c.ref,c.child=l,l.return=c,l}function bu(l,c){var g=c.ref;if(g===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(s(284));(l===null||l.ref!==g)&&(c.flags|=4194816)}}function Su(l,c,g,S,N){return xt(c),g=fn(l,c,g,S,void 0,N),S=qr(),l!==null&&!di?(sc(l,c,N),sa(l,c,N)):(Rn&&S&&$(c),c.flags|=1,Xi(l,c,g,N),c.child)}function xf(l,c,g,S,N,L){return xt(c),c.updateQueue=null,g=zs(c,S,g,N),gl(l),S=qr(),l!==null&&!di?(sc(l,c,L),sa(l,c,L)):(Rn&&S&&$(c),c.flags|=1,Xi(l,c,g,L),c.child)}function $r(l,c,g,S,N){if(xt(c),c.stateNode===null){var L=uo,rt=g.contextType;typeof rt=="object"&&rt!==null&&(L=Zt(rt)),L=new g(S,L),c.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Pf,c.stateNode=L,L._reactInternals=c,L=c.stateNode,L.props=S,L.state=c.memoizedState,L.refs={},Ei(c),rt=g.contextType,L.context=typeof rt=="object"&&rt!==null?Zt(rt):uo,L.state=c.memoizedState,rt=g.getDerivedStateFromProps,typeof rt=="function"&&(Go(c,g,rt,S),L.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(rt=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),rt!==L.state&&Pf.enqueueReplaceState(L,L.state,null),Ir(c,S,L,N),Na(),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(l===null){L=c.stateNode;var St=c.memoizedProps,Wt=Js(g,St);L.props=Wt;var le=L.context,Te=g.contextType;rt=uo,typeof Te=="object"&&Te!==null&&(rt=Zt(Te));var fe=g.getDerivedStateFromProps;Te=typeof fe=="function"||typeof L.getSnapshotBeforeUpdate=="function",St=c.pendingProps!==St,Te||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(St||le!==rt)&&gf(c,L,S,rt),Vs=!1;var ze=c.memoizedState;L.state=ze,Ir(c,S,L,N),Na(),le=c.memoizedState,St||ze!==le||Vs?(typeof fe=="function"&&(Go(c,g,fe,S),le=c.memoizedState),(Wt=Vs||Jr(c,g,Wt,S,ze,le,rt))?(Te||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=le),L.props=S,L.state=le,L.context=rt,S=Wt):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{L=c.stateNode,Ma(l,c),rt=c.memoizedProps,Te=Js(g,rt),L.props=Te,fe=c.pendingProps,ze=L.context,le=g.contextType,Wt=uo,typeof le=="object"&&le!==null&&(Wt=Zt(le)),St=g.getDerivedStateFromProps,(le=typeof St=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(rt!==fe||ze!==Wt)&&gf(c,L,S,Wt),Vs=!1,ze=c.memoizedState,L.state=ze,Ir(c,S,L,N),Na();var cn=c.memoizedState;rt!==fe||ze!==cn||Vs||l!==null&&l.dependencies!==null&&Ft(l.dependencies)?(typeof St=="function"&&(Go(c,g,St,S),cn=c.memoizedState),(Te=Vs||Jr(c,g,Te,S,ze,cn,Wt)||l!==null&&l.dependencies!==null&&Ft(l.dependencies))?(le||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,cn,Wt),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,cn,Wt)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||rt===l.memoizedProps&&ze===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||rt===l.memoizedProps&&ze===l.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=cn),L.props=S,L.state=cn,L.context=Wt,S=Te):(typeof L.componentDidUpdate!="function"||rt===l.memoizedProps&&ze===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||rt===l.memoizedProps&&ze===l.memoizedState||(c.flags|=1024),S=!1)}return L=S,bu(l,c),S=(c.flags&128)!==0,L||S?(L=c.stateNode,g=S&&typeof g.getDerivedStateFromError!="function"?null:L.render(),c.flags|=1,l!==null&&S?(c.child=Ha(c,l.child,null,N),c.child=Ha(c,null,g,N)):Xi(l,c,g,N),c.memoizedState=L.state,l=c.child):l=sa(l,c,N),l}function bf(l,c,g,S){return Ae(),c.flags|=256,Xi(l,c,g,S),c.child}function Sf(l){return{baseLanes:l,cachePool:Oa()}}function gc(l,c,g){return l=l!==null?l.childLanes&~g:0,c&&(l|=rs),l}function _u(l,c,g){var S=c.pendingProps,N=!1,L=(c.flags&128)!==0,rt;if((rt=L)||(rt=l!==null&&l.memoizedState===null?!1:(Pi.current&2)!==0),rt&&(N=!0,c.flags&=-129),rt=(c.flags&32)!==0,c.flags&=-33,l===null){if(Rn){if(N?Fa(c):Da(),(l=vi)?(l=R0(l,ns),l!==null&&(c.memoizedState={dehydrated:l,treeContext:ar!==null?{id:La,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},g=Vd(l),g.return=c,c.child=g,ya=c,vi=null)):l=null,l===null)throw Ct(c);return Ih(l)?c.lanes=32:c.lanes=536870912,null}var St=S.children;return S=S.fallback,N?(Da(),N=c.mode,St=Rr({mode:"hidden",children:St},N),S=$s(S,N,g,null),St.return=c,S.return=c,St.sibling=S,c.child=St,S=c.child,S.memoizedState=Sf(g),S.childLanes=gc(l,rt,g),c.memoizedState=Vu,Cr(null,S)):(Fa(c),wu(c,St))}var Wt=l.memoizedState;if(Wt!==null&&(St=Wt.dehydrated,St!==null)){if(L)c.flags&256?(Fa(c),c.flags&=-257,c=Po(l,c,g)):c.memoizedState!==null?(Da(),c.child=l.child,c.flags|=128,c=null):(Da(),St=S.fallback,N=c.mode,S=Rr({mode:"visible",children:S.children},N),St=$s(St,N,g,null),St.flags|=2,S.return=c,St.return=c,S.sibling=St,c.child=S,Ha(c,l.child,null,g),S=c.child,S.memoizedState=Sf(g),S.childLanes=gc(l,rt,g),c.memoizedState=Vu,c=Cr(null,S));else if(Fa(c),Ih(St))rt=qh(St).digest,S=Error(s(419)),S.stack="",S.digest=rt,Rt({value:S,source:null,stack:null}),c=Po(l,c,g);else if(di||zt(l,c,g,!1),rt=(g&l.childLanes)!==0,di||rt){if(rt=bn,rt!==null&&(S=P(rt,g),S!==0&&S!==Wt.retryLane))throw Wt.retryLane=S,Ds(l,S),Ai(rt,l,S),ss;Ul(St)||_c(),c=Po(l,c,g)}else Ul(St)?(c.flags|=192,c.child=l.child,c=null):(l=Wt.treeContext,yi&&(vi=T0(St),ya=c,Rn=!0,ho=null,ns=!1,l!==null&&pt(c,l)),c=wu(c,S.children),c.flags|=4096);return c}return N?(Da(),St=S.fallback,N=c.mode,Wt=l.child,L=Wt.sibling,S=Hs(Wt,{mode:"hidden",children:S.children}),S.subtreeFlags=Wt.subtreeFlags&65011712,L!==null?St=Hs(L,St):(St=$s(St,N,g,null),St.flags|=2),St.return=c,S.return=c,S.sibling=St,c.child=S,Cr(null,S),S=c.child,St=l.child.memoizedState,St===null?St=Sf(g):(N=St.cachePool,N!==null?(Wt=Qi?xi._currentValue:xi._currentValue2,N=N.parent!==Wt?{parent:Wt,pool:Wt}:N):N=Oa(),St={baseLanes:St.baseLanes|g,cachePool:N}),S.memoizedState=St,S.childLanes=gc(l,rt,g),c.memoizedState=Vu,Cr(l.child,S)):(Fa(c),g=l.child,l=g.sibling,g=Hs(g,{mode:"visible",children:S.children}),g.return=c,g.sibling=null,l!==null&&(rt=c.deletions,rt===null?(c.deletions=[l],c.flags|=16):rt.push(l)),c.child=g,c.memoizedState=null,g)}function wu(l,c){return c=Rr({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Rr(l,c){return l=n(22,l,null,c),l.lanes=0,l}function Po(l,c,g){return Ha(c,l.child,null,g),l=wu(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function wh(l,c,g){l.lanes|=c;var S=l.alternate;S!==null&&(S.lanes|=c),et(l.return,c,g)}function Tl(l,c,g,S,N,L){var rt=l.memoizedState;rt===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:N,treeForkCount:L}:(rt.isBackwards=c,rt.rendering=null,rt.renderingStartTime=0,rt.last=S,rt.tail=g,rt.tailMode=N,rt.treeForkCount=L)}function Cl(l,c,g){var S=c.pendingProps,N=S.revealOrder,L=S.tail;S=S.children;var rt=Pi.current,St=(rt&2)!==0;if(St?(rt=rt&1|2,c.flags|=128):rt&=1,E(Pi,rt),Xi(l,c,S,g),S=Rn?Uf:0,!St&&l!==null&&(l.flags&128)!==0)t:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&wh(l,g,c);else if(l.tag===19)wh(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break t;for(;l.sibling===null;){if(l.return===null||l.return===c)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(N){case"forwards":for(g=c.child,N=null;g!==null;)l=g.alternate,l!==null&&ml(l)===null&&(N=g),g=g.sibling;g=N,g===null?(N=c.child,c.child=null):(N=g.sibling,g.sibling=null),Tl(c,!1,N,g,L,S);break;case"backwards":case"unstable_legacy-backwards":for(g=null,N=c.child,c.child=null;N!==null;){if(l=N.alternate,l!==null&&ml(l)===null){c.child=N;break}l=N.sibling,N.sibling=g,g=N,N=l}Tl(c,!0,g,null,L,S);break;case"together":Tl(c,!1,null,null,void 0,S);break;default:c.memoizedState=null}return c.child}function sa(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),nl|=c.lanes,(g&c.childLanes)===0)if(l!==null){if(zt(l,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(s(153));if(c.child!==null){for(l=c.child,g=Hs(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=Hs(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function oi(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Ft(l)))}function Al(l,c,g){switch(c.tag){case 3:yt(c,c.stateNode.containerInfo),kt(c,xi,l.memoizedState.cache),Ae();break;case 27:case 5:Qt(c);break;case 4:yt(c,c.stateNode.containerInfo);break;case 10:kt(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,No(c),null;break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(Fa(c),c.flags|=128,null):(g&c.child.childLanes)!==0?_u(l,c,g):(Fa(c),l=sa(l,c,g),l!==null?l.sibling:null);Fa(c);break;case 19:var N=(l.flags&128)!==0;if(S=(g&c.childLanes)!==0,S||(zt(l,c,g,!1),S=(g&c.childLanes)!==0),N){if(S)return Cl(l,c,g);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),E(Pi,Pi.current),S)break;return null;case 22:return c.lanes=0,_h(l,c,g,c.pendingProps);case 24:kt(c,xi,l.memoizedState.cache)}return sa(l,c,g)}function Ka(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps)di=!0;else{if(!oi(l,g)&&(c.flags&128)===0)return di=!1,Al(l,c,g);di=(l.flags&131072)!==0}else di=!1,Rn&&(c.flags&1048576)!==0&&Y(c,Uf,c.index);switch(c.lanes=0,c.tag){case 16:t:{var S=c.pendingProps;if(l=Pr(c.elementType),c.type=l,typeof l=="function")Tu(l)?(S=Js(l,S),c.tag=1,c=$r(null,c,l,S,g)):(c.tag=0,c=Su(null,c,l,S,g));else{if(l!=null){var N=l.$$typeof;if(N===Cc){c.tag=11,c=vu(null,c,l,S,g);break t}else if(N===Lh){c.tag=14,c=dc(null,c,l,S,g);break t}}throw c=v(l)||l,Error(s(306,c,""))}}return c;case 0:return Su(l,c,c.type,c.pendingProps,g);case 1:return S=c.type,N=Js(S,c.pendingProps),$r(l,c,S,N,g);case 3:t:{if(yt(c,c.stateNode.containerInfo),l===null)throw Error(s(387));var L=c.pendingProps;N=c.memoizedState,S=N.element,Ma(l,c),Ir(c,L,null,g);var rt=c.memoizedState;if(L=rt.cache,kt(c,xi,L),L!==N.cache&&ht(c,[xi],g,!0),Na(),L=rt.element,yi&&N.isDehydrated)if(N={element:L,isDehydrated:!1,cache:rt.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=bf(l,c,L,g);break t}else if(L!==S){S=st(Error(s(424)),c),Rt(S),c=bf(l,c,L,g);break t}else for(yi&&(vi=w0(c.stateNode.containerInfo),ya=c,Rn=!0,ho=null,ns=!0),g=Rp(c,null,L,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ae(),L===S){c=sa(l,c,g);break t}Xi(l,c,L,g)}c=c.child}return c;case 26:if(nr)return bu(l,c),l===null?(g=yp(c.type,null,c.pendingProps,null))?c.memoizedState=g:Rn||(c.stateNode=Xh(c.type,c.pendingProps,Ua.current,c)):c.memoizedState=yp(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:if(ga)return Qt(c),l===null&&ga&&Rn&&(S=c.stateNode=Zh(c.type,c.pendingProps,Ua.current,wa.current,!1),ya=c,ns=!0,vi=fp(c.type,S,vi)),Xi(l,c,c.pendingProps.children,g),bu(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Rn&&(L0(c.type,c.pendingProps,wa.current),(N=S=vi)&&(S=C0(S,c.type,c.pendingProps,ns),S!==null?(c.stateNode=S,ya=c,vi=_0(S),ns=!1,N=!0):N=!1),N||Ct(c)),Qt(c),N=c.type,L=c.pendingProps,rt=l!==null?l.memoizedProps:null,S=L.children,es(N,L)?S=null:rt!==null&&es(N,rt)&&(c.flags|=32),c.memoizedState!==null&&(N=fn(l,c,za,null,null,g),Qi?ju._currentValue=N:ju._currentValue2=N),bu(l,c),Xi(l,c,S,g),c.child;case 6:return l===null&&Rn&&(gp(c.pendingProps,wa.current),(l=g=vi)&&(g=A0(g,c.pendingProps,ns),g!==null?(c.stateNode=g,ya=c,vi=null,l=!0):l=!1),l||Ct(c)),null;case 13:return _u(l,c,g);case 4:return yt(c,c.stateNode.containerInfo),S=c.pendingProps,l===null?c.child=Ha(c,null,S,g):Xi(l,c,S,g),c.child;case 11:return vu(l,c,c.type,c.pendingProps,g);case 7:return Xi(l,c,c.pendingProps,g),c.child;case 8:return Xi(l,c,c.pendingProps.children,g),c.child;case 12:return Xi(l,c,c.pendingProps.children,g),c.child;case 10:return S=c.pendingProps,kt(c,c.type,S.value),Xi(l,c,S.children,g),c.child;case 9:return N=c.type._context,S=c.pendingProps.children,xt(c),N=Zt(N),S=S(N),c.flags|=1,Xi(l,c,S,g),c.child;case 14:return dc(l,c,c.type,c.pendingProps,g);case 15:return vf(l,c,c.type,c.pendingProps,g);case 19:return Cl(l,c,g);case 31:return mc(l,c,g);case 22:return _h(l,c,g,c.pendingProps);case 24:return xt(c),S=Zt(xi),l===null?(N=Ms(),N===null&&(N=bn,L=oe(),N.pooledCache=L,L.refCount++,L!==null&&(N.pooledCacheLanes|=g),N=L),c.memoizedState={parent:S,cache:N},Ei(c),kt(c,xi,N)):((l.lanes&g)!==0&&(Ma(l,c),Ir(c,null,null,g),Na()),N=l.memoizedState,L=c.memoizedState,N.parent!==S?(N={parent:S,cache:S},c.memoizedState=N,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=N),kt(c,xi,S)):(S=L.cache,kt(c,xi,S),S!==N.cache&&ht(c,[xi],g,!0))),Xi(l,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function ps(l){l.flags|=4}function Vo(l){Gs&&(l.flags|=8)}function _f(l,c){if(l!==null&&l.child===c.child)return!1;if((c.flags&16)!==0)return!0;for(l=c.child;l!==null;){if((l.flags&8218)!==0||(l.subtreeFlags&8218)!==0)return!0;l=l.sibling}return!1}function Or(l,c,g,S){if(zn)for(g=c.child;g!==null;){if(g.tag===5||g.tag===6)Mf(l,g.stateNode);else if(!(g.tag===4||ga&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(Gs)for(var N=c.child;N!==null;){if(N.tag===5){var L=N.stateNode;g&&S&&(L=v0(L,N.type,N.memoizedProps)),Mf(l,L)}else if(N.tag===6)L=N.stateNode,g&&S&&(L=up(L,N.memoizedProps)),Mf(l,L);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)L=N.child,L!==null&&(L.return=N),Or(l,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===c)break;for(;N.sibling===null;){if(N.return===null||N.return===c)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function yc(l,c,g,S){var N=!1;if(Gs)for(var L=c.child;L!==null;){if(L.tag===5){var rt=L.stateNode;g&&S&&(rt=v0(rt,L.type,L.memoizedProps)),op(l,rt)}else if(L.tag===6)rt=L.stateNode,g&&S&&(rt=up(rt,L.memoizedProps)),op(l,rt);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)N=L.child,N!==null&&(N.return=L),yc(l,L,!0,!0),N=!0;else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===c)break;for(;L.sibling===null;){if(L.return===null||L.return===c)return N;L=L.return}L.sibling.return=L.return,L=L.sibling}return N}function Io(l,c){if(Gs&&_f(l,c)){l=c.stateNode;var g=l.containerInfo,S=rp();yc(S,c,!1,!1),l.pendingChildren=S,ps(c),y0(g,S)}}function Ws(l,c,g,S){if(zn)l.memoizedProps!==S&&ps(c);else if(Gs){var N=l.stateNode,L=l.memoizedProps;if((l=_f(l,c))||L!==S){var rt=wa.current;L=g0(N,g,L,S,!l,null),L===N?c.stateNode=N:(Vo(c),vs(L,g,S,rt)&&ps(c),c.stateNode=L,l&&Or(L,c,!1,!1))}else c.stateNode=N}}function Sa(l,c,g,S,N){if((l.mode&32)!==0&&(g===null?Nf(c,S):Nc(c,g,S))){if(l.flags|=16777216,(N&335544128)===N||Zd(c,S))if(Ri(l.stateNode,c,S))l.flags|=8192;else if(Dn())l.flags|=8192;else throw is=po,rd}else l.flags&=-16777217}function b(l,c){if(Sp(c)){if(l.flags|=16777216,!_p(c))if(Dn())l.flags|=8192;else throw is=po,rd}else l.flags&=-16777217}function C(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?H():536870912,l.lanes|=c,Gc|=c)}function k(l,c){if(!Rn)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:S.sibling=null}}function G(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,S=0;if(c)for(var N=l.child;N!==null;)g|=N.lanes|N.childLanes,S|=N.subtreeFlags&65011712,S|=N.flags&65011712,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)g|=N.lanes|N.childLanes,S|=N.subtreeFlags,S|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=S,l.childLanes=g,c}function J(l,c,g){var S=c.pendingProps;switch(ft(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return G(c),null;case 1:return G(c),null;case 3:return g=c.stateNode,S=null,l!==null&&(S=l.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),ot(xi),Yt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(de(c)?ps(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,V())),Io(l,c),G(c),null;case 26:if(nr){var N=c.type,L=c.memoizedState;return l===null?(ps(c),L!==null?(G(c),b(c,L)):(G(c),Sa(c,N,null,S,g))):L?L!==l.memoizedState?(ps(c),G(c),b(c,L)):(G(c),c.flags&=-16777217):(L=l.memoizedProps,zn?L!==S&&ps(c):Ws(l,c,N,S),G(c),Sa(c,N,L,S,g)),null}case 27:if(ga){if(Ht(c),g=Ua.current,N=c.type,l!==null&&c.stateNode!=null)zn?l.memoizedProps!==S&&ps(c):Ws(l,c,N,S);else{if(!S){if(c.stateNode===null)throw Error(s(166));return G(c),null}l=wa.current,de(c)?Ee(c,l):(l=Zh(N,S,g,l,!0),c.stateNode=l,ps(c))}return G(c),null}case 5:if(Ht(c),N=c.type,l!==null&&c.stateNode!=null)Ws(l,c,N,S);else{if(!S){if(c.stateNode===null)throw Error(s(166));return G(c),null}if(L=wa.current,de(c))Ee(c,L),j0(c.stateNode,N,S,L)&&(c.flags|=64);else{var rt=Yd(N,S,Ua.current,L,c);Vo(c),Or(rt,c,!1,!1),c.stateNode=rt,vs(rt,N,S,L)&&ps(c)}}return G(c),Sa(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,g),null;case 6:if(l&&c.stateNode!=null)g=l.memoizedProps,zn?g!==S&&ps(c):Gs&&(g!==S?(l=Ua.current,g=wa.current,Vo(c),c.stateNode=Qo(S,l,g,c)):c.stateNode=l.stateNode);else{if(typeof S!="string"&&c.stateNode===null)throw Error(s(166));if(l=Ua.current,g=wa.current,de(c)){if(!yi)throw Error(s(176));if(l=c.stateNode,g=c.memoizedProps,S=null,N=ya,N!==null)switch(N.tag){case 27:case 5:S=N.memoizedProps}Hy(l,g,c,S)||Ct(c,!0)}else Vo(c),c.stateNode=Qo(S,l,g,c)}return G(c),null;case 31:if(g=c.memoizedState,l===null||l.memoizedState!==null){if(S=de(c),g!==null){if(l===null){if(!S)throw Error(s(318));if(!yi)throw Error(s(556));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(557));dp(l,c)}else Ae(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;G(c),l=!1}else g=V(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return c.flags&256?(Ki(c),c):(Ki(c),null);if((c.flags&128)!==0)throw Error(s(558))}return G(c),null;case 13:if(S=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(N=de(c),S!==null&&S.dehydrated!==null){if(l===null){if(!N)throw Error(s(318));if(!yi)throw Error(s(344));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));M0(N,c)}else Ae(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;G(c),N=!1}else N=V(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=N),N=!0;if(!N)return c.flags&256?(Ki(c),c):(Ki(c),null)}return Ki(c),(c.flags&128)!==0?(c.lanes=g,c):(g=S!==null,l=l!==null&&l.memoizedState!==null,g&&(S=c.child,N=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(N=S.alternate.memoizedState.cachePool.pool),L=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==N&&(S.flags|=2048)),g!==l&&g&&(c.child.flags|=8192),C(c,c.updateQueue),G(c),null);case 4:return Yt(),Io(l,c),l===null&&ii(c.stateNode.containerInfo),G(c),null;case 10:return ot(c.type),G(c),null;case 19:if(_(Pi),S=c.memoizedState,S===null)return G(c),null;if(N=(c.flags&128)!==0,L=S.rendering,L===null)if(N)k(S,!1);else{if(Ni!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(L=ml(l),L!==null){for(c.flags|=128,k(S,!1),l=L.updateQueue,c.updateQueue=l,C(c,l),c.subtreeFlags=0,l=g,g=c.child;g!==null;)Dh(g,l),g=g.sibling;return E(Pi,Pi.current&1|2),Rn&&gt(c,S.treeForkCount),c.child}l=l.sibling}S.tail!==null&&Xa()>Zl&&(c.flags|=128,N=!0,k(S,!1),c.lanes=4194304)}else{if(!N)if(l=ml(L),l!==null){if(c.flags|=128,N=!0,l=l.updateQueue,c.updateQueue=l,C(c,l),k(S,!0),S.tail===null&&S.tailMode==="hidden"&&!L.alternate&&!Rn)return G(c),null}else 2*Xa()-S.renderingStartTime>Zl&&g!==536870912&&(c.flags|=128,N=!0,k(S,!1),c.lanes=4194304);S.isBackwards?(L.sibling=c.child,c.child=L):(l=S.last,l!==null?l.sibling=L:c.child=L,S.last=L)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Xa(),l.sibling=null,g=Pi.current,E(Pi,N?g&1|2:g&1),Rn&&gt(c,S.treeForkCount),l):(G(c),null);case 22:case 23:return Ki(c),Ti(),S=c.memoizedState!==null,l!==null?l.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(g&536870912)!==0&&(c.flags&128)===0&&(G(c),c.subtreeFlags&6&&(c.flags|=8192)):G(c),g=c.updateQueue,g!==null&&C(c,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==g&&(c.flags|=2048),l!==null&&_(Pl),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ot(xi),G(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function it(l,c){switch(ft(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ot(xi),Yt(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return Ht(c),null;case 31:if(c.memoizedState!==null){if(Ki(c),c.alternate===null)throw Error(s(340));Ae()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(Ki(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(s(340));Ae()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return _(Pi),null;case 4:return Yt(),null;case 10:return ot(c.type),null;case 22:case 23:return Ki(c),Ti(),l!==null&&_(Pl),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return ot(xi),null;case 25:return null;default:return null}}function ct(l,c){switch(ft(c),c.tag){case 3:ot(xi),Yt();break;case 26:case 27:case 5:Ht(c);break;case 4:Yt();break;case 31:c.memoizedState!==null&&Ki(c);break;case 13:Ki(c);break;case 19:_(Pi);break;case 10:ot(c.type);break;case 22:case 23:Ki(c),Ti(),l!==null&&_(Pl);break;case 24:ot(xi)}}function dt(l,c){try{var g=c.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var N=S.next;g=N;do{if((g.tag&l)===l){S=void 0;var L=g.create,rt=g.inst;S=L(),rt.destroy=S}g=g.next}while(g!==N)}}catch(St){en(c,c.return,St)}}function _t(l,c,g){try{var S=c.updateQueue,N=S!==null?S.lastEffect:null;if(N!==null){var L=N.next;S=L;do{if((S.tag&l)===l){var rt=S.inst,St=rt.destroy;if(St!==void 0){rt.destroy=void 0,N=c;var Wt=g,le=St;try{le()}catch(Te){en(N,Wt,Te)}}}S=S.next}while(S!==L)}}catch(Te){en(c,c.return,Te)}}function wt(l){var c=l.updateQueue;if(c!==null){var g=l.stateNode;try{Zn(c,g)}catch(S){en(l,l.return,S)}}}function jt(l,c,g){g.props=Js(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(S){en(l,c,S)}}function vt(l,c){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var S=Rc(l.stateNode);break;case 30:S=l.stateNode;break;default:S=l.stateNode}typeof g=="function"?l.refCleanup=g(S):g.current=S}}catch(N){en(l,c,N)}}function Mt(l,c){var g=l.ref,S=l.refCleanup;if(g!==null)if(typeof S=="function")try{S()}catch(N){en(l,c,N)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(N){en(l,c,N)}else g.current=null}function Et(l){var c=l.type,g=l.memoizedProps,S=l.stateNode;try{l0(S,c,g,l)}catch(N){en(l,l.return,N)}}function At(l,c,g){try{u0(l.stateNode,l.type,g,c,l)}catch(S){en(l,l.return,S)}}function Ot(l){return l.tag===5||l.tag===3||(nr?l.tag===26:!1)||(ga?l.tag===27&&ku(l.type):!1)||l.tag===4}function Dt(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||Ot(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(ga&&l.tag===27&&ku(l.type)||l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Pt(l,c,g){var S=l.tag;if(S===5||S===6)l=l.stateNode,c?f0(g,l,c):np(g,l);else if(S!==4&&(ga&&S===27&&ku(l.type)&&(g=l.stateNode,c=null),l=l.child,l!==null))for(Pt(l,c,g),l=l.sibling;l!==null;)Pt(l,c,g),l=l.sibling}function It(l,c,g){var S=l.tag;if(S===5||S===6)l=l.stateNode,c?c0(g,l,c):ep(g,l);else if(S!==4&&(ga&&S===27&&ku(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(It(l,c,g),l=l.sibling;l!==null;)It(l,c,g),l=l.sibling}function ee(l,c,g){l=l.containerInfo;try{lp(l,g)}catch(S){en(c,c.return,S)}}function se(l){var c=l.stateNode,g=l.memoizedProps;try{oa(l.type,g,c,l)}catch(S){en(l,l.return,S)}}function be(l,c){for(Uh(l.containerInfo),$i=c;$i!==null;)if(l=$i,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,$i=c;else for(;$i!==null;){l=$i;var g=l.alternate;switch(c=l.flags,l.tag){case 0:if((c&4)!==0&&(c=l.updateQueue,c=c!==null?c.events:null,c!==null))for(var S=0;S<c.length;S++){var N=c[S];N.ref.impl=N.nextImpl}break;case 11:case 15:break;case 1:if((c&1024)!==0&&g!==null){c=void 0,S=l,N=g.memoizedProps,g=g.memoizedState;var L=S.stateNode;try{var rt=Js(S.type,N);c=L.getSnapshotBeforeUpdate(rt,g),L.__reactInternalSnapshotBeforeUpdate=c}catch(St){en(S,S.return,St)}}break;case 3:(c&1024)!==0&&zn&&sp(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=l.sibling,c!==null){c.return=l.return,$i=c;break}$i=l.return}}function Oe(l,c,g){var S=g.flags;switch(g.tag){case 0:case 11:case 15:Pn(l,g),S&4&&dt(5,g);break;case 1:if(Pn(l,g),S&4)if(l=g.stateNode,c===null)try{l.componentDidMount()}catch(rt){en(g,g.return,rt)}else{var N=Js(g.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(N,c,l.__reactInternalSnapshotBeforeUpdate)}catch(rt){en(g,g.return,rt)}}S&64&&wt(g),S&512&&vt(g,g.return);break;case 3:if(Pn(l,g),S&64&&(S=g.updateQueue,S!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=Rc(g.child.stateNode);break;case 1:l=g.child.stateNode}try{Zn(S,l)}catch(rt){en(g,g.return,rt)}}break;case 27:ga&&c===null&&S&4&&se(g);case 26:case 5:if(Pn(l,g),c===null){if(S&4)Et(g);else if(S&64){l=g.type,c=g.memoizedProps,N=g.stateNode;try{D0(N,l,c,g)}catch(rt){en(g,g.return,rt)}}}S&512&&vt(g,g.return);break;case 12:Pn(l,g);break;case 31:Pn(l,g),S&4&&ye(l,g);break;case 13:Pn(l,g),S&4&&De(l,g),S&64&&(S=g.memoizedState,S!==null&&(S=S.dehydrated,S!==null&&(g=By.bind(null,g),Fh(S,g))));break;case 22:if(S=g.memoizedState!==null||Vi,!S){c=c!==null&&c.memoizedState!==null||Ii,N=Vi;var L=Ii;Vi=S,(Ii=c)&&!L?ni(l,g,(g.subtreeFlags&8772)!==0):Pn(l,g),Vi=N,Ii=L}break;case 30:break;default:Pn(l,g)}}function ge(l){var c=l.alternate;c!==null&&(l.alternate=null,ge(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Hh(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function he(l,c,g){for(g=g.child;g!==null;)Re(l,c,g),g=g.sibling}function Re(l,c,g){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Uu,g)}catch{}switch(g.tag){case 26:if(nr){Ii||Mt(g,c),he(l,c,g),g.memoizedState?Hl(g.memoizedState):g.stateNode&&bp(g.stateNode);break}case 27:if(ga){Ii||Mt(g,c);var S=Mi,N=ta;ku(g.type)&&(Mi=g.stateNode,ta=!1),he(l,c,g),_a(g.stateNode),Mi=S,ta=N;break}case 5:Ii||Mt(g,c);case 6:if(zn){if(S=Mi,N=ta,Mi=null,he(l,c,g),Mi=S,ta=N,Mi!==null)if(ta)try{ip(Mi,g.stateNode)}catch(L){en(g,c,L)}else try{h0(Mi,g.stateNode)}catch(L){en(g,c,L)}}else he(l,c,g);break;case 18:zn&&Mi!==null&&(ta?Kh(Mi,g.stateNode):mp(Mi,g.stateNode));break;case 4:zn?(S=Mi,N=ta,Mi=g.stateNode.containerInfo,ta=!0,he(l,c,g),Mi=S,ta=N):(Gs&&ee(g.stateNode,g,rp()),he(l,c,g));break;case 0:case 11:case 14:case 15:_t(2,g,c),Ii||_t(4,g,c),he(l,c,g);break;case 1:Ii||(Mt(g,c),S=g.stateNode,typeof S.componentWillUnmount=="function"&&jt(g,c,S)),he(l,c,g);break;case 21:he(l,c,g);break;case 22:Ii=(S=Ii)||g.memoizedState!==null,he(l,c,g),Ii=S;break;default:he(l,c,g)}}function ye(l,c){if(yi&&c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Gy(l)}catch(g){en(c,c.return,g)}}}function De(l,c){if(yi&&c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Py(l)}catch(g){en(c,c.return,g)}}function Fe(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new Mp),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new Mp),c;default:throw Error(s(435,l.tag))}}function Je(l,c){var g=Fe(l);c.forEach(function(S){if(!g.has(S)){g.add(S);var N=Ly.bind(null,l,S);S.then(N,N)}})}function Ie(l,c){var g=c.deletions;if(g!==null)for(var S=0;S<g.length;S++){var N=g[S],L=l,rt=c;if(zn){var St=rt;t:for(;St!==null;){switch(St.tag){case 27:if(ga){if(ku(St.type)){Mi=St.stateNode,ta=!1;break t}break}case 5:Mi=St.stateNode,ta=!1;break t;case 3:case 4:Mi=St.stateNode.containerInfo,ta=!0;break t}St=St.return}if(Mi===null)throw Error(s(160));Re(L,rt,N),Mi=null,ta=!1}else Re(L,rt,N);L=N.alternate,L!==null&&(L.return=null),N.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)pa(c,l),c=c.sibling}function pa(l,c){var g=l.alternate,S=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ie(c,l),He(l),S&4&&(_t(3,l,l.return),dt(3,l),_t(5,l,l.return));break;case 1:Ie(c,l),He(l),S&512&&(Ii||g===null||Mt(g,g.return)),S&64&&Vi&&(l=l.updateQueue,l!==null&&(S=l.callbacks,S!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?S:g.concat(S))));break;case 26:if(nr){var N=Jn;if(Ie(c,l),He(l),S&512&&(Ii||g===null||Mt(g,g.return)),S&4){S=g!==null?g.memoizedState:null;var L=l.memoizedState;g===null?L===null?l.stateNode===null?l.stateNode=U0(N,l.type,l.memoizedProps,l):xp(N,l.type,l.stateNode):l.stateNode=vp(N,L,l.memoizedProps):S!==L?(S===null?g.stateNode!==null&&bp(g.stateNode):Hl(S),L===null?xp(N,l.type,l.stateNode):vp(N,L,l.memoizedProps)):L===null&&l.stateNode!==null&&At(l,l.memoizedProps,g.memoizedProps)}break}case 27:if(ga){Ie(c,l),He(l),S&512&&(Ii||g===null||Mt(g,g.return)),g!==null&&S&4&&At(l,l.memoizedProps,g.memoizedProps);break}case 5:if(Ie(c,l),He(l),S&512&&(Ii||g===null||Mt(g,g.return)),zn){if(l.flags&32){N=l.stateNode;try{ap(N)}catch(fe){en(l,l.return,fe)}}S&4&&l.stateNode!=null&&(N=l.memoizedProps,At(l,N,g!==null?g.memoizedProps:N)),S&1024&&(kc=!0)}else Gs&&l.alternate!==null&&(l.alternate.stateNode=l.stateNode);break;case 6:if(Ie(c,l),He(l),S&4&&zn){if(l.stateNode===null)throw Error(s(162));S=l.memoizedProps,g=g!==null?g.memoizedProps:S,N=l.stateNode;try{o0(N,g,S)}catch(fe){en(l,l.return,fe)}}break;case 3:if(nr?(H0(),N=Jn,Jn=jf(c.containerInfo),Ie(c,l),Jn=N):Ie(c,l),He(l),S&4){if(zn&&yi&&g!==null&&g.memoizedState.isDehydrated)try{z0(c.containerInfo)}catch(fe){en(l,l.return,fe)}if(Gs){S=c.containerInfo,g=c.pendingChildren;try{lp(S,g)}catch(fe){en(l,l.return,fe)}}}kc&&(kc=!1,Zi(l));break;case 4:nr?(g=Jn,Jn=jf(l.stateNode.containerInfo),Ie(c,l),He(l),Jn=g):(Ie(c,l),He(l)),S&4&&Gs&&ee(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:Ie(c,l),He(l);break;case 31:Ie(c,l),He(l),S&4&&(S=l.updateQueue,S!==null&&(l.updateQueue=null,Je(l,S)));break;case 13:Ie(c,l),He(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(qf=Xa()),S&4&&(S=l.updateQueue,S!==null&&(l.updateQueue=null,Je(l,S)));break;case 22:N=l.memoizedState!==null;var rt=g!==null&&g.memoizedState!==null,St=Vi,Wt=Ii;if(Vi=St||N,Ii=Wt||rt,Ie(c,l),Ii=Wt,Vi=St,He(l),S&8192&&(c=l.stateNode,c._visibility=N?c._visibility&-2:c._visibility|1,N&&(g===null||rt||Vi||Ii||Bs(l)),zn)){t:if(g=null,zn)for(c=l;;){if(c.tag===5||nr&&c.tag===26){if(g===null){rt=g=c;try{L=rt.stateNode,N?Uy(L):p0(rt.stateNode,rt.memoizedProps)}catch(fe){en(rt,rt.return,fe)}}}else if(c.tag===6){if(g===null){rt=c;try{var le=rt.stateNode;N?d0(le):m0(le,rt.memoizedProps)}catch(fe){en(rt,rt.return,fe)}}}else if(c.tag===18){if(g===null){rt=c;try{var Te=rt.stateNode;N?k0(Te):B0(rt.stateNode)}catch(fe){en(rt,rt.return,fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break t;for(;c.sibling===null;){if(c.return===null||c.return===l)break t;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}}S&4&&(S=l.updateQueue,S!==null&&(g=S.retryQueue,g!==null&&(S.retryQueue=null,Je(l,g))));break;case 19:Ie(c,l),He(l),S&4&&(S=l.updateQueue,S!==null&&(l.updateQueue=null,Je(l,S)));break;case 30:break;case 21:break;default:Ie(c,l),He(l)}}function He(l){var c=l.flags;if(c&2){try{for(var g,S=l.return;S!==null;){if(Ot(S)){g=S;break}S=S.return}if(zn){if(g==null)throw Error(s(160));switch(g.tag){case 27:if(ga){var N=g.stateNode,L=Dt(l);It(l,L,N);break}case 5:var rt=g.stateNode;g.flags&32&&(ap(rt),g.flags&=-33);var St=Dt(l);It(l,St,rt);break;case 3:case 4:var Wt=g.stateNode.containerInfo,le=Dt(l);Pt(l,le,Wt);break;default:throw Error(s(161))}}}catch(Te){en(l,l.return,Te)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function Zi(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;Zi(c),c.tag===5&&c.flags&1024&&Jd(c.stateNode),l=l.sibling}}function Pn(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Oe(l,c.alternate,c),c=c.sibling}function Bs(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:_t(4,c,c.return),Bs(c);break;case 1:Mt(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&jt(c,c.return,g),Bs(c);break;case 27:ga&&_a(c.stateNode);case 26:case 5:Mt(c,c.return),Bs(c);break;case 22:c.memoizedState===null&&Bs(c);break;case 30:Bs(c);break;default:Bs(c)}l=l.sibling}}function ni(l,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,N=l,L=c,rt=L.flags;switch(L.tag){case 0:case 11:case 15:ni(N,L,g),dt(4,L);break;case 1:if(ni(N,L,g),S=L,N=S.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(le){en(S,S.return,le)}if(S=L,N=S.updateQueue,N!==null){var St=S.stateNode;try{var Wt=N.shared.hiddenCallbacks;if(Wt!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Wt.length;N++)_r(Wt[N],St)}catch(le){en(S,S.return,le)}}g&&rt&64&&wt(L),vt(L,L.return);break;case 27:ga&&se(L);case 26:case 5:ni(N,L,g),g&&S===null&&rt&4&&Et(L),vt(L,L.return);break;case 12:ni(N,L,g);break;case 31:ni(N,L,g),g&&rt&4&&ye(N,L);break;case 13:ni(N,L,g),g&&rt&4&&De(N,L);break;case 22:L.memoizedState===null&&ni(N,L,g),vt(L,L.return);break;case 30:break;default:ni(N,L,g)}c=c.sibling}}function Ya(l,c){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&je(g))}function Eu(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&je(l))}function Ci(l,c,g,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Eh(l,c,g,S),c=c.sibling}function Eh(l,c,g,S){var N=c.flags;switch(c.tag){case 0:case 11:case 15:Ci(l,c,g,S),N&2048&&dt(9,c);break;case 1:Ci(l,c,g,S);break;case 3:Ci(l,c,g,S),N&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&je(l)));break;case 12:if(N&2048){Ci(l,c,g,S),l=c.stateNode;try{var L=c.memoizedProps,rt=L.id,St=L.onPostCommit;typeof St=="function"&&St(rt,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Wt){en(c,c.return,Wt)}}else Ci(l,c,g,S);break;case 31:Ci(l,c,g,S);break;case 13:Ci(l,c,g,S);break;case 23:break;case 22:L=c.stateNode,rt=c.alternate,c.memoizedState!==null?L._visibility&2?Ci(l,c,g,S):vc(l,c):L._visibility&2?Ci(l,c,g,S):(L._visibility|=2,ms(l,c,g,S,(c.subtreeFlags&10256)!==0||!1)),N&2048&&Ya(rt,c);break;case 24:Ci(l,c,g,S),N&2048&&Eu(c.alternate,c);break;default:Ci(l,c,g,S)}}function ms(l,c,g,S,N){for(N=N&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var L=l,rt=c,St=g,Wt=S,le=rt.flags;switch(rt.tag){case 0:case 11:case 15:ms(L,rt,St,Wt,N),dt(8,rt);break;case 23:break;case 22:var Te=rt.stateNode;rt.memoizedState!==null?Te._visibility&2?ms(L,rt,St,Wt,N):vc(L,rt):(Te._visibility|=2,ms(L,rt,St,Wt,N)),N&&le&2048&&Ya(rt.alternate,rt);break;case 24:ms(L,rt,St,Wt,N),N&&le&2048&&Eu(rt.alternate,rt);break;default:ms(L,rt,St,Wt,N)}c=c.sibling}}function vc(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=l,S=c,N=S.flags;switch(S.tag){case 22:vc(g,S),N&2048&&Ya(S.alternate,S);break;case 24:vc(g,S),N&2048&&Eu(S.alternate,S);break;default:vc(g,S)}c=c.sibling}}function to(l,c,g){if(l.subtreeFlags&qs)for(l=l.child;l!==null;)Rl(l,c,g),l=l.sibling}function Rl(l,c,g){switch(l.tag){case 26:if(to(l,c,g),l.flags&qs)if(l.memoizedState!==null)G0(g,Jn,l.memoizedState,l.memoizedProps);else{var S=l.stateNode,N=l.type;l=l.memoizedProps,((c&335544128)===c||Zd(N,l))&&Gh(g,S,N,l)}break;case 5:to(l,c,g),l.flags&qs&&(S=l.stateNode,N=l.type,l=l.memoizedProps,((c&335544128)===c||Zd(N,l))&&Gh(g,S,N,l));break;case 3:case 4:nr?(S=Jn,Jn=jf(l.stateNode.containerInfo),to(l,c,g),Jn=S):to(l,c,g);break;case 22:l.memoizedState===null&&(S=l.alternate,S!==null&&S.memoizedState!==null?(S=qs,qs=16777216,to(l,c,g),qs=S):to(l,c,g));break;default:to(l,c,g)}}function Th(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function xc(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var S=c[g];$i=S,Ls(S,l)}Th(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ch(l),l=l.sibling}function Ch(l){switch(l.tag){case 0:case 11:case 15:xc(l),l.flags&2048&&_t(9,l,l.return);break;case 3:xc(l);break;case 12:xc(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,wf(l)):xc(l);break;default:xc(l)}}function wf(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var S=c[g];$i=S,Ls(S,l)}Th(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:_t(8,c,c.return),wf(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,wf(c));break;default:wf(c)}l=l.sibling}}function Ls(l,c){for(;$i!==null;){var g=$i;switch(g.tag){case 0:case 11:case 15:_t(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var S=g.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:je(g.memoizedState.cache)}if(S=g.child,S!==null)S.return=g,$i=S;else t:for(g=l;$i!==null;){S=$i;var N=S.sibling,L=S.return;if(ge(S),S===g){$i=null;break t}if(N!==null){N.return=L,$i=N;break t}$i=L}}}function Ol(l){var c=hn(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if(l=Ji(l),l===null)throw Error(s(362));return l.stateNode.current}function Ml(l,c){var g=l.tag;switch(c.$$typeof){case cr:if(l.type===c.value)return!0;break;case Lc:t:{for(c=c.value,l=[l,0],g=0;g<l.length;){var S=l[g++],N=S.tag,L=l[g++],rt=c[L];if(N!==5&&N!==26&&N!==27||!Ll(S)){for(;rt!=null&&Ml(S,rt);)L++,rt=c[L];if(L===c.length){c=!0;break t}else for(S=S.child;S!==null;)l.push(S,L),S=S.sibling}}c=!1}return c;case Uc:if((g===5||g===26||g===27)&&tp(l.stateNode,c.value))return!0;break;case Fl:if((g===5||g===6||g===26||g===27)&&(l=Df(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case Vf:if((g===5||g===26||g===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function bc(l){switch(l.$$typeof){case cr:return"<"+(v(l.value)||"Unknown")+">";case Lc:return":has("+(bc(l)||"")+")";case Uc:return'[role="'+l.value+'"]';case Fl:return'"'+l.value+'"';case Vf:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function Sc(l,c){var g=[];l=[l,0];for(var S=0;S<l.length;){var N=l[S++],L=N.tag,rt=l[S++],St=c[rt];if(L!==5&&L!==26&&L!==27||!Ll(N)){for(;St!=null&&Ml(N,St);)rt++,St=c[rt];if(rt===c.length)g.push(N);else for(N=N.child;N!==null;)l.push(N,rt),N=N.sibling}}return g}function gs(l,c){if(!ma)throw Error(s(363));l=Ol(l),l=Sc(l,c),c=[],l=Array.from(l);for(var g=0;g<l.length;){var S=l[g++],N=S.tag;if(N===5||N===26||N===27)Ll(S)||c.push(S.stateNode);else for(S=S.child;S!==null;)l.push(S),S=S.sibling}return c}function gi(){return(En&2)!==0&&On!==0?On&-On:Ye.T!==null?wi():Mc()}function qo(){if(rs===0)if((On&536870912)===0||Rn){var l=Lu;Lu<<=1,(Lu&3932160)===0&&(Lu=262144),rs=l}else rs=536870912;return l=_s.current,l!==null&&(l.flags|=32),rs}function Ai(l,c,g){(l===bn&&(Wn===2||Wn===9)||l.cancelPendingCommit!==null)&&(Gi(l,0),no(l,On,rs,!1)),nt(l,g),((En&2)===0||l!==bn)&&(l===bn&&((En&2)===0&&(Xl|=g),Ni===4&&no(l,On,rs,!1)),ue(l))}function Mr(l,c,g){if((En&6)!==0)throw Error(s(327));var S=!g&&(c&127)===0&&(c&l.expiredLanes)===0||R(l,c),N=S?$m(l,c):io(l,c,!0),L=S;do{if(N===0){Kl&&!S&&no(l,c,0,!1);break}else{if(g=l.current.alternate,L&&!Jm(g)){N=io(l,c,!1),L=!1;continue}if(N===2){if(L=c,l.errorRecoveryDisabledLanes&L)var rt=0;else rt=l.pendingLanes&-536870913,rt=rt!==0?rt:rt&536870912?536870912:0;if(rt!==0){c=rt;t:{var St=l;N=If;var Wt=yi&&St.current.memoizedState.isDehydrated;if(Wt&&(Gi(St,rt).flags|=256),rt=io(St,rt,!1),rt!==2){if(Yl&&!Wt){St.errorRecoveryDisabledLanes|=L,Xl|=L,N=4;break t}L=ws,ws=N,L!==null&&(ws===null?ws=L:ws.push.apply(ws,L))}N=rt}if(L=!1,N!==2)continue}}if(N===1){Gi(l,0),no(l,c,0,!0);break}t:{switch(S=l,L=N,L){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:no(S,c,rs,!jr);break t;case 2:ws=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(N=qf+300-Xa(),10<N)){if(no(S,c,rs,!jr),O(S,0,!0)!==0)break t;vo=c,S.timeoutHandle=Xd(eo.bind(null,S,g,ws,Ff,ld,c,rs,Xl,Gc,jr,L,"Throttled",-0,0),N);break t}eo(S,g,ws,Ff,ld,c,rs,Xl,Gc,jr,L,null,-0,0)}}break}while(!0);ue(l)}function eo(l,c,g,S,N,L,rt,St,Wt,le,Te,fe,ze,cn){if(l.timeoutHandle=xs,fe=c.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe=Qd(),Rl(c,L,fe);var Ta=(L&62914560)===L?qf-Xa():(L&4194048)===L?qu-Xa():0;if(Ta=r0(fe,Ta),Ta!==null){vo=L,l.cancelPendingCommit=Ta(so.bind(null,l,c,L,g,S,N,rt,St,Wt,Te,fe,null,ze,cn)),no(l,L,rt,!le);return}}so(l,c,L,g,S,N,rt,St,Wt)}function Jm(l){for(var c=l;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var S=0;S<g.length;S++){var N=g[S],L=N.getSnapshot;N=N.value;try{if(!Wi(L(),N))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function no(l,c,g,S){c&=~Hc,c&=~Xl,l.suspendedLanes|=c,l.pingedLanes&=~c,S&&(l.warmLanes|=c),S=l.expirationTimes;for(var N=c;0<N;){var L=31-bs(N),rt=1<<L;S[L]=-1,N&=~rt}g!==0&&z(l,g,c)}function Ah(){return(En&6)===0?(Le(0),!1):!0}function Rh(){if(Tn!==null){if(Wn===0)var l=Tn.return;else l=Tn,Dr=ui=null,yl(l),Vl=null,Hu=0,l=Tn;for(;l!==null;)ct(l.alternate,l),l=l.return;Tn=null}}function Gi(l,c){var g=l.timeoutHandle;g!==xs&&(l.timeoutHandle=xs,s0(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),vo=0,Rh(),bn=l,Tn=g=Hs(l.current,null),On=c,Wn=0,la=null,jr=!1,Kl=R(l,c),Yl=!1,Gc=rs=Hc=Xl=nl=Ni=0,ws=If=null,ld=!1,(c&8)!==0&&(c|=c&32);var S=l.entangledLanes;if(S!==0)for(l=l.entanglements,S&=c;0<S;){var N=31-bs(S),L=1<<N;c|=l[N],S&=~L}return yo=c,pl(),g}function li(l,c){dn=null,Ye.H=Is,c===xa||c===lr?(c=vr(),Wn=3):c===rd?(c=vr(),Wn=4):Wn=c===ss?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,la=c,Tn===null&&(Ni=1,yu(l,st(c,l.current)))}function Dn(){var l=_s.current;return l===null?!0:(On&4194048)===On?as===null:(On&62914560)===On||(On&536870912)!==0?l===as:!1}function Fo(){var l=Ye.H;return Ye.H=Is,l===null?Is:l}function Us(){var l=Ye.A;return Ye.A=Bc,l}function _c(){Ni=4,jr||(On&4194048)!==On&&_s.current!==null||(Kl=!0),(nl&134217727)===0&&(Xl&134217727)===0||bn===null||no(bn,On,rs,!1)}function io(l,c,g){var S=En;En|=2;var N=Fo(),L=Us();(bn!==l||On!==c)&&(Ff=null,Gi(l,c)),c=!1;var rt=Ni;t:do try{if(Wn!==0&&Tn!==null){var St=Tn,Wt=la;switch(Wn){case 8:Rh(),rt=6;break t;case 3:case 2:case 9:case 6:_s.current===null&&(c=!0);var le=Wn;if(Wn=0,la=null,ao(l,St,Wt,le),g&&Kl){rt=0;break t}break;default:le=Wn,Wn=0,la=null,ao(l,St,Wt,le)}}Wm(),rt=Ni;break}catch(Te){li(l,Te)}while(!0);return c&&l.shellSuspendCounter++,Dr=ui=null,En=S,Ye.H=N,Ye.A=L,Tn===null&&(bn=null,On=0,pl()),rt}function Wm(){for(;Tn!==null;)Nl(Tn)}function $m(l,c){var g=En;En|=2;var S=Fo(),N=Us();bn!==l||On!==c?(Ff=null,Zl=Xa()+500,Gi(l,c)):Kl=R(l,c);t:do try{if(Wn!==0&&Tn!==null){c=Tn;var L=la;e:switch(Wn){case 1:Wn=0,la=null,ao(l,c,L,1);break;case 2:case 9:if(Gr(L)){Wn=0,la=null,Oh(c);break}c=function(){Wn!==2&&Wn!==9||bn!==l||(Wn=7),ue(l)},L.then(c,c);break t;case 3:Wn=7;break t;case 4:Wn=5;break t;case 7:Gr(L)?(Wn=0,la=null,Oh(c)):(Wn=0,la=null,ao(l,c,L,7));break;case 5:var rt=null;switch(Tn.tag){case 26:rt=Tn.memoizedState;case 5:case 27:var St=Tn,Wt=St.type,le=St.pendingProps;if(rt?_p(rt):Ri(St.stateNode,Wt,le)){Wn=0,la=null;var Te=St.sibling;if(Te!==null)Tn=Te;else{var fe=St.return;fe!==null?(Tn=fe,Ec(fe)):Tn=null}break e}}Wn=0,la=null,ao(l,c,L,5);break;case 6:Wn=0,la=null,ao(l,c,L,6);break;case 8:Rh(),Ni=6;break t;default:throw Error(s(462))}}wc();break}catch(ze){li(l,ze)}while(!0);return Dr=ui=null,Ye.H=S,Ye.A=N,En=g,Tn!==null?0:(bn=null,On=0,pl(),Ni)}function wc(){for(;Tn!==null&&!V0();)Nl(Tn)}function Nl(l){var c=Ka(l.alternate,l,yo);l.memoizedProps=l.pendingProps,c===null?Ec(l):Tn=c}function Oh(l){var c=l,g=c.alternate;switch(c.tag){case 15:case 0:c=xf(g,c,c.pendingProps,c.type,void 0,On);break;case 11:c=xf(g,c,c.pendingProps,c.type.render,c.ref,On);break;case 5:yl(c);default:ct(g,c),c=Tn=Dh(c,yo),c=Ka(g,c,yo)}l.memoizedProps=l.pendingProps,c===null?Ec(l):Tn=c}function ao(l,c,g,S){Dr=ui=null,yl(c),Vl=null,Hu=0;var N=c.return;try{if(yf(l,N,c,g,On)){Ni=1,yu(l,st(g,l.current)),Tn=null;return}}catch(L){if(N!==null)throw Tn=N,L;Ni=1,yu(l,st(g,l.current)),Tn=null;return}c.flags&32768?(Rn||S===1?l=!0:Kl||(On&536870912)!==0?l=!1:(jr=l=!0,(S===2||S===9||S===3||S===6)&&(S=_s.current,S!==null&&S.tag===13&&(S.flags|=16384))),Dl(c,l)):Ec(c)}function Ec(l){var c=l;do{if((c.flags&32768)!==0){Dl(c,jr);return}l=c.return;var g=J(c.alternate,c,yo);if(g!==null){Tn=g;return}if(c=c.sibling,c!==null){Tn=c;return}Tn=c=l}while(c!==null);Ni===0&&(Ni=5)}function Dl(l,c){do{var g=it(l.alternate,l);if(g!==null){g.flags&=32767,Tn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(l=l.sibling,l!==null)){Tn=l;return}Tn=l=g}while(l!==null);Ni=6,Tn=null}function so(l,c,g,S,N,L,rt,St,Wt){l.cancelPendingCommit=null;do oo();while(ua!==0);if((En&6)!==0)throw Error(s(327));if(c!==null){if(c===l.current)throw Error(s(177));if(L=c.lanes|c.childLanes,L|=Gu,X(l,g,L,rt,St,Wt),l===bn&&(Tn=bn=null,On=0),Fu=c,al=l,vo=g,Pc=L,ud=N,Np=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,ra(Bf,function(){return Ef(),null})):(l.callbackNode=null,l.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=Ye.T,Ye.T=null,N=er(),An(2),rt=En,En|=4;try{be(l,c,g)}finally{En=rt,An(N),Ye.T=S}}ua=1,Ko(),ro(),Mh()}}function Ko(){if(ua===1){ua=0;var l=al,c=Fu,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=Ye.T,Ye.T=null;var S=er();An(2);var N=En;En|=4;try{pa(c,l),a0(l.containerInfo)}finally{En=N,An(S),Ye.T=g}}l.current=c,ua=2}}function ro(){if(ua===2){ua=0;var l=al,c=Fu,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=Ye.T,Ye.T=null;var S=er();An(2);var N=En;En|=4;try{Oe(l,c.alternate,c)}finally{En=N,An(S),Ye.T=g}}ua=3}}function Mh(){if(ua===4||ua===3){ua=0,Ep();var l=al,c=Fu,g=vo,S=Np;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ua=5:(ua=0,Fu=al=null,Nh(l,l.pendingLanes));var N=l.pendingLanes;if(N===0&&(il=null),U(g),c=c.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Uu,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=Ye.T,N=er(),An(2),Ye.T=null;try{for(var L=l.onRecoverableError,rt=0;rt<S.length;rt++){var St=S[rt];L(St.value,{componentStack:St.stack})}}finally{Ye.T=c,An(N)}}(vo&3)!==0&&oo(),ue(l),N=l.pendingLanes,(g&261930)!==0&&(N&42)!==0?l===Kf?Hn++:(Hn=0,Kf=l):Hn=0,yi&&zf(),Le(0)}}function Nh(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,je(c)))}function oo(){return Ko(),ro(),Mh(),Ef()}function Ef(){if(ua!==5)return!1;var l=al,c=Pc;Pc=0;var g=U(vo),S=32>g?32:g;g=Ye.T;var N=er();try{An(S),Ye.T=null,S=ud,ud=null;var L=al,rt=vo;if(ua=0,Fu=al=null,vo=0,(En&6)!==0)throw Error(s(331));var St=En;if(En|=4,Ch(L.current),Eh(L,L.current,rt,S),En=St,Le(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Uu,L)}catch{}return!0}finally{An(N),Ye.T=g,Nh(l,c)}}function zl(l,c,g){c=st(g,c),c=El(l.stateNode,c,2),l=Vr(l,c,2),l!==null&&(nt(l,2),ue(l))}function en(l,c,g){if(l.tag===3)zl(l,l,g);else for(;c!==null;){if(c.tag===3){zl(c,l,g);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(il===null||!il.has(S))){l=st(g,l),g=hc(2),S=Vr(c,g,2),S!==null&&(Wr(g,S,c,l),nt(S,2),ue(S));break}}c=c.return}}function Tc(l,c,g){var S=l.pingCache;if(S===null){S=l.pingCache=new Fs;var N=new Set;S.set(c,N)}else N=S.get(c),N===void 0&&(N=new Set,S.set(c,N));N.has(g)||(Yl=!0,N.add(g),l=t0.bind(null,l,c,g),c.then(l,l))}function t0(l,c,g){var S=l.pingCache;S!==null&&S.delete(c),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,bn===l&&(On&g)===g&&(Ni===4||Ni===3&&(On&62914560)===On&&300>Xa()-qf?(En&2)===0&&Gi(l,0):Hc|=g,Gc===On&&(Gc=0)),ue(l)}function e0(l,c){c===0&&(c=H()),l=Ds(l,c),l!==null&&(nt(l,c),ue(l))}function By(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),e0(l,g)}function Ly(l,c){var g=0;switch(l.tag){case 31:case 13:var S=l.stateNode,N=l.memoizedState;N!==null&&(g=N.retryLane);break;case 19:S=l.stateNode;break;case 22:S=l.stateNode._retryCache;break;default:throw Error(s(314))}S!==null&&S.delete(c),e0(l,g)}function ra(l,c){return kf(l,c)}function Gd(l,c,g,S){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Hs(l,c){var g=l.alternate;return g===null?(g=n(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Dh(l,c){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,c=g.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Yo(l,c,g,S,N,L){var rt=0;if(S=l,typeof l=="function")Tu(l)&&(rt=1);else if(typeof l=="string")rt=nr&&ga?Yh(l,g,wa.current)?26:wp(l)?27:5:nr?Yh(l,g,wa.current)?26:5:ga&&wp(l)?27:5;else t:switch(l){case Rf:return l=n(31,g,c,N),l.elementType=Rf,l.lanes=L,l;case Ou:return $s(g.children,N,L,c);case Mu:rt=8,N|=24;break;case Nu:return l=n(12,g,c,N|2),l.elementType=Nu,l.lanes=L,l;case Bh:return l=n(13,g,c,N),l.elementType=Bh,l.lanes=L,l;case Xo:return l=n(19,g,c,N),l.elementType=Xo,l.lanes=L,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case tr:rt=10;break t;case Af:rt=9;break t;case Cc:rt=11;break t;case Lh:rt=14;break t;case ts:rt=16,S=null;break t}rt=29,g=Error(s(130,l===null?"null":typeof l,"")),S=null}return c=n(rt,g,c,N),c.elementType=l,c.type=S,c.lanes=L,c}function $s(l,c,g,S){return l=n(7,l,S,c),l.lanes=g,l}function Pd(l,c,g){return l=n(6,l,null,c),l.lanes=g,l}function Vd(l){var c=n(18,null,null,0);return c.stateNode=l,c}function Id(l,c,g){return c=n(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function n0(l,c,g,S,N,L,rt,St,Wt){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=S,this.onUncaughtError=N,this.onCaughtError=L,this.onRecoverableError=rt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Wt,this.incompleteTransitions=new Map}function jl(l,c,g,S,N,L,rt,St,Wt,le,Te,fe){return l=new n0(l,c,g,rt,Wt,le,Te,fe,St),c=1,L===!0&&(c|=24),L=n(3,null,null,c),l.current=L,L.stateNode=l,c=oe(),c.refCount++,l.pooledCache=c,c.refCount++,L.memoizedState={element:S,isDehydrated:g,cache:c},Ei(L),l}function zh(l){return l?(l=uo,l):uo}function Tf(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=f(c),l=l!==null?d(l):null,l===null?null:Rc(l.stateNode)}function qd(l,c,g,S,N,L){N=zh(N),S.context===null?S.context=N:S.pendingContext=N,S=Wa(c),S.payload={element:g},L=L===void 0?null:L,L!==null&&(S.callback=L),g=Vr(l,S,c),g!==null&&(Ai(g,l,c),us(g,l,c))}function Cu(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function Cf(l,c){Cu(l,c),(l=l.alternate)&&Cu(l,c)}var vn={},jh=Lm(),ys=C2(),kh=Object.assign,Au=Symbol.for("react.element"),lo=Symbol.for("react.transitional.element"),Ru=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),Mu=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),Af=Symbol.for("react.consumer"),tr=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),Lh=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),Rf=Symbol.for("react.activity"),Fd=Symbol.for("react.memo_cache_sentinel"),Zo=Symbol.iterator,kl=Symbol.for("react.client.reference"),Bl=Array.isArray,Ye=jh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kd=t.rendererVersion,Of=t.rendererPackageName,Ac=t.extraDevToolsConfig,Rc=t.getPublicInstance,i0=t.getRootHostContext,Oc=t.getChildHostContext,Uh=t.prepareForCommit,a0=t.resetAfterCommit,Yd=t.createInstance;t.cloneMutableInstance;var Mf=t.appendInitialChild,vs=t.finalizeInitialChildren,es=t.shouldSetTextContent,Qo=t.createTextInstance;t.cloneMutableTextInstance;var Xd=t.scheduleTimeout,s0=t.cancelTimeout,xs=t.noTimeout,Qi=t.isPrimaryRenderer;t.warnsIfNotActing;var zn=t.supportsMutation,Gs=t.supportsPersistence,yi=t.supportsHydration,hn=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var ii=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var An=t.setCurrentUpdatePriority,er=t.getCurrentUpdatePriority,Mc=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var Du=t.shouldAttemptEagerTransition,Hh=t.detachDeletedInstance;t.requestPostPaintCallback;var Nf=t.maySuspendCommit,Nc=t.maySuspendCommitOnUpdate,Zd=t.maySuspendCommitInSyncRender,Ri=t.preloadInstance,Qd=t.startSuspendingCommit,Gh=t.suspendInstance;t.suspendOnActiveViewTransition;var r0=t.waitForCommitToBeReady;t.getSuspendedCommitReason;var zu=t.NotPendingTransition,ju=t.HostTransitionContext,Jd=t.resetFormInstance;t.bindToConsole;var Wd=t.supportsMicrotasks,$d=t.scheduleMicrotask,ma=t.supportsTestSelectors,Ji=t.findFiberRoot,Ph=t.getBoundingRect,Df=t.getTextContent,Ll=t.isHiddenSubtree,tp=t.matchAccessibilityRole,Jo=t.setFocusIfFocusable,Vh=t.setupIntersectionObserver,ep=t.appendChild,np=t.appendChildToContainer,o0=t.commitTextUpdate,l0=t.commitMount,u0=t.commitUpdate,c0=t.insertBefore,f0=t.insertInContainerBefore,h0=t.removeChild,ip=t.removeChildFromContainer,ap=t.resetTextContent,Uy=t.hideInstance,d0=t.hideTextInstance,p0=t.unhideInstance,m0=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopViewTransition,t.getCurrentGestureOffset,t.createViewTransitionInstance;var sp=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var g0=t.cloneInstance,rp=t.createContainerChildSet,op=t.appendChildToContainerChildSet,y0=t.finalizeContainerChildren,lp=t.replaceContainerChildren,v0=t.cloneHiddenInstance,up=t.cloneHiddenTextInstance,Ul=t.isSuspenseInstancePending,Ih=t.isSuspenseInstanceFallback,qh=t.getSuspenseInstanceFallbackErrorDetails,Fh=t.registerSuspenseInstanceRetry,x0=t.canHydrateFormStateMarker,cp=t.isFormStateMarkerMatching,b0=t.getNextHydratableSibling,S0=t.getNextHydratableSiblingAfterSingleton,_0=t.getFirstHydratableChild,w0=t.getFirstHydratableChildWithinContainer,E0=t.getFirstHydratableChildWithinActivityInstance,T0=t.getFirstHydratableChildWithinSuspenseInstance,fp=t.getFirstHydratableChildWithinSingleton,C0=t.canHydrateInstance,A0=t.canHydrateTextInstance,hp=t.canHydrateActivityInstance,R0=t.canHydrateSuspenseInstance,O0=t.hydrateInstance,Hy=t.hydrateTextInstance,dp=t.hydrateActivityInstance,M0=t.hydrateSuspenseInstance,N0=t.getNextHydratableInstanceAfterActivityInstance,pp=t.getNextHydratableInstanceAfterSuspenseInstance,D0=t.commitHydratedInstance,z0=t.commitHydratedContainer,Gy=t.commitHydratedActivityInstance,Py=t.commitHydratedSuspenseInstance,j0=t.finalizeHydratedChildren,zf=t.flushHydrationEvents;t.clearActivityBoundary;var mp=t.clearSuspenseBoundary;t.clearActivityBoundaryFromContainer;var Kh=t.clearSuspenseBoundaryFromContainer,k0=t.hideDehydratedBoundary,B0=t.unhideDehydratedBoundary,Dc=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var L0=t.validateHydratableInstance,gp=t.validateHydratableTextInstance,nr=t.supportsResources,Yh=t.isHostHoistableType,jf=t.getHoistableRoot,yp=t.getResource,vp=t.acquireResource,Hl=t.releaseResource,U0=t.hydrateHoistable,xp=t.mountHoistable,bp=t.unmountHoistable,Xh=t.createHoistableInstance,H0=t.prepareToCommitHoistables,Sp=t.mayResourceSuspendCommit,_p=t.preloadResource,G0=t.suspendResource,ga=t.supportsSingletons,Zh=t.resolveSingletonInstance,oa=t.acquireSingletonInstance,_a=t.releaseSingletonInstance,wp=t.isHostSingletonType,ku=t.isSingletonScope,Qh=[],Bu=-1,uo={},bs=Math.clz32?Math.clz32:T,Jh=Math.log,P0=Math.LN2,Wh=256,Lu=262144,zc=4194304,kf=ys.unstable_scheduleCallback,$h=ys.unstable_cancelCallback,V0=ys.unstable_shouldYield,Ep=ys.unstable_requestPaint,Xa=ys.unstable_now,td=ys.unstable_ImmediatePriority,I0=ys.unstable_UserBlockingPriority,Bf=ys.unstable_NormalPriority,ed=ys.unstable_IdlePriority,Tp=ys.log,q0=ys.unstable_setDisableYieldValue,Uu=null,Ss=null,Wi=typeof Object.is=="function"?Object.is:D,nd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Vy=Object.prototype.hasOwnProperty,id,co,Lf=!1,Cp=new WeakMap,Wo=[],fo=0,ai=null,Uf=0,ir=[],Ps=0,ar=null,La=1,Nr="",wa=x(null),$o=x(null),Ua=x(null),Hf=x(null),ya=null,vi=null,Rn=!1,ho=null,ns=!1,ad=Error(s(519)),sr=x(null),ui=null,Dr=null,F0=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(g,S){l.push(S)}};this.abort=function(){c.aborted=!0,l.forEach(function(g){return g()})}},Ea=ys.unstable_scheduleCallback,Iy=ys.unstable_NormalPriority,xi={$$typeof:tr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Gf=null,Qn=null,Za=!1,rr=!1,sd=!1,Gl=0,jc=null,Ap=0,tl=0,va=null,or=Ye.S;Ye.S=function(l,c){qu=Xa(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Li(l,c),or!==null&&or(l,c)};var Pl=x(null),xa=Error(s(460)),rd=Error(s(474)),lr=Error(s(542)),po={then:function(){}},is=null,Vl=null,Hu=0,Ha=Ui(!0),Rp=Ui(!1),Ga=[],mo=0,Gu=0,Vs=!1,od=!1,Pu=x(null),Il=x(0),_s=x(null),as=null,Pi=x(0),el=0,dn=null,Ve=null,rn=null,xn=!1,gn=!1,jn=!1,Qa=0,ur=0,zr=null,Op=0,Is={readContext:Zt,use:js,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};Is.useEffectEvent=ei;var Oi={readContext:Zt,use:js,useCallback:function(l,c){return fa().memoizedState=[l,c===void 0?null:c],l},useContext:Zt,useEffect:jo,useImperativeHandle:function(l,c,g){g=g!=null?g.concat([l]):null,wr(4194308,4,Tr.bind(null,c,l),g)},useLayoutEffect:function(l,c){return wr(4194308,4,l,c)},useInsertionEffect:function(l,c){wr(4,2,l,c)},useMemo:function(l,c){var g=fa();c=c===void 0?null:c;var S=l();if(jn){q(!0);try{l()}finally{q(!1)}}return g.memoizedState=[S,c],S},useReducer:function(l,c,g){var S=fa();if(g!==void 0){var N=g(c);if(jn){q(!0);try{g(c)}finally{q(!1)}}}else N=c;return S.memoizedState=S.baseState=N,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:N},S.queue=l,l=l.dispatch=Hd.bind(null,dn,l),[S.memoizedState,l]},useRef:function(l){var c=fa();return l={current:l},c.memoizedState=l},useState:function(l){l=ja(l);var c=l.queue,g=Uo.bind(null,dn,c);return c.dispatch=g,[l.memoizedState,g]},useDebugValue:Bo,useDeferredValue:function(l,c){var g=fa();return bl(g,l,c)},useTransition:function(){var l=ja(!1);return l=uc.bind(null,dn,l.queue,!0,!1),fa().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,g){var S=dn,N=fa();if(Rn){if(g===void 0)throw Error(s(407));g=g()}else{if(g=c(),bn===null)throw Error(s(349));(On&127)!==0||vh(S,c,g)}N.memoizedState=g;var L={value:g,getSnapshot:c};return N.queue=L,jo(rc.bind(null,S,L,l),[l]),S.flags|=2048,Ba(9,{destroy:void 0},Nn.bind(null,S,L,g,c),null),g},useId:function(){var l=fa(),c=bn.identifierPrefix;if(Rn){var g=Nr,S=La;g=(S&~(1<<32-bs(S)-1)).toString(32)+g,c="_"+c+"R_"+g,g=Qa++,0<g&&(c+="H"+g.toString(32)),c+="_"}else g=Op++,c="_"+c+"r_"+g.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:Sl,useFormState:zo,useActionState:zo,useOptimistic:function(l){var c=fa();c.memoizedState=c.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=_l.bind(null,dn,!0,g),g.dispatch=c,[l,c]},useMemoCache:vl,useCacheRefresh:function(){return fa().memoizedState=Sh.bind(null,dn)},useEffectEvent:function(l){var c=fa(),g={impl:l};return c.memoizedState=g,function(){if((En&2)!==0)throw Error(s(440));return g.impl.apply(void 0,arguments)}}},go={readContext:Zt,use:js,useCallback:lc,useContext:Zt,useEffect:ko,useImperativeHandle:pu,useInsertionEffect:Qr,useLayoutEffect:du,useMemo:xl,useReducer:fs,useRef:hu,useState:function(){return fs($a)},useDebugValue:Bo,useDeferredValue:function(l,c){var g=Qe();return mu(g,Ve.memoizedState,l,c)},useTransition:function(){var l=fs($a)[0],c=Qe().memoizedState;return[typeof l=="boolean"?l:Hi(l),c]},useSyncExternalStore:Kr,useId:Lo,useHostTransitionStatus:Sl,useFormState:Zr,useActionState:Zr,useOptimistic:function(l,c){var g=Qe();return Qs(g,Ve,l,c)},useMemoCache:vl,useCacheRefresh:gu};go.useEffectEvent=Yi;var ql={readContext:Zt,use:js,useCallback:lc,useContext:Zt,useEffect:ko,useImperativeHandle:pu,useInsertionEffect:Qr,useLayoutEffect:du,useMemo:xl,useReducer:Do,useRef:hu,useState:function(){return Do($a)},useDebugValue:Bo,useDeferredValue:function(l,c){var g=Qe();return Ve===null?bl(g,l,c):mu(g,Ve.memoizedState,l,c)},useTransition:function(){var l=Do($a)[0],c=Qe().memoizedState;return[typeof l=="boolean"?l:Hi(l),c]},useSyncExternalStore:Kr,useId:Lo,useHostTransitionStatus:Sl,useFormState:ka,useActionState:ka,useOptimistic:function(l,c){var g=Qe();return Ve!==null?Qs(g,Ve,l,c):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:vl,useCacheRefresh:gu};ql.useEffectEvent=Yi;var Pf={enqueueSetState:function(l,c,g){l=l._reactInternals;var S=gi(),N=Wa(S);N.payload=c,g!=null&&(N.callback=g),c=Vr(l,N,S),c!==null&&(Ai(c,l,S),us(c,l,S))},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var S=gi(),N=Wa(S);N.tag=1,N.payload=c,g!=null&&(N.callback=g),c=Vr(l,N,S),c!==null&&(Ai(c,l,S),us(c,l,S))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=gi(),S=Wa(g);S.tag=2,c!=null&&(S.callback=c),c=Vr(l,S,g),c!==null&&(Ai(c,l,g),us(c,l,g))}},ss=Error(s(461)),di=!1,Vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Vi=!1,Ii=!1,kc=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,$i=null,Mi=null,ta=!1,Jn=null,qs=8192,Bc={getCacheForType:function(l){var c=Zt(xi),g=c.data.get(l);return g===void 0&&(g=l(),c.data.set(l,g)),g},cacheSignal:function(){return Zt(xi).controller.signal}},cr=0,Lc=1,Uc=2,Vf=3,Fl=4;if(typeof Symbol=="function"&&Symbol.for){var Iu=Symbol.for;cr=Iu("selector.component"),Lc=Iu("selector.has_pseudo_class"),Uc=Iu("selector.role"),Vf=Iu("selector.test_id"),Fl=Iu("selector.text")}var Fs=typeof WeakMap=="function"?WeakMap:Map,En=0,bn=null,Tn=null,On=0,Wn=0,la=null,jr=!1,Kl=!1,Yl=!1,yo=0,Ni=0,nl=0,Xl=0,Hc=0,rs=0,Gc=0,If=null,ws=null,ld=!1,qf=0,qu=0,Zl=1/0,Ff=null,il=null,ua=0,al=null,Fu=null,vo=0,Pc=0,ud=null,Np=null,Hn=0,Kf=null;return vn.attemptContinuousHydration=function(l){if(l.tag===13||l.tag===31){var c=Ds(l,67108864);c!==null&&Ai(c,l,67108864),Cf(l,67108864)}},vn.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13||l.tag===31){var c=gi();c=at(c);var g=Ds(l,c);g!==null&&Ai(g,l,c),Cf(l,c)}},vn.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var c=M(l.pendingLanes);if(c!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;c;){var g=1<<31-bs(c);l.entanglements[1]|=g,c&=~g}ue(l),(En&6)===0&&(Zl=Xa()+500,Le(0))}}break;case 31:case 13:c=Ds(l,2),c!==null&&Ai(c,l,2),Ah(),Cf(l,2)}},vn.batchedUpdates=function(l,c){return l(c)},vn.createComponentSelector=function(l){return{$$typeof:cr,value:l}},vn.createContainer=function(l,c,g,S,N,L,rt,St,Wt,le){return jl(l,c,!1,null,g,S,L,null,rt,St,Wt,le)},vn.createHasPseudoClassSelector=function(l){return{$$typeof:Lc,value:l}},vn.createHydrationContainer=function(l,c,g,S,N,L,rt,St,Wt,le,Te,fe,ze,cn){return l=jl(g,S,!0,l,N,L,St,cn,Wt,le,Te,fe),l.context=zh(null),g=l.current,S=gi(),S=at(S),N=Wa(S),N.callback=c??null,Vr(g,N,S),c=S,l.current.lanes=c,nt(l,c),ue(l),l},vn.createPortal=function(l,c,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:S==null?null:""+S,children:l,containerInfo:c,implementation:g}},vn.createRoleSelector=function(l){return{$$typeof:Uc,value:l}},vn.createTestNameSelector=function(l){return{$$typeof:Vf,value:l}},vn.createTextSelector=function(l){return{$$typeof:Fl,value:l}},vn.defaultOnCaughtError=function(l){console.error(l)},vn.defaultOnRecoverableError=function(l){nd(l)},vn.defaultOnUncaughtError=function(l){nd(l)},vn.deferredUpdates=function(l){var c=Ye.T,g=er();try{return An(32),Ye.T=null,l()}finally{An(g),Ye.T=c}},vn.discreteUpdates=function(l,c,g,S,N){var L=Ye.T,rt=er();try{return An(2),Ye.T=null,l(c,g,S,N)}finally{An(rt),Ye.T=L,En===0&&(Zl=Xa()+500)}},vn.findAllNodes=gs,vn.findBoundingRects=function(l,c){if(!ma)throw Error(s(363));c=gs(l,c),l=[];for(var g=0;g<c.length;g++)l.push(Ph(c[g]));for(c=l.length-1;0<c;c--){g=l[c];for(var S=g.x,N=S+g.width,L=g.y,rt=L+g.height,St=c-1;0<=St;St--)if(c!==St){var Wt=l[St],le=Wt.x,Te=le+Wt.width,fe=Wt.y,ze=fe+Wt.height;if(S>=le&&L>=fe&&N<=Te&&rt<=ze){l.splice(c,1);break}else if(S!==le||g.width!==Wt.width||ze<L||fe>rt){if(!(L!==fe||g.height!==Wt.height||Te<S||le>N)){le>S&&(Wt.width+=le-S,Wt.x=S),Te<N&&(Wt.width=N-le),l.splice(c,1);break}}else{fe>L&&(Wt.height+=fe-L,Wt.y=L),ze<rt&&(Wt.height=rt-fe),l.splice(c,1);break}}}return l},vn.findHostInstance=Tf,vn.findHostInstanceWithNoPortals=function(l){return l=f(l),l=l!==null?p(l):null,l===null?null:Rc(l.stateNode)},vn.findHostInstanceWithWarning=function(l){return Tf(l)},vn.flushPassiveEffects=oo,vn.flushSyncFromReconciler=function(l){var c=En;En|=1;var g=Ye.T,S=er();try{if(An(2),Ye.T=null,l)return l()}finally{An(S),Ye.T=g,En=c,(En&6)===0&&Le(0)}},vn.flushSyncWork=Ah,vn.focusWithin=function(l,c){if(!ma)throw Error(s(363));for(l=Ol(l),c=Sc(l,c),c=Array.from(c),l=0;l<c.length;){var g=c[l++],S=g.tag;if(!Ll(g)){if((S===5||S===26||S===27)&&Jo(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},vn.getFindAllNodesFailureDescription=function(l,c){if(!ma)throw Error(s(363));var g=0,S=[];l=[Ol(l),0];for(var N=0;N<l.length;){var L=l[N++],rt=L.tag,St=l[N++],Wt=c[St];if((rt!==5&&rt!==26&&rt!==27||!Ll(L))&&(Ml(L,Wt)&&(S.push(bc(Wt)),St++,St>g&&(g=St)),St<c.length))for(L=L.child;L!==null;)l.push(L,St),L=L.sibling}if(g<c.length){for(l=[];g<c.length;g++)l.push(bc(c[g]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},vn.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return Rc(l.child.stateNode);default:return l.child.stateNode}},vn.injectIntoDevTools=function(){var l={bundleType:0,version:Kd,rendererPackageName:Of,currentDispatcherRef:Ye,reconcilerVersion:"19.2.0"};if(Ac!==null&&(l.rendererConfig=Ac),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Uu=c.inject(l),Ss=c}catch{}l=!!c.checkDCE}}return l},vn.isAlreadyRendering=function(){return(En&6)!==0},vn.observeVisibleRects=function(l,c,g,S){if(!ma)throw Error(s(363));l=gs(l,c);var N=Vh(l,g,S).disconnect;return{disconnect:function(){N()}}},vn.shouldError=function(){return null},vn.shouldSuspend=function(){return!1},vn.startHostTransition=function(l,c,g,S){if(l.tag!==5)throw Error(s(476));var N=mf(l).queue;uc(l,N,c,zu,g===null?i:function(){var L=mf(l);return L.next===null&&(L=l.alternate.memoizedState),Ho(l,L.next.queue,{},gi()),g(S)})},vn.updateContainer=function(l,c,g,S){var N=c.current,L=gi();return qd(N,L,l,c,g,S),L},vn.updateContainerSync=function(l,c,g,S){return qd(c.current,2,l,c,g,S),2},vn},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})})(G1)),G1.exports}var K3;function yR(){return K3||(K3=1,H1.exports=gR()),H1.exports}var vR=yR();const xR=lh(vR);var P1={exports:{}},Xu={};var Y3;function bR(){return Y3||(Y3=1,Xu.ConcurrentRoot=1,Xu.ContinuousEventPriority=8,Xu.DefaultEventPriority=32,Xu.DiscreteEventPriority=2,Xu.IdleEventPriority=268435456,Xu.LegacyRoot=0,Xu.NoEventPriority=0),Xu}var X3;function SR(){return X3||(X3=1,P1.exports=bR()),P1.exports}var Cy=SR();const Z3={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Q3=!1,J3=!1;const iy=".react-konva-event",_R=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,wR=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,ER={};function Ay(e,t,n=ER){if(!Q3&&"zIndex"in t&&(console.warn(wR),Q3=!0),!J3&&t.draggable){var i=t.x!==void 0||t.y!==void 0,s=t.onDragEnd||t.onDragMove;i&&!s&&(console.warn(_R),J3=!0)}for(var o in n)if(!Z3[o]){var u=o.slice(0,2)==="on",f=n[o]!==t[o];if(u&&f){var d=o.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e.off(d,n[o])}var p=!t.hasOwnProperty(o);p&&e.setAttr(o,void 0)}var y=t._useStrictMode,v={},x=!1;const _={};for(var o in t)if(!Z3[o]){var u=o.slice(0,2)==="on",E=n[o]!==t[o];if(u&&E){var d=o.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t[o]&&(_[d]=t[o])}!u&&(t[o]!==n[o]||y&&t[o]!==e.getAttr(o))&&(x=!0,v[o]=t[o])}x&&(e.setAttrs(v),uf(e));for(var d in _)e.off(d+iy),e.on(d+iy,_[d])}function uf(e){if(!Me.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var V1=C2();const _6={},TR={};Od.Node.prototype._applyProps=Ay;let w6=Cy.DefaultEventPriority;function CR(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),uf(e)}function AR(e,t,n){let i=Od[e];i||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=Od.Group);const s={},o={};for(var u in t)if(u!=="ref"){var f=u.slice(0,2)==="on";f?o[u]=t[u]:s[u]=t[u]}const d=new i(s);return Ay(d,o),d}function RR(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function OR(e,t,n){return!1}function MR(e){return e}function NR(){return null}function DR(){return null}function zR(e,t,n,i){return TR}function jR(){}function kR(e){}function BR(e,t){return!1}function LR(){return _6}function UR(){return _6}const HR=setTimeout,GR=clearTimeout,PR=!0,VR=e=>{e()},IR=-1;function qR(e,t){return!1}const FR=!1,KR=!1,YR=!0,XR=!1,ZR=!1;function QR(e,t){t.parent===e?t.moveToTop():e.add(t),uf(e)}function JR(e,t){t.parent===e?t.moveToTop():e.add(t),uf(e)}function E6(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),uf(e)}function WR(e,t,n){E6(e,t,n)}function $R(e,t){t.destroy(),t.off(iy),uf(e)}function tO(e,t){t.destroy(),t.off(iy),uf(e)}function eO(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function nO(e,t,n){}function iO(e,t,n,i){Ay(e,i,n)}function aO(e){e.hide(),uf(e)}function sO(e){}function rO(e,t){(t.visible==null||t.visible)&&e.show()}function oO(e,t){}function lO(e){}function uO(){}function cO(){return null}function fO(){}function hO(){}function dO(){return Cy.DefaultEventPriority}function pO(){}function mO(){return null}function gO(e){w6=e}function yO(){return w6}function vO(){return Cy.DiscreteEventPriority}function xO(){return!1}function bO(){}function SO(){return null}function _O(){return-1.1}function wO(){}function EO(){return!1}function TO(){return!0}function CO(){}function AO(){}function RO(){return null}const OO=null,MO=Ce.createContext(null);function NO(){}const DO=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:MO,NotPendingTransition:OO,afterActiveInstanceBlur:hO,appendChild:QR,appendChildToContainer:JR,appendInitialChild:CR,beforeActiveInstanceBlur:fO,cancelTimeout:GR,clearContainer:lO,commitMount:nO,commitTextUpdate:eO,commitUpdate:iO,createInstance:AR,createTextInstance:RR,detachDeletedInstance:uO,finalizeInitialChildren:OR,getChildHostContext:UR,getCurrentEventPriority:dO,getCurrentUpdatePriority:yO,getInstanceFromNode:cO,getInstanceFromScope:mO,getPublicInstance:MR,getRootHostContext:LR,hideInstance:aO,hideTextInstance:sO,idlePriority:V1.unstable_IdlePriority,insertBefore:E6,insertInContainerBefore:WR,isPrimaryRenderer:FR,maySuspendCommit:EO,noTimeout:IR,now:V1.unstable_now,preloadInstance:TO,prepareForCommit:NR,preparePortalMount:DR,prepareScopeUpdate:pO,prepareUpdate:zR,removeChild:$R,removeChildFromContainer:tO,requestPostPaintCallback:wO,resetAfterCommit:jR,resetFormInstance:NO,resetTextContent:kR,resolveEventTimeStamp:_O,resolveEventType:SO,resolveUpdatePriority:vO,run:V1.unstable_runWithPriority,scheduleMicrotask:VR,scheduleTimeout:HR,setCurrentUpdatePriority:gO,shouldAttemptEagerTransition:xO,shouldDeprioritizeSubtree:BR,shouldSetTextContent:qR,startSuspendingCommit:CO,supportsHydration:ZR,supportsMicrotasks:PR,supportsMutation:YR,supportsPersistence:XR,suspendInstance:AO,trackSchedulerEvent:bO,unhideInstance:rO,unhideTextInstance:oO,waitForCommitToBeReady:RO,warnsIfNotActing:KR},Symbol.toStringTag,{value:"Module"}));function T6(e,t,n){if(!e)return;if(n(e)===!0)return e;let i=e.child;for(;i;){const s=T6(i,t,n);if(s)return s;i=i.sibling}}function C6(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const L2=C6(ut.createContext(null));class A6 extends ut.Component{render(){return ut.createElement(L2.Provider,{value:this._reactInternals},this.props.children)}}function zO(){const e=ut.useContext(L2);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=ut.useId();return ut.useMemo(()=>{for(const n of[e,e?.alternate]){if(!n)continue;const i=T6(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===t)return!0;o=o.next}});if(i)return i}},[e,t])}const jO=Symbol.for("react.context"),kO=e=>e!==null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===jO;function BO(){const e=zO(),[t]=ut.useState(()=>new Map);t.clear();let n=e;for(;n;){const i=n.type;kO(i)&&i!==L2&&!t.has(i)&&t.set(i,ut.use(C6(i))),n=n.return}return t}function LO(){const e=BO();return ut.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>i=>ut.createElement(t,null,ut.createElement(n.Provider,{...i,value:e.get(n)})),t=>ut.createElement(A6,{...t})),[e])}if(Ce.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function UO(e){const t=Ce.useRef({});return Ce.useLayoutEffect(()=>{t.current=e}),Ce.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const HO=()=>{const e=Ce.useRef(0);return Ce.useMemo(()=>{e.current++},[]),e.current>1},GO=e=>{const t=Ce.useRef(null),n=Ce.useRef(null),i=Ce.useRef(null),s=UO(e),o=LO(),u=Ce.useRef(null),f=y=>{const{forwardedRef:v}=e;v&&(typeof v=="function"?v(y):v.current=y)},d=HO(),p=()=>{f(null),Tg.updateContainer(null,i.current,null),n.current?.destroy(),n.current=null};return Ce.useLayoutEffect(()=>(u.current&&(clearTimeout(u.current),u.current=null),n.current?f(n.current):(n.current=new Od.Stage({width:e.width,height:e.height,container:t.current}),f(n.current),i.current=Tg.createContainer(n.current,Cy.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Tg.updateContainer(Ce.createElement(o,{},e.children),i.current,null,()=>{})),()=>{d?u.current=setTimeout(p,0):p()}),[]),Ce.useLayoutEffect(()=>{f(n.current),Ay(n.current,e,s),Tg.updateContainer(Ce.createElement(o,{},e.children),i.current,null)}),Ce.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},PO="Layer",VO="Group",IO="Rect",I1="Circle",yd="Line",qO="Image",FO="Text",Tg=xR(DO),KO=Ce.forwardRef((e,t)=>Ce.createElement(A6,{},Ce.createElement(GO,{...e,forwardedRef:t}))),YO=({stageRef:e,groupRef:t,stageSize:n,imageObj:i,imageLayout:s,annotations:o,selectedIds:u,filterText:f,tool:d,tempAnnotation:p,currentPolyPoints:y,currentPenPoints:v,mousePos:x,eraserSize:_,color:E,onWheel:T,onClick:M,onMouseDown:O,onMouseMove:R,onMouseUp:B,onDblClick:H,onVertexDrag:F,onContextMenu:nt})=>{const X=ut.useMemo(()=>{if(!f)return o;const j=f.toLowerCase();return o.filter(P=>P.label?.toLowerCase().includes(j))},[o,f]),z=()=>{switch(d){case"pan":return"grab";case"eraser":return"crosshair";case"ai-box":case"box":return"crosshair";case"poly":return"crosshair";case"pen":return"crosshair";case"knife":return"crosshair";default:return"default"}};return W.jsx(KO,{ref:e,width:n.width,height:n.height,onWheel:T,onClick:M,onDblClick:H,onMouseDown:O,onMouseMove:R,onMouseUp:B,onContextMenu:j=>{j.evt.preventDefault(),nt&&nt(j)},style:{background:"#1a1a2e",cursor:z()},children:W.jsx(PO,{children:W.jsxs(VO,{ref:t,x:s.x,y:s.y,scaleX:s.scale,scaleY:s.scale,children:[i&&W.jsx(qO,{image:i,width:i.naturalWidth,height:i.naturalHeight}),X.map((j,P)=>{const at=u&&u.includes(j.id);if(!j.points||j.points.length<4||j.points.some(Q=>typeof Q!="number"||!isFinite(Q)))return null;const q=j.isPenDrawn===!0,D=j.color||G4(j.label||"unknown"),Z=at?"#FF0040":D,K=q?null:at?`${D}4D`:`${D}1A`;return W.jsxs(Ce.Fragment,{children:[W.jsx(yd,{points:j.points,stroke:Z,strokeWidth:at?3:2,fill:K,fillEnabled:!q,closed:!q,lineCap:"round",lineJoin:"round",hitStrokeWidth:20}),j.label&&j.points.length>=2&&W.jsx(FO,{x:j.points[0],y:j.points[1]-18,text:j.label+(j.confidence?` (${(j.confidence*100).toFixed(0)}%)`:""),fontSize:12,fill:"#fff",padding:2}),at&&j.points.map((Q,tt)=>tt%2!==0?null:W.jsx(I1,{x:j.points[tt],y:j.points[tt+1],radius:5,fill:"#fff",stroke:Z,strokeWidth:2,draggable:!0,onDragMove:st=>F(st,j.id,tt)},`vertex-${P}-${tt}`))]},j.id||P)}),p&&p.width>0&&p.height>0&&W.jsx(IO,{x:p.x,y:p.y,width:p.width,height:p.height,stroke:d==="ai-box"?"#00ff00":E,strokeWidth:2,dash:[5,5],fill:d==="ai-box"?"rgba(0, 255, 0, 0.1)":"rgba(255, 255, 255, 0.1)"}),y.length>0&&W.jsxs(W.Fragment,{children:[d==="poly"&&x&&W.jsx(yd,{points:[...y.flatMap(j=>[j.x,j.y]),x.x,x.y],strokeEnabled:!1,fill:E,opacity:.2,closed:!0}),W.jsx(yd,{points:y.flatMap(j=>[j.x,j.y]),stroke:E,strokeWidth:2,lineCap:"round",lineJoin:"round"}),d==="poly"&&x&&W.jsx(yd,{points:[y[y.length-1].x,y[y.length-1].y,x.x,x.y],stroke:E,strokeWidth:2,dash:[6,3],opacity:.7,lineCap:"round"}),d==="poly"&&x&&y.length>=3&&(()=>{const j=y[0];return Math.sqrt(Math.pow(x.x-j.x,2)+Math.pow(x.y-j.y,2))<15?W.jsx(yd,{points:[y[y.length-1].x,y[y.length-1].y,j.x,j.y],stroke:"#00ff00",strokeWidth:2,dash:[4,2],opacity:.9}):null})(),y.map((j,P)=>W.jsx(I1,{x:j.x,y:j.y,radius:4,fill:"#ffffff",stroke:"#888888",strokeWidth:1,shadowColor:"#000",shadowBlur:2,shadowOpacity:.3},`poly-pt-${P}`))]}),v.length>2&&W.jsx(yd,{points:v,stroke:d==="knife"?"#ff0000":d==="ai-box"?"#00ff00":E,strokeWidth:d==="knife"?3:2,dash:d==="knife"?[8,4]:void 0,lineCap:"round",lineJoin:"round"}),d==="eraser"&&x&&W.jsx(I1,{x:x.x,y:x.y,radius:_/s.scale,stroke:"#ff0000",strokeWidth:2,dash:[4,4],listening:!1})]})})})};function R6(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=R6(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Mn(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=R6(e))&&(i&&(i+=" "),i+=t);return i}const O6=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const XO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ZO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const W3=e=>{const t=ZO(e);return t.charAt(0).toUpperCase()+t.slice(1)};var QO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const WO=ut.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...f},d)=>ut.createElement("svg",{ref:d,...QO,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:O6("lucide",s),...!o&&!JO(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>ut.createElement(p,y)),...Array.isArray(o)?o:[o]]));const Sn=(e,t)=>{const n=ut.forwardRef(({className:i,...s},o)=>ut.createElement(WO,{ref:o,iconNode:t,className:O6(`lucide-${XO(W3(e))}`,`lucide-${e}`,i),...s}));return n.displayName=W3(e),n};const $O=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],U2=Sn("bot",$O);const tM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eM=Sn("check",tM);const nM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vg=Sn("chevron-down",nM);const iM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$3=Sn("chevron-left",iM);const aM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qv=Sn("chevron-right",aM);const sM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],t5=Sn("circle-alert",sM);const rM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e5=Sn("clock",rM);const oM=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],M6=Sn("cog",oM);const lM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],N6=Sn("download",lM);const uM=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],D6=Sn("eraser",uM);const cM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fM=Sn("file-exclamation-point",cM);const hM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],q1=Sn("file-text",hM);const dM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],n5=Sn("folder-open",dM);const pM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],i5=Sn("folder",pM);const mM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gM=Sn("globe",mM);const yM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],vM=Sn("graduation-cap",yM);const xM=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],bM=Sn("hand",xM);const SM=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],_M=Sn("image-plus",SM);const wM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],a5=Sn("image",wM);const EM=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],TM=Sn("monitor",EM);const CM=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],AM=Sn("mouse-pointer",CM);const RM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],OM=Sn("palette",RM);const MM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],z6=Sn("pencil",MM);const NM=[["path",{d:"M10.83 2.38a2 2 0 0 1 2.34 0l8 5.74a2 2 0 0 1 .73 2.25l-3.04 9.26a2 2 0 0 1-1.9 1.37H7.04a2 2 0 0 1-1.9-1.37L2.1 10.37a2 2 0 0 1 .73-2.25z",key:"2hea0t"}]],DM=Sn("pentagon",NM);const zM=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],jM=Sn("redo-2",zM);const kM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],BM=Sn("refresh-cw",kM);const LM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UM=Sn("rotate-ccw",LM);const HM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GM=Sn("save",HM);const PM=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],VM=Sn("scan",PM);const IM=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],qM=Sn("scissors",IM);const FM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KM=Sn("search",FM);const YM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H2=Sn("settings",YM);const XM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZM=Sn("sparkles",XM);const QM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],JM=Sn("square",QM);const WM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Fv=Sn("tag",WM);const $M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tN=Sn("target",$M);const eN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G2=Sn("trash-2",eN);const nN=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],iN=Sn("trending-down",nN);const aN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sN=Sn("trending-up",aN);const rN=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],oN=Sn("undo-2",rN);const lN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P2=Sn("upload",lN);const uN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cN=Sn("x",uN),fN=({imageFile:e,onImageUpload:t,onCloseImage:n,tool:i,setTool:s,eraserSize:o,setEraserSize:u,textPrompt:f,setTextPrompt:d,models:p,selectedModel:y,onSelectModel:v,onOpenModelManager:x,onOpenTrainModal:_,onDetectAll:E,onUndo:T,onRedo:M,onClearAll:O,canUndo:R,canRedo:B,onLoadAnnotations:H,onExport:F,onExportCurrent:nt,isLeftPanelOpen:X,isRightPanelOpen:z,onToggleLeftPanel:j,onToggleRightPanel:P,isProcessing:at,saveMessage:U})=>{ut.useRef(null);const q=ut.useRef(null),[D,Z]=ut.useState(!1),[K,Q]=ut.useState(!1),[tt,st]=ut.useState(!1),[gt,Y]=ut.useState("toon"),$=ut.useRef(null),ft=ut.useRef(null),pt=ut.useRef(null),yt=[{id:"select",icon:AM,label:"Select"},{id:"pan",icon:bM,label:"Pan"},{id:"box",icon:JM,label:"Box"},{id:"poly",icon:DM,label:"Polygon"},{id:"pen",icon:z6,label:"Pen"},{id:"ai-box",icon:U2,label:"AI Box"},{id:"knife",icon:qM,label:"Knife"},{id:"eraser",icon:D6,label:"Eraser"}],Yt=[{id:"toon",label:"TOON (.toon)",ext:".toon"},{id:"yolo",label:"YOLO (.txt)",ext:".txt"},{id:"coco",label:"COCO (.json)",ext:".json"},{id:"voc",label:"Pascal VOC (.xml)",ext:".xml"}],Qt=[{id:"toon",label:"TOON (.toon)",ext:".toon, .json"},{id:"yolo",label:"YOLO (.txt)",ext:".txt"},{id:"coco",label:"COCO (.json)",ext:".json"},{id:"voc",label:"Pascal VOC (.xml)",ext:".xml"}],Ht=yt.find(et=>et.id===i)||yt[0],Ct=Ht.icon;ut.useEffect(()=>{const et=ht=>{$.current&&!$.current.contains(ht.target)&&Z(!1),ft.current&&!ft.current.contains(ht.target)&&Q(!1),pt.current&&!pt.current.contains(ht.target)&&st(!1)};return(D||K||tt)&&document.addEventListener("mousedown",et),()=>{document.removeEventListener("mousedown",et)}},[D,K,tt]);const Ee=et=>{s(et),Z(!1)},ve=et=>{Y(et),st(!1),setTimeout(()=>{q.current&&q.current.click()},0)},de=et=>{nt&&nt(et),Q(!1)},Ae="flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200",V="bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white",Rt="bg-indigo-600 text-white hover:bg-indigo-500",kt="bg-red-600/20 text-red-400 hover:bg-red-600/40 hover:text-red-300",ot="opacity-50 cursor-not-allowed";return W.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#161922] border-b border-gray-700 h-14",children:[W.jsx("button",{className:Mn(Ae,V,X&&"bg-indigo-600/30 text-indigo-400"),onClick:j,title:X?"Close File Panel":"Open File Panel",children:X?W.jsx($3,{size:18}):W.jsx(qv,{size:18})}),W.jsx("div",{className:"w-px h-6 bg-gray-700"}),W.jsx("input",{ref:q,type:"file",accept:Qt.find(et=>et.id===gt)?.ext||".toon,.json,.txt,.xml",onChange:et=>{const ht=et.target.files?.[0];if(!ht)return;const zt=Qt.find(Nt=>Nt.id===gt),Ft=zt?.ext.split(",").map(Nt=>Nt.trim().toLowerCase())||[],xt="."+ht.name.split(".").pop().toLowerCase();if(!Ft.some(Nt=>Nt===xt)){alert(`Invalid file type!
Selected format: ${zt?.label}
Expected extensions: ${zt?.ext}
Your file: ${ht.name}`),et.target.value="";return}H&&H(ht,gt),et.target.value=""},style:{display:"none"}}),W.jsxs("div",{className:"relative",ref:pt,children:[W.jsxs("button",{className:Mn(Ae,V,tt&&"bg-gray-700",!e&&ot),onClick:()=>st(!tt),disabled:!e,title:"Import annotations from file",children:[W.jsx(P2,{size:16}),W.jsx("span",{className:"hidden sm:inline",children:"Import"}),W.jsx(Vg,{size:14})]}),tt&&W.jsx("div",{className:"absolute top-full left-0 mt-1 bg-[#1f2937] border border-gray-600 rounded-lg shadow-xl z-50 min-w-[160px] py-1",children:Qt.map(et=>W.jsx("button",{className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-indigo-600/30 hover:text-white transition-colors",onClick:()=>ve(et.id),children:et.label},et.id))})]}),W.jsx("div",{className:"w-px h-6 bg-gray-700"}),W.jsxs("div",{className:"relative",ref:$,children:[W.jsxs("button",{className:Mn("flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all","bg-gray-800 text-gray-200 hover:bg-gray-700",D&&"ring-2 ring-indigo-500"),onClick:()=>Z(!D),children:[W.jsx(Ct,{size:18,className:"text-indigo-400"}),W.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:Ht.label}),W.jsx(Vg,{size:14,className:Mn("transition-transform",D&&"rotate-180")})]}),D&&W.jsx("div",{className:"absolute top-full left-0 mt-1 bg-[#1f2937] border border-gray-600 rounded-lg shadow-xl z-50 min-w-[140px] py-1",children:yt.map(et=>{const ht=et.icon;return W.jsxs("button",{className:Mn("w-full flex items-center gap-2 px-3 py-2 text-sm transition-colors",i===et.id?"bg-indigo-600/40 text-indigo-300":"text-gray-300 hover:bg-gray-700"),onClick:()=>Ee(et.id),children:[W.jsx(ht,{size:16}),W.jsx("span",{children:et.label})]},et.id)})})]}),W.jsx("input",{type:"text",className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent w-40 sm:w-52",placeholder:"Class prompt (e.g., 'car')",value:f,onChange:et=>d(et.target.value)}),i==="eraser"&&W.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[W.jsxs("span",{children:["Size: ",o,"px"]}),W.jsx("input",{type:"range",min:"5",max:"100",value:o,onChange:et=>u(parseInt(et.target.value)),className:"w-20 accent-indigo-500"})]}),W.jsx("div",{className:"w-px h-6 bg-gray-700"}),W.jsxs("button",{className:Mn(Ae,Rt,(at||!e)&&ot),onClick:E,disabled:at||!e,title:f?.trim()?"Segment by text":"Detect all objects",children:[at?W.jsx("div",{className:"spinner w-4 h-4"}):W.jsx(VM,{size:16}),W.jsx("span",{className:"hidden sm:inline",children:f?.trim()?"Segment":"Detect"})]}),W.jsxs("select",{className:"px-2 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer max-w-[140px]",value:y||"",onChange:et=>v&&v(et.target.value),children:[W.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Model..."}),p&&p.map(et=>W.jsx("option",{value:et.id,children:et.name},et.id))]}),W.jsx("button",{className:Mn(Ae,"bg-transparent text-gray-400 hover:text-white p-1.5"),onClick:x,title:"Manage Models",children:W.jsx(H2,{size:18})}),W.jsx("div",{className:"w-px h-6 bg-gray-700"}),W.jsx("button",{className:Mn(Ae,V,!R&&ot),onClick:T,disabled:!R,title:"Undo (Ctrl+Z)",children:W.jsx(oN,{size:16})}),W.jsx("button",{className:Mn(Ae,V,!B&&ot),onClick:M,disabled:!B,title:"Redo (Ctrl+Y)",children:W.jsx(jM,{size:16})}),W.jsx("button",{className:Mn(Ae,kt),onClick:O,title:"Clear All Annotations",children:W.jsx(G2,{size:16})}),W.jsx("div",{className:"w-px h-6 bg-gray-700"}),W.jsxs("div",{className:"relative",ref:ft,children:[W.jsxs("button",{className:Mn(Ae,V,K&&"bg-gray-700",!e&&ot),onClick:()=>Q(!K),disabled:!e,title:"Export annotations",children:[W.jsx(N6,{size:16}),W.jsx("span",{className:"hidden sm:inline",children:"Export"}),W.jsx(Vg,{size:14})]}),K&&W.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-[#1f2937] border border-gray-600 rounded-lg shadow-xl z-50 min-w-[180px] py-1",children:[W.jsx("div",{className:"px-3 py-1.5 text-xs text-gray-500 uppercase tracking-wider border-b border-gray-600",children:"Export Current Image"}),Yt.map(et=>W.jsx("button",{className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-indigo-600/30 hover:text-white transition-colors",onClick:()=>de(et.id),children:et.label},`current-${et.id}`))]})]}),W.jsxs("button",{className:Mn(Ae,V),onClick:_,title:"Train Model",children:[W.jsx(vM,{size:16}),W.jsx("span",{className:"hidden sm:inline",children:"Train"})]}),W.jsx("div",{className:"flex-1"}),W.jsx("button",{className:Mn(Ae,V,z&&"bg-indigo-600/30 text-indigo-400"),onClick:P,title:z?"Close Right Sidebar":"Open Right Sidebar",children:z?W.jsx(qv,{size:18}):W.jsx($3,{size:18})}),U&&W.jsx("div",{className:Mn("fixed top-16 left-1/2 -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg text-sm font-medium z-50 animate-pulse",U.type==="success"&&"bg-green-600/90 text-white",U.type==="error"&&"bg-red-600/90 text-white",U.type==="info"&&"bg-indigo-600/90 text-white"),children:U.text||U})]})},hN=({annotations:e,filterText:t,setFilterText:n,onSelectLabel:i,onRenameLabel:s,onToggle:o,docked:u=!1})=>{const[f,d]=ut.useState({x:20,y:80}),[p,y]=ut.useState({width:280,height:200}),[v,x]=ut.useState(!1),[_,E]=ut.useState(!1),[T,M]=ut.useState(!1),[O,R]=ut.useState(null),[B,H]=ut.useState(""),F=ut.useRef({x:0,y:0}),nt=ut.useRef({x:0,y:0,width:0,height:0}),X=ut.useMemo(()=>{const q={};return e.forEach(D=>{const Z=D.label||"unknown";q[Z]=(q[Z]||0)+1}),Object.entries(q).sort((D,Z)=>Z[1]-D[1])},[e]),z=(q,D)=>{q.stopPropagation(),R(D),H(D)},j=()=>{O&&B&&O!==B&&s(O,B),R(null)},P=q=>{q.key==="Enter"&&j(),q.key==="Escape"&&R(null)};ut.useEffect(()=>{if(u)return;const q=Z=>{if(v&&d({x:Z.clientX-F.current.x,y:Z.clientY-F.current.y}),_){const K=Math.max(200,nt.current.width+(Z.clientX-nt.current.x)),Q=Math.max(100,nt.current.height+(Z.clientY-nt.current.y));y({width:K,height:Q})}},D=()=>{x(!1),E(!1)};return(v||_)&&(window.addEventListener("mousemove",q),window.addEventListener("mouseup",D)),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",D)}},[v,_,u]);const at=q=>{u||(F.current={x:q.clientX-f.x,y:q.clientY-f.y},x(!0))},U=q=>{u||(q.stopPropagation(),nt.current={x:q.clientX,y:q.clientY,width:p.width,height:p.height},E(!0))};return W.jsxs("div",{className:Mn("flex flex-col bg-[#161922] text-gray-200",u?"h-full":"fixed rounded-lg border border-gray-700 shadow-xl"),style:u?{}:{left:f.x,top:f.y,width:p.width,height:T?"auto":p.height},children:[W.jsxs("div",{className:Mn("flex items-center gap-2 px-3 py-2.5 border-b border-gray-700",!u&&"cursor-move"),onMouseDown:at,children:[W.jsx(Fv,{className:"w-4 h-4 text-indigo-400"}),W.jsx("span",{className:"text-sm font-semibold text-white",children:"Project Labels"})]}),W.jsx("div",{className:"px-3 py-2 border-b border-gray-700",children:W.jsxs("div",{className:"relative",children:[W.jsx(KM,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),W.jsx("input",{type:"text",placeholder:"Search labels...",value:t,onChange:q=>n(q.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),W.jsx("div",{className:"flex-1 overflow-auto scrollbar-dark p-2 space-y-1",children:X.length===0?W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 py-4",children:[W.jsx(Fv,{className:"w-8 h-8 mb-2 opacity-50"}),W.jsx("p",{className:"text-sm",children:"No labels detected"})]}):X.map(([q,D])=>W.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer hover:bg-gray-800/50 transition-colors group",onClick:()=>i&&i(q),children:[W.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:G4(q)}}),O===q?W.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-0.5 bg-gray-700 border border-indigo-500 rounded text-sm text-white focus:outline-none",value:B,onChange:Z=>H(Z.target.value),onBlur:j,onKeyDown:P,onClick:Z=>Z.stopPropagation()}):W.jsx("span",{className:"flex-1 text-sm text-gray-300 truncate",children:q}),W.jsxs("div",{className:"flex items-center gap-1.5",children:[W.jsx("span",{className:"text-xs text-gray-500 bg-gray-800 px-1.5 py-0.5 rounded",children:D}),W.jsx("button",{className:"p-1 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-indigo-400 transition-all",onClick:Z=>z(Z,q),title:"Rename globally",children:W.jsx(z6,{className:"w-3 h-3"})})]})]},q))}),W.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 border-t border-gray-700 text-center",children:["Total: ",e.length," instances"]}),!u&&W.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 cursor-se-resize",onMouseDown:U})]})},dN=({selectedAnn:e,selectedLabel:t,onLabelChange:n,onDelete:i,onSimplify:s,onDensify:o,onReset:u,onBeautify:f,canModify:d,canReset:p,isProcessing:y,suggestions:v,docked:x=!1})=>{if(!e)return W.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm p-4",children:"Select a shape to edit properties"});const _=e.points?e.points.length/2:0,[E,T]=Ce.useState(t||"");Ce.useEffect(()=>{T(t||"")},[t]);const M="flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all",O="opacity-50 cursor-not-allowed";return W.jsxs("div",{className:"p-4 space-y-4",children:[W.jsxs("div",{className:"flex items-center gap-2 text-white font-semibold",children:[W.jsx(tN,{className:"w-4 h-4 text-indigo-400"}),"Properties"]}),W.jsxs("div",{className:"space-y-1.5",children:[W.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Label"}),W.jsx("input",{type:"text",value:E,onChange:R=>T(R.target.value),onBlur:()=>n(E),onKeyDown:R=>{R.key==="Enter"&&(n(E),R.target.blur())},className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter label..."})]}),v&&v.length>0&&W.jsxs("div",{className:"space-y-1.5",children:[W.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Suggestions"}),W.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.slice(0,5).map((R,B)=>W.jsx("button",{className:"px-2 py-1 text-xs bg-gray-700 text-gray-300 rounded-md hover:bg-indigo-600/40 hover:text-white transition-colors",onClick:()=>n(R),children:R},B))})]}),W.jsxs("div",{className:"space-y-1.5",children:[W.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Shape Info"}),W.jsxs("div",{className:"flex gap-4 text-sm text-gray-300",children:[W.jsxs("span",{className:"px-2 py-1 bg-gray-800 rounded-md",children:["Type: ",e.type]}),W.jsxs("span",{className:"px-2 py-1 bg-gray-800 rounded-md",children:["Points: ",_]})]})]}),W.jsxs("div",{className:"space-y-1.5",children:[W.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Modify Shape"}),W.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[W.jsxs("button",{className:Mn(M,"bg-gray-700 text-gray-200 hover:bg-gray-600",(!d||y)&&O),onClick:()=>s(),disabled:!d||y,title:"Reduce points (RDP algorithm)",children:[W.jsx(iN,{className:"w-4 h-4"}),"Simplify"]}),W.jsxs("button",{className:Mn(M,"bg-gray-700 text-gray-200 hover:bg-gray-600",(!d||y)&&O),onClick:()=>o(),disabled:!d||y,title:"Add midpoints",children:[W.jsx(sN,{className:"w-4 h-4"}),"Densify"]}),W.jsxs("button",{className:Mn(M,"bg-gray-700 text-gray-200 hover:bg-gray-600",(!p||y)&&O),onClick:u,disabled:!p||y,title:"Restore original points",children:[W.jsx(UM,{className:"w-4 h-4"}),"Reset"]}),W.jsxs("button",{className:Mn(M,"bg-violet-600/30 text-violet-300 hover:bg-violet-600/50",(!d||y)&&O),onClick:f,disabled:!d||y,title:"AI refinement",children:[y?W.jsx("div",{className:"spinner w-4 h-4"}):W.jsx(ZM,{className:"w-4 h-4"}),"Beautify"]})]})]}),W.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium bg-red-600/20 text-red-400 hover:bg-red-600/40 hover:text-red-300 transition-colors",onClick:i,children:[W.jsx(G2,{className:"w-4 h-4"}),"Delete Shape"]})]})},pN=({position:e,onMerge:t,selectedCount:n})=>!e||n<2?null:W.jsxs("div",{style:{position:"absolute",left:e.x,top:e.y,transform:"translate(-50%, -100%)",marginTop:-10,backgroundColor:"#1a1a2e",border:"1px solid #FF0040",borderRadius:"8px",padding:"8px",display:"flex",flexDirection:"column",gap:"5px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",zIndex:1e3,color:"white",minWidth:"150px"},children:[W.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold",textAlign:"center",color:"#ccc"},children:[n," Selected"]}),W.jsx("button",{onClick:()=>t("smart"),style:{backgroundColor:"#FF0040",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:" Smart AI Merge"}),W.jsx("button",{onClick:()=>t("geometric"),style:{backgroundColor:"#333",color:"white",border:"1px solid #555",padding:"6px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:" Geometric Merge (Fast)"})]}),mN=({selectedModel:e,currentParams:t,updateParam:n})=>{const i=Mv(e),s={container:{background:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",padding:"1rem",color:"#f3f4f6",display:"flex",flexDirection:"column",gap:"1rem"},header:{margin:0,fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",borderBottom:"1px solid #374151",paddingBottom:"0.5rem",color:"#e5e7eb",letterSpacing:"0.05em"},group:{display:"flex",flexDirection:"column",gap:"0.5rem"},labelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.75rem",color:"#d1d5db"},inputRange:{width:"100%",cursor:"pointer",accentColor:"#3b82f6"},inputNumber:{width:"100%",background:"#111827",border:"1px solid #4b5563",color:"white",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",fontSize:"0.875rem"},switchContainer:{display:"flex",alignItems:"center",justifyContent:"space-between"},switchInput:{width:"1rem",height:"1rem",accentColor:"#10b981",cursor:"pointer"},help:{fontSize:"0.65rem",color:"#9ca3af",marginTop:"-0.25rem"}};return W.jsxs("div",{style:s.container,children:[W.jsxs("h3",{style:s.header,children:[e?e.split(".")[0]:"Model"," Parameters"]}),i.parameters.map(o=>{let u=t?.[o.key];return u===void 0&&(u=o.default),(o.key==="tile_size"||o.key==="tile_overlap")&&t?.enable_tiling===!1?null:W.jsxs("div",{style:s.group,children:[W.jsx("div",{style:s.labelRow,children:W.jsx("label",{children:o.label})}),o.type==="slider"&&W.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[W.jsx("input",{type:"range",min:o.min,max:o.max,step:o.step,value:u,onChange:f=>n(o.key,parseFloat(f.target.value)),style:s.inputRange}),W.jsx("input",{type:"number",min:o.min,max:o.max,step:o.step,value:u,onChange:f=>n(o.key,parseFloat(f.target.value)),style:{...s.inputNumber,width:"60px",padding:"0.1rem"}})]}),o.type==="number"&&W.jsx("input",{type:"number",min:o.min,max:o.max,step:o.step||1,value:u,onChange:f=>n(o.key,parseFloat(f.target.value)),style:s.inputNumber}),o.type==="switch"&&W.jsxs("div",{style:s.switchContainer,children:[W.jsx("span",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:u?"Enabled":"Disabled"}),W.jsx("input",{type:"checkbox",checked:!!u,onChange:f=>n(o.key,f.target.checked),style:s.switchInput})]}),o.help&&W.jsx("small",{style:s.help,children:o.help}),W.jsx("div",{style:{borderBottom:"1px dashed #374151",marginTop:"0.5rem",opacity:.5}})]},o.key)}),i.parameters.length===0&&W.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#6b7280",fontSize:"0.875rem"},children:"No configurable parameters."})]})};var gN=i4();const yN=lh(gN),Ry=0,cf=1,jd=2,j6=4;function s5(e){return()=>e}function vN(e){e()}function k6(e,t){return n=>e(t(n))}function r5(e,t){return()=>e(t)}function xN(e,t){return n=>e(t,n)}function V2(e){return e!==void 0}function bN(...e){return()=>{e.map(vN)}}function kd(){}function Oy(e,t){return t(e),e}function SN(e,t){return t(e)}function Bi(...e){return e}function si(e,t){return e(cf,t)}function wn(e,t){e(Ry,t)}function I2(e){e(jd)}function Fi(e){return e(j6)}function qe(e,t){return si(e,xN(t,Ry))}function ll(e,t){const n=e(cf,i=>{n(),t(i)});return n}function o5(e){let t,n;return i=>s=>{t=s,n&&clearTimeout(n),n=setTimeout(()=>{i(t)},e)}}function B6(e,t){return e===t}function ji(e=B6){let t;return n=>i=>{e(t,i)||(t=i,n(i))}}function sn(e){return t=>n=>{e(n)&&t(n)}}function ke(e){return t=>k6(t,e)}function eu(e){return t=>()=>{t(e)}}function ce(e,...t){const n=_N(...t);return((i,s)=>{switch(i){case jd:I2(e);return;case cf:return si(e,n(s))}})}function au(e,t){return n=>i=>{n(t=e(t,i))}}function oh(e){return t=>n=>{e>0?e--:t(n)}}function Ju(e){let t=null,n;return i=>s=>{t=s,!n&&(n=setTimeout(()=>{n=void 0,i(t)},e))}}function Cn(...e){const t=new Array(e.length);let n=0,i=null;const s=Math.pow(2,e.length)-1;return e.forEach((o,u)=>{const f=Math.pow(2,u);si(o,d=>{const p=n;n=n|f,t[u]=d,p!==s&&n===s&&i&&(i(),i=null)})}),o=>u=>{const f=()=>{o([u].concat(t))};n===s?f():i=f}}function _N(...e){return t=>e.reduceRight(SN,t)}function wN(e){let t,n;const i=()=>t?.();return function(s,o){switch(s){case cf:return o?n===o?void 0:(i(),n=o,t=si(e,o),t):(i(),kd);case jd:i(),n=null;return}}}function _e(e){let t=e;const n=Gn();return((i,s)=>{switch(i){case Ry:t=s;break;case cf:{s(t);break}case j6:return t}return n(i,s)})}function As(e,t){return Oy(_e(t),n=>qe(e,n))}function Gn(){const e=[];return((t,n)=>{switch(t){case Ry:e.slice().forEach(i=>{i(n)});return;case jd:e.splice(0,e.length);return;case cf:return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}})}function Ur(e){return Oy(Gn(),t=>qe(e,t))}function Yn(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:EN(),singleton:n}}const EN=()=>Symbol();function TN(e){const t=new Map,n=({constructor:i,dependencies:s,id:o,singleton:u})=>{if(u&&t.has(o))return t.get(o);const f=i(s.map(d=>n(d)));return u&&t.set(o,f),f};return n(e)}function Ra(...e){const t=Gn(),n=new Array(e.length);let i=0;const s=Math.pow(2,e.length)-1;return e.forEach((o,u)=>{const f=Math.pow(2,u);si(o,d=>{n[u]=d,i=i|f,i===s&&wn(t,n)})}),function(o,u){switch(o){case jd:{I2(t);return}case cf:return i===s&&u(n),si(t,u)}}}function an(e,t=B6){return ce(e,ji(t))}function Kv(...e){return function(t,n){switch(t){case jd:return;case cf:return bN(...e.map(i=>si(i,n)))}}}var gr=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(gr||{});const CN={0:"debug",3:"error",1:"log",2:"warn"},AN=()=>typeof globalThis>"u"?window:globalThis,ff=Yn(()=>{const e=_e(3);return{log:_e((t,n,i=1)=>{var s;const o=(s=AN().VIRTUOSO_LOG_LEVEL)!=null?s:Fi(e);i>=o&&console[CN[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function ph(e,t,n){return q2(e,t,n).callbackRef}function q2(e,t,n){const i=Ce.useRef(null);let s=u=>{};const o=Ce.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(u=>{const f=()=>{const d=u[0].target;d.offsetParent!==null&&e(d)};n?f():requestAnimationFrame(f)}):null,[e,n]);return s=u=>{u&&t?(o?.observe(u),i.current=u):(i.current&&o?.unobserve(i.current),i.current=null)},{callbackRef:s,ref:i}}function RN(e,t,n,i,s,o,u,f,d){const p=Ce.useCallback(y=>{const v=ON(y.children,t,f?"offsetWidth":"offsetHeight",s);let x=y.parentElement;for(;!x.dataset.virtuosoScroller;)x=x.parentElement;const _=x.lastElementChild.dataset.viewportType==="window";let E;_&&(E=x.ownerDocument.defaultView);const T=u?f?u.scrollLeft:u.scrollTop:_?f?E.scrollX||E.document.documentElement.scrollLeft:E.scrollY||E.document.documentElement.scrollTop:f?x.scrollLeft:x.scrollTop,M=u?f?u.scrollWidth:u.scrollHeight:_?f?E.document.documentElement.scrollWidth:E.document.documentElement.scrollHeight:f?x.scrollWidth:x.scrollHeight,O=u?f?u.offsetWidth:u.offsetHeight:_?f?E.innerWidth:E.innerHeight:f?x.offsetWidth:x.offsetHeight;i({scrollHeight:M,scrollTop:Math.max(T,0),viewportHeight:O}),o?.(f?l5("column-gap",getComputedStyle(y).columnGap,s):l5("row-gap",getComputedStyle(y).rowGap,s)),v!==null&&e(v)},[e,t,s,o,u,i,f]);return q2(p,n,d)}function ON(e,t,n,i){const s=e.length;if(s===0)return null;const o=[];for(let u=0;u<s;u++){const f=e.item(u);if(f.dataset.index===void 0)continue;const d=parseInt(f.dataset.index),p=parseFloat(f.dataset.knownSize),y=t(f,n);if(y===0&&i("Zero-sized element, this should not happen",{child:f},gr.ERROR),y===p)continue;const v=o[o.length-1];o.length===0||v.size!==y||v.endIndex!==d-1?o.push({endIndex:d,size:y,startIndex:d}):o[o.length-1].endIndex++}return o}function l5(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,gr.WARN),t==="normal"?0:parseInt(t??"0",10)}function L6(e,t,n){const i=Ce.useRef(null),s=Ce.useCallback(d=>{if(!(d!=null&&d.offsetParent))return;const p=d.getBoundingClientRect(),y=p.width;let v,x;if(t){const _=t.getBoundingClientRect(),E=p.top-_.top;x=_.height-Math.max(0,E),v=E+t.scrollTop}else{const _=u.current.ownerDocument.defaultView;x=_.innerHeight-Math.max(0,p.top),v=p.top+_.scrollY}i.current={offsetTop:v,visibleHeight:x,visibleWidth:y},e(i.current)},[e,t]),{callbackRef:o,ref:u}=q2(s,!0,n),f=Ce.useCallback(()=>{s(u.current)},[s,u]);return Ce.useEffect(()=>{var d;if(t){t.addEventListener("scroll",f);const p=new ResizeObserver(()=>{requestAnimationFrame(f)});return p.observe(t),()=>{t.removeEventListener("scroll",f),p.unobserve(t)}}else{const p=(d=u.current)==null?void 0:d.ownerDocument.defaultView;return p?.addEventListener("scroll",f),p?.addEventListener("resize",f),()=>{p?.removeEventListener("scroll",f),p?.removeEventListener("resize",f)}}},[f,t,u]),o}const Xs=Yn(()=>{const e=Gn(),t=Gn(),n=_e(0),i=Gn(),s=_e(0),o=Gn(),u=Gn(),f=_e(0),d=_e(0),p=_e(0),y=_e(0),v=Gn(),x=Gn(),_=_e(!1),E=_e(!1),T=_e(!1);return qe(ce(e,ke(({scrollTop:M})=>M)),t),qe(ce(e,ke(({scrollHeight:M})=>M)),u),qe(t,s),{deviation:n,fixedFooterHeight:p,fixedHeaderHeight:d,footerHeight:y,headerHeight:f,horizontalDirection:E,scrollBy:x,scrollContainerState:e,scrollHeight:u,scrollingInProgress:_,scrollTo:v,scrollTop:t,skipAnimationFrameInResizeObserver:T,smoothScrollTargetReached:i,statefulScrollTop:s,viewportHeight:o}},[],{singleton:!0}),Em={lvl:0};function U6(e,t){const n=e.length;if(n===0)return[];let{index:i,value:s}=t(e[0]);const o=[];for(let u=1;u<n;u++){const{index:f,value:d}=t(e[u]);o.push({end:f-1,start:i,value:s}),i=f,s=d}return o.push({end:1/0,start:i,value:s}),o}function hi(e){return e===Em}function Tm(e,t){if(!hi(e))return t===e.k?e.v:t<e.k?Tm(e.l,t):Tm(e.r,t)}function ul(e,t,n="k"){if(hi(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const i=ul(e.r,t,n);return i[0]===-1/0?[e.k,e.v]:i}return ul(e.l,t,n)}function Br(e,t,n){return hi(e)?P6(t,n,1):t===e.k?Va(e,{k:t,v:n}):t<e.k?u5(Va(e,{l:Br(e.l,t,n)})):u5(Va(e,{r:Br(e.r,t,n)}))}function wd(){return Em}function Ed(e,t,n){if(hi(e))return[];const i=ul(e,t)[0];return MN(Xv(e,i,n))}function Yv(e,t){if(hi(e))return Em;const{k:n,l:i,r:s}=e;if(t===n){if(hi(i))return s;if(hi(s))return i;{const[o,u]=G6(i);return Ig(Va(e,{k:o,l:H6(i),v:u}))}}else return t<n?Ig(Va(e,{l:Yv(i,t)})):Ig(Va(e,{r:Yv(s,t)}))}function th(e){return hi(e)?[]:[...th(e.l),{k:e.k,v:e.v},...th(e.r)]}function Xv(e,t,n){if(hi(e))return[];const{k:i,l:s,r:o,v:u}=e;let f=[];return i>t&&(f=f.concat(Xv(s,t,n))),i>=t&&i<=n&&f.push({k:i,v:u}),i<=n&&(f=f.concat(Xv(o,t,n))),f}function Ig(e){const{l:t,lvl:n,r:i}=e;if(i.lvl>=n-1&&t.lvl>=n-1)return e;if(n>i.lvl+1){if(F1(t))return V6(Va(e,{lvl:n-1}));if(!hi(t)&&!hi(t.r))return Va(t.r,{l:Va(t,{r:t.r.l}),lvl:n,r:Va(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}else{if(F1(e))return Zv(Va(e,{lvl:n-1}));if(!hi(i)&&!hi(i.l)){const s=i.l,o=F1(s)?i.lvl-1:i.lvl;return Va(s,{l:Va(e,{lvl:n-1,r:s.l}),lvl:s.lvl+1,r:Zv(Va(i,{l:s.r,lvl:o}))})}else throw new Error("Unexpected empty nodes")}}function Va(e,t){return P6(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function H6(e){return hi(e.r)?e.l:Ig(Va(e,{r:H6(e.r)}))}function F1(e){return hi(e)||e.lvl>e.r.lvl}function G6(e){return hi(e.r)?[e.k,e.v]:G6(e.r)}function P6(e,t,n,i=Em,s=Em){return{k:e,l:i,lvl:n,r:s,v:t}}function u5(e){return Zv(V6(e))}function V6(e){const{l:t}=e;return!hi(t)&&t.lvl===e.lvl?Va(t,{r:Va(e,{l:t.r})}):e}function Zv(e){const{lvl:t,r:n}=e;return!hi(n)&&!hi(n.r)&&n.lvl===t&&n.r.lvl===t?Va(n,{l:Va(e,{r:n.l}),lvl:t+1}):e}function MN(e){return U6(e,({k:t,v:n})=>({index:t,value:n}))}function I6(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Cm(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const F2=Yn(()=>({recalcInProgress:_e(!1)}),[],{singleton:!0});function q6(e,t,n){return e[ay(e,t,n)]}function ay(e,t,n,i=0){let s=e.length-1;for(;i<=s;){const o=Math.floor((i+s)/2),u=e[o],f=n(u,t);if(f===0)return o;if(f===-1){if(s-i<2)return o-1;s=o-1}else{if(s===i)return o;i=o+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function NN(e,t,n,i){const s=ay(e,t,i),o=ay(e,n,i,s);return e.slice(s,o+1)}function ef(e,t){return Math.round(e.getBoundingClientRect()[t])}function My(e){return!hi(e.groupOffsetTree)}function K2({index:e},t){return t===e?0:t<e?-1:1}function DN(){return{groupIndices:[],groupOffsetTree:wd(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:wd()}}function zN(e,t){let n=hi(e)?0:1/0;for(const i of t){const{endIndex:s,size:o,startIndex:u}=i;if(n=Math.min(n,u),hi(e)){e=Br(e,0,o);continue}const f=Ed(e,u-1,s+1);if(f.some(GN(i)))continue;let d=!1,p=!1;for(const{end:y,start:v,value:x}of f)d?(s>=v||o===x)&&(e=Yv(e,v)):(p=x!==o,d=!0),y>s&&s>=v&&x!==o&&(e=Br(e,s+1,x));p&&(e=Br(e,u,o))}return[e,n]}function jN(e){return typeof e.groupIndex<"u"}function kN({offset:e},t){return t===e?0:t<e?-1:1}function Am(e,t,n){if(t.length===0)return 0;const{index:i,offset:s,size:o}=q6(t,e,K2),u=e-i,f=o*u+(u-1)*n+s;return f>0?f+n:f}function F6(e,t){if(!My(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function K6(e,t,n){if(jN(e))return t.groupIndices[e.groupIndex]+1;{const i=e.index==="LAST"?n:e.index;let s=F6(i,t);return s=Math.max(0,s,Math.min(n,s)),s}}function BN(e,t,n,i=0){return i>0&&(t=Math.max(t,q6(e,i,K2).offset)),U6(NN(e,t,n,kN),HN)}function LN(e,[t,n,i,s]){t.length>0&&i("received item sizes",t,gr.DEBUG);const o=e.sizeTree;let u=o,f=0;if(n.length>0&&hi(o)&&t.length===2){const x=t[0].size,_=t[1].size;u=n.reduce((E,T)=>Br(Br(E,T,x),T+1,_),u)}else[u,f]=zN(u,t);if(u===o)return e;const{lastIndex:d,lastOffset:p,lastSize:y,offsetTree:v}=Qv(e.offsetTree,f,u,s);return{groupIndices:n,groupOffsetTree:n.reduce((x,_)=>Br(x,_,Am(_,v,s)),wd()),lastIndex:d,lastOffset:p,lastSize:y,offsetTree:v,sizeTree:u}}function UN(e){return th(e).map(({k:t,v:n},i,s)=>{const o=s[i+1];return{endIndex:o?o.k-1:1/0,size:n,startIndex:t}})}function c5(e,t){let n=0,i=0;for(;n<e;)n+=t[i+1]-t[i]-1,i++;return i-(n===e?0:1)}function Qv(e,t,n,i){let s=e,o=0,u=0,f=0,d=0;if(t!==0){d=ay(s,t-1,K2),f=s[d].offset;const p=ul(n,t-1);o=p[0],u=p[1],s.length&&s[d].size===ul(n,t)[1]&&(d-=1),s=s.slice(0,d+1)}else s=[];for(const{start:p,value:y}of Ed(n,t,1/0)){const v=p-o,x=v*u+f+v*i;s.push({index:p,offset:x,size:y}),o=p,f=x,u=y}return{lastIndex:o,lastOffset:f,lastSize:u,offsetTree:s}}function HN(e){return{index:e.index,value:e}}function GN(e){const{endIndex:t,size:n,startIndex:i}=e;return s=>s.start===i&&(s.end===t||s.end===1/0)&&s.value===n}const PN={offsetHeight:"height",offsetWidth:"width"},lu=Yn(([{log:e},{recalcInProgress:t}])=>{const n=Gn(),i=Gn(),s=As(i,0),o=Gn(),u=Gn(),f=_e(0),d=_e([]),p=_e(void 0),y=_e(void 0),v=_e(void 0),x=_e(void 0),_=_e((X,z)=>ef(X,PN[z])),E=_e(void 0),T=_e(0),M=DN(),O=As(ce(n,Cn(d,e,T),au(LN,M),ji()),M),R=As(ce(d,ji(),au((X,z)=>({current:z,prev:X.current}),{current:[],prev:[]}),ke(({prev:X})=>X)),[]);qe(ce(d,sn(X=>X.length>0),Cn(O,T),ke(([X,z,j])=>{const P=X.reduce((at,U,q)=>Br(at,U,Am(U,z.offsetTree,j)||q),wd());return{...z,groupIndices:X,groupOffsetTree:P}})),O),qe(ce(i,Cn(O),sn(([X,{lastIndex:z}])=>X<z),ke(([X,{lastIndex:z,lastSize:j}])=>[{endIndex:z,size:j,startIndex:X}])),n),qe(p,y);const B=As(ce(p,ke(X=>X===void 0)),!0);qe(ce(y,sn(X=>X!==void 0&&hi(Fi(O).sizeTree)),ke(X=>{const z=Fi(v),j=Fi(d).length>0;return z?j?[{endIndex:0,size:z,startIndex:0},{endIndex:1,size:X,startIndex:1}]:[]:[{endIndex:0,size:X,startIndex:0}]})),n),qe(ce(x,sn(X=>X!==void 0&&X.length>0&&hi(Fi(O).sizeTree)),ke(X=>{const z=[];let j=X[0],P=0;for(let at=1;at<X.length;at++){const U=X[at];U!==j&&(z.push({endIndex:at-1,size:j,startIndex:P}),j=U,P=at)}return z.push({endIndex:X.length-1,size:j,startIndex:P}),z})),n),qe(ce(d,Cn(v,y),sn(([,X,z])=>X!==void 0&&z!==void 0),ke(([X,z,j])=>{const P=[];for(let at=0;at<X.length;at++){const U=X[at],q=X[at+1];P.push({startIndex:U,endIndex:U,size:z}),q!==void 0&&P.push({startIndex:U+1,endIndex:q-1,size:j})}return P})),n);const H=Ur(ce(n,Cn(O),au(({sizes:X},[z,j])=>({changed:j!==X,sizes:j}),{changed:!1,sizes:M}),ke(X=>X.changed)));si(ce(f,au((X,z)=>({diff:X.prev-z,prev:z}),{diff:0,prev:0}),ke(X=>X.diff)),X=>{const{groupIndices:z}=Fi(O);if(X>0)wn(t,!0),wn(o,X+c5(X,z));else if(X<0){const j=Fi(R);j.length>0&&(X-=c5(-X,j)),wn(u,X)}}),si(ce(f,Cn(e)),([X,z])=>{X<0&&z("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:f},gr.ERROR)});const F=Ur(o);qe(ce(o,Cn(O),ke(([X,z])=>{const j=z.groupIndices.length>0,P=[],at=z.lastSize;if(j){const U=Tm(z.sizeTree,0);let q=0,D=0;for(;q<X;){const K=z.groupIndices[D],Q=z.groupIndices.length===D+1?1/0:z.groupIndices[D+1]-K-1;P.push({endIndex:K,size:U,startIndex:K}),P.push({endIndex:K+1+Q-1,size:at,startIndex:K+1}),D++,q+=Q+1}const Z=th(z.sizeTree);return q!==X&&Z.shift(),Z.reduce((K,{k:Q,v:tt})=>{let st=K.ranges;return K.prevSize!==0&&(st=[...K.ranges,{endIndex:Q+X-1,size:K.prevSize,startIndex:K.prevIndex}]),{prevIndex:Q+X,prevSize:tt,ranges:st}},{prevIndex:X,prevSize:0,ranges:P}).ranges}return th(z.sizeTree).reduce((U,{k:q,v:D})=>({prevIndex:q+X,prevSize:D,ranges:[...U.ranges,{endIndex:q+X-1,size:U.prevSize,startIndex:U.prevIndex}]}),{prevIndex:0,prevSize:at,ranges:[]}).ranges})),n);const nt=Ur(ce(u,Cn(O,T),ke(([X,{offsetTree:z},j])=>{const P=-X;return Am(P,z,j)})));return qe(ce(u,Cn(O,T),ke(([X,z,j])=>{if(z.groupIndices.length>0){if(hi(z.sizeTree))return z;let P=wd();const at=Fi(R);let U=0,q=0,D=0;for(;U<-X;){D=at[q];const Z=at[q+1]-D-1;q++,U+=Z+1}if(P=th(z.sizeTree).reduce((Z,{k:K,v:Q})=>Br(Z,Math.max(0,K+X),Q),P),U!==-X){const Z=Tm(z.sizeTree,D);P=Br(P,0,Z);const K=ul(z.sizeTree,-X+1)[1];P=Br(P,1,K)}return{...z,sizeTree:P,...Qv(z.offsetTree,0,P,j)}}else{const P=th(z.sizeTree).reduce((at,{k:U,v:q})=>Br(at,Math.max(0,U+X),q),wd());return{...z,sizeTree:P,...Qv(z.offsetTree,0,P,j)}}})),O),{beforeUnshiftWith:F,data:E,defaultItemSize:y,firstItemIndex:f,fixedItemSize:p,fixedGroupSize:v,gap:T,groupIndices:d,heightEstimates:x,itemSize:_,listRefresh:H,shiftWith:u,shiftWithOffset:nt,sizeRanges:n,sizes:O,statefulTotalCount:s,totalCount:i,trackItemSizes:B,unshiftWith:o}},Bi(ff,F2),{singleton:!0});function VN(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{groupIndices:[],totalCount:0})}const Y6=Yn(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:i,scrollTop:s}])=>{const o=Gn(),u=Gn(),f=Ur(ce(o,ke(VN)));return qe(ce(f,ke(d=>d.totalCount)),n),qe(ce(f,ke(d=>d.groupIndices)),e),qe(ce(Ra(s,t,i),sn(([d,p])=>My(p)),ke(([d,p,y])=>ul(p.groupOffsetTree,Math.max(d-y,0),"v")[0]),ji(),ke(d=>[d])),u),{groupCounts:o,topItemsIndexes:u}},Bi(lu,Xs)),hf=Yn(([{log:e}])=>{const t=_e(!1),n=Ur(ce(t,sn(i=>i),ji()));return si(t,i=>{i&&Fi(e)("props updated",{},gr.DEBUG)}),{didMount:n,propsReady:t}},Bi(ff),{singleton:!0}),IN=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function X6(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!IN)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const qm=Yn(([{gap:e,listRefresh:t,sizes:n,totalCount:i},{fixedFooterHeight:s,fixedHeaderHeight:o,footerHeight:u,headerHeight:f,scrollingInProgress:d,scrollTo:p,smoothScrollTargetReached:y,viewportHeight:v},{log:x}])=>{const _=Gn(),E=Gn(),T=_e(0);let M=null,O=null,R=null;function B(){M&&(M(),M=null),R&&(R(),R=null),O&&(clearTimeout(O),O=null),wn(d,!1)}return qe(ce(_,Cn(n,v,i,T,f,u,x),Cn(e,o,s),ke(([[H,F,nt,X,z,j,P,at],U,q,D])=>{const Z=X6(H),{align:K,behavior:Q,offset:tt}=Z,st=X-1,gt=K6(Z,F,st);let Y=Am(gt,F.offsetTree,U)+j;K==="end"?(Y+=q+ul(F.sizeTree,gt)[1]-nt+D,gt===st&&(Y+=P)):K==="center"?Y+=(q+ul(F.sizeTree,gt)[1]-nt+D)/2:Y-=z,tt&&(Y+=tt);const $=ft=>{B(),ft?(at("retrying to scroll to",{location:H},gr.DEBUG),wn(_,H)):(wn(E,!0),at("list did not change, scroll successful",{},gr.DEBUG))};if(B(),Q==="smooth"){let ft=!1;R=si(t,pt=>{ft=ft||pt}),M=ll(y,()=>{$(ft)})}else M=ll(ce(t,qN(150)),$);return O=setTimeout(()=>{B()},1200),wn(d,!0),at("scrolling from index to",{behavior:Q,index:gt,top:Y},gr.DEBUG),{behavior:Q,top:Y}})),p),{scrollTargetReached:E,scrollToIndex:_,topListHeight:T}},Bi(lu,Xs,ff),{singleton:!0});function qN(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return i=>{i&&(t(!0),clearTimeout(n))}}}function Y2(e,t){e==0?t():requestAnimationFrame(()=>{Y2(e-1,t)})}function X2(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const Fm=Yn(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:i},{scrollTargetReached:s,scrollToIndex:o},{didMount:u}])=>{const f=_e(!0),d=_e(0),p=_e(!0);return qe(ce(u,Cn(d),sn(([y,v])=>!!v),eu(!1)),f),qe(ce(u,Cn(d),sn(([y,v])=>!!v),eu(!1)),p),si(ce(Ra(t,u),Cn(f,n,e,p),sn(([[,y],v,{sizeTree:x},_,E])=>y&&(!hi(x)||V2(_))&&!v&&!E),Cn(d)),([,y])=>{ll(s,()=>{wn(p,!0)}),Y2(4,()=>{ll(i,()=>{wn(f,!0)}),wn(o,y)})}),{initialItemFinalLocationReached:p,initialTopMostItemIndex:d,scrolledToInitialItem:f}},Bi(lu,Xs,qm,hf),{singleton:!0});function Z6(e,t){return Math.abs(e-t)<1.01}const Rm="up",gm="down",FN="none",KN={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},YN=0,Km=Yn(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:i,scrollTop:s,viewportHeight:o}])=>{const u=_e(!1),f=_e(!0),d=Gn(),p=Gn(),y=_e(4),v=_e(YN),x=As(ce(Kv(ce(an(s),oh(1),eu(!0)),ce(an(s),oh(1),eu(!1),o5(100))),ji()),!1),_=As(ce(Kv(ce(n,eu(!0)),ce(n,eu(!1),o5(200))),ji()),!1);qe(ce(Ra(an(s),an(v)),ke(([R,B])=>R<=B),ji()),f),qe(ce(f,Ju(50)),p);const E=Ur(ce(Ra(i,an(o),an(t),an(e),an(y)),au((R,[{scrollHeight:B,scrollTop:H},F,nt,X,z])=>{const j=H+F-B>-z,P={scrollHeight:B,scrollTop:H,viewportHeight:F};if(j){let U,q;return H>R.state.scrollTop?(U="SCROLLED_DOWN",q=R.state.scrollTop-H):(U="SIZE_DECREASED",q=R.state.scrollTop-H||R.scrollTopDelta),{atBottom:!0,atBottomBecause:U,scrollTopDelta:q,state:P}}let at;return P.scrollHeight>R.state.scrollHeight?at="SIZE_INCREASED":F<R.state.viewportHeight?at="VIEWPORT_HEIGHT_DECREASING":H<R.state.scrollTop?at="SCROLLING_UPWARDS":at="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:at,state:P}},KN),ji((R,B)=>R&&R.atBottom===B.atBottom))),T=As(ce(i,au((R,{scrollHeight:B,scrollTop:H,viewportHeight:F})=>{if(Z6(R.scrollHeight,B))return{changed:!1,jump:0,scrollHeight:B,scrollTop:H};{const nt=B-(H+F)<1;return R.scrollTop!==H&&nt?{changed:!0,jump:R.scrollTop-H,scrollHeight:B,scrollTop:H}:{changed:!0,jump:0,scrollHeight:B,scrollTop:H}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),sn(R=>R.changed),ke(R=>R.jump)),0);qe(ce(E,ke(R=>R.atBottom)),u),qe(ce(u,Ju(50)),d);const M=_e(gm);qe(ce(i,ke(({scrollTop:R})=>R),ji(),au((R,B)=>Fi(_)?{direction:R.direction,prevScrollTop:B}:{direction:B<R.prevScrollTop?Rm:gm,prevScrollTop:B},{direction:gm,prevScrollTop:0}),ke(R=>R.direction)),M),qe(ce(i,Ju(50),eu(FN)),M);const O=_e(0);return qe(ce(x,sn(R=>!R),eu(0)),O),qe(ce(s,Ju(100),Cn(x),sn(([R,B])=>B),au(([R,B],[H])=>[B,H],[0,0]),ke(([R,B])=>B-R)),O),{atBottomState:E,atBottomStateChange:d,atBottomThreshold:y,atTopStateChange:p,atTopThreshold:v,isAtBottom:u,isAtTop:f,isScrolling:x,lastJumpDueToItemResize:T,scrollDirection:M,scrollVelocity:O}},Bi(Xs)),Om="top",Mm="bottom",f5="none";function h5(e,t,n){return typeof e=="number"?n===Rm&&t===Om||n===gm&&t===Mm?e:0:n===Rm?t===Om?e.main:e.reverse:t===Mm?e.main:e.reverse}function d5(e,t){var n;return typeof e=="number"?e:(n=e[t])!=null?n:0}const Z2=Yn(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:i,viewportHeight:s}])=>{const o=Gn(),u=_e(0),f=_e(0),d=_e(0),p=As(ce(Ra(an(i),an(s),an(n),an(o,Cm),an(d),an(u),an(t),an(e),an(f)),ke(([y,v,x,[_,E],T,M,O,R,B])=>{const H=y-R,F=M+O,nt=Math.max(x-H,0);let X=f5;const z=d5(B,Om),j=d5(B,Mm);return _-=R,_+=x+O,E+=x+O,E-=R,_>y+F-z&&(X=Rm),E<y-nt+v+j&&(X=gm),X!==f5?[Math.max(H-x-h5(T,Om,X)-z,0),H-nt-O+v+h5(T,Mm,X)+j]:null}),sn(y=>y!=null),ji(Cm)),[0,0]);return{increaseViewportBy:f,listBoundary:o,overscan:d,topListHeight:u,visibleRange:p}},Bi(Xs),{singleton:!0});function XN(e,t,n){if(My(t)){const i=F6(e,t);return[{index:ul(t.groupOffsetTree,i)[0],offset:0,size:0},{data:n?.[0],index:i,offset:0,size:0}]}return[{data:n?.[0],index:e,offset:0,size:0}]}const K1={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function qg(e,t,n,i,s,o){const{lastIndex:u,lastOffset:f,lastSize:d}=s;let p=0,y=0;if(e.length>0){p=e[0].offset;const T=e[e.length-1];y=T.offset+T.size}const v=n-u,x=f+v*d+(v-1)*i,_=p,E=x-y;return{bottom:y,firstItemIndex:o,items:p5(e,s,o),offsetBottom:E,offsetTop:p,top:_,topItems:p5(t,s,o),topListHeight:t.reduce((T,M)=>M.size+T,0),totalCount:n}}function Q6(e,t,n,i,s,o){let u=0;if(n.groupIndices.length>0)for(const y of n.groupIndices){if(y-u>=e)break;u++}const f=e+u,d=X2(t,f),p=Array.from({length:f}).map((y,v)=>({data:o[v+d],index:v+d,offset:0,size:0}));return qg(p,[],f,s,n,i)}function p5(e,t,n){if(e.length===0)return[];if(!My(t))return e.map(p=>({...p,index:p.index+n,originalIndex:p.index}));const i=e[0].index,s=e[e.length-1].index,o=[],u=Ed(t.groupOffsetTree,i,s);let f,d=0;for(const p of e){(!f||f.end<p.index)&&(f=u.shift(),d=t.groupIndices.indexOf(f.start));let y;p.index===f.start?y={index:d,type:"group"}:y={groupIndex:d,index:p.index-(d+1)+n},o.push({...y,data:p.data,offset:p.offset,originalIndex:p.index,size:p.size})}return o}function m5(e,t){var n;return e===void 0?0:typeof e=="number"?e:(n=e[t])!=null?n:0}const mh=Yn(([{data:e,firstItemIndex:t,gap:n,sizes:i,totalCount:s},o,{listBoundary:u,topListHeight:f,visibleRange:d},{initialTopMostItemIndex:p,scrolledToInitialItem:y},{topListHeight:v},x,{didMount:_},{recalcInProgress:E}])=>{const T=_e([]),M=_e(0),O=Gn(),R=_e(0);qe(o.topItemsIndexes,T);const B=As(ce(Ra(_,E,an(d,Cm),an(s),an(i),an(p),y,an(T),an(t),an(n),an(R),e),sn(([X,z,,j,,,,,,,,P])=>{const at=P&&P.length!==j;return X&&!z&&!at}),ke(([,,[X,z],j,P,at,U,q,D,Z,K,Q])=>{var tt,st,gt,Y;const $=P,{offsetTree:ft,sizeTree:pt}=$,yt=Fi(M);if(j===0)return{...K1,totalCount:j};if(X===0&&z===0)return yt===0?{...K1,totalCount:j}:Q6(yt,at,P,D,Z,Q||[]);if(hi(pt))return yt>0?null:qg(XN(X2(at,j),$,Q),[],j,Z,$,D);const Yt=[];if(q.length>0){const Ae=q[0],V=q[q.length-1];let Rt=0;for(const kt of Ed(pt,Ae,V)){const ot=kt.value,et=Math.max(kt.start,Ae),ht=Math.min(kt.end,V);for(let zt=et;zt<=ht;zt++)Yt.push({data:Q?.[zt],index:zt,offset:Rt,size:ot}),Rt+=ot}}if(!U)return qg([],Yt,j,Z,$,D);const Qt=q.length>0?q[q.length-1]+1:0,Ht=BN(ft,X,z,Qt);if(Ht.length===0)return null;const Ct=j-1,Ee=Oy([],Ae=>{for(const V of Ht){const Rt=V.value;let kt=Rt.offset,ot=V.start;const et=Rt.size;if(Rt.offset<X){ot+=Math.floor((X-Rt.offset+Z)/(et+Z));const zt=ot-V.start;kt+=zt*et+zt*Z}ot<Qt&&(kt+=(Qt-ot)*et,ot=Qt);const ht=Math.min(V.end,Ct);for(let zt=ot;zt<=ht&&!(kt>=z);zt++)Ae.push({data:Q?.[zt],index:zt,offset:kt,size:et}),kt+=et+Z}}),ve=m5(K,Om),de=m5(K,Mm);if(Ee.length>0&&(ve>0||de>0)){const Ae=Ee[0],V=Ee[Ee.length-1];if(ve>0&&Ae.index>Qt){const Rt=Math.min(ve,Ae.index-Qt),kt=[];let ot=Ae.offset;for(let et=Ae.index-1;et>=Ae.index-Rt;et--){const ht=(st=(tt=Ed(pt,et,et)[0])==null?void 0:tt.value)!=null?st:Ae.size;ot-=ht+Z,kt.unshift({data:Q?.[et],index:et,offset:ot,size:ht})}Ee.unshift(...kt)}if(de>0&&V.index<Ct){const Rt=Math.min(de,Ct-V.index);let kt=V.offset+V.size+Z;for(let ot=V.index+1;ot<=V.index+Rt;ot++){const et=(Y=(gt=Ed(pt,ot,ot)[0])==null?void 0:gt.value)!=null?Y:V.size;Ee.push({data:Q?.[ot],index:ot,offset:kt,size:et}),kt+=et+Z}}}return qg(Ee,Yt,j,Z,$,D)}),sn(X=>X!==null),ji()),K1);qe(ce(e,sn(V2),ke(X=>X?.length)),s),qe(ce(B,ke(X=>X.topListHeight)),v),qe(v,f),qe(ce(B,ke(X=>[X.top,X.bottom])),u),qe(ce(B,ke(X=>X.items)),O);const H=Ur(ce(B,sn(({items:X})=>X.length>0),Cn(s,e),sn(([{items:X},z])=>X[X.length-1].originalIndex===z-1),ke(([,X,z])=>[X-1,z]),ji(Cm),ke(([X])=>X))),F=Ur(ce(B,Ju(200),sn(({items:X,topItems:z})=>X.length>0&&X[0].originalIndex===z.length),ke(({items:X})=>X[0].index),ji())),nt=Ur(ce(B,sn(({items:X})=>X.length>0),ke(({items:X})=>{let z=0,j=X.length-1;for(;X[z].type==="group"&&z<j;)z++;for(;X[j].type==="group"&&j>z;)j--;return{endIndex:X[j].index,startIndex:X[z].index}}),ji(I6)));return{endReached:H,initialItemCount:M,itemsRendered:O,listState:B,minOverscanItemCount:R,rangeChanged:nt,startReached:F,topItemsIndexes:T,...x}},Bi(lu,Y6,Z2,Fm,qm,Km,hf,F2),{singleton:!0}),J6=Yn(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:i},{listState:s}])=>{const o=Gn(),u=As(ce(Ra(n,e,i,t,s),ke(([f,d,p,y,v])=>f+d+p+y+v.offsetBottom+v.bottom)),0);return qe(an(u),o),{totalListHeight:u,totalListHeightChanged:o}},Bi(Xs,mh),{singleton:!0}),ZN=Yn(([{viewportHeight:e},{totalListHeight:t}])=>{const n=_e(!1),i=As(ce(Ra(n,e,t),sn(([s])=>s),ke(([,s,o])=>Math.max(0,s-o)),Ju(0),ji()),0);return{alignToBottom:n,paddingTopAddition:i}},Bi(Xs,J6),{singleton:!0}),W6=Yn(()=>({context:_e(null)})),QN=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:i,...s},viewportBottom:o,viewportTop:u})=>t<u?{...s,align:n??"start",behavior:i}:e>o?{...s,align:n??"end",behavior:i}:null,$6=Yn(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:s,headerHeight:o,scrollingInProgress:u,scrollTop:f,viewportHeight:d},{scrollToIndex:p}])=>{const y=Gn();return qe(ce(y,Cn(t,d,n,o,s,i,f),Cn(e),ke(([[v,x,_,E,T,M,O,R],B])=>{const{align:H,behavior:F,calculateViewLocation:nt=QN,done:X,...z}=v,j=K6(v,x,E-1),P=Am(j,x.offsetTree,B)+T+M,at=P+ul(x.sizeTree,j)[1],U=R+M,q=R+_-O,D=nt({itemBottom:at,itemTop:P,locationParams:{align:H,behavior:F,...z},viewportBottom:q,viewportTop:U});return D?X&&ll(ce(u,sn(Z=>!Z),oh(Fi(u)?1:2)),X):X?.(),D}),sn(v=>v!==null)),p),{scrollIntoView:y}},Bi(lu,Xs,qm,mh,ff),{singleton:!0});function g5(e){return e?e==="smooth"?"smooth":"auto":!1}const JN=(e,t)=>typeof e=="function"?g5(e(t)):t&&g5(e),WN=Yn(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:i},{atBottomState:s,isAtBottom:o},{scrollToIndex:u},{scrolledToInitialItem:f},{didMount:d,propsReady:p},{log:y},{scrollingInProgress:v},{context:x},{scrollIntoView:_}])=>{const E=_e(!1),T=Gn();let M=null;function O(F){wn(u,{align:"end",behavior:F,index:"LAST"})}si(ce(Ra(ce(an(t),oh(1)),d),Cn(an(E),o,f,v),ke(([[F,nt],X,z,j,P])=>{let at=nt&&j,U="auto";return at&&(U=JN(X,z||P),at=at&&!!U),{followOutputBehavior:U,shouldFollow:at,totalCount:F}}),sn(({shouldFollow:F})=>F)),({followOutputBehavior:F,totalCount:nt})=>{M&&(M(),M=null),Fi(n)?requestAnimationFrame(()=>{Fi(y)("following output to ",{totalCount:nt},gr.DEBUG),O(F)}):M=ll(e,()=>{Fi(y)("following output to ",{totalCount:nt},gr.DEBUG),O(F),M=null})});function R(F){const nt=ll(s,X=>{F&&!X.atBottom&&X.notAtBottomBecause==="SIZE_INCREASED"&&!M&&(Fi(y)("scrolling to bottom due to increased size",{},gr.DEBUG),O("auto"))});setTimeout(nt,100)}si(ce(Ra(an(E),t,p),sn(([F,,nt])=>F&&nt),au(({value:F},[,nt])=>({refreshed:F===nt,value:nt}),{refreshed:!1,value:0}),sn(({refreshed:F})=>F),Cn(E,t)),([,F])=>{Fi(f)&&R(F!==!1)}),si(T,()=>{R(Fi(E)!==!1)}),si(Ra(an(E),s),([F,nt])=>{F&&!nt.atBottom&&nt.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&O("auto")});const B=_e(null),H=Gn();return qe(Kv(ce(an(i),ke(F=>{var nt;return(nt=F?.length)!=null?nt:0})),ce(an(t))),H),si(ce(Ra(ce(H,oh(1)),d),Cn(an(B),f,v,x),ke(([[F,nt],X,z,j,P])=>nt&&z&&X?.({context:P,totalCount:F,scrollingInProgress:j})),sn(F=>!!F),Ju(0)),F=>{M&&(M(),M=null),Fi(n)?requestAnimationFrame(()=>{Fi(y)("scrolling into view",{}),wn(_,F)}):M=ll(e,()=>{Fi(y)("scrolling into view",{}),wn(_,F),M=null})}),{autoscrollToBottom:T,followOutput:E,scrollIntoViewOnChange:B}},Bi(lu,Km,qm,Fm,hf,ff,Xs,W6,$6)),$N=Yn(([{data:e,firstItemIndex:t,gap:n,sizes:i},{initialTopMostItemIndex:s},{initialItemCount:o,listState:u},{didMount:f}])=>(qe(ce(f,Cn(o),sn(([,d])=>d!==0),Cn(s,i,t,n,e),ke(([[,d],p,y,v,x,_=[]])=>Q6(d,p,y,v,x,_))),u),{}),Bi(lu,Fm,mh,hf),{singleton:!0}),tD=Yn(([{didMount:e},{scrollTo:t},{listState:n}])=>{const i=_e(0);return si(ce(e,Cn(i),sn(([,s])=>s!==0),ke(([,s])=>({top:s}))),s=>{ll(ce(n,oh(1),sn(o=>o.items.length>1)),()=>{requestAnimationFrame(()=>{wn(t,s)})})}),{initialScrollTop:i}},Bi(hf,Xs,mh),{singleton:!0}),t_=Yn(([{scrollVelocity:e}])=>{const t=_e(!1),n=Gn(),i=_e(!1);return qe(ce(e,Cn(i,t,n),sn(([s,o])=>!!o),ke(([s,o,u,f])=>{const{enter:d,exit:p}=o;if(u){if(p(s,f))return!1}else if(d(s,f))return!0;return u}),ji()),t),si(ce(Ra(t,e,n),Cn(i)),([[s,o,u],f])=>{s&&f&&f.change&&f.change(o,u)}),{isSeeking:t,scrollSeekConfiguration:i,scrollSeekRangeChanged:n,scrollVelocity:e}},Bi(Km),{singleton:!0}),Q2=Yn(([{scrollContainerState:e,scrollTo:t}])=>{const n=Gn(),i=Gn(),s=Gn(),o=_e(!1),u=_e(void 0);return qe(ce(Ra(n,i),ke(([{scrollHeight:f,scrollTop:d,viewportHeight:p},{offsetTop:y}])=>({scrollHeight:f,scrollTop:Math.max(0,d-y),viewportHeight:p}))),e),qe(ce(t,Cn(i),ke(([f,{offsetTop:d}])=>({...f,top:f.top+d}))),s),{customScrollParent:u,useWindowScroll:o,windowScrollContainerState:n,windowScrollTo:s,windowViewportRect:i}},Bi(Xs)),eD=Yn(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:i},{initialTopMostItemIndex:s},{didMount:o},{useWindowScroll:u,windowScrollContainerState:f,windowViewportRect:d}])=>{const p=Gn(),y=_e(void 0),v=_e(null),x=_e(null);return qe(f,v),qe(d,x),si(ce(p,Cn(t,i,u,v,x,n)),([_,E,T,M,O,R,B])=>{const H=UN(E.sizeTree);M&&O!==null&&R!==null&&(T=O.scrollTop-R.offsetTop),T-=B,_({ranges:H,scrollTop:T})}),qe(ce(y,sn(V2),ke(nD)),s),qe(ce(o,Cn(y),sn(([,_])=>_!==void 0),ji(),ke(([,_])=>_.ranges)),e),{getState:p,restoreStateFrom:y}},Bi(lu,Xs,Fm,hf,Q2));function nD(e){return{align:"start",index:0,offset:e.scrollTop}}const iD=Yn(([{topItemsIndexes:e}])=>{const t=_e(0);return qe(ce(t,sn(n=>n>=0),ke(n=>Array.from({length:n}).map((i,s)=>s))),e),{topItemCount:t}},Bi(mh));function e_(e){let t=!1,n;return(()=>(t||(t=!0,n=e()),n))}const aD=e_(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),sD=Yn(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:i},{isAtBottom:s,isScrolling:o,lastJumpDueToItemResize:u,scrollDirection:f},{listState:d},{beforeUnshiftWith:p,gap:y,shiftWithOffset:v,sizes:x},{log:_},{recalcInProgress:E}])=>{const T=Ur(ce(d,Cn(u),au(([,O,R,B],[{bottom:H,items:F,offsetBottom:nt,totalCount:X},z])=>{const j=H+nt;let P=0;return R===X&&O.length>0&&F.length>0&&(F[0].originalIndex===0&&O[0].originalIndex===0||(P=j-B,P!==0&&(P+=z))),[P,F,X,j]},[0,[],0,0]),sn(([O])=>O!==0),Cn(i,f,n,s,_,E),sn(([,O,R,B,,,H])=>!H&&!B&&O!==0&&R===Rm),ke(([[O],,,,,R])=>(R("Upward scrolling compensation",{amount:O},gr.DEBUG),O))));function M(O){O>0?(wn(t,{behavior:"auto",top:-O}),wn(e,0)):(wn(e,0),wn(t,{behavior:"auto",top:-O}))}return si(ce(T,Cn(e,o)),([O,R,B])=>{B&&aD()?wn(e,R-O):M(-O)}),si(ce(Ra(As(o,!1),e,E),sn(([O,R,B])=>!O&&!B&&R!==0),ke(([O,R])=>R),Ju(1)),M),qe(ce(v,ke(O=>({top:-O}))),t),si(ce(p,Cn(x,y),ke(([O,{groupIndices:R,lastSize:B,sizeTree:H},F])=>{function nt(X){return X*(B+F)}if(R.length===0)return nt(O);{let X=0;const z=Tm(H,0);let j=0,P=0;for(;j<O;){j++,X+=z;let at=R.length===P+1?1/0:R[P+1]-R[P]-1;j+at>O&&(X-=z,at=O-j+1),j+=at,X+=nt(at),P++}return X}})),O=>{wn(e,O),requestAnimationFrame(()=>{wn(t,{top:O}),requestAnimationFrame(()=>{wn(e,0),wn(E,!1)})})}),{deviation:e}},Bi(Xs,Km,mh,lu,ff,F2)),rD=Yn(([e,t,n,i,s,o,u,f,d,p,y])=>({...e,...t,...n,...i,...s,...o,...u,...f,...d,...p,...y}),Bi(Z2,$N,hf,t_,J6,tD,ZN,Q2,$6,ff,W6)),n_=Yn(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:i,fixedGroupSize:s,gap:o,groupIndices:u,heightEstimates:f,itemSize:d,sizeRanges:p,sizes:y,statefulTotalCount:v,totalCount:x,trackItemSizes:_},{initialItemFinalLocationReached:E,initialTopMostItemIndex:T,scrolledToInitialItem:M},O,R,B,H,{scrollToIndex:F},nt,{topItemCount:X},{groupCounts:z},j])=>{const{listState:P,minOverscanItemCount:at,topItemsIndexes:U,rangeChanged:q,...D}=H;return qe(q,j.scrollSeekRangeChanged),qe(ce(j.windowViewportRect,ke(Z=>Z.visibleHeight)),O.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:i,fixedGroupHeight:s,gap:o,groupCounts:z,heightEstimates:f,initialItemFinalLocationReached:E,initialTopMostItemIndex:T,scrolledToInitialItem:M,sizeRanges:p,topItemCount:X,topItemsIndexes:U,totalCount:x,...B,groupIndices:u,itemSize:d,listState:P,minOverscanItemCount:at,scrollToIndex:F,statefulTotalCount:v,trackItemSizes:_,rangeChanged:q,...D,...j,...O,sizes:y,...R}},Bi(lu,Fm,Xs,eD,WN,mh,qm,sD,iD,Y6,rD));function oD(e,t){const n={},i={};let s=0;const o=e.length;for(;s<o;)i[e[s]]=1,s+=1;for(const u in t)Object.hasOwn(i,u)||(n[u]=t[u]);return n}const Cg=typeof document<"u"?Ce.useLayoutEffect:Ce.useEffect;function i_(e,t,n){const i=Object.keys(t.required||{}),s=Object.keys(t.optional||{}),o=Object.keys(t.methods||{}),u=Object.keys(t.events||{}),f=Ce.createContext({});function d(M,O){M.propsReady&&wn(M.propsReady,!1);for(const R of i){const B=M[t.required[R]];wn(B,O[R])}for(const R of s)if(R in O){const B=M[t.optional[R]];wn(B,O[R])}M.propsReady&&wn(M.propsReady,!0)}function p(M){return o.reduce((O,R)=>(O[R]=B=>{const H=M[t.methods[R]];wn(H,B)},O),{})}function y(M){return u.reduce((O,R)=>(O[R]=wN(M[t.events[R]]),O),{})}const v=Ce.forwardRef((M,O)=>{const{children:R,...B}=M,[H]=Ce.useState(()=>Oy(TN(e),X=>{d(X,B)})),[F]=Ce.useState(r5(y,H));Cg(()=>{for(const X of u)X in B&&si(F[X],B[X]);return()=>{Object.values(F).map(I2)}},[B,F,H]),Cg(()=>{d(H,B)}),Ce.useImperativeHandle(O,s5(p(H)));const nt=n;return W.jsx(f.Provider,{value:H,children:n?W.jsx(nt,{...oD([...i,...s,...u],B),children:R}):R})}),x=M=>{const O=Ce.useContext(f);return Ce.useCallback(R=>{wn(O[M],R)},[O,M])},_=M=>{const O=Ce.useContext(f)[M],R=Ce.useCallback(B=>si(O,B),[O]);return Ce.useSyncExternalStore(R,()=>Fi(O),()=>Fi(O))},E=M=>{const O=Ce.useContext(f)[M],[R,B]=Ce.useState(r5(Fi,O));return Cg(()=>si(O,H=>{H!==R&&B(s5(H))}),[O,R]),R},T=Ce.version.startsWith("18")?_:E;return{Component:v,useEmitter:(M,O)=>{const R=Ce.useContext(f)[M];Cg(()=>si(R,O),[O,R])},useEmitterValue:T,usePublisher:x}}const a_=Ce.createContext(void 0),s_=Ce.createContext(void 0),r_=typeof document<"u"?Ce.useLayoutEffect:Ce.useEffect;function Y1(e){return"self"in e}function lD(e){return"body"in e}function o_(e,t,n,i=kd,s,o){const u=Ce.useRef(null),f=Ce.useRef(null),d=Ce.useRef(null),p=Ce.useCallback(x=>{let _,E,T;const M=x.target;if(lD(M)||Y1(M)){const R=Y1(M)?M:M.defaultView;T=o?R.scrollX:R.scrollY,_=o?R.document.documentElement.scrollWidth:R.document.documentElement.scrollHeight,E=o?R.innerWidth:R.innerHeight}else T=o?M.scrollLeft:M.scrollTop,_=o?M.scrollWidth:M.scrollHeight,E=o?M.offsetWidth:M.offsetHeight;const O=()=>{e({scrollHeight:_,scrollTop:Math.max(T,0),viewportHeight:E})};x.suppressFlushSync?O():yN.flushSync(O),f.current!==null&&(T===f.current||T<=0||T===_-E)&&(f.current=null,t(!0),d.current&&(clearTimeout(d.current),d.current=null))},[e,t,o]);Ce.useEffect(()=>{const x=s||u.current;return i(s||u.current),p({suppressFlushSync:!0,target:x}),x.addEventListener("scroll",p,{passive:!0}),()=>{i(null),x.removeEventListener("scroll",p)}},[u,p,n,i,s]);function y(x){const _=u.current;if(!_||(o?"offsetWidth"in _&&_.offsetWidth===0:"offsetHeight"in _&&_.offsetHeight===0))return;const E=x.behavior==="smooth";let T,M,O;Y1(_)?(M=Math.max(ef(_.document.documentElement,o?"width":"height"),o?_.document.documentElement.scrollWidth:_.document.documentElement.scrollHeight),T=o?_.innerWidth:_.innerHeight,O=o?window.scrollX:window.scrollY):(M=_[o?"scrollWidth":"scrollHeight"],T=ef(_,o?"width":"height"),O=_[o?"scrollLeft":"scrollTop"]);const R=M-T;if(x.top=Math.ceil(Math.max(Math.min(R,x.top),0)),Z6(T,M)||x.top===O){e({scrollHeight:M,scrollTop:O,viewportHeight:T}),E&&t(!0);return}E?(f.current=x.top,d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{d.current=null,f.current=null,t(!0)},1e3)):f.current=null,o&&(x={behavior:x.behavior,left:x.top}),_.scrollTo(x)}function v(x){o&&(x={behavior:x.behavior,left:x.top}),u.current.scrollBy(x)}return{scrollByCallback:v,scrollerRef:u,scrollToCallback:y}}const X1="-webkit-sticky",y5="sticky",J2=e_(()=>{if(typeof document>"u")return y5;const e=document.createElement("div");return e.style.position=X1,e.style.position===X1?X1:y5});function W2(e){return e}const uD=Yn(()=>{const e=_e(f=>`Item ${f}`),t=_e(f=>`Group ${f}`),n=_e({}),i=_e(W2),s=_e("div"),o=_e(kd),u=(f,d=null)=>As(ce(n,ke(p=>p[f]),ji()),d);return{components:n,computeItemKey:i,EmptyPlaceholder:u("EmptyPlaceholder"),FooterComponent:u("Footer"),GroupComponent:u("Group","div"),groupContent:t,HeaderComponent:u("Header"),HeaderFooterTag:s,ItemComponent:u("Item","div"),itemContent:e,ListComponent:u("List","div"),ScrollerComponent:u("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),TopItemListComponent:u("TopItemList")}}),cD=Yn(([e,t])=>({...e,...t}),Bi(n_,uD)),fD=({height:e})=>W.jsx("div",{style:{height:e}}),hD={overflowAnchor:"none",position:J2(),zIndex:1},l_={overflowAnchor:"none"},dD={...l_,display:"inline-block",height:"100%"},v5=Ce.memo(function({showTopList:e=!1}){const t=mn("listState"),n=Co("sizeRanges"),i=mn("useWindowScroll"),s=mn("customScrollParent"),o=Co("windowScrollContainerState"),u=Co("scrollContainerState"),f=s||i?o:u,d=mn("itemContent"),p=mn("context"),y=mn("groupContent"),v=mn("trackItemSizes"),x=mn("itemSize"),_=mn("log"),E=Co("gap"),T=mn("horizontalDirection"),{callbackRef:M}=RN(n,x,v,e?kd:f,_,E,s,T,mn("skipAnimationFrameInResizeObserver")),[O,R]=Ce.useState(0);$2("deviation",D=>{O!==D&&R(D)});const B=mn("EmptyPlaceholder"),H=mn("ScrollSeekPlaceholder")||fD,F=mn("ListComponent"),nt=mn("ItemComponent"),X=mn("GroupComponent"),z=mn("computeItemKey"),j=mn("isSeeking"),P=mn("groupIndices").length>0,at=mn("alignToBottom"),U=mn("initialItemFinalLocationReached"),q=e?{}:{boxSizing:"border-box",...T?{display:"inline-block",height:"100%",marginLeft:O!==0?O:at?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:O!==0?O:at?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...U?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&B?W.jsx(B,{...Cs(B,p)}):W.jsx(F,{...Cs(F,p),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:M,style:q,children:(e?t.topItems:t.items).map(D=>{const Z=D.originalIndex,K=z(Z+t.firstItemIndex,D.data,p);return j?ut.createElement(H,{...Cs(H,p),height:D.size,index:D.index,key:K,type:D.type||"item",...D.type==="group"?{}:{groupIndex:D.groupIndex}}):D.type==="group"?ut.createElement(X,{...Cs(X,p),"data-index":Z,"data-item-index":D.index,"data-known-size":D.size,key:K,style:hD},y(D.index,p)):ut.createElement(nt,{...Cs(nt,p),...yD(nt,D.data),"data-index":Z,"data-item-group-index":D.groupIndex,"data-item-index":D.index,"data-known-size":D.size,key:K,style:T?dD:l_},P?d(D.index,D.groupIndex,D.data,p):d(D.index,D.data,p))})})}),pD={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},mD={outline:"none",overflowX:"auto",position:"relative"},Ny=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),gD={position:J2(),top:0,width:"100%",zIndex:1};function Cs(e,t){if(typeof e!="string")return{context:t}}function yD(e,t){return{item:typeof e=="string"?void 0:t}}const vD=Ce.memo(function(){const e=mn("HeaderComponent"),t=Co("headerHeight"),n=mn("HeaderFooterTag"),i=ph(Ce.useMemo(()=>o=>{t(ef(o,"height"))},[t]),!0,mn("skipAnimationFrameInResizeObserver")),s=mn("context");return e?W.jsx(n,{ref:i,children:W.jsx(e,{...Cs(e,s)})}):null}),xD=Ce.memo(function(){const e=mn("FooterComponent"),t=Co("footerHeight"),n=mn("HeaderFooterTag"),i=ph(Ce.useMemo(()=>o=>{t(ef(o,"height"))},[t]),!0,mn("skipAnimationFrameInResizeObserver")),s=mn("context");return e?W.jsx(n,{ref:i,children:W.jsx(e,{...Cs(e,s)})}):null});function u_({useEmitter:e,useEmitterValue:t,usePublisher:n}){return Ce.memo(function({children:i,style:s,context:o,...u}){const f=n("scrollContainerState"),d=t("ScrollerComponent"),p=n("smoothScrollTargetReached"),y=t("scrollerRef"),v=t("horizontalDirection")||!1,{scrollByCallback:x,scrollerRef:_,scrollToCallback:E}=o_(f,p,d,y,void 0,v);return e("scrollTo",E),e("scrollBy",x),W.jsx(d,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:_,style:{...v?mD:pD,...s},tabIndex:0,...u,...Cs(d,o),children:i})})}function c_({useEmitter:e,useEmitterValue:t,usePublisher:n}){return Ce.memo(function({children:i,style:s,context:o,...u}){const f=n("windowScrollContainerState"),d=t("ScrollerComponent"),p=n("smoothScrollTargetReached"),y=t("totalListHeight"),v=t("deviation"),x=t("customScrollParent"),_=Ce.useRef(null),E=t("scrollerRef"),{scrollByCallback:T,scrollerRef:M,scrollToCallback:O}=o_(f,p,d,E,x);return r_(()=>{var R;return M.current=x||((R=_.current)==null?void 0:R.ownerDocument.defaultView),()=>{M.current=null}},[M,x]),e("windowScrollTo",O),e("scrollBy",T),W.jsx(d,{ref:_,"data-virtuoso-scroller":!0,style:{position:"relative",...s,...y!==0?{height:y+v}:{}},...u,...Cs(d,o),children:i})})}const bD=({children:e})=>{const t=Ce.useContext(a_),n=Co("viewportHeight"),i=Co("fixedItemHeight"),s=mn("alignToBottom"),o=mn("horizontalDirection"),u=Ce.useMemo(()=>k6(n,d=>ef(d,o?"width":"height")),[n,o]),f=ph(u,!0,mn("skipAnimationFrameInResizeObserver"));return Ce.useEffect(()=>{t&&(n(t.viewportHeight),i(t.itemHeight))},[t,n,i]),W.jsx("div",{"data-viewport-type":"element",ref:f,style:Ny(s),children:e})},SD=({children:e})=>{const t=Ce.useContext(a_),n=Co("windowViewportRect"),i=Co("fixedItemHeight"),s=mn("customScrollParent"),o=L6(n,s,mn("skipAnimationFrameInResizeObserver")),u=mn("alignToBottom");return Ce.useEffect(()=>{t&&(i(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,i]),W.jsx("div",{"data-viewport-type":"window",ref:o,style:Ny(u),children:e})},_D=({children:e})=>{const t=mn("TopItemListComponent")||"div",n=mn("headerHeight"),i={...gD,marginTop:`${n}px`},s=mn("context");return W.jsx(t,{style:i,...Cs(t,s),children:e})},wD=Ce.memo(function(e){const t=mn("useWindowScroll"),n=mn("topItemsIndexes").length>0,i=mn("customScrollParent"),s=mn("context");return W.jsxs(i||t?CD:TD,{...e,context:s,children:[n&&W.jsx(_D,{children:W.jsx(v5,{showTopList:!0})}),W.jsxs(i||t?SD:bD,{children:[W.jsx(vD,{}),W.jsx(v5,{}),W.jsx(xD,{})]})]})}),{Component:ED,useEmitter:$2,useEmitterValue:mn,usePublisher:Co}=i_(cD,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},wD),TD=u_({useEmitter:$2,useEmitterValue:mn,usePublisher:Co}),CD=c_({useEmitter:$2,useEmitterValue:mn,usePublisher:Co}),AD=ED,RD=Yn(()=>{const e=_e(p=>W.jsxs("td",{children:["Item $",p]})),t=_e(null),n=_e(p=>W.jsxs("td",{colSpan:1e3,children:["Group ",p]})),i=_e(null),s=_e(null),o=_e({}),u=_e(W2),f=_e(kd),d=(p,y=null)=>As(ce(o,ke(v=>v[p]),ji()),y);return{components:o,computeItemKey:u,context:t,EmptyPlaceholder:d("EmptyPlaceholder"),FillerRow:d("FillerRow"),fixedFooterContent:s,fixedHeaderContent:i,itemContent:e,groupContent:n,ScrollerComponent:d("Scroller","div"),scrollerRef:f,ScrollSeekPlaceholder:d("ScrollSeekPlaceholder"),TableBodyComponent:d("TableBody","tbody"),TableComponent:d("Table","table"),TableFooterComponent:d("TableFoot","tfoot"),TableHeadComponent:d("TableHead","thead"),TableRowComponent:d("TableRow","tr"),GroupComponent:d("Group","tr")}});Bi(n_,RD);J2();const x5={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},OD={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:b5,floor:sy,max:ym,min:Z1,round:S5}=Math;function _5(e,t,n){return Array.from({length:t-e+1}).map((i,s)=>({data:n===null?null:n[s+e],index:s+e}))}function MD(e){return{...OD,items:e}}function Ag(e,t){return e&&e.width===t.width&&e.height===t.height}function ND(e,t){return e&&e.column===t.column&&e.row===t.row}const DD=Yn(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:i},{footerHeight:s,headerHeight:o,scrollBy:u,scrollContainerState:f,scrollTo:d,scrollTop:p,smoothScrollTargetReached:y,viewportHeight:v},x,_,{didMount:E,propsReady:T},{customScrollParent:M,useWindowScroll:O,windowScrollContainerState:R,windowScrollTo:B,windowViewportRect:H},F])=>{const nt=_e(0),X=_e(0),z=_e(x5),j=_e({height:0,width:0}),P=_e({height:0,width:0}),at=Gn(),U=Gn(),q=_e(0),D=_e(null),Z=_e({column:0,row:0}),K=Gn(),Q=Gn(),tt=_e(!1),st=_e(0),gt=_e(!0),Y=_e(!1),$=_e(!1);si(ce(E,Cn(st),sn(([Ht,Ct])=>!!Ct)),()=>{wn(gt,!1)}),si(ce(Ra(E,gt,P,j,st,Y),sn(([Ht,Ct,Ee,ve,,de])=>Ht&&!Ct&&Ee.height!==0&&ve.height!==0&&!de)),([,,,,Ht])=>{wn(Y,!0),Y2(1,()=>{wn(at,Ht)}),ll(ce(p),()=>{wn(t,[0,0]),wn(gt,!0)})}),qe(ce(Q,sn(Ht=>Ht!=null&&Ht.scrollTop>0),eu(0)),X),si(ce(E,Cn(Q),sn(([,Ht])=>Ht!=null)),([,Ht])=>{Ht&&(wn(j,Ht.viewport),wn(P,Ht.item),wn(Z,Ht.gap),Ht.scrollTop>0&&(wn(tt,!0),ll(ce(p,oh(1)),Ct=>{wn(tt,!1)}),wn(d,{top:Ht.scrollTop})))}),qe(ce(j,ke(({height:Ht})=>Ht)),v),qe(ce(Ra(an(j,Ag),an(P,Ag),an(Z,(Ht,Ct)=>Ht&&Ht.column===Ct.column&&Ht.row===Ct.row),an(p)),ke(([Ht,Ct,Ee,ve])=>({gap:Ee,item:Ct,scrollTop:ve,viewport:Ht}))),K),qe(ce(Ra(an(nt),i,an(Z,ND),an(P,Ag),an(j,Ag),an(D),an(X),an(tt),an(gt),an(st)),sn(([,,,,,,,Ht])=>!Ht),ke(([Ht,[Ct,Ee],ve,de,Ae,V,Rt,,kt,ot])=>{const{column:et,row:ht}=ve,{height:zt,width:Ft}=de,{width:xt}=Ae;if(Rt===0&&(Ht===0||xt===0))return x5;if(Ft===0){const Ke=X2(ot,Ht),ln=Ke+Math.max(Rt-1,0);return MD(_5(Ke,ln,V))}const Zt=f_(xt,Ft,et);let Nt,Gt;kt?Ct===0&&Ee===0&&Rt>0?(Nt=0,Gt=Rt-1):(Nt=Zt*sy((Ct+ht)/(zt+ht)),Gt=Zt*b5((Ee+ht)/(zt+ht))-1,Gt=Z1(Ht-1,ym(Gt,Zt-1)),Nt=Z1(Gt,ym(0,Nt))):(Nt=0,Gt=-1);const oe=_5(Nt,Gt,V),{bottom:je,top:ie}=w5(Ae,ve,de,oe),ue=b5(Ht/Zt),Le=ue*zt+(ue-1)*ht-je;return{bottom:je,itemHeight:zt,items:oe,itemWidth:Ft,offsetBottom:Le,offsetTop:ie,top:ie}})),z),qe(ce(D,sn(Ht=>Ht!==null),ke(Ht=>Ht.length)),nt),qe(ce(Ra(j,P,z,Z),sn(([Ht,Ct,{items:Ee}])=>Ee.length>0&&Ct.height!==0&&Ht.height!==0),ke(([Ht,Ct,{items:Ee},ve])=>{const{bottom:de,top:Ae}=w5(Ht,ve,Ct,Ee);return[Ae,de]}),ji(Cm)),t);const ft=_e(!1);qe(ce(p,Cn(ft),ke(([Ht,Ct])=>Ct||Ht!==0)),ft);const pt=Ur(ce(Ra(z,nt),sn(([{items:Ht}])=>Ht.length>0),Cn(ft),sn(([[Ht,Ct],Ee])=>{const ve=Ht.items[Ht.items.length-1].index===Ct-1;return(Ee||Ht.bottom>0&&Ht.itemHeight>0&&Ht.offsetBottom===0&&Ht.items.length===Ct)&&ve}),ke(([[,Ht]])=>Ht-1),ji())),yt=Ur(ce(an(z),sn(({items:Ht})=>Ht.length>0&&Ht[0].index===0),eu(0),ji())),Yt=Ur(ce(an(z),Cn(tt),sn(([{items:Ht},Ct])=>Ht.length>0&&!Ct),ke(([{items:Ht}])=>({endIndex:Ht[Ht.length-1].index,startIndex:Ht[0].index})),ji(I6),Ju(0)));qe(Yt,_.scrollSeekRangeChanged),qe(ce(at,Cn(j,P,nt,Z),ke(([Ht,Ct,Ee,ve,de])=>{const Ae=X6(Ht),{align:V,behavior:Rt,offset:kt}=Ae;let ot=Ae.index;ot==="LAST"&&(ot=ve-1),ot=ym(0,ot,Z1(ve-1,ot));let et=Jv(Ct,de,Ee,ot);return V==="end"?et=S5(et-Ct.height+Ee.height):V==="center"&&(et=S5(et-Ct.height/2+Ee.height/2)),kt&&(et+=kt),{behavior:Rt,top:et}})),d);const Qt=As(ce(z,ke(Ht=>Ht.offsetBottom+Ht.bottom)),0);return qe(ce(H,ke(Ht=>({height:Ht.visibleHeight,width:Ht.visibleWidth}))),j),{customScrollParent:M,data:D,deviation:q,footerHeight:s,gap:Z,headerHeight:o,increaseViewportBy:e,initialItemCount:X,itemDimensions:P,overscan:n,restoreStateFrom:Q,scrollBy:u,scrollContainerState:f,scrollHeight:U,scrollTo:d,scrollToIndex:at,scrollTop:p,smoothScrollTargetReached:y,totalCount:nt,useWindowScroll:O,viewportDimensions:j,windowScrollContainerState:R,windowScrollTo:B,windowViewportRect:H,..._,gridState:z,horizontalDirection:$,initialTopMostItemIndex:st,totalListHeight:Qt,...x,endReached:pt,propsReady:T,rangeChanged:Yt,startReached:yt,stateChanged:K,stateRestoreInProgress:tt,...F}},Bi(Z2,Xs,Km,t_,hf,Q2,ff));function f_(e,t,n){return ym(1,sy((e+n)/(sy(t)+n)))}function w5(e,t,n,i){const{height:s}=n;if(s===void 0||i.length===0)return{bottom:0,top:0};const o=Jv(e,t,n,i[0].index);return{bottom:Jv(e,t,n,i[i.length-1].index)+s,top:o}}function Jv(e,t,n,i){const s=f_(e.width,n.width,t.column),o=sy(i/s),u=o*n.height+ym(0,o-1)*t.row;return u>0?u+t.row:u}const zD=Yn(()=>{const e=_e(v=>`Item ${v}`),t=_e({}),n=_e(null),i=_e("virtuoso-grid-item"),s=_e("virtuoso-grid-list"),o=_e(W2),u=_e("div"),f=_e(kd),d=(v,x=null)=>As(ce(t,ke(_=>_[v]),ji()),x),p=_e(!1),y=_e(!1);return qe(an(y),p),{components:t,computeItemKey:o,context:n,FooterComponent:d("Footer"),HeaderComponent:d("Header"),headerFooterTag:u,itemClassName:i,ItemComponent:d("Item","div"),itemContent:e,listClassName:s,ListComponent:d("List","div"),readyStateChanged:p,reportReadyState:y,ScrollerComponent:d("Scroller","div"),scrollerRef:f,ScrollSeekPlaceholder:d("ScrollSeekPlaceholder","div")}}),jD=Yn(([e,t])=>({...e,...t}),Bi(DD,zD)),kD=Ce.memo(function(){const e=qi("gridState"),t=qi("listClassName"),n=qi("itemClassName"),i=qi("itemContent"),s=qi("computeItemKey"),o=qi("isSeeking"),u=Ao("scrollHeight"),f=qi("ItemComponent"),d=qi("ListComponent"),p=qi("ScrollSeekPlaceholder"),y=qi("context"),v=Ao("itemDimensions"),x=Ao("gap"),_=qi("log"),E=qi("stateRestoreInProgress"),T=Ao("reportReadyState"),M=ph(Ce.useMemo(()=>O=>{const R=O.parentElement.parentElement.scrollHeight;u(R);const B=O.firstChild;if(B){const{height:H,width:F}=B.getBoundingClientRect();v({height:H,width:F})}x({column:E5("column-gap",getComputedStyle(O).columnGap,_),row:E5("row-gap",getComputedStyle(O).rowGap,_)})},[u,v,x,_]),!0,!1);return r_(()=>{e.itemHeight>0&&e.itemWidth>0&&T(!0)},[e]),E?null:W.jsx(d,{className:t,ref:M,...Cs(d,y),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(O=>{const R=s(O.index,O.data,y);return o?W.jsx(p,{...Cs(p,y),height:e.itemHeight,index:O.index,width:e.itemWidth},R):ut.createElement(f,{...Cs(f,y),className:n,"data-index":O.index,key:R},i(O.index,O.data,y))})})}),BD=Ce.memo(function(){const e=qi("HeaderComponent"),t=Ao("headerHeight"),n=qi("headerFooterTag"),i=ph(Ce.useMemo(()=>o=>{t(ef(o,"height"))},[t]),!0,!1),s=qi("context");return e?W.jsx(n,{ref:i,children:W.jsx(e,{...Cs(e,s)})}):null}),LD=Ce.memo(function(){const e=qi("FooterComponent"),t=Ao("footerHeight"),n=qi("headerFooterTag"),i=ph(Ce.useMemo(()=>o=>{t(ef(o,"height"))},[t]),!0,!1),s=qi("context");return e?W.jsx(n,{ref:i,children:W.jsx(e,{...Cs(e,s)})}):null}),UD=({children:e})=>{const t=Ce.useContext(s_),n=Ao("itemDimensions"),i=Ao("viewportDimensions"),s=ph(Ce.useMemo(()=>o=>{i(o.getBoundingClientRect())},[i]),!0,!1);return Ce.useEffect(()=>{t&&(i({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,i,n]),W.jsx("div",{ref:s,style:Ny(!1),children:e})},HD=({children:e})=>{const t=Ce.useContext(s_),n=Ao("windowViewportRect"),i=Ao("itemDimensions"),s=qi("customScrollParent"),o=L6(n,s,!1);return Ce.useEffect(()=>{t&&(i({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,i]),W.jsx("div",{ref:o,style:Ny(!1),children:e})},GD=Ce.memo(function({...e}){const t=qi("useWindowScroll"),n=qi("customScrollParent"),i=n||t?VD:PD,s=n||t?HD:UD,o=qi("context");return W.jsx(i,{...e,...Cs(i,o),children:W.jsxs(s,{children:[W.jsx(BD,{}),W.jsx(kD,{}),W.jsx(LD,{})]})})}),{useEmitter:h_,useEmitterValue:qi,usePublisher:Ao}=i_(jD,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},GD),PD=u_({useEmitter:h_,useEmitterValue:qi,usePublisher:Ao}),VD=c_({useEmitter:h_,useEmitterValue:qi,usePublisher:Ao});function E5(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,gr.WARN),t==="normal"?0:parseInt(t??"0",10)}var Q1={exports:{}},J1,T5;function ID(){if(T5)return J1;T5=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J1=e,J1}var W1,C5;function qD(){if(C5)return W1;C5=1;var e=ID();function t(){}function n(){}return n.resetWarningCache=t,W1=function(){function i(u,f,d,p,y,v){if(v!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},W1}var A5;function FD(){return A5||(A5=1,Q1.exports=qD()()),Q1.exports}var KD=FD();const pi=lh(KD);function gh(e,t,n,i){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function d(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?o(y.value):s(y.value).then(f,d)}p((i=i.apply(e,t||[])).next())})}const YD=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Md(e,t,n){const i=XD(e),{webkitRelativePath:s}=e,o=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof i.path!="string"&&R5(i,"path",o),R5(i,"relativePath",o),i}function XD(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),s=YD.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function R5(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const ZD=[".DS_Store","Thumbs.db"];function QD(e){return gh(this,void 0,void 0,function*(){return ry(e)&&JD(e.dataTransfer)?ez(e.dataTransfer,e.type):WD(e)?$D(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?tz(e):[]})}function JD(e){return ry(e)}function WD(e){return ry(e)&&ry(e.target)}function ry(e){return typeof e=="object"&&e!==null}function $D(e){return Wv(e.target.files).map(t=>Md(t))}function tz(e){return gh(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Md(n))})}function ez(e,t){return gh(this,void 0,void 0,function*(){if(e.items){const n=Wv(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(nz));return O5(d_(i))}return O5(Wv(e.files).map(n=>Md(n)))})}function O5(e){return e.filter(t=>ZD.indexOf(t.name)===-1)}function Wv(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function nz(e){if(typeof e.webkitGetAsEntry!="function")return M5(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?p_(t):M5(e,t)}function d_(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?d_(n):[n]],[])}function M5(e,t){return gh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const u=yield o.getFile();return u.handle=o,Md(u)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return Md(i,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function iz(e){return gh(this,void 0,void 0,function*(){return e.isDirectory?p_(e):az(e)})}function p_(e){const t=e.createReader();return new Promise((n,i)=>{const s=[];function o(){t.readEntries(u=>gh(this,void 0,void 0,function*(){if(u.length){const f=Promise.all(u.map(iz));s.push(f),o()}else try{const f=yield Promise.all(s);n(f)}catch(f){i(f)}}),u=>{i(u)})}o()})}function az(e){return gh(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const s=Md(i,e.fullPath);t(s)},i=>{n(i)})})})}var Rg={},N5;function sz(){return N5||(N5=1,Rg.__esModule=!0,Rg.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(u){var f=u.trim().toLowerCase();return f.charAt(0)==="."?i.toLowerCase().endsWith(f):f.endsWith("/*")?o===f.replace(/\/.*$/,""):s===f})}return!0}),Rg}var rz=sz();const $1=lh(rz);function D5(e){return uz(e)||lz(e)||g_(e)||oz()}function oz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uz(e){if(Array.isArray(e))return $v(e)}function z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function j5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(n),!0).forEach(function(i){m_(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function m_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(e,t){return hz(e)||fz(e,t)||g_(e,t)||cz()}function cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_(e,t){if(e){if(typeof e=="string")return $v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $v(e,t)}}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,o=!1,u,f;try{for(n=n.call(e);!(s=(u=n.next()).done)&&(i.push(u.value),!(t&&i.length===t));s=!0);}catch(d){o=!0,f=d}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw f}}return i}}function hz(e){if(Array.isArray(e))return e}var dz=typeof $1=="function"?$1:$1.default,pz="file-invalid-type",mz="file-too-large",gz="file-too-small",yz="too-many-files",vz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:pz,message:"File type must be ".concat(i)}},k5=function(t){return{code:mz,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},B5=function(t){return{code:gz,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},xz={code:yz,message:"Too many files"};function y_(e,t){var n=e.type==="application/x-moz-file"||dz(e,t);return[n,n?null:vz(t)]}function v_(e,t,n){if(Jf(e.size))if(Jf(t)&&Jf(n)){if(e.size>n)return[!1,k5(n)];if(e.size<t)return[!1,B5(t)]}else{if(Jf(t)&&e.size<t)return[!1,B5(t)];if(Jf(n)&&e.size>n)return[!1,k5(n)]}return[!0,null]}function Jf(e){return e!=null}function bz(e){var t=e.files,n=e.accept,i=e.minSize,s=e.maxSize,o=e.multiple,u=e.maxFiles,f=e.validator;return!o&&t.length>1||o&&u>=1&&t.length>u?!1:t.every(function(d){var p=y_(d,n),y=Nm(p,1),v=y[0],x=v_(d,i,s),_=Nm(x,1),E=_[0],T=f?f(d):null;return v&&E&&!T})}function oy(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Og(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function L5(e){e.preventDefault()}function Sz(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _z(e){return e.indexOf("Edge/")!==-1}function wz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Sz(e)||_z(e)}function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return t.some(function(f){return!oy(i)&&f&&f.apply(void 0,[i].concat(o)),oy(i)})}}function Ez(){return"showOpenFilePicker"in window}function Tz(e){if(Jf(e)){var t=Object.entries(e).filter(function(n){var i=Nm(n,2),s=i[0],o=i[1],u=!0;return x_(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(o)||!o.every(b_))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(n,i){var s=Nm(i,2),o=s[0],u=s[1];return j5(j5({},n),{},m_({},o,u))},{});return[{description:"Files",accept:t}]}return e}function Cz(e){if(Jf(e))return Object.entries(e).reduce(function(t,n){var i=Nm(n,2),s=i[0],o=i[1];return[].concat(D5(t),[s],D5(o))},[]).filter(function(t){return x_(t)||b_(t)}).join(",")}function Az(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Rz(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function x_(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function b_(e){return/^.*\.[\w]+$/.test(e)}var Oz=["children"],Mz=["open"],Nz=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Dz=["refKey","onChange","onClick"];function zz(e){return Bz(e)||kz(e)||S_(e)||jz()}function jz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bz(e){if(Array.isArray(e))return t2(e)}function tv(e,t){return Hz(e)||Uz(e,t)||S_(e,t)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_(e,t){if(e){if(typeof e=="string")return t2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Uz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,o=!1,u,f;try{for(n=n.call(e);!(s=(u=n.next()).done)&&(i.push(u.value),!(t&&i.length===t));s=!0);}catch(d){o=!0,f=d}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw f}}return i}}function Hz(e){if(Array.isArray(e))return e}function U5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U5(Object(n),!0).forEach(function(i){e2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function e2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ly(e,t){if(e==null)return{};var n=Gz(e,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Gz(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var tx=ut.forwardRef(function(e,t){var n=e.children,i=ly(e,Oz),s=uy(i),o=s.open,u=ly(s,Mz);return ut.useImperativeHandle(t,function(){return{open:o}},[o]),Ce.createElement(ut.Fragment,null,n(na(na({},u),{},{open:o})))});tx.displayName="Dropzone";var __={disabled:!1,getFilesFromEvent:QD,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};tx.defaultProps=__;tx.propTypes={children:pi.func,accept:pi.objectOf(pi.arrayOf(pi.string)),multiple:pi.bool,preventDropOnDocument:pi.bool,noClick:pi.bool,noKeyboard:pi.bool,noDrag:pi.bool,noDragEventsBubbling:pi.bool,minSize:pi.number,maxSize:pi.number,maxFiles:pi.number,disabled:pi.bool,getFilesFromEvent:pi.func,onFileDialogCancel:pi.func,onFileDialogOpen:pi.func,useFsAccessApi:pi.bool,autoFocus:pi.bool,onDragEnter:pi.func,onDragLeave:pi.func,onDragOver:pi.func,onDrop:pi.func,onDropAccepted:pi.func,onDropRejected:pi.func,onError:pi.func,validator:pi.func};var n2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function uy(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=na(na({},__),e),n=t.accept,i=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,u=t.minSize,f=t.multiple,d=t.maxFiles,p=t.onDragEnter,y=t.onDragLeave,v=t.onDragOver,x=t.onDrop,_=t.onDropAccepted,E=t.onDropRejected,T=t.onFileDialogCancel,M=t.onFileDialogOpen,O=t.useFsAccessApi,R=t.autoFocus,B=t.preventDropOnDocument,H=t.noClick,F=t.noKeyboard,nt=t.noDrag,X=t.noDragEventsBubbling,z=t.onError,j=t.validator,P=ut.useMemo(function(){return Cz(n)},[n]),at=ut.useMemo(function(){return Tz(n)},[n]),U=ut.useMemo(function(){return typeof M=="function"?M:H5},[M]),q=ut.useMemo(function(){return typeof T=="function"?T:H5},[T]),D=ut.useRef(null),Z=ut.useRef(null),K=ut.useReducer(Pz,n2),Q=tv(K,2),tt=Q[0],st=Q[1],gt=tt.isFocused,Y=tt.isFileDialogActive,$=ut.useRef(typeof window<"u"&&window.isSecureContext&&O&&Ez()),ft=function(){!$.current&&Y&&setTimeout(function(){if(Z.current){var Gt=Z.current.files;Gt.length||(st({type:"closeDialog"}),q())}},300)};ut.useEffect(function(){return window.addEventListener("focus",ft,!1),function(){window.removeEventListener("focus",ft,!1)}},[Z,Y,q,$]);var pt=ut.useRef([]),yt=function(Gt){D.current&&D.current.contains(Gt.target)||(Gt.preventDefault(),pt.current=[])};ut.useEffect(function(){return B&&(document.addEventListener("dragover",L5,!1),document.addEventListener("drop",yt,!1)),function(){B&&(document.removeEventListener("dragover",L5),document.removeEventListener("drop",yt))}},[D,B]),ut.useEffect(function(){return!i&&R&&D.current&&D.current.focus(),function(){}},[D,R,i]);var Yt=ut.useCallback(function(Nt){z?z(Nt):console.error(Nt)},[z]),Qt=ut.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),zt(Nt),pt.current=[].concat(zz(pt.current),[Nt.target]),Og(Nt)&&Promise.resolve(s(Nt)).then(function(Gt){if(!(oy(Nt)&&!X)){var oe=Gt.length,je=oe>0&&bz({files:Gt,accept:P,minSize:u,maxSize:o,multiple:f,maxFiles:d,validator:j}),ie=oe>0&&!je;st({isDragAccept:je,isDragReject:ie,isDragActive:!0,type:"setDraggedFiles"}),p&&p(Nt)}}).catch(function(Gt){return Yt(Gt)})},[s,p,Yt,X,P,u,o,f,d,j]),Ht=ut.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),zt(Nt);var Gt=Og(Nt);if(Gt&&Nt.dataTransfer)try{Nt.dataTransfer.dropEffect="copy"}catch{}return Gt&&v&&v(Nt),!1},[v,X]),Ct=ut.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),zt(Nt);var Gt=pt.current.filter(function(je){return D.current&&D.current.contains(je)}),oe=Gt.indexOf(Nt.target);oe!==-1&&Gt.splice(oe,1),pt.current=Gt,!(Gt.length>0)&&(st({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Og(Nt)&&y&&y(Nt))},[D,y,X]),Ee=ut.useCallback(function(Nt,Gt){var oe=[],je=[];Nt.forEach(function(ie){var ue=y_(ie,P),Le=tv(ue,2),Ke=Le[0],ln=Le[1],Be=v_(ie,u,o),nn=tv(Be,2),tn=nn[0],pe=nn[1],wi=j?j(ie):null;if(Ke&&tn&&!wi)oe.push(ie);else{var Li=[ln,pe];wi&&(Li=Li.concat(wi)),je.push({file:ie,errors:Li.filter(function(yr){return yr})})}}),(!f&&oe.length>1||f&&d>=1&&oe.length>d)&&(oe.forEach(function(ie){je.push({file:ie,errors:[xz]})}),oe.splice(0)),st({acceptedFiles:oe,fileRejections:je,isDragReject:je.length>0,type:"setFiles"}),x&&x(oe,je,Gt),je.length>0&&E&&E(je,Gt),oe.length>0&&_&&_(oe,Gt)},[st,f,P,u,o,d,x,_,E,j]),ve=ut.useCallback(function(Nt){Nt.preventDefault(),Nt.persist(),zt(Nt),pt.current=[],Og(Nt)&&Promise.resolve(s(Nt)).then(function(Gt){oy(Nt)&&!X||Ee(Gt,Nt)}).catch(function(Gt){return Yt(Gt)}),st({type:"reset"})},[s,Ee,Yt,X]),de=ut.useCallback(function(){if($.current){st({type:"openDialog"}),U();var Nt={multiple:f,types:at};window.showOpenFilePicker(Nt).then(function(Gt){return s(Gt)}).then(function(Gt){Ee(Gt,null),st({type:"closeDialog"})}).catch(function(Gt){Az(Gt)?(q(Gt),st({type:"closeDialog"})):Rz(Gt)?($.current=!1,Z.current?(Z.current.value=null,Z.current.click()):Yt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Yt(Gt)});return}Z.current&&(st({type:"openDialog"}),U(),Z.current.value=null,Z.current.click())},[st,U,q,O,Ee,Yt,at,f]),Ae=ut.useCallback(function(Nt){!D.current||!D.current.isEqualNode(Nt.target)||(Nt.key===" "||Nt.key==="Enter"||Nt.keyCode===32||Nt.keyCode===13)&&(Nt.preventDefault(),de())},[D,de]),V=ut.useCallback(function(){st({type:"focus"})},[]),Rt=ut.useCallback(function(){st({type:"blur"})},[]),kt=ut.useCallback(function(){H||(wz()?setTimeout(de,0):de())},[H,de]),ot=function(Gt){return i?null:Gt},et=function(Gt){return F?null:ot(Gt)},ht=function(Gt){return nt?null:ot(Gt)},zt=function(Gt){X&&Gt.stopPropagation()},Ft=ut.useMemo(function(){return function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=Nt.refKey,oe=Gt===void 0?"ref":Gt,je=Nt.role,ie=Nt.onKeyDown,ue=Nt.onFocus,Le=Nt.onBlur,Ke=Nt.onClick,ln=Nt.onDragEnter,Be=Nt.onDragOver,nn=Nt.onDragLeave,tn=Nt.onDrop,pe=ly(Nt,Nz);return na(na(e2({onKeyDown:et(Wl(ie,Ae)),onFocus:et(Wl(ue,V)),onBlur:et(Wl(Le,Rt)),onClick:ot(Wl(Ke,kt)),onDragEnter:ht(Wl(ln,Qt)),onDragOver:ht(Wl(Be,Ht)),onDragLeave:ht(Wl(nn,Ct)),onDrop:ht(Wl(tn,ve)),role:typeof je=="string"&&je!==""?je:"presentation"},oe,D),!i&&!F?{tabIndex:0}:{}),pe)}},[D,Ae,V,Rt,kt,Qt,Ht,Ct,ve,F,nt,i]),xt=ut.useCallback(function(Nt){Nt.stopPropagation()},[]),Zt=ut.useMemo(function(){return function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=Nt.refKey,oe=Gt===void 0?"ref":Gt,je=Nt.onChange,ie=Nt.onClick,ue=ly(Nt,Dz),Le=e2({accept:P,multiple:f,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ot(Wl(je,ve)),onClick:ot(Wl(ie,xt)),tabIndex:-1},oe,Z);return na(na({},Le),ue)}},[Z,n,f,ve,i]);return na(na({},tt),{},{isFocused:gt&&!i,getRootProps:Ft,getInputProps:Zt,rootRef:D,inputRef:Z,open:ot(de)})}function Pz(e,t){switch(t.type){case"focus":return na(na({},e),{},{isFocused:!0});case"blur":return na(na({},e),{},{isFocused:!1});case"openDialog":return na(na({},n2),{},{isFileDialogActive:!0});case"closeDialog":return na(na({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return na(na({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return na(na({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return na({},n2);default:return e}}function H5(){}const ex=ut.createContext({});function nx(e){const t=ut.useRef(null);return t.current===null&&(t.current=e()),t.current}const w_=typeof window<"u",E_=w_?ut.useLayoutEffect:ut.useEffect,Dy=ut.createContext(null);function ix(e,t){e.indexOf(t)===-1&&e.push(t)}function ax(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ru=(e,t,n)=>n>t?t:n<e?e:n;let sx=()=>{};const tc={},T_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function C_(e){return typeof e=="object"&&e!==null}const A_=e=>/^0[^.\s]+$/u.test(e);function rx(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oo=e=>e,Vz=(e,t)=>n=>t(e(n)),Ym=(...e)=>e.reduce(Vz),Dm=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class ox{constructor(){this.subscriptions=[]}add(t){return ix(this.subscriptions,t),()=>ax(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wu=e=>e*1e3,Ro=e=>e/1e3;function R_(e,t){return t?e*(1e3/t):0}const O_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Iz=1e-7,qz=12;function Fz(e,t,n,i,s){let o,u,f=0;do u=t+(n-t)/2,o=O_(u,i,s)-e,o>0?n=u:t=u;while(Math.abs(o)>Iz&&++f<qz);return u}function Xm(e,t,n,i){if(e===t&&n===i)return Oo;const s=o=>Fz(o,0,1,e,n);return o=>o===0||o===1?o:O_(s(o),t,i)}const M_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,N_=e=>t=>1-e(1-t),D_=Xm(.33,1.53,.69,.99),lx=N_(D_),z_=M_(lx),j_=e=>(e*=2)<1?.5*lx(e):.5*(2-Math.pow(2,-10*(e-1))),ux=e=>1-Math.sin(Math.acos(e)),k_=N_(ux),B_=M_(ux),Kz=Xm(.42,0,1,1),Yz=Xm(0,0,.58,1),L_=Xm(.42,0,.58,1),Xz=e=>Array.isArray(e)&&typeof e[0]!="number",U_=e=>Array.isArray(e)&&typeof e[0]=="number",Zz={linear:Oo,easeIn:Kz,easeInOut:L_,easeOut:Yz,circIn:ux,circInOut:B_,circOut:k_,backIn:lx,backInOut:z_,backOut:D_,anticipate:j_},Qz=e=>typeof e=="string",G5=e=>{if(U_(e)){sx(e.length===4);const[t,n,i,s]=e;return Xm(t,n,i,s)}else if(Qz(e))return Zz[e];return e},Mg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jz(e,t){let n=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),e()),y(f)}const p={schedule:(y,v=!1,x=!1)=>{const E=x&&s?n:i;return v&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,p.process(y))}};return p}const Wz=40;function H_(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=Mg.reduce((B,H)=>(B[H]=Jz(o),B),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:x,render:_,postRender:E}=u,T=()=>{const B=tc.useManualTiming?s.timestamp:performance.now();n=!1,tc.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(B-s.timestamp,Wz),1)),s.timestamp=B,s.isProcessing=!0,f.process(s),d.process(s),p.process(s),y.process(s),v.process(s),x.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(T))},M=()=>{n=!0,i=!0,s.isProcessing||e(T)};return{schedule:Mg.reduce((B,H)=>{const F=u[H];return B[H]=(nt,X=!1,z=!1)=>(n||M(),F.schedule(nt,X,z)),B},{}),cancel:B=>{for(let H=0;H<Mg.length;H++)u[Mg[H]].cancel(B)},state:s,steps:u}}const{schedule:ki,cancel:nf,state:ls,steps:ev}=H_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oo,!0);let Fg;function $z(){Fg=void 0}const Ks={now:()=>(Fg===void 0&&Ks.set(ls.isProcessing||tc.useManualTiming?ls.timestamp:performance.now()),Fg),set:e=>{Fg=e,queueMicrotask($z)}},G_=e=>t=>typeof t=="string"&&t.startsWith(e),P_=G_("--"),tj=G_("var(--"),cx=e=>tj(e)?ej.test(e.split("/*")[0].trim()):!1,ej=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function P5(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Bd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zm={...Bd,transform:e=>ru(0,1,e)},Ng={...Bd,default:1},vm=e=>Math.round(e*1e5)/1e5,fx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nj(e){return e==null}const ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hx=(e,t)=>n=>!!(typeof n=="string"&&ij.test(n)&&n.startsWith(e)||t&&!nj(n)&&Object.prototype.hasOwnProperty.call(n,t)),V_=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,f]=i.match(fx);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},aj=e=>ru(0,255,e),nv={...Bd,transform:e=>Math.round(aj(e))},eh={test:hx("rgb","red"),parse:V_("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+nv.transform(e)+", "+nv.transform(t)+", "+nv.transform(n)+", "+vm(zm.transform(i))+")"};function sj(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const i2={test:hx("#"),parse:sj,transform:eh.transform},Zm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wc=Zm("deg"),su=Zm("%"),Ge=Zm("px"),rj=Zm("vh"),oj=Zm("vw"),V5={...su,parse:e=>su.parse(e)/100,transform:e=>su.transform(e*100)},xd={test:hx("hsl","hue"),parse:V_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+su.transform(vm(t))+", "+su.transform(vm(n))+", "+vm(zm.transform(i))+")"},Aa={test:e=>eh.test(e)||i2.test(e)||xd.test(e),parse:e=>eh.test(e)?eh.parse(e):xd.test(e)?xd.parse(e):i2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eh.transform(e):xd.transform(e),getAnimatableNone:e=>{const t=Aa.parse(e);return t.alpha=0,Aa.transform(t)}},lj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uj(e){return isNaN(e)&&typeof e=="string"&&(e.match(fx)?.length||0)+(e.match(lj)?.length||0)>0}const I_="number",q_="color",cj="var",fj="var(",I5="${}",hj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jm(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const f=t.replace(hj,d=>(Aa.test(d)?(i.color.push(o),s.push(q_),n.push(Aa.parse(d))):d.startsWith(fj)?(i.var.push(o),s.push(cj),n.push(d)):(i.number.push(o),s.push(I_),n.push(parseFloat(d))),++o,I5)).split(I5);return{values:n,split:f,indexes:i,types:s}}function F_(e){return jm(e).values}function K_(e){const{split:t,types:n}=jm(e),i=t.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],s[u]!==void 0){const f=n[u];f===I_?o+=vm(s[u]):f===q_?o+=Aa.transform(s[u]):o+=s[u]}return o}}const dj=e=>typeof e=="number"?0:Aa.test(e)?Aa.getAnimatableNone(e):e;function pj(e){const t=F_(e);return K_(e)(t.map(dj))}const af={test:uj,parse:F_,createTransformer:K_,getAnimatableNone:pj};function iv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mj({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,u=0;if(!t)s=o=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,d=2*n-f;s=iv(d,f,e+1/3),o=iv(d,f,e),u=iv(d,f,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function cy(e,t){return n=>n>0?t:e}const ia=(e,t,n)=>e+(t-e)*n,av=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},gj=[i2,eh,xd],yj=e=>gj.find(t=>t.test(e));function q5(e){const t=yj(e);if(!t)return!1;let n=t.parse(e);return t===xd&&(n=mj(n)),n}const F5=(e,t)=>{const n=q5(e),i=q5(t);if(!n||!i)return cy(e,t);const s={...n};return o=>(s.red=av(n.red,i.red,o),s.green=av(n.green,i.green,o),s.blue=av(n.blue,i.blue,o),s.alpha=ia(n.alpha,i.alpha,o),eh.transform(s))},a2=new Set(["none","hidden"]);function vj(e,t){return a2.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function xj(e,t){return n=>ia(e,t,n)}function dx(e){return typeof e=="number"?xj:typeof e=="string"?cx(e)?cy:Aa.test(e)?F5:_j:Array.isArray(e)?Y_:typeof e=="object"?Aa.test(e)?F5:bj:cy}function Y_(e,t){const n=[...e],i=n.length,s=e.map((o,u)=>dx(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function bj(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=dx(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function Sj(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],u=e.indexes[o][i[o]],f=e.values[u]??0;n[s]=f,i[o]++}return n}const _j=(e,t)=>{const n=af.createTransformer(t),i=jm(e),s=jm(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?a2.has(e)&&!s.values.length||a2.has(t)&&!i.values.length?vj(e,t):Ym(Y_(Sj(i,s),s.values),n):cy(e,t)};function X_(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ia(e,t,n):dx(e)(e,t)}const wj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ki.update(t,n),stop:()=>nf(t),now:()=>ls.isProcessing?ls.timestamp:Ks.now()}},Z_=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},fy=2e4;function px(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<fy;)t+=n,i=e.next(t);return t>=fy?1/0:t}function Ej(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(px(i),fy);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Ro(s)}}const Tj=5;function Q_(e,t,n){const i=Math.max(t-Tj,0);return R_(n-e(i),t-i)}const ca={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sv=.001;function Cj({duration:e=ca.duration,bounce:t=ca.bounce,velocity:n=ca.velocity,mass:i=ca.mass}){let s,o,u=1-t;u=ru(ca.minDamping,ca.maxDamping,u),e=ru(ca.minDuration,ca.maxDuration,Ro(e)),u<1?(s=p=>{const y=p*u,v=y*e,x=y-n,_=s2(p,u),E=Math.exp(-v);return sv-x/_*E},o=p=>{const v=p*u*e,x=v*n+n,_=Math.pow(u,2)*Math.pow(p,2)*e,E=Math.exp(-v),T=s2(Math.pow(p,2),u);return(-s(p)+sv>0?-1:1)*((x-_)*E)/T}):(s=p=>{const y=Math.exp(-p*e),v=(p-n)*e+1;return-sv+y*v},o=p=>{const y=Math.exp(-p*e),v=(n-p)*(e*e);return y*v});const f=5/e,d=Rj(s,o,f);if(e=Wu(e),isNaN(d))return{stiffness:ca.stiffness,damping:ca.damping,duration:e};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:e}}}const Aj=12;function Rj(e,t,n){let i=n;for(let s=1;s<Aj;s++)i=i-e(i)/t(i);return i}function s2(e,t){return e*Math.sqrt(1-t*t)}const Oj=["duration","bounce"],Mj=["stiffness","damping","mass"];function K5(e,t){return t.some(n=>e[n]!==void 0)}function Nj(e){let t={velocity:ca.velocity,stiffness:ca.stiffness,damping:ca.damping,mass:ca.mass,isResolvedFromDuration:!1,...e};if(!K5(e,Mj)&&K5(e,Oj))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*ru(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ca.mass,stiffness:s,damping:o}}else{const n=Cj(e);t={...t,...n,mass:ca.mass},t.isResolvedFromDuration=!0}return t}function hy(e=ca.visualDuration,t=ca.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:o},{stiffness:d,damping:p,mass:y,duration:v,velocity:x,isResolvedFromDuration:_}=Nj({...n,velocity:-Ro(n.velocity||0)}),E=x||0,T=p/(2*Math.sqrt(d*y)),M=u-o,O=Ro(Math.sqrt(d/y)),R=Math.abs(M)<5;i||(i=R?ca.restSpeed.granular:ca.restSpeed.default),s||(s=R?ca.restDelta.granular:ca.restDelta.default);let B;if(T<1){const F=s2(O,T);B=nt=>{const X=Math.exp(-T*O*nt);return u-X*((E+T*O*M)/F*Math.sin(F*nt)+M*Math.cos(F*nt))}}else if(T===1)B=F=>u-Math.exp(-O*F)*(M+(E+O*M)*F);else{const F=O*Math.sqrt(T*T-1);B=nt=>{const X=Math.exp(-T*O*nt),z=Math.min(F*nt,300);return u-X*((E+T*O*M)*Math.sinh(z)+F*M*Math.cosh(z))/F}}const H={calculatedDuration:_&&v||null,next:F=>{const nt=B(F);if(_)f.done=F>=v;else{let X=F===0?E:0;T<1&&(X=F===0?Wu(E):Q_(B,F,nt));const z=Math.abs(X)<=i,j=Math.abs(u-nt)<=s;f.done=z&&j}return f.value=f.done?u:nt,f},toString:()=>{const F=Math.min(px(H),fy),nt=Z_(X=>H.next(F*X).value,F,30);return F+"ms "+nt},toTransition:()=>{}};return H}hy.applyToOptions=e=>{const t=Ej(e,100,hy);return e.ease=t.ease,e.duration=Wu(t.duration),e.type="keyframes",e};function r2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:f,max:d,restDelta:p=.5,restSpeed:y}){const v=e[0],x={done:!1,value:v},_=z=>f!==void 0&&z<f||d!==void 0&&z>d,E=z=>f===void 0?d:d===void 0||Math.abs(f-z)<Math.abs(d-z)?f:d;let T=n*t;const M=v+T,O=u===void 0?M:u(M);O!==M&&(T=O-v);const R=z=>-T*Math.exp(-z/i),B=z=>O+R(z),H=z=>{const j=R(z),P=B(z);x.done=Math.abs(j)<=p,x.value=x.done?O:P};let F,nt;const X=z=>{_(x.value)&&(F=z,nt=hy({keyframes:[x.value,E(x.value)],velocity:Q_(B,z,x.value),damping:s,stiffness:o,restDelta:p,restSpeed:y}))};return X(0),{calculatedDuration:null,next:z=>{let j=!1;return!nt&&F===void 0&&(j=!0,H(z),X(z)),F!==void 0&&z>=F?nt.next(z-F):(!j&&H(z),x)}}}function Dj(e,t,n){const i=[],s=n||tc.mix||X_,o=e.length-1;for(let u=0;u<o;u++){let f=s(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||Oo:t;f=Ym(d,f)}i.push(f)}return i}function zj(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(sx(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=Dj(t,i,s),d=f.length,p=y=>{if(u&&y<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const x=Dm(e[v],e[v+1],y);return f[v](x)};return n?y=>p(ru(e[0],e[o-1],y)):p}function jj(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Dm(0,t,i);e.push(ia(n,1,s))}}function kj(e){const t=[0];return jj(t,e.length-1),t}function Bj(e,t){return e.map(n=>n*t)}function Lj(e,t){return e.map(()=>t||L_).splice(0,e.length-1)}function xm({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=Xz(i)?i.map(G5):G5(i),o={done:!1,value:t[0]},u=Bj(n&&n.length===t.length?n:kj(t),e),f=zj(u,t,{ease:Array.isArray(s)?s:Lj(t,s)});return{calculatedDuration:e,next:d=>(o.value=f(d),o.done=d>=e,o)}}const Uj=e=>e!==null;function mx(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(Uj),f=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!f||i===void 0?o[f]:i}const Hj={decay:r2,inertia:r2,tween:xm,keyframes:xm,spring:hy};function J_(e){typeof e.type=="string"&&(e.type=Hj[e.type])}class gx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Gj=e=>e/100;class yx extends gx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ks.now()&&this.tick(Ks.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;J_(t);const{type:n=xm,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=t;let{keyframes:f}=t;const d=n||xm;d!==xm&&typeof f[0]!="number"&&(this.mixKeyframes=Ym(Gj,X_(f[0],f[1])),f=[0,100]);const p=d({...t,keyframes:f});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=px(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:_,type:E,onUpdate:T,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,H=i;if(v){const z=Math.min(this.currentTime,s)/f;let j=Math.floor(z),P=z%1;!P&&z>=1&&(P=1),P===1&&j--,j=Math.min(j,v+1),j%2&&(x==="reverse"?(P=1-P,_&&(P-=_/f)):x==="mirror"&&(H=u)),B=ru(0,1,P)*f}const F=R?{done:!1,value:y[0]}:H.next(B);o&&(F.value=o(F.value));let{done:nt}=F;!R&&d!==null&&(nt=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&nt);return X&&E!==r2&&(F.value=mx(y,this.options,M,this.speed)),T&&T(F.value),X&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return Ro(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ro(t)}get time(){return Ro(this.currentTime)}set time(t){t=Wu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ks.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ro(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=wj,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ks.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Pj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const nh=e=>e*180/Math.PI,o2=e=>{const t=nh(Math.atan2(e[1],e[0]));return l2(t)},Vj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o2,rotateZ:o2,skewX:e=>nh(Math.atan(e[1])),skewY:e=>nh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},l2=e=>(e=e%360,e<0&&(e+=360),e),Y5=o2,X5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Z5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ij={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X5,scaleY:Z5,scale:e=>(X5(e)+Z5(e))/2,rotateX:e=>l2(nh(Math.atan2(e[6],e[5]))),rotateY:e=>l2(nh(Math.atan2(-e[2],e[0]))),rotateZ:Y5,rotate:Y5,skewX:e=>nh(Math.atan(e[4])),skewY:e=>nh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u2(e){return e.includes("scale")?1:0}function c2(e,t){if(!e||e==="none")return u2(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=Ij,s=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Vj,s=f}if(!s)return u2(t);const o=i[t],u=s[1].split(",").map(Fj);return typeof o=="function"?o(u):u[o]}const qj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return c2(n,t)};function Fj(e){return parseFloat(e.trim())}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ud=new Set(Ld),Q5=e=>e===Bd||e===Ge,Kj=new Set(["x","y","z"]),Yj=Ld.filter(e=>!Kj.has(e));function Xj(e){const t=[];return Yj.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const tf={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>c2(t,"x"),y:(e,{transform:t})=>c2(t,"y")};tf.translateX=tf.x;tf.translateY=tf.y;const ah=new Set;let f2=!1,h2=!1,d2=!1;function W_(){if(h2){const e=Array.from(ah).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=Xj(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}h2=!1,f2=!1,ah.forEach(e=>e.complete(d2)),ah.clear()}function $_(){ah.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(h2=!0)})}function Zj(){d2=!0,$_(),W_(),d2=!1}class vx{constructor(t,n,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ah.add(this),f2||(f2=!0,ki.read($_),ki.resolveKeyframes(W_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const f=i.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),s&&o===void 0&&s.set(t[0])}Pj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ah.delete(this)}cancel(){this.state==="scheduled"&&(ah.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qj=e=>e.startsWith("--");function Jj(e,t,n){Qj(t)?e.style.setProperty(t,n):e.style[t]=n}const Wj=rx(()=>window.ScrollTimeline!==void 0),$j={};function tk(e,t){const n=rx(e);return()=>$j[t]??n()}const t8=tk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lm=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,J5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lm([0,.65,.55,1]),circOut:lm([.55,0,1,.45]),backIn:lm([.31,.01,.66,-.59]),backOut:lm([.33,1.53,.69,.99])};function e8(e,t){if(e)return typeof e=="function"?t8()?Z_(e,t):"ease-out":U_(e)?lm(e):Array.isArray(e)?e.map(n=>e8(n,t)||J5.easeOut):J5[e]}function ek(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:f="easeOut",times:d}={},p=void 0){const y={[t]:n};d&&(y.offset=d);const v=e8(f,s);Array.isArray(v)&&(y.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),e.animate(y,x)}function n8(e){return typeof e=="function"&&"applyToOptions"in e}function nk({type:e,...t}){return n8(e)&&t8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ik extends gx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,sx(typeof t.type!="string");const p=nk(t);this.animation=ek(n,i,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=mx(s,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):Jj(n,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ro(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ro(t)}get time(){return Ro(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Wu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Wj()?(this.animation.timeline=t,Oo):n(this)}}const i8={anticipate:j_,backInOut:z_,circInOut:B_};function ak(e){return e in i8}function sk(e){typeof e.ease=="string"&&ak(e.ease)&&(e.ease=i8[e.ease])}const rv=10;class rk extends ik{constructor(t){sk(t),J_(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new yx({...u,autoplay:!1}),d=Math.max(rv,Ks.now()-this.startTime),p=ru(0,rv,d-rv);n.setWithVelocity(f.sample(Math.max(0,d-p)).value,f.sample(d).value,p),f.stop()}}const W5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(af.test(e)||e==="0")&&!e.startsWith("url("));function ok(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lk(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=W5(s,t),f=W5(o,t);return!u||!f?!1:ok(e)||(n==="spring"||n8(n))&&i}function p2(e){e.duration=0,e.type="keyframes"}const uk=new Set(["opacity","clipPath","filter","transform"]),ck=rx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fk(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return ck()&&n&&uk.has(n)&&(n!=="transform"||!p)&&!d&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const hk=40;class dk extends gx{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:f,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ks.now();const x={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,name:d,motionValue:p,element:y,...v},_=y?.KeyframeResolver||vx;this.keyframeResolver=new _(f,(E,T,M)=>this.onKeyframesResolved(E,T,x,!M),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:f,delay:d,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Ks.now(),lk(t,o,u,f)||((tc.instantAnimations||!d)&&y?.(mx(t,i,n)),t[0]=t[t.length-1],p2(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!p&&fk(x),E=x.motionValue?.owner?.current,T=_?new rk({...x,element:E}):new yx(x);T.finished.then(()=>{this.notifyFinished()}).catch(Oo),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Zj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function a8(e,t,n,i=0,s=1){const o=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=e.size,f=(u-1)*i;return typeof n=="function"?n(o,u):s===1?o*i:f-o*i}const pk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mk(e){const t=pk.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function s8(e,t,n=1){const[i,s]=mk(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return T_(u)?parseFloat(u):u}return cx(s)?s8(s,t,n+1):s}const gk={type:"spring",stiffness:500,damping:25,restSpeed:10},yk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vk={type:"keyframes",duration:.8},xk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bk=(e,{keyframes:t})=>t.length>2?vk:Ud.has(e)?e.startsWith("scale")?yk(t[1]):gk:xk,Sk=e=>e!==null;function _k(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(Sk),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function xx(e,t){return e?.[t]??e?.default??e}function wk({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:f,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const bx=(e,t,n,i={},s,o)=>u=>{const f=xx(i,e)||{},d=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Wu(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:x=>{t.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:o?void 0:s};wk(f)||Object.assign(y,bk(e,y)),y.duration&&(y.duration=Wu(y.duration)),y.repeatDelay&&(y.repeatDelay=Wu(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(p2(y),y.delay===0&&(v=!0)),(tc.instantAnimations||tc.skipAnimations)&&(v=!0,p2(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!o&&t.get()!==void 0){const x=_k(y.keyframes,f);if(x!==void 0){ki.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new yx(y):new dk(y)};function $5(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Sx(e,t,n,i){if(typeof t=="function"){const[s,o]=$5(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=$5(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Td(e,t,n){const i=e.getProps();return Sx(i,t,n!==void 0?n:i.custom,e)}const r8=new Set(["width","height","top","left","right","bottom",...Ld]),tS=30,Ek=e=>!isNaN(parseFloat(e));class Tk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Ks.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ks.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ek(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ox);const i=this.events[t].add(n);return t==="change"?()=>{i(),ki.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tS);return R_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nd(e,t){return new Tk(e,t)}const m2=e=>Array.isArray(e);function Ck(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nd(n))}function Ak(e){return m2(e)?e[e.length-1]||0:e}function Rk(e,t){const n=Td(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const f=Ak(o[u]);Ck(e,u,f)}}const Rs=e=>!!(e&&e.getVelocity);function Ok(e){return!!(Rs(e)&&e.add)}function g2(e,t){const n=e.getValue("willChange");if(Ok(n))return n.add(t);if(!n&&tc.WillChange){const i=new tc.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function _x(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Mk="framerAppearId",o8="data-"+_x(Mk);function l8(e){return e.props[o8]}function Nk({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function u8(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...f}=t;const d=o?.reduceMotion;i&&(o=i);const p=[],y=s&&e.animationState&&e.animationState.getState()[s];for(const v in f){const x=e.getValue(v,e.latestValues[v]??null),_=f[v];if(_===void 0||y&&Nk(y,v))continue;const E={delay:n,...xx(o||{},v)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(_)&&_===T&&!E.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=l8(e);if(B){const H=window.MotionHandoffAnimation(B,v,ki);H!==null&&(E.startTime=H,M=!0)}}g2(e,v);const O=d??e.shouldReduceMotion;x.start(bx(v,x,_,O&&r8.has(v)?{type:!1}:E,e,M));const R=x.animation;R&&p.push(R)}return u&&Promise.all(p).then(()=>{ki.update(()=>{u&&Rk(e,u)})}),p}function y2(e,t,n={}){const i=Td(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(u8(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=s;return Dk(e,t,d,p,y,v,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[d,p]=f==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function Dk(e,t,n=0,i=0,s=0,o=1,u){const f=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),f.push(y2(d,t,{...u,delay:n+(typeof i=="function"?0:i)+a8(e.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(f)}function zk(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>y2(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=y2(e,t,n);else{const s=typeof t=="function"?Td(e,t,n.custom):t;i=Promise.all(u8(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const jk={test:e=>e==="auto",parse:e=>e},c8=e=>t=>t.test(e),f8=[Bd,Ge,su,Wc,oj,rj,jk],eS=e=>f8.find(c8(e));function kk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||A_(e):!0}const Bk=new Set(["brightness","contrast","saturate","opacity"]);function Lk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(fx)||[];if(!i)return e;const s=n.replace(i,"");let o=Bk.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const Uk=/\b([a-z-]*)\(.*?\)/gu,v2={...af,getAnimatableNone:e=>{const t=e.match(Uk);return t?t.map(Lk).join(" "):e}},nS={...Bd,transform:Math.round},Hk={rotate:Wc,rotateX:Wc,rotateY:Wc,rotateZ:Wc,scale:Ng,scaleX:Ng,scaleY:Ng,scaleZ:Ng,skew:Wc,skewX:Wc,skewY:Wc,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:zm,originX:V5,originY:V5,originZ:Ge},wx={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,inset:Ge,insetBlock:Ge,insetBlockStart:Ge,insetBlockEnd:Ge,insetInline:Ge,insetInlineStart:Ge,insetInlineEnd:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,paddingBlock:Ge,paddingBlockStart:Ge,paddingBlockEnd:Ge,paddingInline:Ge,paddingInlineStart:Ge,paddingInlineEnd:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,marginBlock:Ge,marginBlockStart:Ge,marginBlockEnd:Ge,marginInline:Ge,marginInlineStart:Ge,marginInlineEnd:Ge,fontSize:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...Hk,zIndex:nS,fillOpacity:zm,strokeOpacity:zm,numOctaves:nS},Gk={...wx,color:Aa,backgroundColor:Aa,outlineColor:Aa,fill:Aa,stroke:Aa,borderColor:Aa,borderTopColor:Aa,borderRightColor:Aa,borderBottomColor:Aa,borderLeftColor:Aa,filter:v2,WebkitFilter:v2},h8=e=>Gk[e];function d8(e,t){let n=h8(e);return n!==v2&&(n=af),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Pk=new Set(["auto","none","0"]);function Vk(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!Pk.has(o)&&jm(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=d8(n,s)}class Ik extends vx{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),cx(v))){const x=s8(v,n.current);x!==void 0&&(t[y]=x),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!r8.has(i)||t.length!==2)return;const[s,o]=t,u=eS(s),f=eS(o),d=P5(s),p=P5(o);if(d!==p&&tf[i]){this.needsMeasurement=!0;return}if(u!==f)if(Q5(u)&&Q5(f))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else tf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||kk(t[s]))&&i.push(s);i.length&&Vk(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tf[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=tf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{t.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function qk(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const p8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function x2(e){return C_(e)&&"offsetHeight"in e}const{schedule:Ex}=H_(queueMicrotask,!1),ol={x:!1,y:!1};function m8(){return ol.x||ol.y}function Fk(e){return e==="x"||e==="y"?ol[e]?null:(ol[e]=!0,()=>{ol[e]=!1}):ol.x||ol.y?null:(ol.x=ol.y=!0,()=>{ol.x=ol.y=!1})}function g8(e,t){const n=qk(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function iS(e){return!(e.pointerType==="touch"||m8())}function Kk(e,t,n={}){const[i,s,o]=g8(e,n),u=f=>{if(!iS(f))return;const{target:d}=f,p=t(d,f);if(typeof p!="function"||!d)return;const y=v=>{iS(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,s)};return i.forEach(f=>{f.addEventListener("pointerenter",u,s)}),o}const y8=(e,t)=>t?e===t?!0:y8(e,t.parentElement):!1,Tx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v8(e){return Yk.has(e.tagName)||e.isContentEditable===!0}const Kg=new WeakSet;function aS(e){return t=>{t.key==="Enter"&&e(t)}}function ov(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Xk=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=aS(()=>{if(Kg.has(n))return;ov(n,"down");const s=aS(()=>{ov(n,"up")}),o=()=>ov(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function sS(e){return Tx(e)&&!m8()}function Zk(e,t,n={}){const[i,s,o]=g8(e,n),u=f=>{const d=f.currentTarget;if(!sS(f))return;Kg.add(d);const p=t(d,f),y=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Kg.has(d)&&Kg.delete(d),sS(_)&&typeof p=="function"&&p(_,{success:E})},v=_=>{y(_,d===window||d===document||n.useGlobalTarget||y8(d,_.target))},x=_=>{y(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,s),x2(f)&&(f.addEventListener("focus",p=>Xk(p,s)),!v8(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),o}function x8(e){return C_(e)&&"ownerSVGElement"in e}function Qk(e){return x8(e)&&e.tagName==="svg"}const Jk=[...f8,Aa,af],Wk=e=>Jk.find(c8(e)),rS=()=>({translate:0,scale:1,origin:0,originPoint:0}),bd=()=>({x:rS(),y:rS()}),oS=()=>({min:0,max:0}),Pa=()=>({x:oS(),y:oS()}),b2={current:null},b8={current:!1},$k=typeof window<"u";function tB(){if(b8.current=!0,!!$k)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>b2.current=e.matches;e.addEventListener("change",t),t()}else b2.current=!1}const eB=new WeakMap;function zy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function km(e){return typeof e=="string"||Array.isArray(e)}const Cx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ax=["initial",...Cx];function jy(e){return zy(e.animate)||Ax.some(t=>km(e[t]))}function S8(e){return!!(jy(e)||e.variants)}function nB(e,t,n){for(const i in t){const s=t[i],o=n[i];if(Rs(s))e.addValue(i,s);else if(Rs(o))e.addValue(i,Nd(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,Nd(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const lS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dy={};function _8(e){dy=e}function iB(){return dy}class aB{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ks.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ki.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=jy(n),this.isVariantNode=S8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const _=v[x];d[x]!==void 0&&Rs(_)&&_.set(d[x])}}mount(t){this.current=t,eB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(b8.current||tB(),this.shouldReduceMotion=b2.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nf(this.notifyUpdate),nf(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ud.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ki.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dy){const n=dy[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pa()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<lS.length;i++){const s=lS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=nB(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Nd(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(T_(i)||A_(i))?i=parseFloat(i):!Wk(i)&&af.test(n)&&(i=d8(t,n)),this.setBaseTarget(t,Rs(i)?i.get():i)),Rs(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Sx(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Rs(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ox),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ex.render(this.render)}}class w8 extends aB{constructor(){super(...arguments),this.KeyframeResolver=Ik}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class df{constructor(t){this.isMounted=!1,this.node=t}update(){}}function E8({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function sB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function lv(e){return e===void 0||e===1}function S2({scale:e,scaleX:t,scaleY:n}){return!lv(e)||!lv(t)||!lv(n)}function Qf(e){return S2(e)||T8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function T8(e){return uS(e.x)||uS(e.y)}function uS(e){return e&&e!=="0%"}function py(e,t,n){const i=e-n,s=t*i;return n+s}function cS(e,t,n,i,s){return s!==void 0&&(e=py(e,s,i)),py(e,n,i)+t}function _2(e,t=0,n=1,i,s){e.min=cS(e.min,t,n,i,s),e.max=cS(e.max,t,n,i,s)}function C8(e,{x:t,y:n}){_2(e.x,t.translate,t.scale,t.originPoint),_2(e.y,n.translate,n.scale,n.originPoint)}const fS=.999999999999,hS=1.0000000000001;function oB(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,u;for(let f=0;f<s;f++){o=n[f],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&_d(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,C8(e,u)),i&&Qf(o.latestValues)&&_d(e,o.latestValues))}t.x<hS&&t.x>fS&&(t.x=1),t.y<hS&&t.y>fS&&(t.y=1)}function Sd(e,t){e.min=e.min+t,e.max=e.max+t}function dS(e,t,n,i,s=.5){const o=ia(e.min,e.max,s);_2(e,t,n,o,i)}function _d(e,t){dS(e.x,t.x,t.scaleX,t.scale,t.originX),dS(e.y,t.y,t.scaleY,t.scale,t.originY)}function A8(e,t){return E8(rB(e.getBoundingClientRect(),t))}function lB(e,t,n){const i=A8(e,n),{scroll:s}=t;return s&&(Sd(i.x,s.offset.x),Sd(i.y,s.offset.y)),i}const uB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cB=Ld.length;function fB(e,t,n){let i="",s=!0;for(let o=0;o<cB;o++){const u=Ld[o],f=e[u];if(f===void 0)continue;let d=!0;if(typeof f=="number")d=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);d=u.startsWith("scale")?p===1:p===0}if(!d||n){const p=p8(f,wx[u]);if(!d){s=!1;const y=uB[u]||u;i+=`${y}(${p}) `}n&&(t[u]=p)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Rx(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let u=!1,f=!1;for(const d in t){const p=t[d];if(Ud.has(d)){u=!0;continue}else if(P_(d)){s[d]=p;continue}else{const y=p8(p,wx[d]);d.startsWith("origin")?(f=!0,o[d]=y):i[d]=y}}if(t.transform||(u||n?i.transform=fB(t,e.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${p} ${y}`}}function R8(e,{style:t,vars:n},i,s){const o=e.style;let u;for(u in t)o[u]=t[u];s?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function pS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $p={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const n=pS(e,t.target.x),i=pS(e,t.target.y);return`${n}% ${i}%`}},hB={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=af.parse(e);if(s.length>5)return i;const o=af.createTransformer(e),u=typeof s[0]!="number"?1:0,f=n.x.scale*t.x,d=n.y.scale*t.y;s[0+u]/=f,s[1+u]/=d;const p=ia(f,d,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),o(s)}},w2={borderRadius:{...$p,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$p,borderTopRightRadius:$p,borderBottomLeftRadius:$p,borderBottomRightRadius:$p,boxShadow:hB};function O8(e,{layout:t,layoutId:n}){return Ud.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!w2[e]||e==="opacity")}function Ox(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const u in i)(Rs(i[u])||s&&Rs(s[u])||O8(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function dB(e){return window.getComputedStyle(e)}class pB extends w8{constructor(){super(...arguments),this.type="html",this.renderInstance=R8}readValueFromInstance(t,n){if(Ud.has(n))return this.projection?.isProjecting?u2(n):qj(t,n);{const i=dB(t),s=(P_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return A8(t,n)}build(t,n,i){Rx(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Ox(t,n,i)}}const mB={offset:"stroke-dashoffset",array:"stroke-dasharray"},gB={offset:"strokeDashoffset",array:"strokeDasharray"};function yB(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?mB:gB;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const vB=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function M8(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...f},d,p,y){if(Rx(e,f,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x}=e;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const _ of vB)v[_]!==void 0&&(x[_]=v[_],delete v[_]);t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&yB(v,s,o,u,!1)}const N8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),D8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xB(e,t,n,i){R8(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(N8.has(s)?s:_x(s),t.attrs[s])}function z8(e,t,n){const i=Ox(e,t,n);for(const s in e)if(Rs(e[s])||Rs(t[s])){const o=Ld.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class bB extends w8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pa}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ud.has(n)){const i=h8(n);return i&&i.default||0}return n=N8.has(n)?n:_x(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return z8(t,n,i)}build(t,n,i){M8(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){xB(t,n,i,s)}mount(t){this.isSVGTag=D8(t.tagName),super.mount(t)}}const SB=Ax.length;function j8(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?j8(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<SB;n++){const i=Ax[n],s=e.props[i];(km(s)||s===!1)&&(t[i]=s)}return t}function k8(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const _B=[...Cx].reverse(),wB=Cx.length;function EB(e){return t=>Promise.all(t.map(({animation:n,options:i})=>zk(e,n,i)))}function TB(e){let t=EB(e),n=mS(),i=!0;const s=d=>(p,y)=>{const v=Td(e,y,d==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:_,...E}=v;p={...p,...E,..._}}return p};function o(d){t=d(e)}function u(d){const{props:p}=e,y=j8(e.parent)||{},v=[],x=new Set;let _={},E=1/0;for(let M=0;M<wB;M++){const O=_B[M],R=n[O],B=p[O]!==void 0?p[O]:y[O],H=km(B),F=O===d?R.isActive:null;F===!1&&(E=M);let nt=B===y[O]&&B!==p[O]&&H;if(nt&&i&&e.manuallyAnimateOnMount&&(nt=!1),R.protectedKeys={..._},!R.isActive&&F===null||!B&&!R.prevProp||zy(B)||typeof B=="boolean")continue;const X=CB(R.prevProp,B);let z=X||O===d&&R.isActive&&!nt&&H||M>E&&H,j=!1;const P=Array.isArray(B)?B:[B];let at=P.reduce(s(O),{});F===!1&&(at={});const{prevResolvedValues:U={}}=R,q={...U,...at},D=Q=>{z=!0,x.has(Q)&&(j=!0,x.delete(Q)),R.needsAnimating[Q]=!0;const tt=e.getValue(Q);tt&&(tt.liveStyle=!1)};for(const Q in q){const tt=at[Q],st=U[Q];if(_.hasOwnProperty(Q))continue;let gt=!1;m2(tt)&&m2(st)?gt=!k8(tt,st):gt=tt!==st,gt?tt!=null?D(Q):x.add(Q):tt!==void 0&&x.has(Q)?D(Q):R.protectedKeys[Q]=!0}R.prevProp=B,R.prevResolvedValues=at,R.isActive&&(_={..._,...at}),i&&e.blockInitialAnimation&&(z=!1);const Z=nt&&X;z&&(!Z||j)&&v.push(...P.map(Q=>{const tt={type:O};if(typeof Q=="string"&&i&&!Z&&e.manuallyAnimateOnMount&&e.parent){const{parent:st}=e,gt=Td(st,Q);if(st.enteringChildren&&gt){const{delayChildren:Y}=gt.transition||{};tt.delay=a8(st.enteringChildren,e,Y)}}return{animation:Q,options:tt}}))}if(x.size){const M={};if(typeof p.initial!="boolean"){const O=Td(e,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(M.transition=O.transition)}x.forEach(O=>{const R=e.getBaseTarget(O),B=e.getValue(O);B&&(B.liveStyle=!0),M[O]=R??null}),v.push({animation:M})}let T=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(v):Promise.resolve()}function f(d,p){if(n[d].isActive===p)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:o,getState:()=>n,reset:()=>{n=mS()}}}function CB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!k8(t,e):!1}function Zf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mS(){return{animate:Zf(!0),whileInView:Zf(),whileHover:Zf(),whileTap:Zf(),whileDrag:Zf(),whileFocus:Zf(),exit:Zf()}}function gS(e,t){e.min=t.min,e.max=t.max}function rl(e,t){gS(e.x,t.x),gS(e.y,t.y)}function yS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const B8=1e-4,AB=1-B8,RB=1+B8,L8=.01,OB=0-L8,MB=0+L8;function Ys(e){return e.max-e.min}function NB(e,t,n){return Math.abs(e-t)<=n}function vS(e,t,n,i=.5){e.origin=i,e.originPoint=ia(t.min,t.max,e.origin),e.scale=Ys(n)/Ys(t),e.translate=ia(n.min,n.max,e.origin)-e.originPoint,(e.scale>=AB&&e.scale<=RB||isNaN(e.scale))&&(e.scale=1),(e.translate>=OB&&e.translate<=MB||isNaN(e.translate))&&(e.translate=0)}function bm(e,t,n,i){vS(e.x,t.x,n.x,i?i.originX:void 0),vS(e.y,t.y,n.y,i?i.originY:void 0)}function xS(e,t,n){e.min=n.min+t.min,e.max=e.min+Ys(t)}function DB(e,t,n){xS(e.x,t.x,n.x),xS(e.y,t.y,n.y)}function bS(e,t,n){e.min=t.min-n.min,e.max=e.min+Ys(t)}function my(e,t,n){bS(e.x,t.x,n.x),bS(e.y,t.y,n.y)}function SS(e,t,n,i,s){return e-=t,e=py(e,1/n,i),s!==void 0&&(e=py(e,1/s,i)),e}function zB(e,t=0,n=1,i=.5,s,o=e,u=e){if(su.test(t)&&(t=parseFloat(t),t=ia(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ia(o.min,o.max,i);e===o&&(f-=t),e.min=SS(e.min,t,n,f,s),e.max=SS(e.max,t,n,f,s)}function _S(e,t,[n,i,s],o,u){zB(e,t[n],t[i],t[s],t.scale,o,u)}const jB=["x","scaleX","originX"],kB=["y","scaleY","originY"];function wS(e,t,n,i){_S(e.x,t,jB,n?n.x:void 0,i?i.x:void 0),_S(e.y,t,kB,n?n.y:void 0,i?i.y:void 0)}function ES(e){return e.translate===0&&e.scale===1}function U8(e){return ES(e.x)&&ES(e.y)}function TS(e,t){return e.min===t.min&&e.max===t.max}function BB(e,t){return TS(e.x,t.x)&&TS(e.y,t.y)}function CS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function H8(e,t){return CS(e.x,t.x)&&CS(e.y,t.y)}function AS(e){return Ys(e.x)/Ys(e.y)}function RS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Eo(e){return[e("x"),e("y")]}function LB(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:x,skewX:_,skewY:E}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const f=e.x.scale*t.x,d=e.y.scale*t.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const G8=["TopLeft","TopRight","BottomLeft","BottomRight"],UB=G8.length,OS=e=>typeof e=="string"?parseFloat(e):e,MS=e=>typeof e=="number"||Ge.test(e);function HB(e,t,n,i,s,o){s?(e.opacity=ia(0,n.opacity??1,GB(i)),e.opacityExit=ia(t.opacity??1,0,PB(i))):o&&(e.opacity=ia(t.opacity??1,n.opacity??1,i));for(let u=0;u<UB;u++){const f=`border${G8[u]}Radius`;let d=NS(t,f),p=NS(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||MS(d)===MS(p)?(e[f]=Math.max(ia(OS(d),OS(p),i),0),(su.test(p)||su.test(d))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=ia(t.rotate||0,n.rotate||0,i))}function NS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GB=P8(0,.5,k_),PB=P8(.5,.95,Oo);function P8(e,t,n){return i=>i<e?0:i>t?1:n(Dm(e,t,i))}function VB(e,t,n){const i=Rs(e)?e:Nd(e);return i.start(bx("",i,t,n)),i.animation}function Bm(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const IB=(e,t)=>e.depth-t.depth;class qB{constructor(){this.children=[],this.isDirty=!1}add(t){ix(this.children,t),this.isDirty=!0}remove(t){ax(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IB),this.isDirty=!1,this.children.forEach(t)}}function FB(e,t){const n=Ks.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(nf(i),e(o-t))};return ki.setup(i,!0),()=>nf(i)}function Yg(e){return Rs(e)?e.get():e}class KB{constructor(){this.members=[]}add(t){ix(this.members,t),t.scheduleRender()}remove(t){if(ax(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;s!==void 0&&o!==void 0&&s===o||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:f}=t.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},uv=["","X","Y","Z"],YB=1e3;let XB=0;function cv(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function V8(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=l8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ki,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&V8(i)}function I8({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},f=t?.()){this.id=XB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JB),this.nodes.forEach(eL),this.nodes.forEach(nL),this.nodes.forEach(WB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ox),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=x8(u)&&!Qk(u),this.instance=u;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),e){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;ki.read(()=>{v=window.innerWidth}),e(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,y&&y(),y=FB(x,250),Xg.hasAnimatedSinceResize&&(Xg.hasAnimatedSinceResize=!1,this.nodes.forEach(jS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||oL,{onLayoutAnimationStart:T,onLayoutAnimationComplete:M}=p.getProps(),O=!this.targetLayout||!H8(this.targetLayout,_),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...xx(E,"layout"),onPlay:T,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,R)}else v||jS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&V8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tL),this.nodes.forEach(ZB),this.nodes.forEach(QB)):this.nodes.forEach(zS),this.clearAllSnapshots();const f=Ks.now();ls.delta=ru(0,1e3/60,f-ls.timestamp),ls.timestamp=f,ls.isProcessing=!0,ev.update.process(ls),ev.preRender.process(ls),ev.render.process(ls),ls.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ex.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($B),this.sharedNodes.forEach(aL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ki.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ki.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ys(this.snapshot.measuredBox.x)&&!Ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!U8(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Qf(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),lL(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Pa();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uL))){const{scroll:p}=this.root;p&&(Sd(f.x,p.offset.x),Sd(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Pa();if(rl(f,u),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&rl(f,u),Sd(f.x,y.offset.x),Sd(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const d=Pa();rl(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_d(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Qf(y.latestValues)&&_d(d,y.latestValues)}return Qf(this.latestValues)&&_d(d,this.latestValues),d}removeTransform(u){const f=Pa();rl(f,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Qf(p.latestValues))continue;S2(p.latestValues)&&p.updateSnapshot();const y=Pa(),v=p.measurePageBox();rl(y,v),wS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Qf(this.latestValues)&&wS(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ls.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=ls.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pa(),this.targetWithTransforms=Pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rl(this.target,this.layout.layoutBox),C8(this.target,this.targetDelta)):rl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||S2(this.parent.latestValues)||T8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pa(),this.relativeTargetOrigin=Pa(),my(this.relativeTargetOrigin,f,d),rl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ls.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;rl(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;oB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Pa());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yS(this.prevProjectionDelta.x,this.projectionDelta.x),yS(this.prevProjectionDelta.y,this.projectionDelta.y)),bm(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!RS(this.projectionDelta.x,this.prevProjectionDelta.x)||!RS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bd(),this.projectionDelta=bd(),this.projectionDeltaWithTransform=bd()}setAnimationOrigin(u,f=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=bd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=Pa(),_=d?d.source:void 0,E=this.layout?this.layout.source:void 0,T=_!==E,M=this.getStack(),O=!M||M.members.length<=1,R=!!(T&&!O&&this.options.crossfade===!0&&!this.path.some(rL));this.animationProgress=0;let B;this.mixTargetDelta=H=>{const F=H/1e3;kS(v.x,u.x,F),kS(v.y,u.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(my(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sL(this.relativeTarget,this.relativeTargetOrigin,x,F),B&&BB(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Pa()),rl(B,this.relativeTarget)),T&&(this.animationValues=y,HB(y,p,this.latestValues,F,R,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(nf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ki.update(()=>{Xg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nd(0)),this.currentAnimation=VB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:y}=u;if(!(!f||!d||!p)){if(this!==u&&this.layout&&p&&q8(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Pa();const v=Ys(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const x=Ys(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}rl(f,d),_d(f,y),bm(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new KB),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&cv("z",u,p,this.animationValues);for(let y=0;y<uv.length;y++)cv(`rotate${uv[y]}`,u,p,this.animationValues),cv(`skew${uv[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yg(f?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yg(f?.pointerEvents)||""),this.hasProjected&&!Qf(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=LB(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x,y:_}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in w2){if(y[E]===void 0)continue;const{correct:T,applyTo:M,isCSSVariable:O}=w2[E],R=v==="none"?y[E]:T(y[E],p);if(M){const B=M.length;for(let H=0;H<B;H++)u[M[H]]=R}else O?this.options.visualElement.renderState.vars[E]=R:u[E]=R}this.options.layoutId&&(u.pointerEvents=p===this?Yg(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(DS),this.root.sharedNodes.clear()}}}function ZB(e){e.updateLayout()}function QB(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Eo(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],x=Ys(v);v.min=n[y].min,v.max=v.min+x}):q8(s,t.layoutBox,n)&&Eo(y=>{const v=o?t.measuredBox[y]:t.layoutBox[y],x=Ys(n[y]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const u=bd();bm(u,n,t.layoutBox);const f=bd();o?bm(f,e.applyTransform(i,!0),t.measuredBox):bm(f,n,t.layoutBox);const d=!U8(u);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const _=Pa();my(_,t.layoutBox,v.layoutBox);const E=Pa();my(E,n,x.layoutBox),H8(_,E)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=_,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function JB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function WB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $B(e){e.clearSnapshot()}function DS(e){e.clearMeasurements()}function zS(e){e.isLayoutDirty=!1}function tL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eL(e){e.resolveTargetDelta()}function nL(e){e.calcProjection()}function iL(e){e.resetSkewAndRotation()}function aL(e){e.removeLeadSnapshot()}function kS(e,t,n){e.translate=ia(t.translate,0,n),e.scale=ia(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function BS(e,t,n,i){e.min=ia(t.min,n.min,i),e.max=ia(t.max,n.max,i)}function sL(e,t,n,i){BS(e.x,t.x,n.x,i),BS(e.y,t.y,n.y,i)}function rL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oL={duration:.45,ease:[.4,0,.1,1]},LS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),US=LS("applewebkit/")&&!LS("chrome/")?Math.round:Oo;function HS(e){e.min=US(e.min),e.max=US(e.max)}function lL(e){HS(e.x),HS(e.y)}function q8(e,t,n){return e==="position"||e==="preserve-aspect"&&!NB(AS(t),AS(n),.2)}function uL(e){return e!==e.root&&e.scroll?.wasRoot}const cL=I8({attachResizeListener:(e,t)=>Bm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),fv={current:void 0},F8=I8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fv.current){const e=new cL({});e.mount(window),e.setOptions({layoutScroll:!0}),fv.current=e}return fv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mx=ut.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function GS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fL(...e){return t=>{let n=!1;const i=e.map(s=>{const o=GS(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():GS(e[s],null)}}}}function hL(...e){return ut.useCallback(fL(...e),e)}class dL extends ut.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=x2(i)&&i.offsetWidth||0,o=x2(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=s-u.width-u.left,u.bottom=o-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function pL({children:e,isPresent:t,anchorX:n,anchorY:i,root:s}){const o=ut.useId(),u=ut.useRef(null),f=ut.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=ut.useContext(Mx),p=e.props?.ref??e?.ref,y=hL(u,p);return ut.useInsertionEffect(()=>{const{width:v,height:x,top:_,left:E,right:T,bottom:M}=f.current;if(t||!u.current||!v||!x)return;const O=n==="left"?`left: ${E}`:`right: ${T}`,R=i==="bottom"?`bottom: ${M}`:`top: ${_}`;u.current.dataset.motionPopId=o;const B=document.createElement("style");d&&(B.nonce=d);const H=s??document.head;return H.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${O}px !important;
            ${R}px !important;
          }
        `),()=>{H.contains(B)&&H.removeChild(B)}},[t]),W.jsx(dL,{isPresent:t,childRef:u,sizeRef:f,children:ut.cloneElement(e,{ref:y})})}const mL=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:f,anchorY:d,root:p})=>{const y=nx(gL),v=ut.useId();let x=!0,_=ut.useMemo(()=>(x=!1,{id:v,initial:t,isPresent:n,custom:s,onExitComplete:E=>{y.set(E,!0);for(const T of y.values())if(!T)return;i&&i()},register:E=>(y.set(E,!1),()=>y.delete(E))}),[n,y,i]);return o&&x&&(_={..._}),ut.useMemo(()=>{y.forEach((E,T)=>y.set(T,!1))},[n]),ut.useEffect(()=>{!n&&!y.size&&i&&i()},[n]),u==="popLayout"&&(e=W.jsx(pL,{isPresent:n,anchorX:f,anchorY:d,root:p,children:e})),W.jsx(Dy.Provider,{value:_,children:e})};function gL(){return new Map}function K8(e=!0){const t=ut.useContext(Dy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=ut.useId();ut.useEffect(()=>{if(e)return s(o)},[e]);const u=ut.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const Dg=e=>e.key||"";function PS(e){const t=[];return ut.Children.forEach(e,n=>{ut.isValidElement(n)&&t.push(n)}),t}const yL=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:f="left",anchorY:d="top",root:p})=>{const[y,v]=K8(u),x=ut.useMemo(()=>PS(e),[e]),_=u&&!y?[]:x.map(Dg),E=ut.useRef(!0),T=ut.useRef(x),M=nx(()=>new Map),O=ut.useRef(new Set),[R,B]=ut.useState(x),[H,F]=ut.useState(x);E_(()=>{E.current=!1,T.current=x;for(let z=0;z<H.length;z++){const j=Dg(H[z]);_.includes(j)?(M.delete(j),O.current.delete(j)):M.get(j)!==!0&&M.set(j,!1)}},[H,_.length,_.join("-")]);const nt=[];if(x!==R){let z=[...x];for(let j=0;j<H.length;j++){const P=H[j],at=Dg(P);_.includes(at)||(z.splice(j,0,P),nt.push(P))}return o==="wait"&&nt.length&&(z=nt),F(PS(z)),B(x),null}const{forceRender:X}=ut.useContext(ex);return W.jsx(W.Fragment,{children:H.map(z=>{const j=Dg(z),P=u&&!y?!1:x===H||_.includes(j),at=()=>{if(O.current.has(j))return;if(O.current.add(j),M.has(j))M.set(j,!0);else return;let U=!0;M.forEach(q=>{q||(U=!1)}),U&&(X?.(),F(T.current),u&&v?.(),i&&i())};return W.jsx(mL,{isPresent:P,initial:!E.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:p,onExitComplete:P?void 0:at,anchorX:f,anchorY:d,children:z},j)})})},Y8=ut.createContext({strict:!1}),VS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let IS=!1;function vL(){if(IS)return;const e={};for(const t in VS)e[t]={isEnabled:n=>VS[t].some(i=>!!n[i])};_8(e),IS=!0}function X8(){return vL(),iB()}function xL(e){const t=X8();for(const n in e)t[n]={...t[n],...e[n]};_8(t)}const bL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bL.has(e)}let Z8=e=>!gy(e);function SL(e){typeof e=="function"&&(Z8=t=>t.startsWith("on")?!gy(t):e(t))}try{SL(require("@emotion/is-prop-valid").default)}catch{}function _L(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Z8(s)||n===!0&&gy(s)||!t&&!gy(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const ky=ut.createContext({});function wL(e,t){if(jy(e)){const{initial:n,animate:i}=e;return{initial:n===!1||km(n)?n:void 0,animate:km(i)?i:void 0}}return e.inherit!==!1?t:{}}function EL(e){const{initial:t,animate:n}=wL(e,ut.useContext(ky));return ut.useMemo(()=>({initial:t,animate:n}),[qS(t),qS(n)])}function qS(e){return Array.isArray(e)?e.join(" "):e}const Nx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Q8(e,t,n){for(const i in t)!Rs(t[i])&&!O8(i,n)&&(e[i]=t[i])}function TL({transformTemplate:e},t){return ut.useMemo(()=>{const n=Nx();return Rx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CL(e,t){const n=e.style||{},i={};return Q8(i,n,e),Object.assign(i,TL(e,t)),i}function AL(e,t){const n={},i=CL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const J8=()=>({...Nx(),attrs:{}});function RL(e,t,n,i){const s=ut.useMemo(()=>{const o=J8();return M8(o,t,D8(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Q8(o,e.style,e),s.style={...o,...s.style}}return s}const OL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dx(e){return typeof e!="string"||e.includes("-")?!1:!!(OL.indexOf(e)>-1||/[A-Z]/u.test(e))}function ML(e,t,n,{latestValues:i},s,o=!1,u){const d=(u??Dx(e)?RL:AL)(t,i,s,e),p=_L(t,typeof e=="string",o),y=e!==ut.Fragment?{...p,...d,ref:n}:{},{children:v}=t,x=ut.useMemo(()=>Rs(v)?v.get():v,[v]);return ut.createElement(e,{...y,children:x})}function NL({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:DL(n,i,s,e),renderState:t()}}function DL(e,t,n,i){const s={},o=i(e,{});for(const x in o)s[x]=Yg(o[x]);let{initial:u,animate:f}=e;const d=jy(e),p=S8(e);t&&p&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!zy(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const E=Sx(e,x[_]);if(E){const{transitionEnd:T,transition:M,...O}=E;for(const R in O){let B=O[R];if(Array.isArray(B)){const H=y?B.length-1:0;B=B[H]}B!==null&&(s[R]=B)}for(const R in T)s[R]=T[R]}}}return s}const W8=e=>(t,n)=>{const i=ut.useContext(ky),s=ut.useContext(Dy),o=()=>NL(e,t,i,s);return n?o():nx(o)},zL=W8({scrapeMotionValuesFromProps:Ox,createRenderState:Nx}),jL=W8({scrapeMotionValuesFromProps:z8,createRenderState:J8}),kL=Symbol.for("motionComponentSymbol");function BL(e,t,n){const i=ut.useRef(n);ut.useInsertionEffect(()=>{i.current=n});const s=ut.useRef(null);return ut.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const u=i.current;if(typeof u=="function")if(o){const f=u(o);typeof f=="function"&&(s.current=f)}else s.current?(s.current(),s.current=null):u(o);else u&&(u.current=o)},[t])}const $8=ut.createContext({});function um(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LL(e,t,n,i,s,o){const{visualElement:u}=ut.useContext(ky),f=ut.useContext(Y8),d=ut.useContext(Dy),p=ut.useContext(Mx).reducedMotion,y=ut.useRef(null),v=ut.useRef(!1);i=i||f.renderer,!y.current&&i&&(y.current=i(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:o}),v.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const x=y.current,_=ut.useContext($8);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&UL(y.current,n,s,_);const E=ut.useRef(!1);ut.useInsertionEffect(()=>{x&&E.current&&x.update(n,d)});const T=n[o8],M=ut.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return E_(()=>{v.current=!0,x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),M.current&&x.animationState&&x.animationState.animateChanges())}),ut.useEffect(()=>{x&&(!M.current&&x.animationState&&x.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),M.current=!1),x.enteringChildren=void 0)}),x}function UL(e,t,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tw(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||f&&um(f),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:p})}function tw(e){if(e)return e.options.allowProjection!==!1?e.projection:tw(e.parent)}function hv(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&xL(i);const o=n?n==="svg":Dx(e),u=o?jL:zL;function f(p,y){let v;const x={...ut.useContext(Mx),...p,layoutId:HL(p)},{isStatic:_}=x,E=EL(p),T=u(p,_);if(!_&&w_){GL();const M=PL(x);v=M.MeasureLayout,E.visualElement=LL(e,T,x,s,M.ProjectionNode,o)}return W.jsxs(ky.Provider,{value:E,children:[v&&E.visualElement?W.jsx(v,{visualElement:E.visualElement,...x}):null,ML(e,p,BL(T,E.visualElement,y),T,_,t,o)]})}f.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=ut.forwardRef(f);return d[kL]=e,d}function HL({layoutId:e}){const t=ut.useContext(ex).id;return t&&e!==void 0?t+"-"+e:e}function GL(e,t){ut.useContext(Y8).strict}function PL(e){const t=X8(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function VL(e,t){if(typeof Proxy>"u")return hv;const n=new Map,i=(o,u)=>hv(o,u,e,t),s=(o,u)=>i(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,hv(u,void 0,e,t)),n.get(u))})}const IL=(e,t)=>t.isSVG??Dx(e)?new bB(t):new pB(t,{allowProjection:e!==ut.Fragment});class qL extends df{constructor(t){super(t),t.animationState||(t.animationState=TB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FL=0;class KL extends df{constructor(){super(...arguments),this.id=FL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const YL={animation:{Feature:qL},exit:{Feature:KL}};function Qm(e){return{point:{x:e.pageX,y:e.pageY}}}const XL=e=>t=>Tx(t)&&e(t,Qm(t));function Sm(e,t,n,i){return Bm(e,t,XL(n),i)}const ew=({current:e})=>e?e.ownerDocument.defaultView:null,FS=(e,t)=>Math.abs(e-t);function ZL(e,t){const n=FS(e.x,t.x),i=FS(e.y,t.y);return Math.sqrt(n**2+i**2)}const KS=new Set(["auto","scroll"]);class nw{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=pv(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,T=ZL(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!T)return;const{point:M}=_,{timestamp:O}=ls;this.history.push({...M,timestamp:O});const{onStart:R,onMove:B}=this.handlers;E||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=dv(E,this.transformPagePoint),ki.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:T,onSessionEnd:M,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=pv(_.type==="pointercancel"?this.lastMoveEventInfo:dv(E,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,R),M&&M(_,R)},!Tx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const d=Qm(t),p=dv(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=ls;this.history=[{...y,timestamp:v}];const{onSessionStart:x}=n;x&&x(t,pv(p,this.history)),this.removeListeners=Ym(Sm(this.contextWindow,"pointermove",this.handlePointerMove),Sm(this.contextWindow,"pointerup",this.handlePointerUp),Sm(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(KS.has(i.overflowX)||KS.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),ki.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),nf(this.updatePoint)}}function dv(e,t){return t?{point:t(e.point)}:e}function YS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pv({point:e},t){return{point:e,delta:YS(e,iw(t)),offset:YS(e,QL(t)),velocity:JL(t,.1)}}function QL(e){return e[0]}function iw(e){return e[e.length-1]}function JL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=iw(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Wu(t)));)n--;if(!i)return{x:0,y:0};const o=Ro(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function WL(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ia(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ia(n,e,i.max):Math.min(e,n)),e}function XS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $L(e,{top:t,left:n,bottom:i,right:s}){return{x:XS(e.x,n,s),y:XS(e.y,t,i)}}function ZS(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function tU(e,t){return{x:ZS(e.x,t.x),y:ZS(e.y,t.y)}}function eU(e,t){let n=.5;const i=Ys(e),s=Ys(t);return s>i?n=Dm(t.min,t.max-i,e.min):i>s&&(n=Dm(e.min,e.max-s,t.min)),ru(0,1,n)}function nU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const E2=.35;function iU(e=E2){return e===!1?e=0:e===!0&&(e=E2),{x:QS(e,"left","right"),y:QS(e,"top","bottom")}}function QS(e,t,n){return{min:JS(e,t),max:JS(e,n)}}function JS(e,t){return typeof e=="number"?e:e[t]||0}const aU=new WeakMap;class sU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{n?(this.stopAnimation(),this.snapToCursor(Qm(v).point)):this.pauseAnimation()},u=(v,x)=>{this.stopAnimation();const{drag:_,dragPropagation:E,onDragStart:T}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Fk(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Eo(O=>{let R=this.getAxisMotionValue(O).get()||0;if(su.test(R)){const{projection:B}=this.visualElement;if(B&&B.layout){const H=B.layout.layoutBox[O];H&&(R=Ys(H)*(parseFloat(R)/100))}}this.originPoint[O]=R}),T&&ki.postRender(()=>T(v,x)),g2(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:T,onDrag:M}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:O}=x;if(E&&this.currentDirection===null){this.currentDirection=rU(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),M&&M(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Eo(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new nw(t,{onSessionStart:o,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:ew(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ki.postRender(()=>f(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!zg(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=WL(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&um(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=$L(i.layoutBox,t):this.constraints=!1,this.elastic=iU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Eo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!um(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=lB(i,s.root,this.visualElement.getTransformPagePoint());let u=tU(s.layout.layoutBox,o);if(n){const f=n(sB(u));this.hasMutatedConstraints=!!f,f&&(u=E8(f))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=Eo(y=>{if(!zg(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,E={type:"inertia",velocity:i?t[y]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return g2(this.visualElement,t),i.start(bx(t,i,0,n,this.visualElement,!1))}stopAnimation(){Eo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Eo(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Eo(n=>{const{drag:i}=this.getProps();if(!zg(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:f}=s.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-ia(u,f,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!um(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Eo(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();s[u]=eU({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Eo(u=>{if(!zg(u,t,null))return;const f=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];f.set(ia(d,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;aU.set(this.visualElement,this);const t=this.visualElement.current,n=Sm(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,x=v!==t&&v8(v);p&&y&&!x&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();um(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ki.read(i);const u=Bm(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Eo(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=E2,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:f}}}function zg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oU extends df{constructor(t){super(t),this.removeGroupControls=Oo,this.removeListeners=Oo,this.controls=new sU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oo}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const WS=e=>(t,n)=>{e&&ki.postRender(()=>e(t,n))};class lU extends df{constructor(){super(...arguments),this.removePointerDownListener=Oo}onPointerDown(t){this.session=new nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ew(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:WS(t),onStart:WS(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&ki.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=Sm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let mv=!1;class uU extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),mv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Xg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,t.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),mv=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||ki.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ex.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;mv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aw(e){const[t,n]=K8(),i=ut.useContext(ex);return W.jsx(uU,{...e,layoutGroup:i,switchLayoutGroup:ut.useContext($8),isPresent:t,safeToRemove:n})}const cU={pan:{Feature:lU},drag:{Feature:oU,ProjectionNode:F8,MeasureLayout:aw}};function $S(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&ki.postRender(()=>o(t,Qm(t)))}class fU extends df{mount(){const{current:t}=this.node;t&&(this.unmount=Kk(t,(n,i)=>($S(this.node,i,"Start"),s=>$S(this.node,s,"End"))))}unmount(){}}class hU extends df{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ym(Bm(this.node.current,"focus",()=>this.onFocus()),Bm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t4(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&ki.postRender(()=>o(t,Qm(t)))}class dU extends df{mount(){const{current:t}=this.node;t&&(this.unmount=Zk(t,(n,i)=>(t4(this.node,i,"Start"),(s,{success:o})=>t4(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const T2=new WeakMap,gv=new WeakMap,pU=e=>{const t=T2.get(e.target);t&&t(e)},mU=e=>{e.forEach(pU)};function gU({root:e,...t}){const n=e||document;gv.has(n)||gv.set(n,{});const i=gv.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(mU,{root:e,...t})),i[s]}function yU(e,t,n){const i=gU(t);return T2.set(e,n),i.observe(e),()=>{T2.delete(e),i.unobserve(e)}}const vU={some:0,all:1};class xU extends df{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:vU[s]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=p?y:v;x&&x(d)};return yU(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bU(t,n))&&this.startObserver()}unmount(){}}function bU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SU={inView:{Feature:xU},tap:{Feature:dU},focus:{Feature:hU},hover:{Feature:fU}},_U={layout:{ProjectionNode:F8,MeasureLayout:aw}},wU={...YL,...SU,...cU,..._U},e4=VL(wU,IL),EU=({files:e=[],activeFileId:t,selectedFileIds:n=new Set,onSelectFile:i,onFileClick:s,onIngestFiles:o,onClearAll:u,onRetryFile:f,onRemoveFile:d,onRemoveSelectedFiles:p,onSaveAll:y,onExportProject:v,onClearLabels:x,isProcessing:_=!1,processingProgress:E={processed:0,total:0}})=>{const T=ut.useRef(null),M=ut.useRef(null),O=ut.useRef(null),[R,B]=ut.useState(new Set);ut.useEffect(()=>{const tt=st=>{if((st.key==="Delete"||st.key==="Backspace")&&n.size>0){if(st.target.tagName==="INPUT"||st.target.tagName==="TEXTAREA")return;st.preventDefault();const gt=n.size,Y=gt>1?`Delete ${gt} selected files?`:"Delete selected file?";window.confirm(Y)&&p&&p()}};return window.addEventListener("keydown",tt),()=>window.removeEventListener("keydown",tt)},[n,p]);const H=ut.useCallback(tt=>{const st=tt.filter(gt=>gt.type.startsWith("image/")||/\.(jpg|jpeg|png|webp|gif|bmp)$/i.test(gt.name));st.length>0&&o(st)},[o]),{getRootProps:F,getInputProps:nt,isDragActive:X}=uy({onDrop:H,accept:{"image/*":[".jpg",".jpeg",".png",".webp",".gif",".bmp"]},noClick:!0,noKeyboard:!0}),z=ut.useCallback(tt=>{const st=tt.filter(gt=>/\.(txt|xml|json)$/i.test(gt.name));st.length>0&&o&&o(st)},[o]),{getRootProps:j,getInputProps:P,isDragActive:at}=uy({onDrop:z,accept:{"text/plain":[".txt"],"application/xml":[".xml"],"application/json":[".json"]},noClick:!0,noKeyboard:!0,multiple:!0}),U=tt=>{const st=Array.from(tt.target.files||[]);st.length>0&&o(st),tt.target.value=""},q=tt=>{const st=Array.from(tt.target.files||[]);st.length>0&&o&&o(st),tt.target.value=""},D=tt=>{B(st=>{const gt=new Set(st);return gt.has(tt)?gt.delete(tt):gt.add(tt),gt})},Z=ut.useMemo(()=>{if(e.length===0)return[];const tt=[],st={};return e.forEach(Y=>{const ft=(Y.path||Y.name).split("/"),pt=ft.length>1?ft.slice(0,-1).join("/"):"Root";st[pt]||(st[pt]=[]),st[pt].push(Y)}),Object.keys(st).sort((Y,$)=>Y==="Root"?-1:$==="Root"?1:Y.localeCompare($)).forEach(Y=>{const $=R.has(Y),ft=Y==="Root";tt.push({type:"folder",path:Y,name:ft?"/":Y,count:st[Y].length,isCollapsed:$}),$||[...st[Y]].sort((yt,Yt)=>yt.name.localeCompare(Yt.name)).forEach(yt=>{tt.push({type:"file",data:yt})})}),tt},[e,R]),K=ut.useMemo(()=>e.reduce((tt,st)=>{const gt=st.label_data;return gt?.d?tt+gt.d.length:typeof gt=="string"?tt+gt.split(`
`).filter(Y=>Y.trim()&&!Y.startsWith("#")).length:tt},0),[e]),Q=tt=>{const st="w-4 h-4";switch(tt){case zi.PENDING:return W.jsx(e5,{className:Mn(st,"text-yellow-500")});case zi.SYNCING:return W.jsx(BM,{className:Mn(st,"text-blue-400 animate-spin")});case zi.SYNCED:return W.jsx(eM,{className:Mn(st,"text-green-500")});case zi.ERROR:return W.jsx(t5,{className:Mn(st,"text-red-500")});case zi.MISSING_IMAGE:return W.jsx(fM,{className:Mn(st,"text-orange-500")});case zi.MISSING_LABEL:return W.jsx(e5,{className:Mn(st,"text-gray-500")});default:return W.jsx(t5,{className:Mn(st,"text-gray-500")})}};return W.jsxs("div",{className:"flex flex-col h-full bg-[#161922] text-gray-200",children:[W.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700",children:[W.jsxs("div",{children:[W.jsxs("h3",{className:"flex items-center gap-2 text-base font-semibold text-white",children:[W.jsx(i5,{className:"w-5 h-5 text-indigo-400"}),"Explorer"]}),W.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[e.length," images  ",K," labels"]})]}),W.jsxs("div",{className:"flex gap-1",children:[W.jsx("button",{onClick:()=>{window.confirm("Clear all labels? Images will be kept.")&&x()},className:"p-1.5 rounded-lg text-yellow-500 hover:bg-yellow-500/20 transition-colors",title:"Clear All Labels",children:W.jsx(D6,{className:"w-4 h-4"})}),W.jsx("button",{onClick:()=>{window.confirm("Clear everything (Images + Labels)?")&&u()},className:"p-1.5 rounded-lg text-red-400 hover:bg-red-500/20 transition-colors",title:"Clear Project",children:W.jsx(G2,{className:"w-4 h-4"})})]})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-2 p-3",children:[W.jsxs("div",{className:Mn("flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-all",X?"border-indigo-500 bg-indigo-500/10":"border-gray-600 hover:border-indigo-500/50 hover:bg-gray-800/50"),...F(),onClick:()=>T.current?.click(),children:[W.jsx("input",{...nt()}),W.jsx("input",{ref:T,type:"file",multiple:!0,accept:"image/*",onChange:U,style:{display:"none"}}),W.jsx("input",{ref:M,type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:U,style:{display:"none"}}),W.jsx(a5,{className:"w-6 h-6 text-indigo-400"}),W.jsx("span",{className:"text-xs text-gray-400",children:"Add Images"})]}),W.jsxs("div",{className:Mn("flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 border-dashed cursor-pointer transition-all",at?"border-green-500 bg-green-500/10":"border-gray-600 hover:border-green-500/50 hover:bg-gray-800/50"),...j(),onClick:()=>O.current?.click(),children:[W.jsx("input",{...P()}),W.jsx("input",{ref:O,type:"file",multiple:!0,accept:".txt,.xml,.json",onChange:q,style:{display:"none"}}),W.jsx(q1,{className:"w-6 h-6 text-green-400"}),W.jsx("span",{className:"text-xs text-gray-400",children:"Import Labels"})]})]}),_&&W.jsx("div",{className:"px-3 pb-2",children:W.jsxs("div",{className:"bg-gray-800 rounded-lg p-2",children:[W.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[W.jsx("span",{children:"Ingesting..."}),W.jsxs("span",{children:[E.processed,"/",E.total]})]}),W.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:W.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${E.processed/E.total*100}%`}})})]})}),W.jsx(yL,{children:(X||at)&&W.jsx(e4.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-indigo-900/80 backdrop-blur-sm flex items-center justify-center z-10 pointer-events-none",children:W.jsx("div",{className:"text-xl text-white font-semibold flex items-center gap-2",children:at?W.jsxs(W.Fragment,{children:[W.jsx(q1,{className:"w-6 h-6"})," Drop labels file"]}):W.jsxs(W.Fragment,{children:[W.jsx(P2,{className:"w-6 h-6"})," Drop images"]})})})}),W.jsx("div",{className:"flex-1 min-h-0 overflow-hidden scrollbar-dark",children:e.length===0?W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[W.jsx(n5,{className:"w-12 h-12 mb-2 opacity-50"}),W.jsx("p",{className:"text-sm",children:"Drop files or folders to start"})]}):W.jsx(AD,{style:{height:"100%"},data:Z,itemContent:(tt,st)=>{if(st.type==="folder")return W.jsxs(e4.div,{className:Mn("flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors","hover:bg-gray-800/50 text-gray-300"),onClick:()=>D(st.path),children:[st.isCollapsed?W.jsx(qv,{className:"w-4 h-4 text-gray-500"}):W.jsx(Vg,{className:"w-4 h-4 text-gray-500"}),st.isCollapsed?W.jsx(i5,{className:"w-4 h-4 text-yellow-500"}):W.jsx(n5,{className:"w-4 h-4 text-yellow-500"}),W.jsx("span",{className:"text-sm font-medium truncate flex-1",children:st.name}),W.jsxs("span",{className:"text-xs text-gray-500",children:["(",st.count,")"]})]});const{data:gt}=st,Y=gt.id===t,$=n.has(gt.id),ft=gt.status===zi.ERROR;return W.jsxs("div",{className:Mn("group flex items-center gap-2 px-3 py-1.5 ml-4 cursor-pointer transition-all rounded-lg mx-2 my-0.5",$&&"bg-indigo-600/50 border border-indigo-500/70",Y&&!$&&"bg-emerald-600/20 ring-2 ring-emerald-500/50",!$&&!Y&&"hover:bg-gray-800/50 border border-transparent"),onClick:pt=>s?s(gt.id,pt):i(gt.id),children:[W.jsx("div",{className:"w-10 h-10 rounded-md overflow-hidden bg-gray-800 flex-shrink-0 flex items-center justify-center",children:gt.thumbnail?W.jsx("img",{src:gt.thumbnail,alt:"",className:"w-full h-full object-cover"}):W.jsx(a5,{className:"w-5 h-5 text-gray-600"})}),W.jsxs("div",{className:"flex-1 min-w-0",children:[W.jsxs("div",{className:"flex items-center gap-1",children:[W.jsx("span",{className:"text-sm text-gray-200 truncate",children:gt.name}),W.jsx("button",{className:"p-0.5 opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity",onClick:pt=>{pt.stopPropagation(),window.confirm(`Remove ${gt.name}?`)&&d(gt.id)},children:W.jsx(cN,{className:"w-3 h-3"})})]}),W.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[W.jsx(TM,{className:"w-3 h-3 text-gray-500",title:"Local Only"}),W.jsx("span",{onClick:pt=>{ft&&(pt.stopPropagation(),f(gt.id))},className:ft?"cursor-pointer":"",children:Q(gt.status)}),gt.label_data&&W.jsx(q1,{className:"w-3 h-3 text-green-500",title:"Has Labels"})]})]})]})}})}),W.jsxs("div",{className:"flex gap-2 p-3 border-t border-gray-700",children:[W.jsxs("button",{className:Mn("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",e.length===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 text-gray-200 hover:bg-gray-600"),onClick:v,disabled:e.length===0,children:[W.jsx(N6,{className:"w-4 h-4"}),"Export"]}),W.jsxs("button",{className:Mn("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",e.length===0?"bg-indigo-600/50 text-indigo-300/50 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-500"),onClick:()=>y&&y(),disabled:e.length===0,children:[W.jsx(GM,{className:"w-4 h-4"}),"Save"]})]})]})},sw=ut.createContext(),TU=()=>{const e=ut.useContext(sw);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},n4={dark:"dark",light:"light",midnight:"midnight"};function CU({children:e}){const[t,n]=ut.useState(()=>{const s=localStorage.getItem("theme");return s&&n4[s]?s:"dark"});ut.useEffect(()=>{document.documentElement.classList.remove("theme-dark","theme-light","theme-midnight"),document.documentElement.classList.add(`theme-${t}`),localStorage.setItem("theme",t)},[t]);const i={theme:t,setTheme:n,themes:Object.keys(n4),isDark:t!=="light"};return W.jsx(sw.Provider,{value:i,children:e})}const AU=[{id:"properties",labelKey:"sidebar.properties",icon:H2},{id:"model",labelKey:"sidebar.model",icon:U2},{id:"labels",labelKey:"sidebar.labels",icon:Fv},{id:"settings",labelKey:"sidebar.settings",icon:M6}],RU=[{code:"en",label:"English"},{code:"tr",label:"Trke"}],OU=({selectedAnn:e,selectedLabel:t,onLabelChange:n,onDelete:i,onSimplify:s,onDensify:o,onReset:u,onBeautify:f,canModify:d,canReset:p,isProcessing:y,suggestions:v,selectedModel:x,currentParams:_,updateParam:E,annotations:T,filterText:M,setFilterText:O,onSelectLabel:R,onRenameLabel:B})=>{const{t:H,i18n:F}=zE(),{theme:nt,setTheme:X,themes:z}=TU(),[j,P]=ut.useState("properties");Ce.useEffect(()=>{e&&P("properties")},[e]);const at=U=>{F.changeLanguage(U)};return W.jsxs("div",{className:"flex flex-col h-full bg-secondary text-txt-main",children:[W.jsx("div",{className:"flex flex-none border-b border-border",children:AU.map(U=>{const q=U.icon;return W.jsx("button",{className:Mn("flex-1 flex items-center justify-center gap-1 px-2 py-3 text-sm font-medium transition-colors",j===U.id?"text-accent border-b-2 border-accent bg-accent/10":"text-txt-dim hover:text-txt-main hover:bg-tertiary/50"),onClick:()=>P(U.id),title:H(U.labelKey),children:W.jsx(q,{className:"w-4 h-4"})},U.id)})}),W.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-dark",children:[j==="properties"&&(e?W.jsx(dN,{docked:!0,selectedAnn:e,selectedLabel:t,onLabelChange:n,onDelete:i,onSimplify:s,onDensify:o,onReset:u,onBeautify:f,canModify:d,canReset:p,isProcessing:y,suggestions:v}):W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-txt-dim p-4",children:[W.jsx(H2,{className:"w-10 h-10 mb-2 opacity-50"}),W.jsx("p",{className:"text-sm text-center",children:H("sidebar.selectAnnotation")})]})),j==="model"&&(x?W.jsx(mN,{selectedModel:x,currentParams:_,updateParam:E}):W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-txt-dim p-4",children:[W.jsx(U2,{className:"w-10 h-10 mb-2 opacity-50"}),W.jsx("p",{className:"text-sm text-center",children:H("sidebar.selectModel")})]})),j==="labels"&&W.jsx(hN,{docked:!0,annotations:T,filterText:M,setFilterText:O,onSelectLabel:R,onRenameLabel:B}),j==="settings"&&W.jsxs("div",{className:"p-4 space-y-6",children:[W.jsxs("h3",{className:"text-lg font-semibold text-txt-main flex items-center gap-2",children:[W.jsx(M6,{className:"w-5 h-5 text-accent"}),H("settings.title")]}),W.jsxs("div",{className:"space-y-2",children:[W.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-txt-dim",children:[W.jsx(gM,{className:"w-4 h-4"}),H("settings.language")]}),W.jsx("div",{className:"grid grid-cols-2 gap-2",children:RU.map(U=>W.jsx("button",{className:Mn("px-3 py-2 rounded-lg text-sm font-medium transition-colors",F.language===U.code?"bg-accent text-white":"bg-tertiary text-txt-dim hover:bg-tertiary/70"),onClick:()=>at(U.code),children:U.label},U.code))})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-txt-dim",children:[W.jsx(OM,{className:"w-4 h-4"}),H("settings.theme")]}),W.jsx("div",{className:"grid grid-cols-3 gap-2",children:z.map(U=>W.jsx("button",{className:Mn("px-2 py-2 rounded-lg text-xs font-medium transition-colors capitalize",nt===U?"bg-accent text-white":"bg-tertiary text-txt-dim hover:bg-tertiary/70"),onClick:()=>X(U),children:H(`settings.${U}Theme`)},U))})]})]})]})]})},MU=({onImageUpload:e})=>{const t=o=>{if(o&&o.length>0){const u={target:{files:[o[0]]}};e(u)}},{getRootProps:n,getInputProps:i,isDragActive:s}=uy({onDrop:t,accept:{"image/*":[]},multiple:!1});return W.jsxs("div",{...n(),className:Mn("flex-1 flex flex-col items-center justify-center m-5 rounded-xl cursor-pointer transition-all duration-300","border-2 border-dashed",s?"border-indigo-500 bg-indigo-500/10 shadow-lg shadow-indigo-500/20":"border-gray-600 hover:border-indigo-500/50 hover:bg-gray-800/30"),children:[W.jsx("input",{...i()}),W.jsx("div",{className:Mn("transition-all duration-300",s?"scale-110 text-indigo-400":"text-gray-500"),children:s?W.jsx(P2,{className:"w-16 h-16 mb-4"}):W.jsx(_M,{className:"w-16 h-16 mb-4 opacity-50"})}),W.jsx("h2",{className:Mn("text-xl font-semibold mb-2 transition-colors",s?"text-indigo-300":"text-gray-400"),children:s?"Drop image here...":"Please select an image"}),W.jsx("p",{className:"text-sm text-gray-500",children:"Drag & Drop files here or click to browse"}),W.jsxs("div",{className:"mt-6 flex items-center gap-2 text-xs text-gray-600",children:[W.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded",children:"JPG"}),W.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded",children:"PNG"}),W.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded",children:"WEBP"}),W.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded",children:"GIF"})]})]})},NU=({isOpen:e,onClose:t,models:n,loadingModelIds:i=[],downloadModel:s,deleteModel:o})=>{if(!e)return null;const u=f=>i.includes(f);return W.jsxs("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[W.jsxs("div",{className:"modal-content",style:{backgroundColor:"#1f2937",borderRadius:"8px",width:"800px",maxWidth:"95vw",maxHeight:"85vh",display:"flex",flexDirection:"column",color:"white",border:"1px solid #374151",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:[W.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #374151",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[W.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:" Model Manager"}),W.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"#9ca3af",cursor:"pointer",fontSize:"1.5rem"},children:""})]}),W.jsx("div",{style:{padding:"24px",overflowY:"auto"},children:W.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[W.jsx("thead",{children:W.jsxs("tr",{style:{borderBottom:"2px solid #374151",color:"#9ca3af",textAlign:"left"},children:[W.jsx("th",{style:{padding:"12px"},children:"Name / ID"}),W.jsx("th",{style:{padding:"12px"},children:"Type"}),W.jsx("th",{style:{padding:"12px"},children:"Description"}),W.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Actions"})]})}),W.jsx("tbody",{children:n.map(f=>W.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[W.jsxs("td",{style:{padding:"12px",verticalAlign:"middle"},children:[W.jsx("div",{style:{fontWeight:"bold"},children:f.name}),W.jsx("div",{style:{fontSize:"0.8em",color:"#6b7280"},children:f.id})]}),W.jsx("td",{style:{padding:"12px",verticalAlign:"middle"},children:W.jsx("span",{style:{padding:"2px 8px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:f.type==="detection"?"rgba(16, 185, 129, 0.2)":f.type==="segmentation"?"rgba(59, 130, 246, 0.2)":"rgba(107, 114, 128, 0.2)",color:f.type==="detection"?"#34d399":f.type==="segmentation"?"#60a5fa":"#d1d5db"},children:f.type})}),W.jsx("td",{style:{padding:"12px",color:"#d1d5db",verticalAlign:"middle"},children:f.description}),W.jsx("td",{style:{padding:"12px",textAlign:"right",verticalAlign:"middle"},children:f.is_downloaded?W.jsxs("button",{onClick:()=>o(f.id),disabled:u(f.id),style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:u(f.id)?"#6b7280":"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)",padding:"6px 12px",borderRadius:"6px",cursor:u(f.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"0.85rem"},children:[u(f.id)?W.jsx("span",{className:"spinner-small"}):"",u(f.id)?"Deleting...":"Delete"]}):W.jsxs("button",{onClick:()=>s(f.id),disabled:u(f.id),style:{backgroundColor:"rgba(59, 130, 246, 0.1)",color:u(f.id)?"#6b7280":"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)",padding:"6px 12px",borderRadius:"6px",cursor:u(f.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"0.85rem"},children:[u(f.id)?W.jsx("span",{className:"spinner-small"}):"",u(f.id)?"Downloading...":"Download"]})})]},f.id))})]})}),W.jsx("div",{style:{padding:"16px 24px",borderTop:"1px solid #374151",textAlign:"right",color:"#6b7280",fontSize:"0.85rem"},children:"Models are downloaded from official repositories. Large models may take time to download."})]}),W.jsx("style",{jsx:!0,children:`
                .spinner-small {
                    width: 12px;
                    height: 12px;
                    border: 2px solid currentColor;
                    border-bottom-color: transparent;
                    border-radius: 50%;
                    display: inline-block;
                    animation: rotation 1s linear infinite;
                }
                @keyframes rotation {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]})};function DU({isOpen:e,onClose:t,onStartTraining:n,isTraining:i}){const[s,o]=ut.useState(!0),[u,f]=ut.useState("none"),[d,p]=ut.useState(!1),[y,v]=ut.useState(640),[x,_]=ut.useState(.2),[E,T]=ut.useState(50),[M,O]=ut.useState(16);if(!e)return null;const R=()=>{n({autoOrient:s,resizeMode:u,enableTiling:d,tileSize:parseInt(y),tileOverlap:parseFloat(x),epochs:parseInt(E),batchSize:parseInt(M)})};return W.jsx("div",{className:"modal-overlay",children:W.jsxs("div",{className:"modal-container is-panel",style:{width:"450px"},children:[W.jsxs("div",{className:"modal-header",children:[W.jsxs("div",{className:"modal-title",children:[W.jsx("span",{children:""})," Prepare & Train"]}),W.jsx("button",{onClick:t,className:"close-btn",disabled:i,children:""})]}),W.jsxs("div",{className:"modal-content",children:[W.jsxs("div",{className:"settings-section",children:[W.jsx("h4",{className:"section-title",children:"Training Config"}),W.jsxs("div",{className:"form-row",children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Epochs"}),W.jsx("input",{type:"number",value:E,onChange:B=>T(B.target.value),min:"1",className:"input-dark"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Batch Size"}),W.jsx("input",{type:"number",value:M,onChange:B=>O(B.target.value),min:"1",className:"input-dark"})]})]})]}),W.jsx("hr",{className:"divider"}),W.jsxs("div",{className:"settings-section",children:[W.jsx("h4",{className:"section-title",children:"Preprocessing Pipeline"}),W.jsxs("div",{className:"checkbox-row",children:[W.jsx("input",{type:"checkbox",checked:s,onChange:B=>o(B.target.checked)}),W.jsx("label",{children:"Auto-Orient (Strip EXIF)"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Resize Strategy"}),W.jsxs("select",{value:u,onChange:B=>f(B.target.value),className:"select-dark",children:[W.jsx("option",{value:"none",children:"No Resize (Keep Original)"}),W.jsx("option",{value:"640",children:"Resize to 640x640"}),W.jsx("option",{value:"1024",children:"Resize to 1024x1024"})]}),W.jsx("p",{className:"hint",children:"Applied to final images (or tiles)."})]}),W.jsxs("div",{className:"tiling-section",style:{background:d?"#2a3b55":"#222",padding:"10px",borderRadius:"6px",transition:"background 0.3s"},children:[W.jsxs("div",{className:"checkbox-row",children:[W.jsx("input",{type:"checkbox",checked:d,onChange:B=>p(B.target.checked)}),W.jsx("label",{style:{fontWeight:"bold",color:d?"#60a5fa":"#ccc"},children:"Enable Slicing / Tiling"})]}),d&&W.jsxs("div",{className:"tiling-options",style:{marginTop:"10px",paddingLeft:"24px"},children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Tile Size (px)"}),W.jsx("input",{type:"number",value:y,onChange:B=>v(B.target.value),step:"32",className:"input-dark"})]}),W.jsxs("div",{className:"form-group",children:[W.jsxs("label",{children:["Overlap: ",(x*100).toFixed(0),"%"]}),W.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:x,onChange:B=>_(B.target.value),style:{width:"100%"}})]}),W.jsxs("p",{className:"hint",children:["Splits large images into smaller tiles directly on backend.",W.jsx("br",{}),"Annotations are clipped automatically."]})]})]})]}),W.jsx("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",justifyContent:"flex-end"},children:W.jsx("button",{onClick:R,disabled:i,className:"btn-primary",style:{background:i?"#ccc":"linear-gradient(45deg, #2563eb, #7c3aed)",padding:"10px 20px",fontSize:"14px"},children:i?"Training Started...":" Start Training"})})]})]})})}function zU({isOpen:e,onClose:t,models:n,selectedBaseModel:i,onBaseModelChange:s,epochs:o,onEpochsChange:u,batchSize:f,onBatchSizeChange:d,isTraining:p,trainingProgress:y,trainingMessage:v,onStartTraining:x,onCancelTraining:_,error:E}){return e?W.jsx("div",{className:"modal-overlay",children:W.jsxs("div",{className:"modal-container is-panel",children:[W.jsxs("div",{className:"modal-header",children:[W.jsxs("div",{className:"modal-title",style:{color:"#fbbf24"},children:[W.jsx("span",{children:""})," Power Training"]}),W.jsx("button",{onClick:t,className:"close-btn",children:""})]}),W.jsxs("div",{className:"modal-content",style:{maxHeight:"none"},children:[p?W.jsxs("div",{className:"progress-container",children:[W.jsxs("div",{className:"progress-header",children:[W.jsx("span",{children:"Training in progress..."}),W.jsxs("span",{children:[Math.round(y*100),"%"]})]}),W.jsx("div",{className:"progress-track",children:W.jsx("div",{className:"progress-fill",style:{width:`${y*100}%`}})}),W.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontFamily:"monospace"},children:v})]}):W.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #333"},children:W.jsxs("p",{style:{margin:0,color:"#9ca3af",fontSize:"0.9rem"},children:["Last Status: ",W.jsx("span",{style:{color:"#fff"},children:v})]})}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{className:"form-label",children:"Base Model (YOLO Only)"}),W.jsx("select",{value:i,onChange:T=>s(T.target.value),disabled:p,className:"form-select",children:n.filter(T=>{const M=T.family==="SAM"||T.id&&T.id.toLowerCase().includes("sam"),O=T.id==="yolo26n.pt";return!M&&!O}).map(T=>W.jsx("option",{value:T.id,children:T.name||T.id},T.id))})]}),W.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{className:"form-label",children:"Epochs"}),W.jsx("input",{type:"number",value:o,onChange:T=>u(parseInt(T.target.value)||100),disabled:p,className:"form-input"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{className:"form-label",children:"Batch Size (12GB VRAM)"}),W.jsx("input",{type:"number",value:f,onChange:T=>d(parseInt(T.target.value)||16),disabled:p,className:"form-input"}),W.jsx("p",{style:{fontSize:"0.65rem",color:"#666",marginTop:"0.25rem"},children:"Rec: 16 (Max 64)"})]})]}),E&&W.jsx("div",{className:"error-msg",children:E}),W.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p&&W.jsx("button",{onClick:_,className:"btn-train cancel",style:{background:"#ef4444"},children:" Cancel"}),W.jsx("button",{onClick:()=>x({base_model:i,epochs:o,batch_size:f}),disabled:p,className:"btn-train",style:{flex:1},children:p?"Training in Progress...":"Start Training"})]})]})]})}):null}const jU=[{id:"coco",name:"COCO JSON",description:"Industry standard format with full segmentation support",icon:"",extension:".json"},{id:"yolo",name:"YOLO Manifest",description:"Aggregated text format with normalized coordinates",icon:"",extension:".txt"},{id:"voc",name:"Pascal VOC XML",description:"Aggregated XML with bounding boxes (polygons  boxes)",icon:"",extension:".xml"},{id:"toon",name:"TOON Format",description:"Compact custom format for efficient storage",icon:"",extension:".json"}],kU=({isOpen:e,onClose:t,onExport:n,imageCount:i=0,annotationCount:s=0,mode:o="batch"})=>{const[u,f]=ut.useState("coco"),[d,p]=ut.useState(!1);if(!e)return null;const y=async()=>{p(!0);try{await n(u),t()}catch(_){console.error("Export failed:",_)}finally{p(!1)}},v=o==="single"?"Export Current Image":"Export Project",x=o==="single"?"1 image with annotations":`${i} images, ${s} annotations`;return W.jsx("div",{className:"export-modal-overlay",onClick:t,children:W.jsxs("div",{className:"export-modal",onClick:_=>_.stopPropagation(),children:[W.jsxs("div",{className:"export-modal-header",children:[W.jsx("h2",{children:v}),W.jsx("span",{className:"export-subtitle",children:x}),W.jsx("button",{className:"close-btn",onClick:t,children:""})]}),W.jsx("div",{className:"export-modal-body",children:W.jsx("div",{className:"format-grid",children:jU.map(_=>W.jsxs("div",{className:`format-card ${u===_.id?"selected":""}`,onClick:()=>f(_.id),children:[W.jsx("div",{className:"format-icon",children:_.icon}),W.jsxs("div",{className:"format-info",children:[W.jsx("span",{className:"format-name",children:_.name}),W.jsx("span",{className:"format-ext",children:_.extension})]}),W.jsx("p",{className:"format-description",children:_.description}),W.jsx("div",{className:"format-radio",children:W.jsx("input",{type:"radio",name:"format",checked:u===_.id,onChange:()=>f(_.id)})})]},_.id))})}),W.jsxs("div",{className:"export-modal-footer",children:[W.jsx("button",{className:"btn-secondary",onClick:t,children:"Cancel"}),W.jsx("button",{className:"btn-primary",onClick:y,disabled:d||o==="batch"&&i===0,children:d?" Exporting...":` Export as ${u.toUpperCase()}`})]})]})})};function BU(){const e=mC(),t=gC(),[n,i]=ut.useState(""),s=AC(null),o=CC(e,t,n,s.selectedModel,s.currentParams),u=RC(t,e),f=V4(),{exportProject:d}=IC(),p=I4(),{activeFileData:y}=f,{setImageUrl:v,setImageFile:x,closeImage:_}=e,{setAnnotations:E,clearSelection:T,reset:M}=t;ut.useEffect(()=>{y?(y.imageUrl&&v(y.imageUrl),y.blob&&x(y.blob),E(y.annotations||[]),T()):(_(),M())},[y,v,x,_,E,T,M]);const[O,R]=ut.useState(null),[B,H]=ut.useState(100),[F,nt]=ut.useState(16),[X,z]=ut.useState("yolov8m-seg.pt"),[j,P]=ut.useState(""),[at,U]=ut.useState(!1),[q,D]=ut.useState(""),[Z,K]=ut.useState(!1),Q=ut.useRef(!0);ut.useEffect(()=>{if(Q.current){Q.current=!1;return}if(f.activeFileId){const ie=setTimeout(()=>{const ue={};e.imageObj&&(ue.width=e.imageObj.naturalWidth,ue.height=e.imageObj.naturalHeight),f.updateActiveAnnotations(t.annotations,ue)},500);return()=>clearTimeout(ie)}},[t.annotations,f.activeFileId]),ut.useEffect(()=>{f.activeFileId},[t.annotations]),ut.useEffect(()=>{Q.current=!0},[f.activeFileId]);const tt=ut.useMemo(()=>{if(t.selectedIds.length<2||!e.imageObj)return null;const ie=t.selectedAnns;if(ie.length<2)return null;let ue=1/0,Le=1/0,Ke=-1/0,ln=-1/0;if(ie.forEach(wi=>{if(wi.points)for(let Li=0;Li<wi.points.length;Li+=2)ue=Math.min(ue,wi.points[Li]),Ke=Math.max(Ke,wi.points[Li]),Le=Math.min(Le,wi.points[Li+1]),ln=Math.max(ln,wi.points[Li+1])}),!isFinite(ue))return null;const Be=(ue+Ke)/2,nn=(Le+ln)/2,tn=Be*e.imageLayout.scale+e.imageLayout.x,pe=nn*e.imageLayout.scale+e.imageLayout.y;return{x:tn,y:pe}},[t.selectedIds,t.selectedAnns,e.imageLayout,e.imageObj]),st=ut.useCallback(async()=>{try{if(!f.files||f.files.length===0){R({type:"info",text:"No files to save."}),setTimeout(()=>R(null),2e3);return}if(!window.confirm(`Save ${f.files.length} images to backend dataset?`))return;const ie=window.confirm(`Enable Data Augmentation (Flip, Noise, Dark)?
This will generate extra images for training.`),ue=await f.saveProjectToBackend(ie);ue&&ue.success?R({type:"success",text:`Successfully saved ${ue.count} images to dataset!`}):R({type:"error",text:"Save failed: "+(ue?.error||"Unknown error")}),setTimeout(()=>R(null),3e3)}catch(ie){console.error("Save all failed:",ie),R({type:"error",text:"Failed to save: "+ie.message})}},[f]),gt=ut.useCallback(async ie=>{try{R({type:"info",text:`Packaging ${ie.toUpperCase()}...`});const ue=await d(ie);ue.success?R({type:"success",text:`Exported ${ue.count} images!`}):R({type:"error",text:"Export finished but nothing found."}),setTimeout(()=>R(null),3e3)}catch(ue){R({type:"error",text:"Export failed: "+ue.message})}},[d]),Y=ut.useCallback(async ie=>{const ue=t.selectedAnns;if(!(ue.length<2)&&ie==="geometric")try{const Le=ue.map(ln=>{const Be=[];for(let nn=0;nn<ln.points.length;nn+=2)Be.push([ln.points[nn],ln.points[nn+1]]);if(Be.length>0){const nn=Be[0],tn=Be[Be.length-1];(nn[0]!==tn[0]||nn[1]!==tn[1])&&Be.push(nn)}return j4([Be])}),Ke=pC(Y9(Le));if(Ke){const ln=[],Be=Ke.geometry;Be.type==="Polygon"?ln.push({points:Be.coordinates[0].flatMap(tn=>[tn[0],tn[1]])}):Be.type==="MultiPolygon"&&Be.coordinates.forEach(tn=>{ln.push({points:tn[0].flatMap(pe=>[pe[0],pe[1]])})});const nn=ln.map(tn=>({id:Qu(),type:"poly",points:tn.points,label:ue[0].label,originalRawPoints:tn.points}));t.deleteSelected(),t.addAnnotations(nn)}}catch(Le){alert("Merge failed: "+Le.message)}},[t]),$=ut.useCallback(ie=>{e.handleImageUpload(ie)&&t.reset()},[e,t]),ft=ut.useCallback(ie=>{t.updateLabel(ie)},[t]),pt=ut.useCallback(async()=>{await u.handleBeautify(s.selectedModel,o.setIsProcessing)},[u,s.selectedModel,o]),yt=ut.useCallback(async ie=>{const ue=await s.actions.startTraining(ie);ue.success||P(ue.error||"Failed to start training")},[s]);ut.useCallback(({mode:ie,classes:ue})=>{U(!1);try{const Le=e.imageObj.width,Ke=e.imageObj.height,ln=ie==="upload"?ue:[],Be=dr.yoloToCoco(q,Le,Ke,ln),{annotations:nn}=dr.cocoToInternal(Be),tn=nn.map(pe=>({...pe,id:Qu()}));t.addToHistory(t.annotations),t.setAnnotations(tn),R({type:"success",text:`Imported ${tn.length} annotations!`}),setTimeout(()=>R(null),3e3)}catch(Le){R({type:"error",text:"Import failed: "+Le.message})}finally{D("")}},[q,e.imageObj,t]);const Yt=ut.useCallback(ie=>{try{R({type:"info",text:`Preparing ${ie.toUpperCase()}...`});const ue=f.files.map(Ke=>{let ln=[];if(Ke.label_data)try{const Be=typeof Ke.label_data=="string"?Ke.label_data:JSON.stringify(Ke.label_data),nn=dr.detectFormat(Be);if(nn==="toon"){const tn=typeof Ke.label_data=="string"?JSON.parse(Ke.label_data):Ke.label_data;ln=dr.toonToInternal(tn).annotations||[]}else if(nn==="yolo"){const tn=dr.yoloToCoco(Be,Ke.width||800,Ke.height||600);ln=dr.cocoToInternal(tn).annotations||[]}else if(nn==="coco"){const tn=JSON.parse(Be);ln=dr.cocoToInternal(tn).annotations||[]}}catch(Be){console.warn(`Failed to parse annotations for ${Ke.name}`,Be)}return{file:{name:Ke.name,width:Ke.width||800,height:Ke.height||600},annotations:ln}}).filter(Ke=>Ke.annotations.length>0);if(ue.length===0){R({type:"error",text:"No annotations found to export."});return}const Le=p.downloadAnnotations(ue,ie);Le.success&&(R({type:"success",text:`Exported ${Le.filename}`}),K(!1))}catch(ue){console.error("Export failed:",ue),R({type:"error",text:"Export failed: "+ue.message})}setTimeout(()=>R(null),3e3)},[f.files,p]),Qt=ut.useCallback(ie=>{try{if(!f.activeFileData){R({type:"error",text:"No image selected"});return}const ue=f.activeFileData,Le=t.annotations||[];if(Le.length===0){R({type:"error",text:"No annotations to export2"});return}const Ke=[{file:{name:ue.name||"image.jpg",width:ue.width||800,height:ue.height||600},annotations:Le}],ln=(ue.name||"image").replace(/\.[^.]+$/,""),Be=p.downloadAnnotations(Ke,ie,ln);Be.success&&(R({type:"success",text:`Exported ${Be.filename}`}),setTimeout(()=>R(null),3e3))}catch(ue){console.error("Export current failed:",ue),R({type:"error",text:"Export failed: "+ue.message})}},[f.activeFileData,t.annotations,p]),Ht=ut.useCallback(()=>{o.tool==="poly"&&o.currentPolyPoints.length>=3&&o.closePolygon()},[o]),[Ct,Ee]=ut.useState(!1);ut.useEffect(()=>{const ie=Le=>{Le.code==="Space"&&!Ct&&(Ee(!0),o.tool!=="pan"&&o.setTool("pan")),Le.key==="Escape"&&(o.currentPolyPoints.length>0?o.setCurrentPolyPoints([]):o.isDrawing?o.resetToolState():t.clearSelection()),Le.key==="Enter"&&o.tool==="poly"&&o.currentPolyPoints.length>=3&&(Le.preventDefault(),o.closePolygon()),Le.key==="Delete"&&(o.tool==="poly"?o.undoLastPolyPoint():t.deleteSelected())},ue=Le=>{Le.code==="Space"&&(Ee(!1),o.setTool("select"))};return window.addEventListener("keydown",ie),window.addEventListener("keyup",ue),()=>{window.removeEventListener("keydown",ie),window.removeEventListener("keyup",ue)}},[o,t,Ct]);const ve=ut.useCallback(ie=>{if(ie.evt.button===1){o.setTool("pan");return}o.handleMouseDown(ie)},[o]),de=ut.useCallback(ie=>{if(ie.evt.button===1){o.setTool("select");return}o.handleMouseUp(ie)},[o]),[Ae,V]=ut.useState(250),[Rt,kt]=ut.useState(280),[ot,et]=ut.useState(!0),[ht,zt]=ut.useState(!0),[Ft,xt]=ut.useState(!1),[Zt,Nt]=ut.useState(!1),Gt=()=>et(!ot),oe=()=>zt(!ht);ut.useEffect(()=>{const ie=Le=>{Ft&&V(Math.min(Math.max(180,Le.clientX),450)),Zt&&kt(Math.min(Math.max(180,window.innerWidth-Le.clientX),450))},ue=()=>{xt(!1),Nt(!1)};return(Ft||Zt)&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",ue)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",ue)}},[Ft,Zt]);const je=ut.useRef(null);return ut.useEffect(()=>{if(!je.current)return;const ie=new ResizeObserver(ue=>{for(let Le of ue)e.setStageSize({width:Le.contentRect.width,height:Le.contentRect.height})});return ie.observe(je.current),()=>ie.disconnect()},[e]),W.jsxs("div",{className:"App flex flex-col h-screen w-screen overflow-hidden bg-[#0f1117] font-sans text-gray-100",onDragOver:ie=>ie.preventDefault(),onDrop:ie=>ie.preventDefault(),children:[W.jsx(fN,{tool:o.tool,setTool:o.setTool,onUndo:t.handleUndo,onRedo:t.handleRedo,onClearAll:t.handleClearAll,onExport:gt,canUndo:t.canUndo,canRedo:t.canRedo,isProcessing:o.isProcessing,saveMessage:O,imageFile:e.imageFile,textPrompt:n,setTextPrompt:i,models:s.models,selectedModel:s.selectedModel,onSelectModel:s.actions.setModel,onOpenModelManager:s.actions.openModelManager,onOpenTrainModal:s.actions.openTrainModal,onDetectAll:o.handleDetectAll,eraserSize:o.eraserSize,setEraserSize:o.setEraserSize,onExportCurrent:Qt,isLeftPanelOpen:ot,isRightPanelOpen:ht,onToggleLeftPanel:Gt,onToggleRightPanel:oe}),W.jsxs("div",{className:"flex flex-1 overflow-hidden relative h-[calc(100vh-56px)]",children:[ot&&W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"flex flex-col flex-shrink-0 bg-[#161922] border-r border-gray-700 min-h-0 overflow-hidden",style:{width:Ae},children:W.jsx(EU,{files:f.files,activeFileId:f.activeFileId,selectedFileIds:f.selectedFileIds,onSelectFile:f.selectFile,onFileClick:f.handleFileClick,onIngestFiles:f.ingestFiles,onClearAll:f.clearProject,onRetryFile:f.retryFile,onClearLabels:f.clearAllLabels,onRemoveFile:f.removeFile,onRemoveSelectedFiles:f.removeSelectedFiles,onSaveAll:st,isProcessing:f.isProcessing,processingProgress:f.processingProgress,onExportProject:()=>K(!0)})}),W.jsx("div",{className:"panel-resizer left",onMouseDown:()=>xt(!0)})]}),W.jsxs("div",{className:"flex-1 min-w-0 relative bg-[#0f1117] overflow-hidden",ref:je,onContextMenu:ie=>ie.preventDefault(),children:[e.imageObj?W.jsx(YO,{stageRef:e.stageRef,groupRef:e.groupRef,stageSize:e.stageSize,imageObj:e.imageObj,imageLayout:e.imageLayout,annotations:t.annotations,selectedIds:t.selectedIds,filterText:o.filterText,tool:o.tool,tempAnnotation:o.tempAnnotation,currentPolyPoints:o.currentPolyPoints,currentPenPoints:o.currentPenPoints,mousePos:o.mousePos,eraserSize:o.eraserSize,color:o.color,onWheel:e.handleWheel,onClick:o.handleStageClick,onMouseDown:ve,onMouseMove:o.handleMouseMove,onMouseUp:de,onDblClick:Ht,onVertexDrag:o.handleVertexDrag}):W.jsx(MU,{onImageUpload:$}),tt&&W.jsx(pN,{position:tt,selectedCount:t.selectedIds.length,onMerge:Y})]}),ht&&W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"panel-resizer right",onMouseDown:()=>Nt(!0)}),W.jsx("div",{className:"flex flex-col flex-shrink-0 bg-[#161922] border-l border-gray-700 min-h-0 overflow-hidden",style:{width:Rt},children:W.jsx(OU,{selectedAnn:t.selectedAnn,selectedLabel:t.selectedLabel,onLabelChange:ft,onDelete:t.deleteSelected,onSimplify:u.handleSimplify,onDensify:u.handleDensify,onReset:u.handleReset,onBeautify:pt,canModify:u.canModify,canReset:u.canReset,isProcessing:o.isProcessing,suggestions:t.selectedAnn?.suggestions,selectedModel:s.selectedModel,currentParams:s.currentParams,updateParam:s.updateParam,annotations:t.annotations,filterText:o.filterText,setFilterText:o.setFilterText,onSelectLabel:ie=>o.setFilterText(ie),onRenameLabel:(ie,ue)=>f.renameClassActiveOnly(ie,ue)})})]})]}),W.jsx(NU,{isOpen:s.modals.showModelManager,onClose:s.actions.closeModelManager,models:s.models,loadingModelIds:s.loadingModelIds,downloadModel:s.actions.downloadModel,deleteModel:s.actions.deleteModel}),W.jsx(DU,{isOpen:s.modals.showPreprocessingModal,onClose:s.actions.closePreprocessingModal,onStartTraining:yt,isTraining:s.isTraining}),W.jsx(zU,{isOpen:s.modals.showTrainModal,onClose:s.actions.closeTrainModal,models:s.models,selectedBaseModel:X,onBaseModelChange:z,epochs:B,onEpochsChange:H,batchSize:F,onBatchSizeChange:nt,isTraining:s.isTraining,trainingProgress:s.trainingProgress,onStartTraining:yt,onCancelTraining:s.actions.cancelTraining,error:j}),W.jsx(kU,{isOpen:Z,onClose:()=>K(!1),onExport:Yt,imageCount:f.files.length,annotationCount:f.files.reduce((ie,ue)=>ue.label_data?ue.label_data.d?ie+ue.label_data.d.length:typeof ue.label_data=="string"?ie+ue.label_data.split(`
`).filter(Le=>Le.trim()&&!Le.startsWith("#")).length:ie:ie,0),mode:"batch"})]})}Yw.createRoot(document.getElementById("root")).render(W.jsx(ut.StrictMode,{children:W.jsx(CU,{children:W.jsx(BU,{})})}));
